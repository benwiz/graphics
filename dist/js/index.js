/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _p = __webpack_require__(1);

var P5 = _interopRequireWildcard(_p);

var _sketch = __webpack_require__(3);

var _sketch2 = _interopRequireDefault(_sketch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

// import * as P5 from 'p5'; // TODO: Try to use p5.min or maybe point to the local file
var p5 = new P5.default(_sketch2.default);

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var require;var require;

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

/*! p5.js v0.7.2 September 02, 2018 */!function (a) {
  if ("object" == ( false ? "undefined" : _typeof(exports)) && "undefined" != typeof module) module.exports = a();else if (true) !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (a),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else {
    var b;b = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, b.p5 = a();
  }
}(function () {
  var a;return function a(b, c, d) {
    function e(g, h) {
      if (!c[g]) {
        if (!b[g]) {
          var i = "function" == typeof require && require;if (!h && i) return require(g, !0);if (f) return f(g, !0);var j = new Error("Cannot find module '" + g + "'");throw j.code = "MODULE_NOT_FOUND", j;
        }var k = c[g] = { exports: {} };b[g][0].call(k.exports, function (a) {
          var c = b[g][1][a];return e(c || a);
        }, k, k.exports, a, b, c, d);
      }return c[g].exports;
    }for (var f = "function" == typeof require && require, g = 0; g < d.length; g++) {
      e(d[g]);
    }return e;
  }({ 1: [function (a, b, c) {
      !function (a) {
        "use strict";
        function b(a) {
          var b = a.charCodeAt(0);return b === f || b === k ? 62 : b === g || b === l ? 63 : b < h ? -1 : b < h + 10 ? b - h + 26 + 26 : b < j + 26 ? b - j : b < i + 26 ? b - i + 26 : void 0;
        }function c(a) {
          function c(a) {
            j[l++] = a;
          }var d, f, g, h, i, j;if (a.length % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4");var k = a.length;i = "=" === a.charAt(k - 2) ? 2 : "=" === a.charAt(k - 1) ? 1 : 0, j = new e(3 * a.length / 4 - i), g = i > 0 ? a.length - 4 : a.length;var l = 0;for (d = 0, f = 0; d < g; d += 4, f += 3) {
            h = b(a.charAt(d)) << 18 | b(a.charAt(d + 1)) << 12 | b(a.charAt(d + 2)) << 6 | b(a.charAt(d + 3)), c((16711680 & h) >> 16), c((65280 & h) >> 8), c(255 & h);
          }return 2 === i ? (h = b(a.charAt(d)) << 2 | b(a.charAt(d + 1)) >> 4, c(255 & h)) : 1 === i && (h = b(a.charAt(d)) << 10 | b(a.charAt(d + 1)) << 4 | b(a.charAt(d + 2)) >> 2, c(h >> 8 & 255), c(255 & h)), j;
        }function d(a) {
          function b(a) {
            return "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a);
          }function c(a) {
            return b(a >> 18 & 63) + b(a >> 12 & 63) + b(a >> 6 & 63) + b(63 & a);
          }var d,
              e,
              f,
              g = a.length % 3,
              h = "";for (d = 0, f = a.length - g; d < f; d += 3) {
            e = (a[d] << 16) + (a[d + 1] << 8) + a[d + 2], h += c(e);
          }switch (g) {case 1:
              e = a[a.length - 1], h += b(e >> 2), h += b(e << 4 & 63), h += "==";break;case 2:
              e = (a[a.length - 2] << 8) + a[a.length - 1], h += b(e >> 10), h += b(e >> 4 & 63), h += b(e << 2 & 63), h += "=";}return h;
        }var e = "undefined" != typeof Uint8Array ? Uint8Array : Array,
            f = "+".charCodeAt(0),
            g = "/".charCodeAt(0),
            h = "0".charCodeAt(0),
            i = "a".charCodeAt(0),
            j = "A".charCodeAt(0),
            k = "-".charCodeAt(0),
            l = "_".charCodeAt(0);a.toByteArray = c, a.fromByteArray = d;
      }(void 0 === c ? this.base64js = {} : c);
    }, {}], 2: [function (a, b, c) {}, {}], 3: [function (a, b, c) {
      (function (b) {
        "use strict";
        function d() {
          function a() {}try {
            var b = new Uint8Array(1);return b.foo = function () {
              return 42;
            }, b.constructor = a, 42 === b.foo() && b.constructor === a && "function" == typeof b.subarray && 0 === b.subarray(1, 1).byteLength;
          } catch (a) {
            return !1;
          }
        }function e() {
          return f.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823;
        }function f(a) {
          return this instanceof f ? (f.TYPED_ARRAY_SUPPORT || (this.length = 0, this.parent = void 0), "number" == typeof a ? g(this, a) : "string" == typeof a ? h(this, a, arguments.length > 1 ? arguments[1] : "utf8") : i(this, a)) : arguments.length > 1 ? new f(a, arguments[1]) : new f(a);
        }function g(a, b) {
          if (a = p(a, b < 0 ? 0 : 0 | q(b)), !f.TYPED_ARRAY_SUPPORT) for (var c = 0; c < b; c++) {
            a[c] = 0;
          }return a;
        }function h(a, b, c) {
          return "string" == typeof c && "" !== c || (c = "utf8"), a = p(a, 0 | s(b, c)), a.write(b, c), a;
        }function i(a, b) {
          if (f.isBuffer(b)) return j(a, b);if (Y(b)) return k(a, b);if (null == b) throw new TypeError("must start with number, buffer, array or string");if ("undefined" != typeof ArrayBuffer) {
            if (b.buffer instanceof ArrayBuffer) return l(a, b);if (b instanceof ArrayBuffer) return m(a, b);
          }return b.length ? n(a, b) : o(a, b);
        }function j(a, b) {
          var c = 0 | q(b.length);return a = p(a, c), b.copy(a, 0, 0, c), a;
        }function k(a, b) {
          var c = 0 | q(b.length);a = p(a, c);for (var d = 0; d < c; d += 1) {
            a[d] = 255 & b[d];
          }return a;
        }function l(a, b) {
          var c = 0 | q(b.length);a = p(a, c);for (var d = 0; d < c; d += 1) {
            a[d] = 255 & b[d];
          }return a;
        }function m(a, b) {
          return f.TYPED_ARRAY_SUPPORT ? (b.byteLength, a = f._augment(new Uint8Array(b))) : a = l(a, new Uint8Array(b)), a;
        }function n(a, b) {
          var c = 0 | q(b.length);a = p(a, c);for (var d = 0; d < c; d += 1) {
            a[d] = 255 & b[d];
          }return a;
        }function o(a, b) {
          var c,
              d = 0;"Buffer" === b.type && Y(b.data) && (c = b.data, d = 0 | q(c.length)), a = p(a, d);for (var e = 0; e < d; e += 1) {
            a[e] = 255 & c[e];
          }return a;
        }function p(a, b) {
          return f.TYPED_ARRAY_SUPPORT ? (a = f._augment(new Uint8Array(b)), a.__proto__ = f.prototype) : (a.length = b, a._isBuffer = !0), 0 !== b && b <= f.poolSize >>> 1 && (a.parent = Z), a;
        }function q(a) {
          if (a >= e()) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + e().toString(16) + " bytes");return 0 | a;
        }function r(a, b) {
          if (!(this instanceof r)) return new r(a, b);var c = new f(a, b);return delete c.parent, c;
        }function s(a, b) {
          "string" != typeof a && (a = "" + a);var c = a.length;if (0 === c) return 0;for (var d = !1;;) {
            switch (b) {case "ascii":case "binary":case "raw":case "raws":
                return c;case "utf8":case "utf-8":
                return R(a).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":
                return 2 * c;case "hex":
                return c >>> 1;case "base64":
                return U(a).length;default:
                if (d) return R(a).length;b = ("" + b).toLowerCase(), d = !0;}
          }
        }function t(a, b, c) {
          var d = !1;if (b |= 0, c = void 0 === c || c === 1 / 0 ? this.length : 0 | c, a || (a = "utf8"), b < 0 && (b = 0), c > this.length && (c = this.length), c <= b) return "";for (;;) {
            switch (a) {case "hex":
                return F(this, b, c);case "utf8":case "utf-8":
                return B(this, b, c);case "ascii":
                return D(this, b, c);case "binary":
                return E(this, b, c);case "base64":
                return A(this, b, c);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":
                return G(this, b, c);default:
                if (d) throw new TypeError("Unknown encoding: " + a);a = (a + "").toLowerCase(), d = !0;}
          }
        }function u(a, b, c, d) {
          c = Number(c) || 0;var e = a.length - c;d ? (d = Number(d)) > e && (d = e) : d = e;var f = b.length;if (f % 2 != 0) throw new Error("Invalid hex string");d > f / 2 && (d = f / 2);for (var g = 0; g < d; g++) {
            var h = parseInt(b.substr(2 * g, 2), 16);if (isNaN(h)) throw new Error("Invalid hex string");a[c + g] = h;
          }return g;
        }function v(a, b, c, d) {
          return V(R(b, a.length - c), a, c, d);
        }function w(a, b, c, d) {
          return V(S(b), a, c, d);
        }function x(a, b, c, d) {
          return w(a, b, c, d);
        }function y(a, b, c, d) {
          return V(U(b), a, c, d);
        }function z(a, b, c, d) {
          return V(T(b, a.length - c), a, c, d);
        }function A(a, b, c) {
          return 0 === b && c === a.length ? W.fromByteArray(a) : W.fromByteArray(a.slice(b, c));
        }function B(a, b, c) {
          c = Math.min(a.length, c);for (var d = [], e = b; e < c;) {
            var f = a[e],
                g = null,
                h = f > 239 ? 4 : f > 223 ? 3 : f > 191 ? 2 : 1;if (e + h <= c) {
              var i, j, k, l;switch (h) {case 1:
                  f < 128 && (g = f);break;case 2:
                  i = a[e + 1], 128 == (192 & i) && (l = (31 & f) << 6 | 63 & i) > 127 && (g = l);break;case 3:
                  i = a[e + 1], j = a[e + 2], 128 == (192 & i) && 128 == (192 & j) && (l = (15 & f) << 12 | (63 & i) << 6 | 63 & j) > 2047 && (l < 55296 || l > 57343) && (g = l);break;case 4:
                  i = a[e + 1], j = a[e + 2], k = a[e + 3], 128 == (192 & i) && 128 == (192 & j) && 128 == (192 & k) && (l = (15 & f) << 18 | (63 & i) << 12 | (63 & j) << 6 | 63 & k) > 65535 && l < 1114112 && (g = l);}
            }null === g ? (g = 65533, h = 1) : g > 65535 && (g -= 65536, d.push(g >>> 10 & 1023 | 55296), g = 56320 | 1023 & g), d.push(g), e += h;
          }return C(d);
        }function C(a) {
          var b = a.length;if (b <= $) return String.fromCharCode.apply(String, a);for (var c = "", d = 0; d < b;) {
            c += String.fromCharCode.apply(String, a.slice(d, d += $));
          }return c;
        }function D(a, b, c) {
          var d = "";c = Math.min(a.length, c);for (var e = b; e < c; e++) {
            d += String.fromCharCode(127 & a[e]);
          }return d;
        }function E(a, b, c) {
          var d = "";c = Math.min(a.length, c);for (var e = b; e < c; e++) {
            d += String.fromCharCode(a[e]);
          }return d;
        }function F(a, b, c) {
          var d = a.length;(!b || b < 0) && (b = 0), (!c || c < 0 || c > d) && (c = d);for (var e = "", f = b; f < c; f++) {
            e += Q(a[f]);
          }return e;
        }function G(a, b, c) {
          for (var d = a.slice(b, c), e = "", f = 0; f < d.length; f += 2) {
            e += String.fromCharCode(d[f] + 256 * d[f + 1]);
          }return e;
        }function H(a, b, c) {
          if (a % 1 != 0 || a < 0) throw new RangeError("offset is not uint");if (a + b > c) throw new RangeError("Trying to access beyond buffer length");
        }function I(a, b, c, d, e, g) {
          if (!f.isBuffer(a)) throw new TypeError("buffer must be a Buffer instance");if (b > e || b < g) throw new RangeError("value is out of bounds");if (c + d > a.length) throw new RangeError("index out of range");
        }function J(a, b, c, d) {
          b < 0 && (b = 65535 + b + 1);for (var e = 0, f = Math.min(a.length - c, 2); e < f; e++) {
            a[c + e] = (b & 255 << 8 * (d ? e : 1 - e)) >>> 8 * (d ? e : 1 - e);
          }
        }function K(a, b, c, d) {
          b < 0 && (b = 4294967295 + b + 1);for (var e = 0, f = Math.min(a.length - c, 4); e < f; e++) {
            a[c + e] = b >>> 8 * (d ? e : 3 - e) & 255;
          }
        }function L(a, b, c, d, e, f) {
          if (b > e || b < f) throw new RangeError("value is out of bounds");if (c + d > a.length) throw new RangeError("index out of range");if (c < 0) throw new RangeError("index out of range");
        }function M(a, b, c, d, e) {
          return e || L(a, b, c, 4, 3.4028234663852886e38, -3.4028234663852886e38), X.write(a, b, c, d, 23, 4), c + 4;
        }function N(a, b, c, d, e) {
          return e || L(a, b, c, 8, 1.7976931348623157e308, -1.7976931348623157e308), X.write(a, b, c, d, 52, 8), c + 8;
        }function O(a) {
          if (a = P(a).replace(aa, ""), a.length < 2) return "";for (; a.length % 4 != 0;) {
            a += "=";
          }return a;
        }function P(a) {
          return a.trim ? a.trim() : a.replace(/^\s+|\s+$/g, "");
        }function Q(a) {
          return a < 16 ? "0" + a.toString(16) : a.toString(16);
        }function R(a, b) {
          b = b || 1 / 0;for (var c, d = a.length, e = null, f = [], g = 0; g < d; g++) {
            if ((c = a.charCodeAt(g)) > 55295 && c < 57344) {
              if (!e) {
                if (c > 56319) {
                  (b -= 3) > -1 && f.push(239, 191, 189);continue;
                }if (g + 1 === d) {
                  (b -= 3) > -1 && f.push(239, 191, 189);continue;
                }e = c;continue;
              }if (c < 56320) {
                (b -= 3) > -1 && f.push(239, 191, 189), e = c;continue;
              }c = 65536 + (e - 55296 << 10 | c - 56320);
            } else e && (b -= 3) > -1 && f.push(239, 191, 189);if (e = null, c < 128) {
              if ((b -= 1) < 0) break;f.push(c);
            } else if (c < 2048) {
              if ((b -= 2) < 0) break;f.push(c >> 6 | 192, 63 & c | 128);
            } else if (c < 65536) {
              if ((b -= 3) < 0) break;f.push(c >> 12 | 224, c >> 6 & 63 | 128, 63 & c | 128);
            } else {
              if (!(c < 1114112)) throw new Error("Invalid code point");if ((b -= 4) < 0) break;f.push(c >> 18 | 240, c >> 12 & 63 | 128, c >> 6 & 63 | 128, 63 & c | 128);
            }
          }return f;
        }function S(a) {
          for (var b = [], c = 0; c < a.length; c++) {
            b.push(255 & a.charCodeAt(c));
          }return b;
        }function T(a, b) {
          for (var c, d, e, f = [], g = 0; g < a.length && !((b -= 2) < 0); g++) {
            c = a.charCodeAt(g), d = c >> 8, e = c % 256, f.push(e), f.push(d);
          }return f;
        }function U(a) {
          return W.toByteArray(O(a));
        }function V(a, b, c, d) {
          for (var e = 0; e < d && !(e + c >= b.length || e >= a.length); e++) {
            b[e + c] = a[e];
          }return e;
        }var W = a("base64-js"),
            X = a("ieee754"),
            Y = a("isarray");c.Buffer = f, c.SlowBuffer = r, c.INSPECT_MAX_BYTES = 50, f.poolSize = 8192;var Z = {};f.TYPED_ARRAY_SUPPORT = void 0 !== b.TYPED_ARRAY_SUPPORT ? b.TYPED_ARRAY_SUPPORT : d(), f.TYPED_ARRAY_SUPPORT ? (f.prototype.__proto__ = Uint8Array.prototype, f.__proto__ = Uint8Array) : (f.prototype.length = void 0, f.prototype.parent = void 0), f.isBuffer = function (a) {
          return !(null == a || !a._isBuffer);
        }, f.compare = function (a, b) {
          if (!f.isBuffer(a) || !f.isBuffer(b)) throw new TypeError("Arguments must be Buffers");if (a === b) return 0;for (var c = a.length, d = b.length, e = 0, g = Math.min(c, d); e < g && a[e] === b[e];) {
            ++e;
          }return e !== g && (c = a[e], d = b[e]), c < d ? -1 : d < c ? 1 : 0;
        }, f.isEncoding = function (a) {
          switch (String(a).toLowerCase()) {case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "raw":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":
              return !0;default:
              return !1;}
        }, f.concat = function (a, b) {
          if (!Y(a)) throw new TypeError("list argument must be an Array of Buffers.");if (0 === a.length) return new f(0);var c;if (void 0 === b) for (b = 0, c = 0; c < a.length; c++) {
            b += a[c].length;
          }var d = new f(b),
              e = 0;for (c = 0; c < a.length; c++) {
            var g = a[c];g.copy(d, e), e += g.length;
          }return d;
        }, f.byteLength = s, f.prototype.toString = function () {
          var a = 0 | this.length;return 0 === a ? "" : 0 === arguments.length ? B(this, 0, a) : t.apply(this, arguments);
        }, f.prototype.equals = function (a) {
          if (!f.isBuffer(a)) throw new TypeError("Argument must be a Buffer");return this === a || 0 === f.compare(this, a);
        }, f.prototype.inspect = function () {
          var a = "",
              b = c.INSPECT_MAX_BYTES;return this.length > 0 && (a = this.toString("hex", 0, b).match(/.{2}/g).join(" "), this.length > b && (a += " ... ")), "<Buffer " + a + ">";
        }, f.prototype.compare = function (a) {
          if (!f.isBuffer(a)) throw new TypeError("Argument must be a Buffer");return this === a ? 0 : f.compare(this, a);
        }, f.prototype.indexOf = function (a, b) {
          function c(a, b, c) {
            for (var d = -1, e = 0; c + e < a.length; e++) {
              if (a[c + e] === b[-1 === d ? 0 : e - d]) {
                if (-1 === d && (d = e), e - d + 1 === b.length) return c + d;
              } else d = -1;
            }return -1;
          }if (b > 2147483647 ? b = 2147483647 : b < -2147483648 && (b = -2147483648), b >>= 0, 0 === this.length) return -1;if (b >= this.length) return -1;if (b < 0 && (b = Math.max(this.length + b, 0)), "string" == typeof a) return 0 === a.length ? -1 : String.prototype.indexOf.call(this, a, b);if (f.isBuffer(a)) return c(this, a, b);if ("number" == typeof a) return f.TYPED_ARRAY_SUPPORT && "function" === Uint8Array.prototype.indexOf ? Uint8Array.prototype.indexOf.call(this, a, b) : c(this, [a], b);throw new TypeError("val must be string, number or Buffer");
        }, f.prototype.get = function (a) {
          return console.log(".get() is deprecated. Access using array indexes instead."), this.readUInt8(a);
        }, f.prototype.set = function (a, b) {
          return console.log(".set() is deprecated. Access using array indexes instead."), this.writeUInt8(a, b);
        }, f.prototype.write = function (a, b, c, d) {
          if (void 0 === b) d = "utf8", c = this.length, b = 0;else if (void 0 === c && "string" == typeof b) d = b, c = this.length, b = 0;else if (isFinite(b)) b |= 0, isFinite(c) ? (c |= 0, void 0 === d && (d = "utf8")) : (d = c, c = void 0);else {
            var e = d;d = b, b = 0 | c, c = e;
          }var f = this.length - b;if ((void 0 === c || c > f) && (c = f), a.length > 0 && (c < 0 || b < 0) || b > this.length) throw new RangeError("attempt to write outside buffer bounds");d || (d = "utf8");for (var g = !1;;) {
            switch (d) {case "hex":
                return u(this, a, b, c);case "utf8":case "utf-8":
                return v(this, a, b, c);case "ascii":
                return w(this, a, b, c);case "binary":
                return x(this, a, b, c);case "base64":
                return y(this, a, b, c);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":
                return z(this, a, b, c);default:
                if (g) throw new TypeError("Unknown encoding: " + d);d = ("" + d).toLowerCase(), g = !0;}
          }
        }, f.prototype.toJSON = function () {
          return { type: "Buffer", data: Array.prototype.slice.call(this._arr || this, 0) };
        };var $ = 4096;f.prototype.slice = function (a, b) {
          var c = this.length;a = ~~a, b = void 0 === b ? c : ~~b, a < 0 ? (a += c) < 0 && (a = 0) : a > c && (a = c), b < 0 ? (b += c) < 0 && (b = 0) : b > c && (b = c), b < a && (b = a);var d;if (f.TYPED_ARRAY_SUPPORT) d = f._augment(this.subarray(a, b));else {
            var e = b - a;d = new f(e, void 0);for (var g = 0; g < e; g++) {
              d[g] = this[g + a];
            }
          }return d.length && (d.parent = this.parent || this), d;
        }, f.prototype.readUIntLE = function (a, b, c) {
          a |= 0, b |= 0, c || H(a, b, this.length);for (var d = this[a], e = 1, f = 0; ++f < b && (e *= 256);) {
            d += this[a + f] * e;
          }return d;
        }, f.prototype.readUIntBE = function (a, b, c) {
          a |= 0, b |= 0, c || H(a, b, this.length);for (var d = this[a + --b], e = 1; b > 0 && (e *= 256);) {
            d += this[a + --b] * e;
          }return d;
        }, f.prototype.readUInt8 = function (a, b) {
          return b || H(a, 1, this.length), this[a];
        }, f.prototype.readUInt16LE = function (a, b) {
          return b || H(a, 2, this.length), this[a] | this[a + 1] << 8;
        }, f.prototype.readUInt16BE = function (a, b) {
          return b || H(a, 2, this.length), this[a] << 8 | this[a + 1];
        }, f.prototype.readUInt32LE = function (a, b) {
          return b || H(a, 4, this.length), (this[a] | this[a + 1] << 8 | this[a + 2] << 16) + 16777216 * this[a + 3];
        }, f.prototype.readUInt32BE = function (a, b) {
          return b || H(a, 4, this.length), 16777216 * this[a] + (this[a + 1] << 16 | this[a + 2] << 8 | this[a + 3]);
        }, f.prototype.readIntLE = function (a, b, c) {
          a |= 0, b |= 0, c || H(a, b, this.length);for (var d = this[a], e = 1, f = 0; ++f < b && (e *= 256);) {
            d += this[a + f] * e;
          }return e *= 128, d >= e && (d -= Math.pow(2, 8 * b)), d;
        }, f.prototype.readIntBE = function (a, b, c) {
          a |= 0, b |= 0, c || H(a, b, this.length);for (var d = b, e = 1, f = this[a + --d]; d > 0 && (e *= 256);) {
            f += this[a + --d] * e;
          }return e *= 128, f >= e && (f -= Math.pow(2, 8 * b)), f;
        }, f.prototype.readInt8 = function (a, b) {
          return b || H(a, 1, this.length), 128 & this[a] ? -1 * (255 - this[a] + 1) : this[a];
        }, f.prototype.readInt16LE = function (a, b) {
          b || H(a, 2, this.length);var c = this[a] | this[a + 1] << 8;return 32768 & c ? 4294901760 | c : c;
        }, f.prototype.readInt16BE = function (a, b) {
          b || H(a, 2, this.length);var c = this[a + 1] | this[a] << 8;return 32768 & c ? 4294901760 | c : c;
        }, f.prototype.readInt32LE = function (a, b) {
          return b || H(a, 4, this.length), this[a] | this[a + 1] << 8 | this[a + 2] << 16 | this[a + 3] << 24;
        }, f.prototype.readInt32BE = function (a, b) {
          return b || H(a, 4, this.length), this[a] << 24 | this[a + 1] << 16 | this[a + 2] << 8 | this[a + 3];
        }, f.prototype.readFloatLE = function (a, b) {
          return b || H(a, 4, this.length), X.read(this, a, !0, 23, 4);
        }, f.prototype.readFloatBE = function (a, b) {
          return b || H(a, 4, this.length), X.read(this, a, !1, 23, 4);
        }, f.prototype.readDoubleLE = function (a, b) {
          return b || H(a, 8, this.length), X.read(this, a, !0, 52, 8);
        }, f.prototype.readDoubleBE = function (a, b) {
          return b || H(a, 8, this.length), X.read(this, a, !1, 52, 8);
        }, f.prototype.writeUIntLE = function (a, b, c, d) {
          a = +a, b |= 0, c |= 0, d || I(this, a, b, c, Math.pow(2, 8 * c), 0);var e = 1,
              f = 0;for (this[b] = 255 & a; ++f < c && (e *= 256);) {
            this[b + f] = a / e & 255;
          }return b + c;
        }, f.prototype.writeUIntBE = function (a, b, c, d) {
          a = +a, b |= 0, c |= 0, d || I(this, a, b, c, Math.pow(2, 8 * c), 0);var e = c - 1,
              f = 1;for (this[b + e] = 255 & a; --e >= 0 && (f *= 256);) {
            this[b + e] = a / f & 255;
          }return b + c;
        }, f.prototype.writeUInt8 = function (a, b, c) {
          return a = +a, b |= 0, c || I(this, a, b, 1, 255, 0), f.TYPED_ARRAY_SUPPORT || (a = Math.floor(a)), this[b] = 255 & a, b + 1;
        }, f.prototype.writeUInt16LE = function (a, b, c) {
          return a = +a, b |= 0, c || I(this, a, b, 2, 65535, 0), f.TYPED_ARRAY_SUPPORT ? (this[b] = 255 & a, this[b + 1] = a >>> 8) : J(this, a, b, !0), b + 2;
        }, f.prototype.writeUInt16BE = function (a, b, c) {
          return a = +a, b |= 0, c || I(this, a, b, 2, 65535, 0), f.TYPED_ARRAY_SUPPORT ? (this[b] = a >>> 8, this[b + 1] = 255 & a) : J(this, a, b, !1), b + 2;
        }, f.prototype.writeUInt32LE = function (a, b, c) {
          return a = +a, b |= 0, c || I(this, a, b, 4, 4294967295, 0), f.TYPED_ARRAY_SUPPORT ? (this[b + 3] = a >>> 24, this[b + 2] = a >>> 16, this[b + 1] = a >>> 8, this[b] = 255 & a) : K(this, a, b, !0), b + 4;
        }, f.prototype.writeUInt32BE = function (a, b, c) {
          return a = +a, b |= 0, c || I(this, a, b, 4, 4294967295, 0), f.TYPED_ARRAY_SUPPORT ? (this[b] = a >>> 24, this[b + 1] = a >>> 16, this[b + 2] = a >>> 8, this[b + 3] = 255 & a) : K(this, a, b, !1), b + 4;
        }, f.prototype.writeIntLE = function (a, b, c, d) {
          if (a = +a, b |= 0, !d) {
            var e = Math.pow(2, 8 * c - 1);I(this, a, b, c, e - 1, -e);
          }var f = 0,
              g = 1,
              h = a < 0 ? 1 : 0;for (this[b] = 255 & a; ++f < c && (g *= 256);) {
            this[b + f] = (a / g >> 0) - h & 255;
          }return b + c;
        }, f.prototype.writeIntBE = function (a, b, c, d) {
          if (a = +a, b |= 0, !d) {
            var e = Math.pow(2, 8 * c - 1);I(this, a, b, c, e - 1, -e);
          }var f = c - 1,
              g = 1,
              h = a < 0 ? 1 : 0;for (this[b + f] = 255 & a; --f >= 0 && (g *= 256);) {
            this[b + f] = (a / g >> 0) - h & 255;
          }return b + c;
        }, f.prototype.writeInt8 = function (a, b, c) {
          return a = +a, b |= 0, c || I(this, a, b, 1, 127, -128), f.TYPED_ARRAY_SUPPORT || (a = Math.floor(a)), a < 0 && (a = 255 + a + 1), this[b] = 255 & a, b + 1;
        }, f.prototype.writeInt16LE = function (a, b, c) {
          return a = +a, b |= 0, c || I(this, a, b, 2, 32767, -32768), f.TYPED_ARRAY_SUPPORT ? (this[b] = 255 & a, this[b + 1] = a >>> 8) : J(this, a, b, !0), b + 2;
        }, f.prototype.writeInt16BE = function (a, b, c) {
          return a = +a, b |= 0, c || I(this, a, b, 2, 32767, -32768), f.TYPED_ARRAY_SUPPORT ? (this[b] = a >>> 8, this[b + 1] = 255 & a) : J(this, a, b, !1), b + 2;
        }, f.prototype.writeInt32LE = function (a, b, c) {
          return a = +a, b |= 0, c || I(this, a, b, 4, 2147483647, -2147483648), f.TYPED_ARRAY_SUPPORT ? (this[b] = 255 & a, this[b + 1] = a >>> 8, this[b + 2] = a >>> 16, this[b + 3] = a >>> 24) : K(this, a, b, !0), b + 4;
        }, f.prototype.writeInt32BE = function (a, b, c) {
          return a = +a, b |= 0, c || I(this, a, b, 4, 2147483647, -2147483648), a < 0 && (a = 4294967295 + a + 1), f.TYPED_ARRAY_SUPPORT ? (this[b] = a >>> 24, this[b + 1] = a >>> 16, this[b + 2] = a >>> 8, this[b + 3] = 255 & a) : K(this, a, b, !1), b + 4;
        }, f.prototype.writeFloatLE = function (a, b, c) {
          return M(this, a, b, !0, c);
        }, f.prototype.writeFloatBE = function (a, b, c) {
          return M(this, a, b, !1, c);
        }, f.prototype.writeDoubleLE = function (a, b, c) {
          return N(this, a, b, !0, c);
        }, f.prototype.writeDoubleBE = function (a, b, c) {
          return N(this, a, b, !1, c);
        }, f.prototype.copy = function (a, b, c, d) {
          if (c || (c = 0), d || 0 === d || (d = this.length), b >= a.length && (b = a.length), b || (b = 0), d > 0 && d < c && (d = c), d === c) return 0;if (0 === a.length || 0 === this.length) return 0;if (b < 0) throw new RangeError("targetStart out of bounds");if (c < 0 || c >= this.length) throw new RangeError("sourceStart out of bounds");if (d < 0) throw new RangeError("sourceEnd out of bounds");d > this.length && (d = this.length), a.length - b < d - c && (d = a.length - b + c);var e,
              g = d - c;if (this === a && c < b && b < d) for (e = g - 1; e >= 0; e--) {
            a[e + b] = this[e + c];
          } else if (g < 1e3 || !f.TYPED_ARRAY_SUPPORT) for (e = 0; e < g; e++) {
            a[e + b] = this[e + c];
          } else a._set(this.subarray(c, c + g), b);return g;
        }, f.prototype.fill = function (a, b, c) {
          if (a || (a = 0), b || (b = 0), c || (c = this.length), c < b) throw new RangeError("end < start");if (c !== b && 0 !== this.length) {
            if (b < 0 || b >= this.length) throw new RangeError("start out of bounds");if (c < 0 || c > this.length) throw new RangeError("end out of bounds");var d;if ("number" == typeof a) for (d = b; d < c; d++) {
              this[d] = a;
            } else {
              var e = R(a.toString()),
                  f = e.length;for (d = b; d < c; d++) {
                this[d] = e[d % f];
              }
            }return this;
          }
        }, f.prototype.toArrayBuffer = function () {
          if ("undefined" != typeof Uint8Array) {
            if (f.TYPED_ARRAY_SUPPORT) return new f(this).buffer;for (var a = new Uint8Array(this.length), b = 0, c = a.length; b < c; b += 1) {
              a[b] = this[b];
            }return a.buffer;
          }throw new TypeError("Buffer.toArrayBuffer not supported in this browser");
        };var _ = f.prototype;f._augment = function (a) {
          return a.constructor = f, a._isBuffer = !0, a._set = a.set, a.get = _.get, a.set = _.set, a.write = _.write, a.toString = _.toString, a.toLocaleString = _.toString, a.toJSON = _.toJSON, a.equals = _.equals, a.compare = _.compare, a.indexOf = _.indexOf, a.copy = _.copy, a.slice = _.slice, a.readUIntLE = _.readUIntLE, a.readUIntBE = _.readUIntBE, a.readUInt8 = _.readUInt8, a.readUInt16LE = _.readUInt16LE, a.readUInt16BE = _.readUInt16BE, a.readUInt32LE = _.readUInt32LE, a.readUInt32BE = _.readUInt32BE, a.readIntLE = _.readIntLE, a.readIntBE = _.readIntBE, a.readInt8 = _.readInt8, a.readInt16LE = _.readInt16LE, a.readInt16BE = _.readInt16BE, a.readInt32LE = _.readInt32LE, a.readInt32BE = _.readInt32BE, a.readFloatLE = _.readFloatLE, a.readFloatBE = _.readFloatBE, a.readDoubleLE = _.readDoubleLE, a.readDoubleBE = _.readDoubleBE, a.writeUInt8 = _.writeUInt8, a.writeUIntLE = _.writeUIntLE, a.writeUIntBE = _.writeUIntBE, a.writeUInt16LE = _.writeUInt16LE, a.writeUInt16BE = _.writeUInt16BE, a.writeUInt32LE = _.writeUInt32LE, a.writeUInt32BE = _.writeUInt32BE, a.writeIntLE = _.writeIntLE, a.writeIntBE = _.writeIntBE, a.writeInt8 = _.writeInt8, a.writeInt16LE = _.writeInt16LE, a.writeInt16BE = _.writeInt16BE, a.writeInt32LE = _.writeInt32LE, a.writeInt32BE = _.writeInt32BE, a.writeFloatLE = _.writeFloatLE, a.writeFloatBE = _.writeFloatBE, a.writeDoubleLE = _.writeDoubleLE, a.writeDoubleBE = _.writeDoubleBE, a.fill = _.fill, a.inspect = _.inspect, a.toArrayBuffer = _.toArrayBuffer, a;
        };var aa = /[^+\/0-9A-Za-z-_]/g;
      }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
    }, { "base64-js": 1, ieee754: 7, isarray: 8 }], 4: [function (b, c, d) {
      (function (e, f) {
        !function (b, e) {
          "object" == (typeof d === "undefined" ? "undefined" : _typeof(d)) && void 0 !== c ? c.exports = e() : "function" == typeof a && a.amd ? a(e) : b.ES6Promise = e();
        }(this, function () {
          "use strict";
          function a(a) {
            var b = typeof a === "undefined" ? "undefined" : _typeof(a);return null !== a && ("object" === b || "function" === b);
          }function c(a) {
            return "function" == typeof a;
          }function d(a) {
            X = a;
          }function g(a) {
            Y = a;
          }function h() {
            return function () {
              return e.nextTick(m);
            };
          }function i() {
            return void 0 !== W ? function () {
              W(m);
            } : l();
          }function j() {
            var a = 0,
                b = new _(m),
                c = document.createTextNode("");return b.observe(c, { characterData: !0 }), function () {
              c.data = a = ++a % 2;
            };
          }function k() {
            var a = new MessageChannel();return a.port1.onmessage = m, function () {
              return a.port2.postMessage(0);
            };
          }function l() {
            var a = setTimeout;return function () {
              return a(m, 1);
            };
          }function m() {
            for (var a = 0; a < V; a += 2) {
              (0, ca[a])(ca[a + 1]), ca[a] = void 0, ca[a + 1] = void 0;
            }V = 0;
          }function n() {
            try {
              var a = b,
                  c = a("vertx");return W = c.runOnLoop || c.runOnContext, i();
            } catch (a) {
              return l();
            }
          }function o(a, b) {
            var c = arguments,
                d = this,
                e = new this.constructor(q);void 0 === e[ea] && J(e);var f = d._state;return f ? function () {
              var a = c[f - 1];Y(function () {
                return G(f, e, a, d._result);
              });
            }() : C(d, e, a, b), e;
          }function p(a) {
            var b = this;if (a && "object" == (typeof a === "undefined" ? "undefined" : _typeof(a)) && a.constructor === b) return a;var c = new b(q);return y(c, a), c;
          }function q() {}function r() {
            return new TypeError("You cannot resolve a promise with itself");
          }function s() {
            return new TypeError("A promises callback cannot return that same promise.");
          }function t(a) {
            try {
              return a.then;
            } catch (a) {
              return ia.error = a, ia;
            }
          }function u(a, b, c, d) {
            try {
              a.call(b, c, d);
            } catch (a) {
              return a;
            }
          }function v(a, b, c) {
            Y(function (a) {
              var d = !1,
                  e = u(c, b, function (c) {
                d || (d = !0, b !== c ? y(a, c) : A(a, c));
              }, function (b) {
                d || (d = !0, B(a, b));
              }, "Settle: " + (a._label || " unknown promise"));!d && e && (d = !0, B(a, e));
            }, a);
          }function w(a, b) {
            b._state === ga ? A(a, b._result) : b._state === ha ? B(a, b._result) : C(b, void 0, function (b) {
              return y(a, b);
            }, function (b) {
              return B(a, b);
            });
          }function x(a, b, d) {
            b.constructor === a.constructor && d === o && b.constructor.resolve === p ? w(a, b) : d === ia ? (B(a, ia.error), ia.error = null) : void 0 === d ? A(a, b) : c(d) ? v(a, b, d) : A(a, b);
          }function y(b, c) {
            b === c ? B(b, r()) : a(c) ? x(b, c, t(c)) : A(b, c);
          }function z(a) {
            a._onerror && a._onerror(a._result), D(a);
          }function A(a, b) {
            a._state === fa && (a._result = b, a._state = ga, 0 !== a._subscribers.length && Y(D, a));
          }function B(a, b) {
            a._state === fa && (a._state = ha, a._result = b, Y(z, a));
          }function C(a, b, c, d) {
            var e = a._subscribers,
                f = e.length;a._onerror = null, e[f] = b, e[f + ga] = c, e[f + ha] = d, 0 === f && a._state && Y(D, a);
          }function D(a) {
            var b = a._subscribers,
                c = a._state;if (0 !== b.length) {
              for (var d = void 0, e = void 0, f = a._result, g = 0; g < b.length; g += 3) {
                d = b[g], e = b[g + c], d ? G(c, d, e, f) : e(f);
              }a._subscribers.length = 0;
            }
          }function E() {
            this.error = null;
          }function F(a, b) {
            try {
              return a(b);
            } catch (a) {
              return ja.error = a, ja;
            }
          }function G(a, b, d, e) {
            var f = c(d),
                g = void 0,
                h = void 0,
                i = void 0,
                j = void 0;if (f) {
              if (g = F(d, e), g === ja ? (j = !0, h = g.error, g.error = null) : i = !0, b === g) return void B(b, s());
            } else g = e, i = !0;b._state !== fa || (f && i ? y(b, g) : j ? B(b, h) : a === ga ? A(b, g) : a === ha && B(b, g));
          }function H(a, b) {
            try {
              b(function (b) {
                y(a, b);
              }, function (b) {
                B(a, b);
              });
            } catch (b) {
              B(a, b);
            }
          }function I() {
            return ka++;
          }function J(a) {
            a[ea] = ka++, a._state = void 0, a._result = void 0, a._subscribers = [];
          }function K(a, b) {
            this._instanceConstructor = a, this.promise = new a(q), this.promise[ea] || J(this.promise), U(b) ? (this.length = b.length, this._remaining = b.length, this._result = new Array(this.length), 0 === this.length ? A(this.promise, this._result) : (this.length = this.length || 0, this._enumerate(b), 0 === this._remaining && A(this.promise, this._result))) : B(this.promise, L());
          }function L() {
            return new Error("Array Methods must be provided an Array");
          }function M(a) {
            return new K(this, a).promise;
          }function N(a) {
            var b = this;return new b(U(a) ? function (c, d) {
              for (var e = a.length, f = 0; f < e; f++) {
                b.resolve(a[f]).then(c, d);
              }
            } : function (a, b) {
              return b(new TypeError("You must pass an array to race."));
            });
          }function O(a) {
            var b = this,
                c = new b(q);return B(c, a), c;
          }function P() {
            throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");
          }function Q() {
            throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
          }function R(a) {
            this[ea] = I(), this._result = this._state = void 0, this._subscribers = [], q !== a && ("function" != typeof a && P(), this instanceof R ? H(this, a) : Q());
          }function S() {
            var a = void 0;if (void 0 !== f) a = f;else if ("undefined" != typeof self) a = self;else try {
              a = Function("return this")();
            } catch (a) {
              throw new Error("polyfill failed because global object is unavailable in this environment");
            }var b = a.Promise;if (b) {
              var c = null;try {
                c = Object.prototype.toString.call(b.resolve());
              } catch (a) {}if ("[object Promise]" === c && !b.cast) return;
            }a.Promise = R;
          }var T = void 0;T = Array.isArray ? Array.isArray : function (a) {
            return "[object Array]" === Object.prototype.toString.call(a);
          };var U = T,
              V = 0,
              W = void 0,
              X = void 0,
              Y = function Y(a, b) {
            ca[V] = a, ca[V + 1] = b, 2 === (V += 2) && (X ? X(m) : da());
          },
              Z = "undefined" != typeof window ? window : void 0,
              $ = Z || {},
              _ = $.MutationObserver || $.WebKitMutationObserver,
              aa = "undefined" == typeof self && void 0 !== e && "[object process]" === {}.toString.call(e),
              ba = "undefined" != typeof Uint8ClampedArray && "undefined" != typeof importScripts && "undefined" != typeof MessageChannel,
              ca = new Array(1e3),
              da = void 0;da = aa ? h() : _ ? j() : ba ? k() : void 0 === Z && "function" == typeof b ? n() : l();var ea = Math.random().toString(36).substring(16),
              fa = void 0,
              ga = 1,
              ha = 2,
              ia = new E(),
              ja = new E(),
              ka = 0;return K.prototype._enumerate = function (a) {
            for (var b = 0; this._state === fa && b < a.length; b++) {
              this._eachEntry(a[b], b);
            }
          }, K.prototype._eachEntry = function (a, b) {
            var c = this._instanceConstructor,
                d = c.resolve;if (d === p) {
              var e = t(a);if (e === o && a._state !== fa) this._settledAt(a._state, b, a._result);else if ("function" != typeof e) this._remaining--, this._result[b] = a;else if (c === R) {
                var f = new c(q);x(f, a, e), this._willSettleAt(f, b);
              } else this._willSettleAt(new c(function (b) {
                return b(a);
              }), b);
            } else this._willSettleAt(d(a), b);
          }, K.prototype._settledAt = function (a, b, c) {
            var d = this.promise;d._state === fa && (this._remaining--, a === ha ? B(d, c) : this._result[b] = c), 0 === this._remaining && A(d, this._result);
          }, K.prototype._willSettleAt = function (a, b) {
            var c = this;C(a, void 0, function (a) {
              return c._settledAt(ga, b, a);
            }, function (a) {
              return c._settledAt(ha, b, a);
            });
          }, R.all = M, R.race = N, R.resolve = p, R.reject = O, R._setScheduler = d, R._setAsap = g, R._asap = Y, R.prototype = { constructor: R, then: o, catch: function _catch(a) {
              return this.then(null, a);
            } }, R.polyfill = S, R.Promise = R, R;
        });
      }).call(this, b("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
    }, { _process: 11 }], 5: [function (b, c, d) {
      !function (b, e) {
        if ("function" == typeof a && a.amd) a(["exports", "module"], e);else if (void 0 !== d && void 0 !== c) e(d, c);else {
          var f = { exports: {} };e(f.exports, f), b.fetchJsonp = f.exports;
        }
      }(this, function (a, b) {
        "use strict";
        function c() {
          return "jsonp_" + Date.now() + "_" + Math.ceil(1e5 * Math.random());
        }function d(a) {
          try {
            delete window[a];
          } catch (b) {
            window[a] = void 0;
          }
        }function e(a) {
          var b = document.getElementById(a);b && document.getElementsByTagName("head")[0].removeChild(b);
        }function f(a) {
          var b = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1],
              f = a,
              h = b.timeout || g.timeout,
              i = b.jsonpCallback || g.jsonpCallback,
              j = void 0;return new Promise(function (g, k) {
            var l = b.jsonpCallbackFunction || c(),
                m = i + "_" + l;window[l] = function (a) {
              g({ ok: !0, json: function json() {
                  return Promise.resolve(a);
                } }), j && clearTimeout(j), e(m), d(l);
            }, f += -1 === f.indexOf("?") ? "?" : "&";var n = document.createElement("script");n.setAttribute("src", "" + f + i + "=" + l), b.charset && n.setAttribute("charset", b.charset), n.id = m, document.getElementsByTagName("head")[0].appendChild(n), j = setTimeout(function () {
              k(new Error("JSONP request to " + a + " timed out")), d(l), e(m), window[l] = function () {
                d(l);
              };
            }, h), n.onerror = function () {
              k(new Error("JSONP request to " + a + " failed")), d(l), e(m), j && clearTimeout(j);
            };
          });
        }var g = { timeout: 5e3, jsonpCallback: "callback", jsonpCallbackFunction: null };b.exports = f;
      });
    }, {}], 6: [function (b, c, d) {
      var e = e || function (a) {
        "use strict";
        if (!(void 0 === a || "undefined" != typeof navigator && /MSIE [1-9]\./.test(navigator.userAgent))) {
          var b = a.document,
              c = function c() {
            return a.URL || a.webkitURL || a;
          },
              d = b.createElementNS("http://www.w3.org/1999/xhtml", "a"),
              e = "download" in d,
              f = function f(a) {
            var b = new MouseEvent("click");a.dispatchEvent(b);
          },
              g = /constructor/i.test(a.HTMLElement) || a.safari,
              h = /CriOS\/[\d]+/.test(navigator.userAgent),
              i = function i(b) {
            (a.setImmediate || a.setTimeout)(function () {
              throw b;
            }, 0);
          },
              j = "application/octet-stream",
              k = 4e4,
              l = function l(a) {
            var b = function b() {
              "string" == typeof a ? c().revokeObjectURL(a) : a.remove();
            };setTimeout(b, k);
          },
              m = function m(a, b, c) {
            b = [].concat(b);for (var d = b.length; d--;) {
              var e = a["on" + b[d]];if ("function" == typeof e) try {
                e.call(a, c || a);
              } catch (a) {
                i(a);
              }
            }
          },
              n = function n(a) {
            return (/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type) ? new Blob([String.fromCharCode(65279), a], { type: a.type }) : a
            );
          },
              o = function o(b, i, k) {
            k || (b = n(b));var o,
                p = this,
                q = b.type,
                r = q === j,
                s = function s() {
              m(p, "writestart progress write writeend".split(" "));
            },
                t = function t() {
              if ((h || r && g) && a.FileReader) {
                var d = new FileReader();return d.onloadend = function () {
                  var b = h ? d.result : d.result.replace(/^data:[^;]*;/, "data:attachment/file;");a.open(b, "_blank") || (a.location.href = b), b = void 0, p.readyState = p.DONE, s();
                }, d.readAsDataURL(b), void (p.readyState = p.INIT);
              }if (o || (o = c().createObjectURL(b)), r) a.location.href = o;else {
                a.open(o, "_blank") || (a.location.href = o);
              }p.readyState = p.DONE, s(), l(o);
            };if (p.readyState = p.INIT, e) return o = c().createObjectURL(b), void setTimeout(function () {
              d.href = o, d.download = i, f(d), s(), l(o), p.readyState = p.DONE;
            });t();
          },
              p = o.prototype,
              q = function q(a, b, c) {
            return new o(a, b || a.name || "download", c);
          };return "undefined" != typeof navigator && navigator.msSaveOrOpenBlob ? function (a, b, c) {
            return b = b || a.name || "download", c || (a = n(a)), navigator.msSaveOrOpenBlob(a, b);
          } : (p.abort = function () {}, p.readyState = p.INIT = 0, p.WRITING = 1, p.DONE = 2, p.error = p.onwritestart = p.onprogress = p.onwrite = p.onabort = p.onerror = p.onwriteend = null, q);
        }
      }("undefined" != typeof self && self || "undefined" != typeof window && window || this.content);void 0 !== c && c.exports ? c.exports.saveAs = e : void 0 !== a && null !== a && null !== a.amd && a("FileSaver.js", function () {
        return e;
      });
    }, {}], 7: [function (a, b, c) {
      c.read = function (a, b, c, d, e) {
        var f,
            g,
            h = 8 * e - d - 1,
            i = (1 << h) - 1,
            j = i >> 1,
            k = -7,
            l = c ? e - 1 : 0,
            m = c ? -1 : 1,
            n = a[b + l];for (l += m, f = n & (1 << -k) - 1, n >>= -k, k += h; k > 0; f = 256 * f + a[b + l], l += m, k -= 8) {}for (g = f & (1 << -k) - 1, f >>= -k, k += d; k > 0; g = 256 * g + a[b + l], l += m, k -= 8) {}if (0 === f) f = 1 - j;else {
          if (f === i) return g ? NaN : 1 / 0 * (n ? -1 : 1);g += Math.pow(2, d), f -= j;
        }return (n ? -1 : 1) * g * Math.pow(2, f - d);
      }, c.write = function (a, b, c, d, e, f) {
        var g,
            h,
            i,
            j = 8 * f - e - 1,
            k = (1 << j) - 1,
            l = k >> 1,
            m = 23 === e ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
            n = d ? 0 : f - 1,
            o = d ? 1 : -1,
            p = b < 0 || 0 === b && 1 / b < 0 ? 1 : 0;for (b = Math.abs(b), isNaN(b) || b === 1 / 0 ? (h = isNaN(b) ? 1 : 0, g = k) : (g = Math.floor(Math.log(b) / Math.LN2), b * (i = Math.pow(2, -g)) < 1 && (g--, i *= 2), b += g + l >= 1 ? m / i : m * Math.pow(2, 1 - l), b * i >= 2 && (g++, i /= 2), g + l >= k ? (h = 0, g = k) : g + l >= 1 ? (h = (b * i - 1) * Math.pow(2, e), g += l) : (h = b * Math.pow(2, l - 1) * Math.pow(2, e), g = 0)); e >= 8; a[c + n] = 255 & h, n += o, h /= 256, e -= 8) {}for (g = g << e | h, j += e; j > 0; a[c + n] = 255 & g, n += o, g /= 256, j -= 8) {}a[c + n - o] |= 128 * p;
      };
    }, {}], 8: [function (a, b, c) {
      var d = {}.toString;b.exports = Array.isArray || function (a) {
        return "[object Array]" == d.call(a);
      };
    }, {}], 9: [function (a, b, c) {
      "use strict";
      function d(a, b) {
        return a.b === b.b && a.a === b.a;
      }function e(a, b) {
        return a.b < b.b || a.b === b.b && a.a <= b.a;
      }function f(a, b, c) {
        var d = b.b - a.b,
            e = c.b - b.b;return 0 < d + e ? d < e ? b.a - a.a + d / (d + e) * (a.a - c.a) : b.a - c.a + e / (d + e) * (c.a - a.a) : 0;
      }function g(a, b, c) {
        var d = b.b - a.b,
            e = c.b - b.b;return 0 < d + e ? (b.a - c.a) * d + (b.a - a.a) * e : 0;
      }function h(a, b) {
        return a.a < b.a || a.a === b.a && a.b <= b.b;
      }function i(a, b, c) {
        var d = b.a - a.a,
            e = c.a - b.a;return 0 < d + e ? d < e ? b.b - a.b + d / (d + e) * (a.b - c.b) : b.b - c.b + e / (d + e) * (c.b - a.b) : 0;
      }function j(a, b, c) {
        var d = b.a - a.a,
            e = c.a - b.a;return 0 < d + e ? (b.b - c.b) * d + (b.b - a.b) * e : 0;
      }function k(a) {
        return e(a.b.a, a.a);
      }function l(a) {
        return e(a.a, a.b.a);
      }function m(a, b, c, d) {
        return a = 0 > a ? 0 : a, c = 0 > c ? 0 : c, a <= c ? 0 === c ? (b + d) / 2 : b + a / (a + c) * (d - b) : d + c / (a + c) * (b - d);
      }function n(a) {
        var b = s(a.b);return u(b, a.c), u(b.b, a.c), v(b, a.a), b;
      }function o(a, b) {
        var c = !1,
            d = !1;a !== b && (b.a !== a.a && (d = !0, x(b.a, a.a)), b.d !== a.d && (c = !0, y(b.d, a.d)), t(b, a), d || (u(b, a.a), a.a.c = a), c || (v(b, a.d), a.d.a = a));
      }function p(a) {
        var b = a.b,
            c = !1;a.d !== a.b.d && (c = !0, y(a.d, a.b.d)), a.c === a ? x(a.a, null) : (a.b.d.a = $(a), a.a.c = a.c, t(a, $(a)), c || v(a, a.d)), b.c === b ? (x(b.a, null), y(b.d, null)) : (a.d.a = $(b), b.a.c = b.c, t(b, $(b))), w(a);
      }function q(a) {
        var b = s(a),
            c = b.b;return t(b, a.e), b.a = a.b.a, u(c, b.a), b.d = c.d = a.d, b = b.b, t(a.b, $(a.b)), t(a.b, b), a.b.a = b.a, b.b.a.c = b.b, b.b.d = a.b.d, b.f = a.f, b.b.f = a.b.f, b;
      }function r(a, b) {
        var c = !1,
            d = s(a),
            e = d.b;return b.d !== a.d && (c = !0, y(b.d, a.d)), t(d, a.e), t(e, b), d.a = a.b.a, e.a = b.a, d.d = e.d = a.d, a.d.a = e, c || v(d, a.d), d;
      }function s(a) {
        var b = new Z(),
            c = new Z(),
            d = a.b.h;return c.h = d, d.b.h = b, b.h = a, a.b.h = c, b.b = c, b.c = b, b.e = c, c.b = b, c.c = c, c.e = b;
      }function t(a, b) {
        var c = a.c,
            d = b.c;c.b.e = b, d.b.e = a, a.c = d, b.c = c;
      }function u(a, b) {
        var c = b.f,
            d = new aa(b, c);c.e = d, b.f = d, c = d.c = a;do {
          c.a = d, c = c.c;
        } while (c !== a);
      }function v(a, b) {
        var c = b.d,
            d = new Y(b, c);c.b = d, b.d = d, d.a = a, d.c = b.c, c = a;do {
          c.d = d, c = c.e;
        } while (c !== a);
      }function w(a) {
        var b = a.h;a = a.b.h, b.b.h = a, a.b.h = b;
      }function x(a, b) {
        var c = a.c,
            d = c;do {
          d.a = b, d = d.c;
        } while (d !== c);c = a.f, d = a.e, d.f = c, c.e = d;
      }function y(a, b) {
        var c = a.a,
            d = c;do {
          d.d = b, d = d.e;
        } while (d !== c);c = a.d, d = a.b, d.d = c, c.b = d;
      }function z(a) {
        var b = 0;return Math.abs(a[1]) > Math.abs(a[0]) && (b = 1), Math.abs(a[2]) > Math.abs(a[b]) && (b = 2), b;
      }function A(a, b) {
        a.f += b.f, a.b.f += b.b.f;
      }function B(a, b, c) {
        return a = a.a, b = b.a, c = c.a, b.b.a === a ? c.b.a === a ? e(b.a, c.a) ? 0 >= g(c.b.a, b.a, c.a) : 0 <= g(b.b.a, c.a, b.a) : 0 >= g(c.b.a, a, c.a) : c.b.a === a ? 0 <= g(b.b.a, a, b.a) : (b = f(b.b.a, a, b.a), a = f(c.b.a, a, c.a), b >= a);
      }function C(a) {
        a.a.i = null;var b = a.e;b.a.c = b.c, b.c.a = b.a, a.e = null;
      }function D(a, b) {
        p(a.a), a.c = !1, a.a = b, b.i = a;
      }function E(a) {
        var b = a.a.a;do {
          a = oa(a);
        } while (a.a.a === b);return a.c && (b = r(na(a).a.b, a.a.e), D(a, b), a = oa(a)), a;
      }function F(a, b, c) {
        var d = new ma();return d.a = c, d.e = T(a.f, b.e, d), c.i = d;
      }function G(a, b) {
        switch (a.s) {case 100130:
            return 0 != (1 & b);case 100131:
            return 0 !== b;case 100132:
            return 0 < b;case 100133:
            return 0 > b;case 100134:
            return 2 <= b || -2 >= b;}return !1;
      }function H(a) {
        var b = a.a,
            c = b.d;c.c = a.d, c.a = b, C(a);
      }function I(a, b, c) {
        for (a = b, b = b.a; a !== c;) {
          a.c = !1;var d = na(a),
              e = d.a;if (e.a !== b.a) {
            if (!d.c) {
              H(a);break;
            }e = r(b.c.b, e.b), D(d, e);
          }b.c !== e && (o($(e), e), o(b, e)), H(a), b = d.a, a = d;
        }return b;
      }function J(a, b, c, d, e, f) {
        var g = !0;do {
          F(a, b, c.b), c = c.c;
        } while (c !== d);for (null === e && (e = na(b).a.b.c); d = na(b), c = d.a.b, c.a === e.a;) {
          c.c !== e && (o($(c), c), o($(e), c)), d.f = b.f - c.f, d.d = G(a, d.f), b.b = !0, !g && N(a, b) && (A(c, e), C(b), p(e)), g = !1, b = d, e = c;
        }b.b = !0, f && P(a, b);
      }function K(a, b, c, d, e) {
        var f = [b.g[0], b.g[1], b.g[2]];b.d = null, b.d = a.o ? a.o(f, c, d, a.c) || null : null, null === b.d && (e ? a.n || (X(a, 100156), a.n = !0) : b.d = c[0]);
      }function L(a, b, c) {
        var d = [null, null, null, null];d[0] = b.a.d, d[1] = c.a.d, K(a, b.a, d, [.5, .5, 0, 0], !1), o(b, c);
      }function M(a, b, c, d, e) {
        var f = Math.abs(b.b - a.b) + Math.abs(b.a - a.a),
            g = Math.abs(c.b - a.b) + Math.abs(c.a - a.a),
            h = e + 1;d[e] = .5 * g / (f + g), d[h] = .5 * f / (f + g), a.g[0] += d[e] * b.g[0] + d[h] * c.g[0], a.g[1] += d[e] * b.g[1] + d[h] * c.g[1], a.g[2] += d[e] * b.g[2] + d[h] * c.g[2];
      }function N(a, b) {
        var c = na(b),
            f = b.a,
            h = c.a;if (e(f.a, h.a)) {
          if (0 < g(h.b.a, f.a, h.a)) return !1;if (d(f.a, h.a)) {
            if (f.a !== h.a) {
              var c = a.e,
                  i = f.a.h;if (0 <= i) {
                var c = c.b,
                    j = c.d,
                    k = c.e,
                    l = c.c,
                    m = l[i];j[m] = j[c.a], l[j[m]] = m, m <= --c.a && (1 >= m ? ka(c, m) : e(k[j[m >> 1]], k[j[m]]) ? ka(c, m) : la(c, m)), k[i] = null, l[i] = c.b, c.b = i;
              } else for (c.c[-(i + 1)] = null; 0 < c.a && null === c.c[c.d[c.a - 1]];) {
                --c.a;
              }L(a, $(h), f);
            }
          } else q(h.b), o(f, $(h)), b.b = c.b = !0;
        } else {
          if (0 > g(f.b.a, h.a, f.a)) return !1;oa(b).b = b.b = !0, q(f.b), o($(h), f);
        }return !0;
      }function O(a, b) {
        var c = na(b),
            k = b.a,
            l = c.a,
            n = k.a,
            p = l.a,
            r = k.b.a,
            s = l.b.a,
            t = new aa();if (g(r, a.a, n), g(s, a.a, p), n === p || Math.min(n.a, r.a) > Math.max(p.a, s.a)) return !1;if (e(n, p)) {
          if (0 < g(s, n, p)) return !1;
        } else if (0 > g(r, p, n)) return !1;var u,
            v,
            w = r,
            x = n,
            y = s,
            z = p;if (e(w, x) || (u = w, w = x, x = u), e(y, z) || (u = y, y = z, z = u), e(w, y) || (u = w, w = y, y = u, u = x, x = z, z = u), e(y, x) ? e(x, z) ? (u = f(w, y, x), v = f(y, x, z), 0 > u + v && (u = -u, v = -v), t.b = m(u, y.b, v, x.b)) : (u = g(w, y, x), v = -g(w, z, x), 0 > u + v && (u = -u, v = -v), t.b = m(u, y.b, v, z.b)) : t.b = (y.b + x.b) / 2, h(w, x) || (u = w, w = x, x = u), h(y, z) || (u = y, y = z, z = u), h(w, y) || (u = w, w = y, y = u, u = x, x = z, z = u), h(y, x) ? h(x, z) ? (u = i(w, y, x), v = i(y, x, z), 0 > u + v && (u = -u, v = -v), t.a = m(u, y.a, v, x.a)) : (u = j(w, y, x), v = -j(w, z, x), 0 > u + v && (u = -u, v = -v), t.a = m(u, y.a, v, z.a)) : t.a = (y.a + x.a) / 2, e(t, a.a) && (t.b = a.a.b, t.a = a.a.a), w = e(n, p) ? n : p, e(w, t) && (t.b = w.b, t.a = w.a), d(t, n) || d(t, p)) return N(a, b), !1;if (!d(r, a.a) && 0 <= g(r, a.a, t) || !d(s, a.a) && 0 >= g(s, a.a, t)) {
          if (s === a.a) return q(k.b), o(l.b, k), b = E(b), k = na(b).a, I(a, na(b), c), J(a, b, $(k), k, k, !0), !0;if (r === a.a) {
            q(l.b), o(k.e, $(l)), n = c = b, p = n.a.b.a;do {
              n = oa(n);
            } while (n.a.b.a === p);return b = n, n = na(b).a.b.c, c.a = $(l), l = I(a, c, null), J(a, b, l.c, k.b.c, n, !0), !0;
          }return 0 <= g(r, a.a, t) && (oa(b).b = b.b = !0, q(k.b), k.a.b = a.a.b, k.a.a = a.a.a), 0 >= g(s, a.a, t) && (b.b = c.b = !0, q(l.b), l.a.b = a.a.b, l.a.a = a.a.a), !1;
        }return q(k.b), q(l.b), o($(l), k), k.a.b = t.b, k.a.a = t.a, k.a.h = da(a.e, k.a), k = k.a, l = [0, 0, 0, 0], t = [n.d, r.d, p.d, s.d], k.g[0] = k.g[1] = k.g[2] = 0, M(k, n, r, l, 0), M(k, p, s, l, 2), K(a, k, t, l, !0), oa(b).b = b.b = c.b = !0, !1;
      }function P(a, b) {
        for (var c = na(b);;) {
          for (; c.b;) {
            b = c, c = na(c);
          }if (!b.b && (c = b, null === (b = oa(b)) || !b.b)) break;b.b = !1;var d,
              f = b.a,
              h = c.a;if (d = f.b.a !== h.b.a) a: {
            d = b;var i = na(d),
                j = d.a,
                k = i.a,
                l = void 0;if (e(j.b.a, k.b.a)) {
              if (0 > g(j.b.a, k.b.a, j.a)) {
                d = !1;break a;
              }oa(d).b = d.b = !0, l = q(j), o(k.b, l), l.d.c = d.d;
            } else {
              if (0 < g(k.b.a, j.b.a, k.a)) {
                d = !1;break a;
              }d.b = i.b = !0, l = q(k), o(j.e, k.b), l.b.d.c = d.d;
            }d = !0;
          }if (d && (c.c ? (C(c), p(h), c = na(b), h = c.a) : b.c && (C(b), p(f), b = oa(c), f = b.a)), f.a !== h.a) if (f.b.a === h.b.a || b.c || c.c || f.b.a !== a.a && h.b.a !== a.a) N(a, b);else if (O(a, b)) break;f.a === h.a && f.b.a === h.b.a && (A(h, f), C(b), p(f), b = oa(c));
        }
      }function Q(a, b) {
        a.a = b;for (var c = b.c; null === c.i;) {
          if ((c = c.c) === b.c) {
            var c = a,
                f = b,
                h = new ma();h.a = f.c.b;var i = c.f,
                j = i.a;do {
              j = j.a;
            } while (null !== j.b && !i.c(i.b, h, j.b));var i = j.b,
                k = na(i),
                h = i.a,
                j = k.a;if (0 === g(h.b.a, f, h.a)) h = i.a, d(h.a, f) || d(h.b.a, f) || (q(h.b), i.c && (p(h.c), i.c = !1), o(f.c, h), Q(c, f));else {
              var l = e(j.b.a, h.b.a) ? i : k,
                  k = void 0;i.d || l.c ? (k = l === i ? r(f.c.b, h.e) : r(j.b.c.b, f.c).b, l.c ? D(l, k) : (h = c, i = F(c, i, k), i.f = oa(i).f + i.a.f, i.d = G(h, i.f)), Q(c, f)) : J(c, i, f.c, f.c, null, !0);
            }return;
          }
        }if (c = E(c.i), h = na(c), i = h.a, h = I(a, h, null), h.c === i) {
          var i = h,
              h = i.c,
              j = na(c),
              k = c.a,
              l = j.a,
              m = !1;k.b.a !== l.b.a && O(a, c), d(k.a, a.a) && (o($(h), k), c = E(c), h = na(c).a, I(a, na(c), j), m = !0), d(l.a, a.a) && (o(i, $(l)), i = I(a, j, null), m = !0), m ? J(a, c, i.c, h, h, !0) : (f = e(l.a, k.a) ? $(l) : k, f = r(i.c.b, f), J(a, c, f, f.c, f.c, !1), f.b.i.c = !0, P(a, c));
        } else J(a, c, h.c, i, i, !0);
      }function R(a, b) {
        var c = new ma(),
            d = n(a.b);d.a.b = qa, d.a.a = b, d.b.a.b = -qa, d.b.a.a = b, a.a = d.b.a, c.a = d, c.f = 0, c.d = !1, c.c = !1, c.h = !0, c.b = !1, d = a.f, d = T(d, d.a, c), c.e = d;
      }function S(a) {
        this.a = new U(), this.b = a, this.c = B;
      }function T(a, b, c) {
        do {
          b = b.c;
        } while (null !== b.b && !a.c(a.b, b.b, c));return a = new U(c, b.a, b), b.a.c = a, b.a = a;
      }function U(a, b, c) {
        this.b = a || null, this.a = b || this, this.c = c || this;
      }function V() {
        this.d = ra, this.p = this.b = this.q = null, this.j = [0, 0, 0], this.s = 100130, this.n = !1, this.o = this.a = this.e = this.f = null, this.m = !1, this.c = this.r = this.i = this.k = this.l = this.h = null;
      }function W(a, b) {
        if (a.d !== b) for (; a.d !== b;) {
          if (a.d < b) switch (a.d) {case ra:
              X(a, 100151), a.u(null);break;case 1:
              X(a, 100152), a.t();} else switch (a.d) {case 2:
              X(a, 100154), a.v();break;case 1:
              X(a, 100153), a.w();}
        }
      }function X(a, b) {
        a.p && a.p(b, a.c);
      }function Y(a, b) {
        this.b = a || this, this.d = b || this, this.a = null, this.c = !1;
      }function Z() {
        this.h = this, this.i = this.d = this.a = this.e = this.c = this.b = null, this.f = 0;
      }function $(a) {
        return a.b.e;
      }function _() {
        this.c = new aa(), this.a = new Y(), this.b = new Z(), this.d = new Z(), this.b.b = this.d, this.d.b = this.b;
      }function aa(a, b) {
        this.e = a || this, this.f = b || this, this.d = this.c = null, this.g = [0, 0, 0], this.h = this.a = this.b = 0;
      }function ba() {
        this.c = [], this.d = null, this.a = 0, this.e = !1, this.b = new fa();
      }function ca(a) {
        a.d = [];for (var b = 0; b < a.a; b++) {
          a.d[b] = b;
        }a.d.sort(function (a) {
          return function (b, c) {
            return e(a[b], a[c]) ? 1 : -1;
          };
        }(a.c)), a.e = !0, ha(a.b);
      }function da(a, b) {
        if (a.e) {
          var c = a.b,
              d = ++c.a;2 * d > c.f && (c.f *= 2, c.c = ga(c.c, c.f + 1));var e;return 0 === c.b ? e = d : (e = c.b, c.b = c.c[c.b]), c.e[e] = b, c.c[e] = d, c.d[d] = e, c.h && la(c, d), e;
        }return c = a.a++, a.c[c] = b, -(c + 1);
      }function ea(a) {
        if (0 === a.a) return ja(a.b);var b = a.c[a.d[a.a - 1]];if (0 !== a.b.a && e(ia(a.b), b)) return ja(a.b);do {
          --a.a;
        } while (0 < a.a && null === a.c[a.d[a.a - 1]]);return b;
      }function fa() {
        this.d = ga([0], 33), this.e = [null, null], this.c = [0, 0], this.a = 0, this.f = 32, this.b = 0, this.h = !1, this.d[1] = 1;
      }function ga(a, b) {
        for (var c = Array(b), d = 0; d < a.length; d++) {
          c[d] = a[d];
        }for (; d < b; d++) {
          c[d] = 0;
        }return c;
      }function ha(a) {
        for (var b = a.a; 1 <= b; --b) {
          ka(a, b);
        }a.h = !0;
      }function ia(a) {
        return a.e[a.d[1]];
      }function ja(a) {
        var b = a.d,
            c = a.e,
            d = a.c,
            e = b[1],
            f = c[e];return 0 < a.a && (b[1] = b[a.a], d[b[1]] = 1, c[e] = null, d[e] = a.b, a.b = e, 0 < --a.a && ka(a, 1)), f;
      }function ka(a, b) {
        for (var c = a.d, d = a.e, f = a.c, g = b, h = c[g];;) {
          var i = g << 1;i < a.a && e(d[c[i + 1]], d[c[i]]) && (i += 1);var j = c[i];if (i > a.a || e(d[h], d[j])) {
            c[g] = h, f[h] = g;break;
          }c[g] = j, f[j] = g, g = i;
        }
      }function la(a, b) {
        for (var c = a.d, d = a.e, f = a.c, g = b, h = c[g];;) {
          var i = g >> 1,
              j = c[i];if (0 === i || e(d[j], d[h])) {
            c[g] = h, f[h] = g;break;
          }c[g] = j, f[j] = g, g = i;
        }
      }function ma() {
        this.e = this.a = null, this.f = 0, this.c = this.b = this.h = this.d = !1;
      }function na(a) {
        return a.e.c.b;
      }function oa(a) {
        return a.e.a.b;
      }var pa,
          qa = 4e150,
          ra = 0;pa = V.prototype, pa.x = function () {
        W(this, ra);
      }, pa.B = function (a, b) {
        switch (a) {case 100142:
            return;case 100140:
            switch (b) {case 100130:case 100131:case 100132:case 100133:case 100134:
                return void (this.s = b);}break;case 100141:
            return void (this.m = !!b);default:
            return void X(this, 100900);}X(this, 100901);
      }, pa.y = function (a) {
        switch (a) {case 100142:
            return 0;case 100140:
            return this.s;case 100141:
            return this.m;default:
            X(this, 100900);}return !1;
      }, pa.A = function (a, b, c) {
        this.j[0] = a, this.j[1] = b, this.j[2] = c;
      }, pa.z = function (a, b) {
        var c = b || null;switch (a) {case 100100:case 100106:
            this.h = c;break;case 100104:case 100110:
            this.l = c;break;case 100101:case 100107:
            this.k = c;break;case 100102:case 100108:
            this.i = c;break;case 100103:case 100109:
            this.p = c;break;case 100105:case 100111:
            this.o = c;break;case 100112:
            this.r = c;break;default:
            X(this, 100900);}
      }, pa.C = function (a, b) {
        var c = !1,
            d = [0, 0, 0];W(this, 2);for (var e = 0; 3 > e; ++e) {
          var f = a[e];-1e150 > f && (f = -1e150, c = !0), 1e150 < f && (f = 1e150, c = !0), d[e] = f;
        }c && X(this, 100155), c = this.q, null === c ? (c = n(this.b), o(c, c.b)) : (q(c), c = c.e), c.a.d = b, c.a.g[0] = d[0], c.a.g[1] = d[1], c.a.g[2] = d[2], c.f = 1, c.b.f = -1, this.q = c;
      }, pa.u = function (a) {
        W(this, ra), this.d = 1, this.b = new _(), this.c = a;
      }, pa.t = function () {
        W(this, 1), this.d = 2, this.q = null;
      }, pa.v = function () {
        W(this, 2), this.d = 1;
      }, pa.w = function () {
        W(this, 1), this.d = ra;var a = this.j[0],
            b = this.j[1],
            c = this.j[2],
            f = !1,
            h = [a, b, c];if (0 === a && 0 === b && 0 === c) {
          for (var b = [-2e150, -2e150, -2e150], i = [2e150, 2e150, 2e150], c = [], j = [], f = this.b.c, a = f.e; a !== f; a = a.e) {
            for (var m = 0; 3 > m; ++m) {
              var n = a.g[m];n < i[m] && (i[m] = n, j[m] = a), n > b[m] && (b[m] = n, c[m] = a);
            }
          }if (a = 0, b[1] - i[1] > b[0] - i[0] && (a = 1), b[2] - i[2] > b[a] - i[a] && (a = 2), i[a] >= b[a]) h[0] = 0, h[1] = 0, h[2] = 1;else {
            for (b = 0, i = j[a], c = c[a], j = [0, 0, 0], i = [i.g[0] - c.g[0], i.g[1] - c.g[1], i.g[2] - c.g[2]], m = [0, 0, 0], a = f.e; a !== f; a = a.e) {
              m[0] = a.g[0] - c.g[0], m[1] = a.g[1] - c.g[1], m[2] = a.g[2] - c.g[2], j[0] = i[1] * m[2] - i[2] * m[1], j[1] = i[2] * m[0] - i[0] * m[2], j[2] = i[0] * m[1] - i[1] * m[0], (n = j[0] * j[0] + j[1] * j[1] + j[2] * j[2]) > b && (b = n, h[0] = j[0], h[1] = j[1], h[2] = j[2]);
            }0 >= b && (h[0] = h[1] = h[2] = 0, h[z(i)] = 1);
          }f = !0;
        }for (j = z(h), a = this.b.c, b = (j + 1) % 3, c = (j + 2) % 3, j = 0 < h[j] ? 1 : -1, h = a.e; h !== a; h = h.e) {
          h.b = h.g[b], h.a = j * h.g[c];
        }if (f) {
          for (h = 0, f = this.b.a, a = f.b; a !== f; a = a.b) {
            if (b = a.a, !(0 >= b.f)) do {
              h += (b.a.b - b.b.a.b) * (b.a.a + b.b.a.a), b = b.e;
            } while (b !== a.a);
          }if (0 > h) for (h = this.b.c, f = h.e; f !== h; f = f.e) {
            f.a = -f.a;
          }
        }for (this.n = !1, h = this.b.b, a = h.h; a !== h; a = f) {
          f = a.h, b = a.e, d(a.a, a.b.a) && a.e.e !== a && (L(this, b, a), p(a), a = b, b = a.e), b.e === a && (b !== a && (b !== f && b !== f.b || (f = f.h), p(b)), a !== f && a !== f.b || (f = f.h), p(a));
        }for (this.e = h = new ba(), f = this.b.c, a = f.e; a !== f; a = a.e) {
          a.h = da(h, a);
        }for (ca(h), this.f = new S(this), R(this, -qa), R(this, qa); null !== (h = ea(this.e));) {
          for (;;) {
            a: if (a = this.e, 0 === a.a) f = ia(a.b);else if (f = a.c[a.d[a.a - 1]], 0 !== a.b.a && (a = ia(a.b), e(a, f))) {
              f = a;break a;
            }if (null === f || !d(f, h)) break;f = ea(this.e), L(this, h.c, f.c);
          }Q(this, h);
        }for (this.a = this.f.a.a.b.a.a, h = 0; null !== (f = this.f.a.a.b);) {
          f.h || ++h, C(f);
        }for (this.f = null, h = this.e, h.b = null, h.d = null, this.e = h.c = null, h = this.b, a = h.a.b; a !== h.a; a = f) {
          f = a.b, a = a.a, a.e.e === a && (A(a.c, a), p(a));
        }if (!this.n) {
          if (h = this.b, this.m) for (a = h.b.h; a !== h.b; a = f) {
            f = a.h, a.b.d.c !== a.d.c ? a.f = a.d.c ? 1 : -1 : p(a);
          } else for (a = h.a.b; a !== h.a; a = f) {
            if (f = a.b, a.c) {
              for (a = a.a; e(a.b.a, a.a); a = a.c.b) {}for (; e(a.a, a.b.a); a = a.e) {}for (b = a.c.b, c = void 0; a.e !== b;) {
                if (e(a.b.a, b.a)) {
                  for (; b.e !== a && (k(b.e) || 0 >= g(b.a, b.b.a, b.e.b.a));) {
                    c = r(b.e, b), b = c.b;
                  }b = b.c.b;
                } else {
                  for (; b.e !== a && (l(a.c.b) || 0 <= g(a.b.a, a.a, a.c.b.a));) {
                    c = r(a, a.c.b), a = c.b;
                  }a = a.e;
                }
              }for (; b.e.e !== a;) {
                c = r(b.e, b), b = c.b;
              }
            }
          }if (this.h || this.i || this.k || this.l) if (this.m) {
            for (h = this.b, f = h.a.b; f !== h.a; f = f.b) {
              if (f.c) {
                this.h && this.h(2, this.c), a = f.a;do {
                  this.k && this.k(a.a.d, this.c), a = a.e;
                } while (a !== f.a);this.i && this.i(this.c);
              }
            }
          } else {
            for (h = this.b, f = !!this.l, a = !1, b = -1, c = h.a.d; c !== h.a; c = c.d) {
              if (c.c) {
                a || (this.h && this.h(4, this.c), a = !0), j = c.a;do {
                  f && (i = j.b.d.c ? 0 : 1, b !== i && (b = i, this.l && this.l(!!b, this.c))), this.k && this.k(j.a.d, this.c), j = j.e;
                } while (j !== c.a);
              }
            }a && this.i && this.i(this.c);
          }if (this.r) {
            for (h = this.b, a = h.a.b; a !== h.a; a = f) {
              if (f = a.b, !a.c) {
                b = a.a, c = b.e, j = void 0;do {
                  j = c, c = j.e, j.d = null, null === j.b.d && (j.c === j ? x(j.a, null) : (j.a.c = j.c, t(j, $(j))), i = j.b, i.c === i ? x(i.a, null) : (i.a.c = i.c, t(i, $(i))), w(j));
                } while (j !== b);b = a.d, a = a.b, a.d = b, b.b = a;
              }
            }return this.r(this.b), void (this.c = this.b = null);
          }
        }this.b = this.c = null;
      }, this.libtess = { GluTesselator: V, windingRule: { GLU_TESS_WINDING_ODD: 100130, GLU_TESS_WINDING_NONZERO: 100131, GLU_TESS_WINDING_POSITIVE: 100132, GLU_TESS_WINDING_NEGATIVE: 100133, GLU_TESS_WINDING_ABS_GEQ_TWO: 100134 }, primitiveType: { GL_LINE_LOOP: 2, GL_TRIANGLES: 4, GL_TRIANGLE_STRIP: 5, GL_TRIANGLE_FAN: 6 }, errorType: { GLU_TESS_MISSING_BEGIN_POLYGON: 100151, GLU_TESS_MISSING_END_POLYGON: 100153, GLU_TESS_MISSING_BEGIN_CONTOUR: 100152, GLU_TESS_MISSING_END_CONTOUR: 100154, GLU_TESS_COORD_TOO_LARGE: 100155, GLU_TESS_NEED_COMBINE_CALLBACK: 100156 }, gluEnum: { GLU_TESS_MESH: 100112, GLU_TESS_TOLERANCE: 100142, GLU_TESS_WINDING_RULE: 100140, GLU_TESS_BOUNDARY_ONLY: 100141, GLU_INVALID_ENUM: 100900, GLU_INVALID_VALUE: 100901, GLU_TESS_BEGIN: 100100, GLU_TESS_VERTEX: 100101, GLU_TESS_END: 100102, GLU_TESS_ERROR: 100103, GLU_TESS_EDGE_FLAG: 100104, GLU_TESS_COMBINE: 100105, GLU_TESS_BEGIN_DATA: 100106, GLU_TESS_VERTEX_DATA: 100107, GLU_TESS_END_DATA: 100108, GLU_TESS_ERROR_DATA: 100109, GLU_TESS_EDGE_FLAG_DATA: 100110, GLU_TESS_COMBINE_DATA: 100111 } }, V.prototype.gluDeleteTess = V.prototype.x, V.prototype.gluTessProperty = V.prototype.B, V.prototype.gluGetTessProperty = V.prototype.y, V.prototype.gluTessNormal = V.prototype.A, V.prototype.gluTessCallback = V.prototype.z, V.prototype.gluTessVertex = V.prototype.C, V.prototype.gluTessBeginPolygon = V.prototype.u, V.prototype.gluTessBeginContour = V.prototype.t, V.prototype.gluTessEndContour = V.prototype.v, V.prototype.gluTessEndPolygon = V.prototype.w, void 0 !== b && (b.exports = this.libtess);
    }, {}], 10: [function (b, c, d) {
      (function (e) {
        !function (b, e) {
          "object" == (typeof d === "undefined" ? "undefined" : _typeof(d)) && void 0 !== c ? e(d) : "function" == typeof a && a.amd ? a(["exports"], e) : e(b.opentype = {});
        }(this, function (a) {
          "use strict";
          function c() {
            this.table = new Uint16Array(16), this.trans = new Uint16Array(288);
          }function d(a, b) {
            this.source = a, this.sourceIndex = 0, this.tag = 0, this.bitcount = 0, this.dest = b, this.destLen = 0, this.ltree = new c(), this.dtree = new c();
          }function f(a, b, c, d) {
            var e, f;for (e = 0; e < c; ++e) {
              a[e] = 0;
            }for (e = 0; e < 30 - c; ++e) {
              a[e + c] = e / c | 0;
            }for (f = d, e = 0; e < 30; ++e) {
              b[e] = f, f += 1 << a[e];
            }
          }function g(a, b) {
            var c;for (c = 0; c < 7; ++c) {
              a.table[c] = 0;
            }for (a.table[7] = 24, a.table[8] = 152, a.table[9] = 112, c = 0; c < 24; ++c) {
              a.trans[c] = 256 + c;
            }for (c = 0; c < 144; ++c) {
              a.trans[24 + c] = c;
            }for (c = 0; c < 8; ++c) {
              a.trans[168 + c] = 280 + c;
            }for (c = 0; c < 112; ++c) {
              a.trans[176 + c] = 144 + c;
            }for (c = 0; c < 5; ++c) {
              b.table[c] = 0;
            }for (b.table[5] = 32, c = 0; c < 32; ++c) {
              b.trans[c] = c;
            }
          }function h(a, b, c, d) {
            var e, f;for (e = 0; e < 16; ++e) {
              a.table[e] = 0;
            }for (e = 0; e < d; ++e) {
              a.table[b[c + e]]++;
            }for (a.table[0] = 0, f = 0, e = 0; e < 16; ++e) {
              ve[e] = f, f += a.table[e];
            }for (e = 0; e < d; ++e) {
              b[c + e] && (a.trans[ve[b[c + e]]++] = e);
            }
          }function i(a) {
            a.bitcount-- || (a.tag = a.source[a.sourceIndex++], a.bitcount = 7);var b = 1 & a.tag;return a.tag >>>= 1, b;
          }function j(a, b, c) {
            if (!b) return c;for (; a.bitcount < 24;) {
              a.tag |= a.source[a.sourceIndex++] << a.bitcount, a.bitcount += 8;
            }var d = a.tag & 65535 >>> 16 - b;return a.tag >>>= b, a.bitcount -= b, d + c;
          }function k(a, b) {
            for (; a.bitcount < 24;) {
              a.tag |= a.source[a.sourceIndex++] << a.bitcount, a.bitcount += 8;
            }var c = 0,
                d = 0,
                e = 0,
                f = a.tag;do {
              d = 2 * d + (1 & f), f >>>= 1, ++e, c += b.table[e], d -= b.table[e];
            } while (d >= 0);return a.tag = f, a.bitcount -= e, b.trans[c + d];
          }function l(a, b, c) {
            var d, e, f, g, i, l;for (d = j(a, 5, 257), e = j(a, 5, 1), f = j(a, 4, 4), g = 0; g < 19; ++g) {
              ue[g] = 0;
            }for (g = 0; g < f; ++g) {
              var m = j(a, 3, 0);ue[se[g]] = m;
            }for (h(te, ue, 0, 19), i = 0; i < d + e;) {
              var n = k(a, te);switch (n) {case 16:
                  var o = ue[i - 1];for (l = j(a, 2, 3); l; --l) {
                    ue[i++] = o;
                  }break;case 17:
                  for (l = j(a, 3, 3); l; --l) {
                    ue[i++] = 0;
                  }break;case 18:
                  for (l = j(a, 7, 11); l; --l) {
                    ue[i++] = 0;
                  }break;default:
                  ue[i++] = n;}
            }h(b, ue, 0, d), h(c, ue, d, e);
          }function m(a, b, c) {
            for (;;) {
              var d = k(a, b);if (256 === d) return ke;if (d < 256) a.dest[a.destLen++] = d;else {
                var e, f, g, h;for (d -= 257, e = j(a, oe[d], pe[d]), f = k(a, c), g = a.destLen - j(a, qe[f], re[f]), h = g; h < g + e; ++h) {
                  a.dest[a.destLen++] = a.dest[h];
                }
              }
            }
          }function n(a) {
            for (var b, c, d; a.bitcount > 8;) {
              a.sourceIndex--, a.bitcount -= 8;
            }if (b = a.source[a.sourceIndex + 1], b = 256 * b + a.source[a.sourceIndex], c = a.source[a.sourceIndex + 3], c = 256 * c + a.source[a.sourceIndex + 2], b !== (65535 & ~c)) return le;for (a.sourceIndex += 4, d = b; d; --d) {
              a.dest[a.destLen++] = a.source[a.sourceIndex++];
            }return a.bitcount = 0, ke;
          }function o(a, b) {
            var c,
                e,
                f = new d(a, b);do {
              switch (c = i(f), j(f, 2, 0)) {case 0:
                  e = n(f);break;case 1:
                  e = m(f, me, ne);break;case 2:
                  l(f, f.ltree, f.dtree), e = m(f, f.ltree, f.dtree);break;default:
                  e = le;}if (e !== ke) throw new Error("Data error");
            } while (!c);return f.destLen < f.dest.length ? "function" == typeof f.dest.slice ? f.dest.slice(0, f.destLen) : f.dest.subarray(0, f.destLen) : f.dest;
          }function p(a, b, c, d, e) {
            return Math.pow(1 - e, 3) * a + 3 * Math.pow(1 - e, 2) * e * b + 3 * (1 - e) * Math.pow(e, 2) * c + Math.pow(e, 3) * d;
          }function q() {
            this.x1 = Number.NaN, this.y1 = Number.NaN, this.x2 = Number.NaN, this.y2 = Number.NaN;
          }function r() {
            this.commands = [], this.fill = "black", this.stroke = null, this.strokeWidth = 1;
          }function s(a) {
            throw new Error(a);
          }function t(a, b) {
            a || s(b);
          }function u(a) {
            return function () {
              return a;
            };
          }function v(a) {
            return a >= -128 && a <= 127;
          }function w(a, b, c) {
            for (var d = 0, e = a.length; b < e && d < 64 && 0 === a[b];) {
              ++b, ++d;
            }return c.push(128 | d - 1), b;
          }function x(a, b, c) {
            for (var d = 0, e = a.length, f = b; f < e && d < 64;) {
              var g = a[f];if (!v(g)) break;if (0 === g && f + 1 < e && 0 === a[f + 1]) break;++f, ++d;
            }c.push(d - 1);for (var h = b; h < f; ++h) {
              c.push(a[h] + 256 & 255);
            }return f;
          }function y(a, b, c) {
            for (var d = 0, e = a.length, f = b; f < e && d < 64;) {
              var g = a[f];if (0 === g) break;if (v(g) && f + 1 < e && v(a[f + 1])) break;++f, ++d;
            }c.push(64 | d - 1);for (var h = b; h < f; ++h) {
              var i = a[h];c.push(i + 65536 >> 8 & 255, i + 256 & 255);
            }return f;
          }function z(a, b, c) {
            for (var d = this, e = 0; e < b.length; e += 1) {
              var f = b[e];d[f.name] = f.value;
            }if (this.tableName = a, this.fields = b, c) for (var g = Object.keys(c), h = 0; h < g.length; h += 1) {
              var i = g[h],
                  j = c[i];void 0 !== d[i] && (d[i] = j);
            }
          }function A(a, b, c) {
            void 0 === c && (c = b.length);var d = new Array(b.length + 1);d[0] = { name: a + "Count", type: "USHORT", value: c };for (var e = 0; e < b.length; e++) {
              d[e + 1] = { name: a + e, type: "USHORT", value: b[e] };
            }return d;
          }function B(a, b, c) {
            var d = b.length,
                e = new Array(d + 1);e[0] = { name: a + "Count", type: "USHORT", value: d };for (var f = 0; f < d; f++) {
              e[f + 1] = { name: a + f, type: "TABLE", value: c(b[f], f) };
            }return e;
          }function C(a, b, c) {
            var d = b.length,
                e = [];e[0] = { name: a + "Count", type: "USHORT", value: d };for (var f = 0; f < d; f++) {
              e = e.concat(c(b[f], f));
            }return e;
          }function D(a) {
            1 === a.format ? z.call(this, "coverageTable", [{ name: "coverageFormat", type: "USHORT", value: 1 }].concat(A("glyph", a.glyphs))) : xe.assert(!1, "Can't create coverage table format 2 yet.");
          }function E(a) {
            z.call(this, "scriptListTable", C("scriptRecord", a, function (a, b) {
              var c = a.script,
                  d = c.defaultLangSys;return xe.assert(!!d, "Unable to write GSUB: script " + a.tag + " has no default language system."), [{ name: "scriptTag" + b, type: "TAG", value: a.tag }, { name: "script" + b, type: "TABLE", value: new z("scriptTable", [{ name: "defaultLangSys", type: "TABLE", value: new z("defaultLangSys", [{ name: "lookupOrder", type: "USHORT", value: 0 }, { name: "reqFeatureIndex", type: "USHORT", value: d.reqFeatureIndex }].concat(A("featureIndex", d.featureIndexes))) }].concat(C("langSys", c.langSysRecords, function (a, b) {
                  var c = a.langSys;return [{ name: "langSysTag" + b, type: "TAG", value: a.tag }, { name: "langSys" + b, type: "TABLE", value: new z("langSys", [{ name: "lookupOrder", type: "USHORT", value: 0 }, { name: "reqFeatureIndex", type: "USHORT", value: c.reqFeatureIndex }].concat(A("featureIndex", c.featureIndexes))) }];
                }))) }];
            }));
          }function F(a) {
            z.call(this, "featureListTable", C("featureRecord", a, function (a, b) {
              var c = a.feature;return [{ name: "featureTag" + b, type: "TAG", value: a.tag }, { name: "feature" + b, type: "TABLE", value: new z("featureTable", [{ name: "featureParams", type: "USHORT", value: c.featureParams }].concat(A("lookupListIndex", c.lookupListIndexes))) }];
            }));
          }function G(a, b) {
            z.call(this, "lookupListTable", B("lookup", a, function (a) {
              var c = b[a.lookupType];return xe.assert(!!c, "Unable to write GSUB lookup type " + a.lookupType + " tables."), new z("lookupTable", [{ name: "lookupType", type: "USHORT", value: a.lookupType }, { name: "lookupFlag", type: "USHORT", value: a.lookupFlag }].concat(B("subtable", a.subtables, c)));
            }));
          }function H(a, b) {
            return a.getUint8(b);
          }function I(a, b) {
            return a.getUint16(b, !1);
          }function J(a, b) {
            return a.getInt16(b, !1);
          }function K(a, b) {
            return a.getUint32(b, !1);
          }function L(a, b) {
            return a.getInt16(b, !1) + a.getUint16(b + 2, !1) / 65535;
          }function M(a, b) {
            for (var c = "", d = b; d < b + 4; d += 1) {
              c += String.fromCharCode(a.getInt8(d));
            }return c;
          }function N(a, b, c) {
            for (var d = 0, e = 0; e < c; e += 1) {
              d <<= 8, d += a.getUint8(b + e);
            }return d;
          }function O(a, b, c) {
            for (var d = [], e = b; e < c; e += 1) {
              d.push(a.getUint8(e));
            }return d;
          }function P(a) {
            for (var b = "", c = 0; c < a.length; c += 1) {
              b += String.fromCharCode(a[c]);
            }return b;
          }function Q(a, b) {
            this.data = a, this.offset = b, this.relativeOffset = 0;
          }function R(a, b) {
            b.parseUShort(), a.length = b.parseULong(), a.language = b.parseULong();var c;a.groupCount = c = b.parseULong(), a.glyphIndexMap = {};for (var d = 0; d < c; d += 1) {
              for (var e = b.parseULong(), f = b.parseULong(), g = b.parseULong(), h = e; h <= f; h += 1) {
                a.glyphIndexMap[h] = g, g++;
              }
            }
          }function S(a, b, c, d, e) {
            a.length = b.parseUShort(), a.language = b.parseUShort();var f;a.segCount = f = b.parseUShort() >> 1, b.skip("uShort", 3), a.glyphIndexMap = {};for (var g = new Le.Parser(c, d + e + 14), h = new Le.Parser(c, d + e + 16 + 2 * f), i = new Le.Parser(c, d + e + 16 + 4 * f), j = new Le.Parser(c, d + e + 16 + 6 * f), k = d + e + 16 + 8 * f, l = 0; l < f - 1; l += 1) {
              for (var m = void 0, n = g.parseUShort(), o = h.parseUShort(), p = i.parseShort(), q = j.parseUShort(), r = o; r <= n; r += 1) {
                0 !== q ? (k = j.offset + j.relativeOffset - 2, k += q, k += 2 * (r - o), 0 !== (m = Le.getUShort(c, k)) && (m = m + p & 65535)) : m = r + p & 65535, a.glyphIndexMap[r] = m;
              }
            }
          }function T(a, b) {
            var c = {};c.version = Le.getUShort(a, b), xe.argument(0 === c.version, "cmap table version should be 0."), c.numTables = Le.getUShort(a, b + 2);for (var d = -1, e = c.numTables - 1; e >= 0; e -= 1) {
              var f = Le.getUShort(a, b + 4 + 8 * e),
                  g = Le.getUShort(a, b + 4 + 8 * e + 2);if (3 === f && (0 === g || 1 === g || 10 === g) || 0 === f && (0 === g || 1 === g || 2 === g || 3 === g || 4 === g)) {
                d = Le.getULong(a, b + 4 + 8 * e + 4);break;
              }
            }if (-1 === d) throw new Error("No valid cmap sub-tables found.");var h = new Le.Parser(a, b + d);if (c.format = h.parseUShort(), 12 === c.format) R(c, h);else {
              if (4 !== c.format) throw new Error("Only format 4 and 12 cmap tables are supported (found format " + c.format + ").");S(c, h, a, b, d);
            }return c;
          }function U(a, b, c) {
            a.segments.push({ end: b, start: b, delta: -(b - c), offset: 0, glyphIndex: c });
          }function V(a) {
            a.segments.push({ end: 65535, start: 65535, delta: 1, offset: 0 });
          }function W(a) {
            var b,
                c = !0;for (b = a.length - 1; b > 0; b -= 1) {
              if (a.get(b).unicode > 65535) {
                console.log("Adding CMAP format 12 (needed!)"), c = !1;break;
              }
            }var d = [{ name: "version", type: "USHORT", value: 0 }, { name: "numTables", type: "USHORT", value: c ? 1 : 2 }, { name: "platformID", type: "USHORT", value: 3 }, { name: "encodingID", type: "USHORT", value: 1 }, { name: "offset", type: "ULONG", value: c ? 12 : 20 }];c || (d = d.concat([{ name: "cmap12PlatformID", type: "USHORT", value: 3 }, { name: "cmap12EncodingID", type: "USHORT", value: 10 }, { name: "cmap12Offset", type: "ULONG", value: 0 }])), d = d.concat([{ name: "format", type: "USHORT", value: 4 }, { name: "cmap4Length", type: "USHORT", value: 0 }, { name: "language", type: "USHORT", value: 0 }, { name: "segCountX2", type: "USHORT", value: 0 }, { name: "searchRange", type: "USHORT", value: 0 }, { name: "entrySelector", type: "USHORT", value: 0 }, { name: "rangeShift", type: "USHORT", value: 0 }]);var e = new Ie.Table("cmap", d);for (e.segments = [], b = 0; b < a.length; b += 1) {
              for (var f = a.get(b), g = 0; g < f.unicodes.length; g += 1) {
                U(e, f.unicodes[g], b);
              }e.segments = e.segments.sort(function (a, b) {
                return a.start - b.start;
              });
            }V(e);var h = e.segments.length,
                i = 0,
                j = [],
                k = [],
                l = [],
                m = [],
                n = [],
                o = [];for (b = 0; b < h; b += 1) {
              var p = e.segments[b];p.end <= 65535 && p.start <= 65535 ? (j = j.concat({ name: "end_" + b, type: "USHORT", value: p.end }), k = k.concat({ name: "start_" + b, type: "USHORT", value: p.start }), l = l.concat({ name: "idDelta_" + b, type: "SHORT", value: p.delta }), m = m.concat({ name: "idRangeOffset_" + b, type: "USHORT", value: p.offset }), void 0 !== p.glyphId && (n = n.concat({ name: "glyph_" + b, type: "USHORT", value: p.glyphId }))) : i += 1, c || void 0 === p.glyphIndex || (o = o.concat({ name: "cmap12Start_" + b, type: "ULONG", value: p.start }), o = o.concat({ name: "cmap12End_" + b, type: "ULONG", value: p.end }), o = o.concat({ name: "cmap12Glyph_" + b, type: "ULONG", value: p.glyphIndex }));
            }if (e.segCountX2 = 2 * (h - i), e.searchRange = 2 * Math.pow(2, Math.floor(Math.log(h - i) / Math.log(2))), e.entrySelector = Math.log(e.searchRange / 2) / Math.log(2), e.rangeShift = e.segCountX2 - e.searchRange, e.fields = e.fields.concat(j), e.fields.push({ name: "reservedPad", type: "USHORT", value: 0 }), e.fields = e.fields.concat(k), e.fields = e.fields.concat(l), e.fields = e.fields.concat(m), e.fields = e.fields.concat(n), e.cmap4Length = 14 + 2 * j.length + 2 + 2 * k.length + 2 * l.length + 2 * m.length + 2 * n.length, !c) {
              var q = 16 + 4 * o.length;e.cmap12Offset = 20 + e.cmap4Length, e.fields = e.fields.concat([{ name: "cmap12Format", type: "USHORT", value: 12 }, { name: "cmap12Reserved", type: "USHORT", value: 0 }, { name: "cmap12Length", type: "ULONG", value: q }, { name: "cmap12Language", type: "ULONG", value: 0 }, { name: "cmap12nGroups", type: "ULONG", value: o.length / 3 }]), e.fields = e.fields.concat(o);
            }return e;
          }function X(a) {
            this.font = a;
          }function Y(a) {
            this.cmap = a;
          }function Z(a, b) {
            this.encoding = a, this.charset = b;
          }function $(a) {
            var b = this;switch (a.version) {case 1:
                this.names = Qe.slice();break;case 2:
                this.names = new Array(a.numberOfGlyphs);for (var c = 0; c < a.numberOfGlyphs; c++) {
                  a.glyphNameIndex[c] < Qe.length ? b.names[c] = Qe[a.glyphNameIndex[c]] : b.names[c] = a.names[a.glyphNameIndex[c] - Qe.length];
                }break;case 2.5:
                this.names = new Array(a.numberOfGlyphs);for (var d = 0; d < a.numberOfGlyphs; d++) {
                  b.names[d] = Qe[d + a.glyphNameIndex[d]];
                }break;case 3:default:
                this.names = [];}
          }function _(a) {
            for (var b, c = a.tables.cmap.glyphIndexMap, d = Object.keys(c), e = 0; e < d.length; e += 1) {
              var f = d[e],
                  g = c[f];b = a.glyphs.get(g), b.addUnicode(parseInt(f));
            }for (var h = 0; h < a.glyphs.length; h += 1) {
              b = a.glyphs.get(h), a.cffEncoding ? a.isCIDFont ? b.name = "gid" + h : b.name = a.cffEncoding.charset[h] : a.glyphNames.names && (b.name = a.glyphNames.glyphIndexToName(h));
            }
          }function aa(a, b, c, d, e) {
            a.beginPath(), a.moveTo(b, c), a.lineTo(d, e), a.stroke();
          }function ba(a, b) {
            var c = b || new r();return { configurable: !0, get: function get() {
                return "function" == typeof c && (c = c()), c;
              }, set: function set(a) {
                c = a;
              } };
          }function ca(a) {
            this.bindConstructorValues(a);
          }function da(a, b, c) {
            Object.defineProperty(a, b, { get: function get() {
                return a.path, a[c];
              }, set: function set(b) {
                a[c] = b;
              }, enumerable: !0, configurable: !0 });
          }function ea(a, b) {
            var c = this;if (this.font = a, this.glyphs = {}, Array.isArray(b)) for (var d = 0; d < b.length; d++) {
              c.glyphs[d] = b[d];
            }this.length = b && b.length || 0;
          }function fa(a, b) {
            return new ca({ index: b, font: a });
          }function ga(a, b, c, d, e, f) {
            return function () {
              var g = new ca({ index: b, font: a });return g.path = function () {
                c(g, d, e);var b = f(a.glyphs, g);return b.unitsPerEm = a.unitsPerEm, b;
              }, da(g, "xMin", "_xMin"), da(g, "xMax", "_xMax"), da(g, "yMin", "_yMin"), da(g, "yMax", "_yMax"), g;
            };
          }function ha(a, b, c, d) {
            return function () {
              var e = new ca({ index: b, font: a });return e.path = function () {
                var b = c(a, e, d);return b.unitsPerEm = a.unitsPerEm, b;
              }, e;
            };
          }function ia(a, b) {
            if (a === b) return !0;if (Array.isArray(a) && Array.isArray(b)) {
              if (a.length !== b.length) return !1;for (var c = 0; c < a.length; c += 1) {
                if (!ia(a[c], b[c])) return !1;
              }return !0;
            }return !1;
          }function ja(a) {
            return a.length < 1240 ? 107 : a.length < 33900 ? 1131 : 32768;
          }function ka(a, b, c) {
            var d,
                e,
                f = [],
                g = [],
                h = Le.getCard16(a, b);if (0 !== h) {
              var i = Le.getByte(a, b + 2);d = b + (h + 1) * i + 2;for (var j = b + 3, k = 0; k < h + 1; k += 1) {
                f.push(Le.getOffset(a, j, i)), j += i;
              }e = d + f[h];
            } else e = b + 2;for (var l = 0; l < f.length - 1; l += 1) {
              var m = Le.getBytes(a, d + f[l], d + f[l + 1]);c && (m = c(m)), g.push(m);
            }return { objects: g, startOffset: b, endOffset: e };
          }function la(a) {
            for (var b = "", c = 15, d = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", ".", "E", "E-", null, "-"];;) {
              var e = a.parseByte(),
                  f = e >> 4,
                  g = 15 & e;if (f === c) break;if (b += d[f], g === c) break;b += d[g];
            }return parseFloat(b);
          }function ma(a, b) {
            var c, d, e, f;if (28 === b) return c = a.parseByte(), d = a.parseByte(), c << 8 | d;if (29 === b) return c = a.parseByte(), d = a.parseByte(), e = a.parseByte(), f = a.parseByte(), c << 24 | d << 16 | e << 8 | f;if (30 === b) return la(a);if (b >= 32 && b <= 246) return b - 139;if (b >= 247 && b <= 250) return c = a.parseByte(), 256 * (b - 247) + c + 108;if (b >= 251 && b <= 254) return c = a.parseByte(), 256 * -(b - 251) - c - 108;throw new Error("Invalid b0 " + b);
          }function na(a) {
            for (var b = {}, c = 0; c < a.length; c += 1) {
              var d = a[c][0],
                  e = a[c][1],
                  f = void 0;if (f = 1 === e.length ? e[0] : e, b.hasOwnProperty(d) && !isNaN(b[d])) throw new Error("Object " + b + " already has key " + d);b[d] = f;
            }return b;
          }function oa(a, b, c) {
            b = void 0 !== b ? b : 0;var d = new Le.Parser(a, b),
                e = [],
                f = [];for (c = void 0 !== c ? c : a.length; d.relativeOffset < c;) {
              var g = d.parseByte();g <= 21 ? (12 === g && (g = 1200 + d.parseByte()), e.push([g, f]), f = []) : f.push(ma(d, g));
            }return na(e);
          }function pa(a, b) {
            return b = b <= 390 ? Ne[b] : a[b - 391];
          }function qa(a, b, c) {
            for (var d, e = {}, f = 0; f < b.length; f += 1) {
              var g = b[f];if (Array.isArray(g.type)) {
                var h = [];h.length = g.type.length;for (var i = 0; i < g.type.length; i++) {
                  d = void 0 !== a[g.op] ? a[g.op][i] : void 0, void 0 === d && (d = void 0 !== g.value && void 0 !== g.value[i] ? g.value[i] : null), "SID" === g.type[i] && (d = pa(c, d)), h[i] = d;
                }e[g.name] = h;
              } else d = a[g.op], void 0 === d && (d = void 0 !== g.value ? g.value : null), "SID" === g.type && (d = pa(c, d)), e[g.name] = d;
            }return e;
          }function ra(a, b) {
            var c = {};return c.formatMajor = Le.getCard8(a, b), c.formatMinor = Le.getCard8(a, b + 1), c.size = Le.getCard8(a, b + 2), c.offsetSize = Le.getCard8(a, b + 3), c.startOffset = b, c.endOffset = b + 4, c;
          }function sa(a, b) {
            return qa(oa(a, 0, a.byteLength), Te, b);
          }function ta(a, b, c, d) {
            return qa(oa(a, b, c), Ue, d);
          }function ua(a, b, c, d) {
            for (var e = [], f = 0; f < c.length; f += 1) {
              var g = new DataView(new Uint8Array(c[f]).buffer),
                  h = sa(g, d);h._subrs = [], h._subrsBias = 0;var i = h.private[0],
                  j = h.private[1];if (0 !== i && 0 !== j) {
                var k = ta(a, j + b, i, d);if (h._defaultWidthX = k.defaultWidthX, h._nominalWidthX = k.nominalWidthX, 0 !== k.subrs) {
                  var l = j + k.subrs,
                      m = ka(a, l + b);h._subrs = m.objects, h._subrsBias = ja(h._subrs);
                }h._privateDict = k;
              }e.push(h);
            }return e;
          }function va(a, b, c, d) {
            var e,
                f,
                g = new Le.Parser(a, b);c -= 1;var h = [".notdef"],
                i = g.parseCard8();if (0 === i) for (var j = 0; j < c; j += 1) {
              e = g.parseSID(), h.push(pa(d, e));
            } else if (1 === i) for (; h.length <= c;) {
              e = g.parseSID(), f = g.parseCard8();for (var k = 0; k <= f; k += 1) {
                h.push(pa(d, e)), e += 1;
              }
            } else {
              if (2 !== i) throw new Error("Unknown charset format " + i);for (; h.length <= c;) {
                e = g.parseSID(), f = g.parseCard16();for (var l = 0; l <= f; l += 1) {
                  h.push(pa(d, e)), e += 1;
                }
              }
            }return h;
          }function wa(a, b, c) {
            var d,
                e = {},
                f = new Le.Parser(a, b),
                g = f.parseCard8();if (0 === g) for (var h = f.parseCard8(), i = 0; i < h; i += 1) {
              d = f.parseCard8(), e[d] = i;
            } else {
              if (1 !== g) throw new Error("Unknown encoding format " + g);var j = f.parseCard8();d = 1;for (var k = 0; k < j; k += 1) {
                for (var l = f.parseCard8(), m = f.parseCard8(), n = l; n <= l + m; n += 1) {
                  e[n] = d, d += 1;
                }
              }
            }return new Z(e, c);
          }function xa(a, b, c) {
            function d(a, b) {
              t && o.closePath(), o.moveTo(a, b), t = !0;
            }function e() {
              var a;a = p.length % 2 != 0, a && !s && (y = p.shift() + n), q += p.length >> 1, p.length = 0, s = !0;
            }function f(c) {
              for (var m, r, w, x, z, A, B, C, D, E, F, G, H = 0; H < c.length;) {
                var I = c[H];switch (H += 1, I) {case 1:case 3:
                    e();break;case 4:
                    p.length > 1 && !s && (y = p.shift() + n, s = !0), v += p.pop(), d(u, v);break;case 5:
                    for (; p.length > 0;) {
                      u += p.shift(), v += p.shift(), o.lineTo(u, v);
                    }break;case 6:
                    for (; p.length > 0 && (u += p.shift(), o.lineTo(u, v), 0 !== p.length);) {
                      v += p.shift(), o.lineTo(u, v);
                    }break;case 7:
                    for (; p.length > 0 && (v += p.shift(), o.lineTo(u, v), 0 !== p.length);) {
                      u += p.shift(), o.lineTo(u, v);
                    }break;case 8:
                    for (; p.length > 0;) {
                      g = u + p.shift(), h = v + p.shift(), i = g + p.shift(), j = h + p.shift(), u = i + p.shift(), v = j + p.shift(), o.curveTo(g, h, i, j, u, v);
                    }break;case 10:
                    z = p.pop() + l, A = k[z], A && f(A);break;case 11:
                    return;case 12:
                    switch (I = c[H], H += 1, I) {case 35:
                        g = u + p.shift(), h = v + p.shift(), i = g + p.shift(), j = h + p.shift(), B = i + p.shift(), C = j + p.shift(), D = B + p.shift(), E = C + p.shift(), F = D + p.shift(), G = E + p.shift(), u = F + p.shift(), v = G + p.shift(), p.shift(), o.curveTo(g, h, i, j, B, C), o.curveTo(D, E, F, G, u, v);break;case 34:
                        g = u + p.shift(), h = v, i = g + p.shift(), j = h + p.shift(), B = i + p.shift(), C = j, D = B + p.shift(), E = j, F = D + p.shift(), G = v, u = F + p.shift(), o.curveTo(g, h, i, j, B, C), o.curveTo(D, E, F, G, u, v);break;case 36:
                        g = u + p.shift(), h = v + p.shift(), i = g + p.shift(), j = h + p.shift(), B = i + p.shift(), C = j, D = B + p.shift(), E = j, F = D + p.shift(), G = E + p.shift(), u = F + p.shift(), o.curveTo(g, h, i, j, B, C), o.curveTo(D, E, F, G, u, v);break;case 37:
                        g = u + p.shift(), h = v + p.shift(), i = g + p.shift(), j = h + p.shift(), B = i + p.shift(), C = j + p.shift(), D = B + p.shift(), E = C + p.shift(), F = D + p.shift(), G = E + p.shift(), Math.abs(F - u) > Math.abs(G - v) ? u = F + p.shift() : v = G + p.shift(), o.curveTo(g, h, i, j, B, C), o.curveTo(D, E, F, G, u, v);break;default:
                        console.log("Glyph " + b.index + ": unknown operator 1200" + I), p.length = 0;}break;case 14:
                    p.length > 0 && !s && (y = p.shift() + n, s = !0), t && (o.closePath(), t = !1);break;case 18:
                    e();break;case 19:case 20:
                    e(), H += q + 7 >> 3;break;case 21:
                    p.length > 2 && !s && (y = p.shift() + n, s = !0), v += p.pop(), u += p.pop(), d(u, v);break;case 22:
                    p.length > 1 && !s && (y = p.shift() + n, s = !0), u += p.pop(), d(u, v);break;case 23:
                    e();break;case 24:
                    for (; p.length > 2;) {
                      g = u + p.shift(), h = v + p.shift(), i = g + p.shift(), j = h + p.shift(), u = i + p.shift(), v = j + p.shift(), o.curveTo(g, h, i, j, u, v);
                    }u += p.shift(), v += p.shift(), o.lineTo(u, v);break;case 25:
                    for (; p.length > 6;) {
                      u += p.shift(), v += p.shift(), o.lineTo(u, v);
                    }g = u + p.shift(), h = v + p.shift(), i = g + p.shift(), j = h + p.shift(), u = i + p.shift(), v = j + p.shift(), o.curveTo(g, h, i, j, u, v);break;case 26:
                    for (p.length % 2 && (u += p.shift()); p.length > 0;) {
                      g = u, h = v + p.shift(), i = g + p.shift(), j = h + p.shift(), u = i, v = j + p.shift(), o.curveTo(g, h, i, j, u, v);
                    }break;case 27:
                    for (p.length % 2 && (v += p.shift()); p.length > 0;) {
                      g = u + p.shift(), h = v, i = g + p.shift(), j = h + p.shift(), u = i + p.shift(), v = j, o.curveTo(g, h, i, j, u, v);
                    }break;case 28:
                    m = c[H], r = c[H + 1], p.push((m << 24 | r << 16) >> 16), H += 2;break;case 29:
                    z = p.pop() + a.gsubrsBias, A = a.gsubrs[z], A && f(A);break;case 30:
                    for (; p.length > 0 && (g = u, h = v + p.shift(), i = g + p.shift(), j = h + p.shift(), u = i + p.shift(), v = j + (1 === p.length ? p.shift() : 0), o.curveTo(g, h, i, j, u, v), 0 !== p.length);) {
                      g = u + p.shift(), h = v, i = g + p.shift(), j = h + p.shift(), v = j + p.shift(), u = i + (1 === p.length ? p.shift() : 0), o.curveTo(g, h, i, j, u, v);
                    }break;case 31:
                    for (; p.length > 0 && (g = u + p.shift(), h = v, i = g + p.shift(), j = h + p.shift(), v = j + p.shift(), u = i + (1 === p.length ? p.shift() : 0), o.curveTo(g, h, i, j, u, v), 0 !== p.length);) {
                      g = u, h = v + p.shift(), i = g + p.shift(), j = h + p.shift(), u = i + p.shift(), v = j + (1 === p.length ? p.shift() : 0), o.curveTo(g, h, i, j, u, v);
                    }break;default:
                    I < 32 ? console.log("Glyph " + b.index + ": unknown operator " + I) : I < 247 ? p.push(I - 139) : I < 251 ? (m = c[H], H += 1, p.push(256 * (I - 247) + m + 108)) : I < 255 ? (m = c[H], H += 1, p.push(256 * -(I - 251) - m - 108)) : (m = c[H], r = c[H + 1], w = c[H + 2], x = c[H + 3], H += 4, p.push((m << 24 | r << 16 | w << 8 | x) / 65536));}
              }
            }var g,
                h,
                i,
                j,
                k,
                l,
                m,
                n,
                o = new r(),
                p = [],
                q = 0,
                s = !1,
                t = !1,
                u = 0,
                v = 0;if (a.isCIDFont) {
              var w = a.tables.cff.topDict._fdSelect[b.index],
                  x = a.tables.cff.topDict._fdArray[w];k = x._subrs, l = x._subrsBias, m = x._defaultWidthX, n = x._nominalWidthX;
            } else k = a.tables.cff.topDict._subrs, l = a.tables.cff.topDict._subrsBias, m = a.tables.cff.topDict._defaultWidthX, n = a.tables.cff.topDict._nominalWidthX;var y = m;return f(c), b.advanceWidth = y, o;
          }function ya(a, b, c, d) {
            var e,
                f = [],
                g = new Le.Parser(a, b),
                h = g.parseCard8();if (0 === h) for (var i = 0; i < c; i++) {
              if ((e = g.parseCard8()) >= d) throw new Error("CFF table CID Font FDSelect has bad FD index value " + e + " (FD count " + d + ")");f.push(e);
            } else {
              if (3 !== h) throw new Error("CFF Table CID Font FDSelect table has unsupported format " + h);var j = g.parseCard16(),
                  k = g.parseCard16();if (0 !== k) throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID " + k);for (var l, m = 0; m < j; m++) {
                if (e = g.parseCard8(), l = g.parseCard16(), e >= d) throw new Error("CFF table CID Font FDSelect has bad FD index value " + e + " (FD count " + d + ")");if (l > c) throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID " + l);for (; k < l; k++) {
                  f.push(e);
                }k = l;
              }if (l !== c) throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID " + l);
            }return f;
          }function za(a, b, c) {
            c.tables.cff = {};var d = ra(a, b),
                e = ka(a, d.endOffset, Le.bytesToString),
                f = ka(a, e.endOffset),
                g = ka(a, f.endOffset, Le.bytesToString),
                h = ka(a, g.endOffset);c.gsubrs = h.objects, c.gsubrsBias = ja(c.gsubrs);var i = ua(a, b, f.objects, g.objects);if (1 !== i.length) throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = " + i.length);var j = i[0];if (c.tables.cff.topDict = j, j._privateDict && (c.defaultWidthX = j._privateDict.defaultWidthX, c.nominalWidthX = j._privateDict.nominalWidthX), void 0 !== j.ros[0] && void 0 !== j.ros[1] && (c.isCIDFont = !0), c.isCIDFont) {
              var k = j.fdArray,
                  l = j.fdSelect;if (0 === k || 0 === l) throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");k += b;var m = ka(a, k),
                  n = ua(a, b, m.objects, g.objects);j._fdArray = n, l += b, j._fdSelect = ya(a, l, c.numGlyphs, n.length);
            }var o = b + j.private[1],
                p = ta(a, o, j.private[0], g.objects);if (c.defaultWidthX = p.defaultWidthX, c.nominalWidthX = p.nominalWidthX, 0 !== p.subrs) {
              var q = o + p.subrs,
                  r = ka(a, q);c.subrs = r.objects, c.subrsBias = ja(c.subrs);
            } else c.subrs = [], c.subrsBias = 0;var s = ka(a, b + j.charStrings);c.nGlyphs = s.objects.length;var t = va(a, b + j.charset, c.nGlyphs, g.objects);0 === j.encoding ? c.cffEncoding = new Z(Oe, t) : 1 === j.encoding ? c.cffEncoding = new Z(Pe, t) : c.cffEncoding = wa(a, b + j.encoding, t), c.encoding = c.encoding || c.cffEncoding, c.glyphs = new Se.GlyphSet(c);for (var u = 0; u < c.nGlyphs; u += 1) {
              var v = s.objects[u];c.glyphs.push(u, Se.cffGlyphLoader(c, u, xa, v));
            }
          }function Aa(a, b) {
            var c,
                d = Ne.indexOf(a);return d >= 0 && (c = d), d = b.indexOf(a), d >= 0 ? c = d + Ne.length : (c = Ne.length + b.length, b.push(a)), c;
          }function Ba() {
            return new Ie.Record("Header", [{ name: "major", type: "Card8", value: 1 }, { name: "minor", type: "Card8", value: 0 }, { name: "hdrSize", type: "Card8", value: 4 }, { name: "major", type: "Card8", value: 1 }]);
          }function Ca(a) {
            var b = new Ie.Record("Name INDEX", [{ name: "names", type: "INDEX", value: [] }]);b.names = [];for (var c = 0; c < a.length; c += 1) {
              b.names.push({ name: "name_" + c, type: "NAME", value: a[c] });
            }return b;
          }function Da(a, b, c) {
            for (var d = {}, e = 0; e < a.length; e += 1) {
              var f = a[e],
                  g = b[f.name];void 0 === g || ia(g, f.value) || ("SID" === f.type && (g = Aa(g, c)), d[f.op] = { name: f.name, type: f.type, value: g });
            }return d;
          }function Ea(a, b) {
            var c = new Ie.Record("Top DICT", [{ name: "dict", type: "DICT", value: {} }]);return c.dict = Da(Te, a, b), c;
          }function Fa(a) {
            var b = new Ie.Record("Top DICT INDEX", [{ name: "topDicts", type: "INDEX", value: [] }]);return b.topDicts = [{ name: "topDict_0", type: "TABLE", value: a }], b;
          }function Ga(a) {
            var b = new Ie.Record("String INDEX", [{ name: "strings", type: "INDEX", value: [] }]);b.strings = [];for (var c = 0; c < a.length; c += 1) {
              b.strings.push({ name: "string_" + c, type: "STRING", value: a[c] });
            }return b;
          }function Ha() {
            return new Ie.Record("Global Subr INDEX", [{ name: "subrs", type: "INDEX", value: [] }]);
          }function Ia(a, b) {
            for (var c = new Ie.Record("Charsets", [{ name: "format", type: "Card8", value: 0 }]), d = 0; d < a.length; d += 1) {
              var e = a[d],
                  f = Aa(e, b);c.fields.push({ name: "glyph_" + d, type: "SID", value: f });
            }return c;
          }function Ja(a) {
            var b = [],
                c = a.path;b.push({ name: "width", type: "NUMBER", value: a.advanceWidth });for (var d = 0, e = 0, f = 0; f < c.commands.length; f += 1) {
              var g = void 0,
                  h = void 0,
                  i = c.commands[f];if ("Q" === i.type) {
                var j = 1 / 3,
                    k = 2 / 3;i = { type: "C", x: i.x, y: i.y, x1: j * d + k * i.x1, y1: j * e + k * i.y1, x2: j * i.x + k * i.x1, y2: j * i.y + k * i.y1 };
              }if ("M" === i.type) g = Math.round(i.x - d), h = Math.round(i.y - e), b.push({ name: "dx", type: "NUMBER", value: g }), b.push({ name: "dy", type: "NUMBER", value: h }), b.push({ name: "rmoveto", type: "OP", value: 21 }), d = Math.round(i.x), e = Math.round(i.y);else if ("L" === i.type) g = Math.round(i.x - d), h = Math.round(i.y - e), b.push({ name: "dx", type: "NUMBER", value: g }), b.push({ name: "dy", type: "NUMBER", value: h }), b.push({ name: "rlineto", type: "OP", value: 5 }), d = Math.round(i.x), e = Math.round(i.y);else if ("C" === i.type) {
                var l = Math.round(i.x1 - d),
                    m = Math.round(i.y1 - e),
                    n = Math.round(i.x2 - i.x1),
                    o = Math.round(i.y2 - i.y1);g = Math.round(i.x - i.x2), h = Math.round(i.y - i.y2), b.push({ name: "dx1", type: "NUMBER", value: l }), b.push({ name: "dy1", type: "NUMBER", value: m }), b.push({ name: "dx2", type: "NUMBER", value: n }), b.push({ name: "dy2", type: "NUMBER", value: o }), b.push({ name: "dx", type: "NUMBER", value: g }), b.push({ name: "dy", type: "NUMBER", value: h }), b.push({ name: "rrcurveto", type: "OP", value: 8 }), d = Math.round(i.x), e = Math.round(i.y);
              }
            }return b.push({ name: "endchar", type: "OP", value: 14 }), b;
          }function Ka(a) {
            for (var b = new Ie.Record("CharStrings INDEX", [{ name: "charStrings", type: "INDEX", value: [] }]), c = 0; c < a.length; c += 1) {
              var d = a.get(c),
                  e = Ja(d);b.charStrings.push({ name: d.name, type: "CHARSTRING", value: e });
            }return b;
          }function La(a, b) {
            var c = new Ie.Record("Private DICT", [{ name: "dict", type: "DICT", value: {} }]);return c.dict = Da(Ue, a, b), c;
          }function Ma(a, b) {
            for (var c, d = new Ie.Table("CFF ", [{ name: "header", type: "RECORD" }, { name: "nameIndex", type: "RECORD" }, { name: "topDictIndex", type: "RECORD" }, { name: "stringIndex", type: "RECORD" }, { name: "globalSubrIndex", type: "RECORD" }, { name: "charsets", type: "RECORD" }, { name: "charStringsIndex", type: "RECORD" }, { name: "privateDict", type: "RECORD" }]), e = 1 / b.unitsPerEm, f = { version: b.version, fullName: b.fullName, familyName: b.familyName, weight: b.weightName, fontBBox: b.fontBBox || [0, 0, 0, 0], fontMatrix: [e, 0, 0, e, 0, 0], charset: 999, encoding: 0, charStrings: 999, private: [0, 999] }, g = {}, h = [], i = 1; i < a.length; i += 1) {
              c = a.get(i), h.push(c.name);
            }var j = [];d.header = Ba(), d.nameIndex = Ca([b.postScriptName]);var k = Ea(f, j);d.topDictIndex = Fa(k), d.globalSubrIndex = Ha(), d.charsets = Ia(h, j), d.charStringsIndex = Ka(a), d.privateDict = La(g, j), d.stringIndex = Ga(j);var l = d.header.sizeOf() + d.nameIndex.sizeOf() + d.topDictIndex.sizeOf() + d.stringIndex.sizeOf() + d.globalSubrIndex.sizeOf();return f.charset = l, f.encoding = 0, f.charStrings = f.charset + d.charsets.sizeOf(), f.private[1] = f.charStrings + d.charStringsIndex.sizeOf(), k = Ea(f, j), d.topDictIndex = Fa(k), d;
          }function Na(a, b) {
            var c = {},
                d = new Le.Parser(a, b);return c.version = d.parseVersion(), c.fontRevision = Math.round(1e3 * d.parseFixed()) / 1e3, c.checkSumAdjustment = d.parseULong(), c.magicNumber = d.parseULong(), xe.argument(1594834165 === c.magicNumber, "Font header has wrong magic number."), c.flags = d.parseUShort(), c.unitsPerEm = d.parseUShort(), c.created = d.parseLongDateTime(), c.modified = d.parseLongDateTime(), c.xMin = d.parseShort(), c.yMin = d.parseShort(), c.xMax = d.parseShort(), c.yMax = d.parseShort(), c.macStyle = d.parseUShort(), c.lowestRecPPEM = d.parseUShort(), c.fontDirectionHint = d.parseShort(), c.indexToLocFormat = d.parseShort(), c.glyphDataFormat = d.parseShort(), c;
          }function Oa(a) {
            var b = Math.round(new Date().getTime() / 1e3) + 2082844800,
                c = b;return a.createdTimestamp && (c = a.createdTimestamp + 2082844800), new Ie.Table("head", [{ name: "version", type: "FIXED", value: 65536 }, { name: "fontRevision", type: "FIXED", value: 65536 }, { name: "checkSumAdjustment", type: "ULONG", value: 0 }, { name: "magicNumber", type: "ULONG", value: 1594834165 }, { name: "flags", type: "USHORT", value: 0 }, { name: "unitsPerEm", type: "USHORT", value: 1e3 }, { name: "created", type: "LONGDATETIME", value: c }, { name: "modified", type: "LONGDATETIME", value: b }, { name: "xMin", type: "SHORT", value: 0 }, { name: "yMin", type: "SHORT", value: 0 }, { name: "xMax", type: "SHORT", value: 0 }, { name: "yMax", type: "SHORT", value: 0 }, { name: "macStyle", type: "USHORT", value: 0 }, { name: "lowestRecPPEM", type: "USHORT", value: 0 }, { name: "fontDirectionHint", type: "SHORT", value: 2 }, { name: "indexToLocFormat", type: "SHORT", value: 0 }, { name: "glyphDataFormat", type: "SHORT", value: 0 }], a);
          }function Pa(a, b) {
            var c = {},
                d = new Le.Parser(a, b);return c.version = d.parseVersion(), c.ascender = d.parseShort(), c.descender = d.parseShort(), c.lineGap = d.parseShort(), c.advanceWidthMax = d.parseUShort(), c.minLeftSideBearing = d.parseShort(), c.minRightSideBearing = d.parseShort(), c.xMaxExtent = d.parseShort(), c.caretSlopeRise = d.parseShort(), c.caretSlopeRun = d.parseShort(), c.caretOffset = d.parseShort(), d.relativeOffset += 8, c.metricDataFormat = d.parseShort(), c.numberOfHMetrics = d.parseUShort(), c;
          }function Qa(a) {
            return new Ie.Table("hhea", [{ name: "version", type: "FIXED", value: 65536 }, { name: "ascender", type: "FWORD", value: 0 }, { name: "descender", type: "FWORD", value: 0 }, { name: "lineGap", type: "FWORD", value: 0 }, { name: "advanceWidthMax", type: "UFWORD", value: 0 }, { name: "minLeftSideBearing", type: "FWORD", value: 0 }, { name: "minRightSideBearing", type: "FWORD", value: 0 }, { name: "xMaxExtent", type: "FWORD", value: 0 }, { name: "caretSlopeRise", type: "SHORT", value: 1 }, { name: "caretSlopeRun", type: "SHORT", value: 0 }, { name: "caretOffset", type: "SHORT", value: 0 }, { name: "reserved1", type: "SHORT", value: 0 }, { name: "reserved2", type: "SHORT", value: 0 }, { name: "reserved3", type: "SHORT", value: 0 }, { name: "reserved4", type: "SHORT", value: 0 }, { name: "metricDataFormat", type: "SHORT", value: 0 }, { name: "numberOfHMetrics", type: "USHORT", value: 0 }], a);
          }function Ra(a, b, c, d, e) {
            for (var f, g, h = new Le.Parser(a, b), i = 0; i < d; i += 1) {
              i < c && (f = h.parseUShort(), g = h.parseShort());var j = e.get(i);j.advanceWidth = f, j.leftSideBearing = g;
            }
          }function Sa(a) {
            for (var b = new Ie.Table("hmtx", []), c = 0; c < a.length; c += 1) {
              var d = a.get(c),
                  e = d.advanceWidth || 0,
                  f = d.leftSideBearing || 0;b.fields.push({ name: "advanceWidth_" + c, type: "USHORT", value: e }), b.fields.push({ name: "leftSideBearing_" + c, type: "SHORT", value: f });
            }return b;
          }function Ta(a) {
            for (var b = new Ie.Table("ltag", [{ name: "version", type: "ULONG", value: 1 }, { name: "flags", type: "ULONG", value: 0 }, { name: "numTags", type: "ULONG", value: a.length }]), c = "", d = 12 + 4 * a.length, e = 0; e < a.length; ++e) {
              var f = c.indexOf(a[e]);f < 0 && (f = c.length, c += a[e]), b.fields.push({ name: "offset " + e, type: "USHORT", value: d + f }), b.fields.push({ name: "length " + e, type: "USHORT", value: a[e].length });
            }return b.fields.push({ name: "stringPool", type: "CHARARRAY", value: c }), b;
          }function Ua(a, b) {
            var c = new Le.Parser(a, b),
                d = c.parseULong();xe.argument(1 === d, "Unsupported ltag table version."), c.skip("uLong", 1);for (var e = c.parseULong(), f = [], g = 0; g < e; g++) {
              for (var h = "", i = b + c.parseUShort(), j = c.parseUShort(), k = i; k < i + j; ++k) {
                h += String.fromCharCode(a.getInt8(k));
              }f.push(h);
            }return f;
          }function Va(a, b) {
            var c = {},
                d = new Le.Parser(a, b);return c.version = d.parseVersion(), c.numGlyphs = d.parseUShort(), 1 === c.version && (c.maxPoints = d.parseUShort(), c.maxContours = d.parseUShort(), c.maxCompositePoints = d.parseUShort(), c.maxCompositeContours = d.parseUShort(), c.maxZones = d.parseUShort(), c.maxTwilightPoints = d.parseUShort(), c.maxStorage = d.parseUShort(), c.maxFunctionDefs = d.parseUShort(), c.maxInstructionDefs = d.parseUShort(), c.maxStackElements = d.parseUShort(), c.maxSizeOfInstructions = d.parseUShort(), c.maxComponentElements = d.parseUShort(), c.maxComponentDepth = d.parseUShort()), c;
          }function Wa(a) {
            return new Ie.Table("maxp", [{ name: "version", type: "FIXED", value: 20480 }, { name: "numGlyphs", type: "USHORT", value: a }]);
          }function Xa(a, b, c) {
            switch (a) {case 0:
                if (65535 === b) return "und";if (c) return c[b];break;case 1:
                return af[b];case 3:
                return cf[b];}
          }function Ya(a, b, c) {
            switch (a) {case 0:
                return df;case 1:
                return ff[c] || ef[b];case 3:
                if (1 === b || 10 === b) return df;}
          }function Za(a, b, c) {
            for (var d = {}, e = new Le.Parser(a, b), f = e.parseUShort(), g = e.parseUShort(), h = e.offset + e.parseUShort(), i = 0; i < g; i++) {
              var j = e.parseUShort(),
                  k = e.parseUShort(),
                  l = e.parseUShort(),
                  m = e.parseUShort(),
                  n = _e[m] || m,
                  o = e.parseUShort(),
                  p = e.parseUShort(),
                  q = Xa(j, l, c),
                  r = Ya(j, k, l);if (void 0 !== r && void 0 !== q) {
                var s = void 0;if (s = r === df ? Ae.UTF16(a, h + p, o) : Ae.MACSTRING(a, h + p, o, r)) {
                  var t = d[n];void 0 === t && (t = d[n] = {}), t[q] = s;
                }
              }
            }return 1 === f && e.parseUShort(), d;
          }function $a(a) {
            var b = {};for (var c in a) {
              b[a[c]] = parseInt(c);
            }return b;
          }function _a(a, b, c, d, e, f) {
            return new Ie.Record("NameRecord", [{ name: "platformID", type: "USHORT", value: a }, { name: "encodingID", type: "USHORT", value: b }, { name: "languageID", type: "USHORT", value: c }, { name: "nameID", type: "USHORT", value: d }, { name: "length", type: "USHORT", value: e }, { name: "offset", type: "USHORT", value: f }]);
          }function ab(a, b) {
            var c = a.length,
                d = b.length - c + 1;a: for (var e = 0; e < d; e++) {
              for (; e < d; e++) {
                for (var f = 0; f < c; f++) {
                  if (b[e + f] !== a[f]) continue a;
                }return e;
              }
            }return -1;
          }function bb(a, b) {
            var c = ab(a, b);if (c < 0) {
              c = b.length;for (var d = 0, e = a.length; d < e; ++d) {
                b.push(a[d]);
              }
            }return c;
          }function cb(a, b) {
            var c,
                d = [],
                e = {},
                f = $a(_e);for (var g in a) {
              var h = f[g];if (void 0 === h && (h = g), c = parseInt(h), isNaN(c)) throw new Error('Name table entry "' + g + '" does not exist, see nameTableNames for complete list.');e[c] = a[g], d.push(c);
            }for (var i = $a(af), j = $a(cf), k = [], l = [], m = 0; m < d.length; m++) {
              c = d[m];var n = e[c];for (var o in n) {
                var p = n[o],
                    q = 1,
                    r = i[o],
                    s = bf[r],
                    t = Ya(q, s, r),
                    u = Be.MACSTRING(p, t);void 0 === u && (q = 0, r = b.indexOf(o), r < 0 && (r = b.length, b.push(o)), s = 4, u = Be.UTF16(p));var v = bb(u, l);k.push(_a(q, s, r, c, u.length, v));var w = j[o];if (void 0 !== w) {
                  var x = Be.UTF16(p),
                      y = bb(x, l);k.push(_a(3, 1, w, c, x.length, y));
                }
              }
            }k.sort(function (a, b) {
              return a.platformID - b.platformID || a.encodingID - b.encodingID || a.languageID - b.languageID || a.nameID - b.nameID;
            });for (var z = new Ie.Table("name", [{ name: "format", type: "USHORT", value: 0 }, { name: "count", type: "USHORT", value: k.length }, { name: "stringOffset", type: "USHORT", value: 6 + 12 * k.length }]), A = 0; A < k.length; A++) {
              z.fields.push({ name: "record_" + A, type: "RECORD", value: k[A] });
            }return z.fields.push({ name: "strings", type: "LITERAL", value: l }), z;
          }function db(a) {
            for (var b = 0; b < hf.length; b += 1) {
              var c = hf[b];if (a >= c.begin && a < c.end) return b;
            }return -1;
          }function eb(a, b) {
            var c = {},
                d = new Le.Parser(a, b);c.version = d.parseUShort(), c.xAvgCharWidth = d.parseShort(), c.usWeightClass = d.parseUShort(), c.usWidthClass = d.parseUShort(), c.fsType = d.parseUShort(), c.ySubscriptXSize = d.parseShort(), c.ySubscriptYSize = d.parseShort(), c.ySubscriptXOffset = d.parseShort(), c.ySubscriptYOffset = d.parseShort(), c.ySuperscriptXSize = d.parseShort(), c.ySuperscriptYSize = d.parseShort(), c.ySuperscriptXOffset = d.parseShort(), c.ySuperscriptYOffset = d.parseShort(), c.yStrikeoutSize = d.parseShort(), c.yStrikeoutPosition = d.parseShort(), c.sFamilyClass = d.parseShort(), c.panose = [];for (var e = 0; e < 10; e++) {
              c.panose[e] = d.parseByte();
            }return c.ulUnicodeRange1 = d.parseULong(), c.ulUnicodeRange2 = d.parseULong(), c.ulUnicodeRange3 = d.parseULong(), c.ulUnicodeRange4 = d.parseULong(), c.achVendID = String.fromCharCode(d.parseByte(), d.parseByte(), d.parseByte(), d.parseByte()), c.fsSelection = d.parseUShort(), c.usFirstCharIndex = d.parseUShort(), c.usLastCharIndex = d.parseUShort(), c.sTypoAscender = d.parseShort(), c.sTypoDescender = d.parseShort(), c.sTypoLineGap = d.parseShort(), c.usWinAscent = d.parseUShort(), c.usWinDescent = d.parseUShort(), c.version >= 1 && (c.ulCodePageRange1 = d.parseULong(), c.ulCodePageRange2 = d.parseULong()), c.version >= 2 && (c.sxHeight = d.parseShort(), c.sCapHeight = d.parseShort(), c.usDefaultChar = d.parseUShort(), c.usBreakChar = d.parseUShort(), c.usMaxContent = d.parseUShort()), c;
          }function fb(a) {
            return new Ie.Table("OS/2", [{ name: "version", type: "USHORT", value: 3 }, { name: "xAvgCharWidth", type: "SHORT", value: 0 }, { name: "usWeightClass", type: "USHORT", value: 0 }, { name: "usWidthClass", type: "USHORT", value: 0 }, { name: "fsType", type: "USHORT", value: 0 }, { name: "ySubscriptXSize", type: "SHORT", value: 650 }, { name: "ySubscriptYSize", type: "SHORT", value: 699 }, { name: "ySubscriptXOffset", type: "SHORT", value: 0 }, { name: "ySubscriptYOffset", type: "SHORT", value: 140 }, { name: "ySuperscriptXSize", type: "SHORT", value: 650 }, { name: "ySuperscriptYSize", type: "SHORT", value: 699 }, { name: "ySuperscriptXOffset", type: "SHORT", value: 0 }, { name: "ySuperscriptYOffset", type: "SHORT", value: 479 }, { name: "yStrikeoutSize", type: "SHORT", value: 49 }, { name: "yStrikeoutPosition", type: "SHORT", value: 258 }, { name: "sFamilyClass", type: "SHORT", value: 0 }, { name: "bFamilyType", type: "BYTE", value: 0 }, { name: "bSerifStyle", type: "BYTE", value: 0 }, { name: "bWeight", type: "BYTE", value: 0 }, { name: "bProportion", type: "BYTE", value: 0 }, { name: "bContrast", type: "BYTE", value: 0 }, { name: "bStrokeVariation", type: "BYTE", value: 0 }, { name: "bArmStyle", type: "BYTE", value: 0 }, { name: "bLetterform", type: "BYTE", value: 0 }, { name: "bMidline", type: "BYTE", value: 0 }, { name: "bXHeight", type: "BYTE", value: 0 }, { name: "ulUnicodeRange1", type: "ULONG", value: 0 }, { name: "ulUnicodeRange2", type: "ULONG", value: 0 }, { name: "ulUnicodeRange3", type: "ULONG", value: 0 }, { name: "ulUnicodeRange4", type: "ULONG", value: 0 }, { name: "achVendID", type: "CHARARRAY", value: "XXXX" }, { name: "fsSelection", type: "USHORT", value: 0 }, { name: "usFirstCharIndex", type: "USHORT", value: 0 }, { name: "usLastCharIndex", type: "USHORT", value: 0 }, { name: "sTypoAscender", type: "SHORT", value: 0 }, { name: "sTypoDescender", type: "SHORT", value: 0 }, { name: "sTypoLineGap", type: "SHORT", value: 0 }, { name: "usWinAscent", type: "USHORT", value: 0 }, { name: "usWinDescent", type: "USHORT", value: 0 }, { name: "ulCodePageRange1", type: "ULONG", value: 0 }, { name: "ulCodePageRange2", type: "ULONG", value: 0 }, { name: "sxHeight", type: "SHORT", value: 0 }, { name: "sCapHeight", type: "SHORT", value: 0 }, { name: "usDefaultChar", type: "USHORT", value: 0 }, { name: "usBreakChar", type: "USHORT", value: 0 }, { name: "usMaxContext", type: "USHORT", value: 0 }], a);
          }function gb(a, b) {
            var c = {},
                d = new Le.Parser(a, b);switch (c.version = d.parseVersion(), c.italicAngle = d.parseFixed(), c.underlinePosition = d.parseShort(), c.underlineThickness = d.parseShort(), c.isFixedPitch = d.parseULong(), c.minMemType42 = d.parseULong(), c.maxMemType42 = d.parseULong(), c.minMemType1 = d.parseULong(), c.maxMemType1 = d.parseULong(), c.version) {case 1:
                c.names = Qe.slice();break;case 2:
                c.numberOfGlyphs = d.parseUShort(), c.glyphNameIndex = new Array(c.numberOfGlyphs);for (var e = 0; e < c.numberOfGlyphs; e++) {
                  c.glyphNameIndex[e] = d.parseUShort();
                }c.names = [];for (var f = 0; f < c.numberOfGlyphs; f++) {
                  if (c.glyphNameIndex[f] >= Qe.length) {
                    var g = d.parseChar();c.names.push(d.parseString(g));
                  }
                }break;case 2.5:
                c.numberOfGlyphs = d.parseUShort(), c.offset = new Array(c.numberOfGlyphs);for (var h = 0; h < c.numberOfGlyphs; h++) {
                  c.offset[h] = d.parseChar();
                }}return c;
          }function hb() {
            return new Ie.Table("post", [{ name: "version", type: "FIXED", value: 196608 }, { name: "italicAngle", type: "FIXED", value: 0 }, { name: "underlinePosition", type: "FWORD", value: 0 }, { name: "underlineThickness", type: "FWORD", value: 0 }, { name: "isFixedPitch", type: "ULONG", value: 0 }, { name: "minMemType42", type: "ULONG", value: 0 }, { name: "maxMemType42", type: "ULONG", value: 0 }, { name: "minMemType1", type: "ULONG", value: 0 }, { name: "maxMemType1", type: "ULONG", value: 0 }]);
          }function ib(a, b) {
            b = b || 0;var c = new Q(a, b),
                d = c.parseVersion(1);return xe.argument(1 === d || 1.1 === d, "Unsupported GSUB table version."), 1 === d ? { version: d, scripts: c.parseScriptList(), features: c.parseFeatureList(), lookups: c.parseLookupList(lf) } : { version: d, scripts: c.parseScriptList(), features: c.parseFeatureList(), lookups: c.parseLookupList(lf), variations: c.parseFeatureVariationsList() };
          }function jb(a) {
            return new Ie.Table("GSUB", [{ name: "version", type: "ULONG", value: 65536 }, { name: "scripts", type: "TABLE", value: new Ie.ScriptList(a.scripts) }, { name: "features", type: "TABLE", value: new Ie.FeatureList(a.features) }, { name: "lookups", type: "TABLE", value: new Ie.LookupList(a.lookups, nf) }]);
          }function kb(a, b) {
            var c = new Le.Parser(a, b),
                d = c.parseULong();xe.argument(1 === d, "Unsupported META table version."), c.parseULong(), c.parseULong();for (var e = c.parseULong(), f = {}, g = 0; g < e; g++) {
              var h = c.parseTag(),
                  i = c.parseULong(),
                  j = c.parseULong(),
                  k = Ae.UTF8(a, b + i, j);f[h] = k;
            }return f;
          }function lb(a) {
            var b = Object.keys(a).length,
                c = "",
                d = 16 + 12 * b,
                e = new Ie.Table("meta", [{ name: "version", type: "ULONG", value: 1 }, { name: "flags", type: "ULONG", value: 0 }, { name: "offset", type: "ULONG", value: d }, { name: "numTags", type: "ULONG", value: b }]);for (var f in a) {
              var g = c.length;c += a[f], e.fields.push({ name: "tag " + f, type: "TAG", value: f }), e.fields.push({ name: "offset " + f, type: "ULONG", value: d + g }), e.fields.push({ name: "length " + f, type: "ULONG", value: a[f].length });
            }return e.fields.push({ name: "stringPool", type: "CHARARRAY", value: c }), e;
          }function mb(a) {
            return Math.log(a) / Math.log(2) | 0;
          }function nb(a) {
            for (; a.length % 4 != 0;) {
              a.push(0);
            }for (var b = 0, c = 0; c < a.length; c += 4) {
              b += (a[c] << 24) + (a[c + 1] << 16) + (a[c + 2] << 8) + a[c + 3];
            }return b %= Math.pow(2, 32);
          }function ob(a, b, c, d) {
            return new Ie.Record("Table Record", [{ name: "tag", type: "TAG", value: void 0 !== a ? a : "" }, { name: "checkSum", type: "ULONG", value: void 0 !== b ? b : 0 }, { name: "offset", type: "ULONG", value: void 0 !== c ? c : 0 }, { name: "length", type: "ULONG", value: void 0 !== d ? d : 0 }]);
          }function pb(a) {
            var b = new Ie.Table("sfnt", [{ name: "version", type: "TAG", value: "OTTO" }, { name: "numTables", type: "USHORT", value: 0 }, { name: "searchRange", type: "USHORT", value: 0 }, { name: "entrySelector", type: "USHORT", value: 0 }, { name: "rangeShift", type: "USHORT", value: 0 }]);b.tables = a, b.numTables = a.length;var c = Math.pow(2, mb(b.numTables));b.searchRange = 16 * c, b.entrySelector = mb(c), b.rangeShift = 16 * b.numTables - b.searchRange;for (var d = [], e = [], f = b.sizeOf() + ob().sizeOf() * b.numTables; f % 4 != 0;) {
              f += 1, e.push({ name: "padding", type: "BYTE", value: 0 });
            }for (var g = 0; g < a.length; g += 1) {
              var h = a[g];xe.argument(4 === h.tableName.length, "Table name" + h.tableName + " is invalid.");var i = h.sizeOf(),
                  j = ob(h.tableName, nb(h.encode()), f, i);for (d.push({ name: j.tag + " Table Record", type: "RECORD", value: j }), e.push({ name: h.tableName + " table", type: "RECORD", value: h }), f += i, xe.argument(!isNaN(f), "Something went wrong calculating the offset."); f % 4 != 0;) {
                f += 1, e.push({ name: "padding", type: "BYTE", value: 0 });
              }
            }return d.sort(function (a, b) {
              return a.value.tag > b.value.tag ? 1 : -1;
            }), b.fields = b.fields.concat(d), b.fields = b.fields.concat(e), b;
          }function qb(a, b, c) {
            for (var d = 0; d < b.length; d += 1) {
              var e = a.charToGlyphIndex(b[d]);if (e > 0) {
                return a.glyphs.get(e).getMetrics();
              }
            }return c;
          }function rb(a) {
            for (var b = 0, c = 0; c < a.length; c += 1) {
              b += a[c];
            }return b / a.length;
          }function sb(a) {
            for (var b, c = [], d = [], e = [], f = [], g = [], h = [], i = [], j = 0, k = 0, l = 0, m = 0, n = 0, o = 0; o < a.glyphs.length; o += 1) {
              var p = a.glyphs.get(o),
                  q = 0 | p.unicode;if (isNaN(p.advanceWidth)) throw new Error("Glyph " + p.name + " (" + o + "): advanceWidth is not a number.");(b > q || void 0 === b) && q > 0 && (b = q), j < q && (j = q);var r = jf.getUnicodeRange(q);if (r < 32) k |= 1 << r;else if (r < 64) l |= 1 << r - 32;else if (r < 96) m |= 1 << r - 64;else {
                if (!(r < 123)) throw new Error("Unicode ranges bits > 123 are reserved for internal usage");n |= 1 << r - 96;
              }if (".notdef" !== p.name) {
                var s = p.getMetrics();c.push(s.xMin), d.push(s.yMin), e.push(s.xMax), f.push(s.yMax), h.push(s.leftSideBearing), i.push(s.rightSideBearing), g.push(p.advanceWidth);
              }
            }var t = { xMin: Math.min.apply(null, c), yMin: Math.min.apply(null, d), xMax: Math.max.apply(null, e), yMax: Math.max.apply(null, f), advanceWidthMax: Math.max.apply(null, g), advanceWidthAvg: rb(g), minLeftSideBearing: Math.min.apply(null, h), maxLeftSideBearing: Math.max.apply(null, h), minRightSideBearing: Math.min.apply(null, i) };t.ascender = a.ascender, t.descender = a.descender;var u = We.make({ flags: 3, unitsPerEm: a.unitsPerEm, xMin: t.xMin, yMin: t.yMin, xMax: t.xMax, yMax: t.yMax, lowestRecPPEM: 3, createdTimestamp: a.createdTimestamp }),
                v = Xe.make({ ascender: t.ascender, descender: t.descender, advanceWidthMax: t.advanceWidthMax, minLeftSideBearing: t.minLeftSideBearing, minRightSideBearing: t.minRightSideBearing, xMaxExtent: t.maxLeftSideBearing + (t.xMax - t.xMin), numberOfHMetrics: a.glyphs.length }),
                w = $e.make(a.glyphs.length),
                x = jf.make({ xAvgCharWidth: Math.round(t.advanceWidthAvg), usWeightClass: a.tables.os2.usWeightClass, usWidthClass: a.tables.os2.usWidthClass, usFirstCharIndex: b, usLastCharIndex: j, ulUnicodeRange1: k, ulUnicodeRange2: l, ulUnicodeRange3: m, ulUnicodeRange4: n, fsSelection: a.tables.os2.fsSelection, sTypoAscender: t.ascender, sTypoDescender: t.descender, sTypoLineGap: 0, usWinAscent: t.yMax, usWinDescent: Math.abs(t.yMin), ulCodePageRange1: 1, sxHeight: qb(a, "xyvw", { yMax: Math.round(t.ascender / 2) }).yMax, sCapHeight: qb(a, "HIKLEFJMNTZBDPRAGOQSUVWXY", t).yMax, usDefaultChar: a.hasChar(" ") ? 32 : 0, usBreakChar: a.hasChar(" ") ? 32 : 0 }),
                y = Ye.make(a.glyphs),
                z = Me.make(a.glyphs),
                A = a.getEnglishName("fontFamily"),
                B = a.getEnglishName("fontSubfamily"),
                C = A + " " + B,
                D = a.getEnglishName("postScriptName");D || (D = A.replace(/\s/g, "") + "-" + B);var E = {};for (var F in a.names) {
              E[F] = a.names[F];
            }E.uniqueID || (E.uniqueID = { en: a.getEnglishName("manufacturer") + ":" + C }), E.postScriptName || (E.postScriptName = { en: D }), E.preferredFamily || (E.preferredFamily = a.names.fontFamily), E.preferredSubfamily || (E.preferredSubfamily = a.names.fontSubfamily);var G = [],
                H = gf.make(E, G),
                I = G.length > 0 ? Ze.make(G) : void 0,
                J = kf.make(),
                K = Ve.make(a.glyphs, { version: a.getEnglishName("version"), fullName: C, familyName: A, weightName: B, postScriptName: D, unitsPerEm: a.unitsPerEm, fontBBox: [0, t.yMin, t.ascender, t.advanceWidthMax] }),
                L = a.metas && Object.keys(a.metas).length > 0 ? pf.make(a.metas) : void 0,
                M = [u, v, w, x, H, z, J, K, y];I && M.push(I), a.tables.gsub && M.push(of.make(a.tables.gsub)), L && M.push(L);for (var N = pb(M), O = N.encode(), P = nb(O), Q = N.fields, R = !1, S = 0; S < Q.length; S += 1) {
              if ("head table" === Q[S].name) {
                Q[S].value.checkSumAdjustment = 2981146554 - P, R = !0;break;
              }
            }if (!R) throw new Error("Could not find head table with checkSum to adjust.");return N;
          }function tb(a, b) {
            for (var c = 0, d = a.length - 1; c <= d;) {
              var e = c + d >>> 1,
                  f = a[e].tag;if (f === b) return e;f < b ? c = e + 1 : d = e - 1;
            }return -c - 1;
          }function ub(a, b) {
            for (var c = 0, d = a.length - 1; c <= d;) {
              var e = c + d >>> 1,
                  f = a[e];if (f === b) return e;f < b ? c = e + 1 : d = e - 1;
            }return -c - 1;
          }function vb(a, b) {
            for (var c, d = 0, e = a.length - 1; d <= e;) {
              var f = d + e >>> 1;c = a[f];var g = c.start;if (g === b) return c;g < b ? d = f + 1 : e = f - 1;
            }if (d > 0) return c = a[d - 1], b > c.end ? 0 : c;
          }function wb(a, b) {
            this.font = a, this.tableName = b;
          }function xb(a) {
            wb.call(this, a, "gpos");
          }function yb(a) {
            wb.call(this, a, "gsub");
          }function zb(a, b) {
            var c = a.length;if (c !== b.length) return !1;for (var d = 0; d < c; d++) {
              if (a[d] !== b[d]) return !1;
            }return !0;
          }function Ab(a, b, c) {
            for (var d = a.subtables, e = 0; e < d.length; e++) {
              var f = d[e];if (f.substFormat === b) return f;
            }if (c) return d.push(c), c;
          }function Bb() {
            return "undefined" != typeof window;
          }function Cb(a) {
            for (var b = new ArrayBuffer(a.length), c = new Uint8Array(b), d = 0; d < a.length; ++d) {
              c[d] = a[d];
            }return b;
          }function Db(a) {
            for (var b = new e(a.byteLength), c = new Uint8Array(a), d = 0; d < b.length; ++d) {
              b[d] = c[d];
            }return b;
          }function Eb(a, b) {
            if (!a) throw b;
          }function Fb(a, b, c, d, e) {
            var f;return (b & d) > 0 ? (f = a.parseByte(), 0 == (b & e) && (f = -f), f = c + f) : f = (b & e) > 0 ? c : c + a.parseShort(), f;
          }function Gb(a, b, c) {
            var d = new Le.Parser(b, c);a.numberOfContours = d.parseShort(), a._xMin = d.parseShort(), a._yMin = d.parseShort(), a._xMax = d.parseShort(), a._yMax = d.parseShort();var e, f;if (a.numberOfContours > 0) {
              for (var g = a.endPointIndices = [], h = 0; h < a.numberOfContours; h += 1) {
                g.push(d.parseUShort());
              }a.instructionLength = d.parseUShort(), a.instructions = [];for (var i = 0; i < a.instructionLength; i += 1) {
                a.instructions.push(d.parseByte());
              }var j = g[g.length - 1] + 1;e = [];for (var k = 0; k < j; k += 1) {
                if (f = d.parseByte(), e.push(f), (8 & f) > 0) for (var l = d.parseByte(), m = 0; m < l; m += 1) {
                  e.push(f), k += 1;
                }
              }if (xe.argument(e.length === j, "Bad flags."), g.length > 0) {
                var n,
                    o = [];if (j > 0) {
                  for (var p = 0; p < j; p += 1) {
                    f = e[p], n = {}, n.onCurve = !!(1 & f), n.lastPointOfContour = g.indexOf(p) >= 0, o.push(n);
                  }for (var q = 0, r = 0; r < j; r += 1) {
                    f = e[r], n = o[r], n.x = Fb(d, f, q, 2, 16), q = n.x;
                  }for (var s = 0, t = 0; t < j; t += 1) {
                    f = e[t], n = o[t], n.y = Fb(d, f, s, 4, 32), s = n.y;
                  }
                }a.points = o;
              } else a.points = [];
            } else if (0 === a.numberOfContours) a.points = [];else {
              a.isComposite = !0, a.points = [], a.components = [];for (var u = !0; u;) {
                e = d.parseUShort();var v = { glyphIndex: d.parseUShort(), xScale: 1, scale01: 0, scale10: 0, yScale: 1, dx: 0, dy: 0 };(1 & e) > 0 ? (2 & e) > 0 ? (v.dx = d.parseShort(), v.dy = d.parseShort()) : v.matchedPoints = [d.parseUShort(), d.parseUShort()] : (2 & e) > 0 ? (v.dx = d.parseChar(), v.dy = d.parseChar()) : v.matchedPoints = [d.parseByte(), d.parseByte()], (8 & e) > 0 ? v.xScale = v.yScale = d.parseF2Dot14() : (64 & e) > 0 ? (v.xScale = d.parseF2Dot14(), v.yScale = d.parseF2Dot14()) : (128 & e) > 0 && (v.xScale = d.parseF2Dot14(), v.scale01 = d.parseF2Dot14(), v.scale10 = d.parseF2Dot14(), v.yScale = d.parseF2Dot14()), a.components.push(v), u = !!(32 & e);
              }if (256 & e) {
                a.instructionLength = d.parseUShort(), a.instructions = [];for (var w = 0; w < a.instructionLength; w += 1) {
                  a.instructions.push(d.parseByte());
                }
              }
            }
          }function Hb(a, b) {
            for (var c = [], d = 0; d < a.length; d += 1) {
              var e = a[d],
                  f = { x: b.xScale * e.x + b.scale01 * e.y + b.dx, y: b.scale10 * e.x + b.yScale * e.y + b.dy, onCurve: e.onCurve, lastPointOfContour: e.lastPointOfContour };c.push(f);
            }return c;
          }function Ib(a) {
            for (var b = [], c = [], d = 0; d < a.length; d += 1) {
              var e = a[d];c.push(e), e.lastPointOfContour && (b.push(c), c = []);
            }return xe.argument(0 === c.length, "There are still points left in the current contour."), b;
          }function Jb(a) {
            var b = new r();if (!a) return b;for (var c = Ib(a), d = 0; d < c.length; ++d) {
              var e = c[d],
                  f = null,
                  g = e[e.length - 1],
                  h = e[0];if (g.onCurve) b.moveTo(g.x, g.y);else if (h.onCurve) b.moveTo(h.x, h.y);else {
                var i = { x: .5 * (g.x + h.x), y: .5 * (g.y + h.y) };b.moveTo(i.x, i.y);
              }for (var j = 0; j < e.length; ++j) {
                if (f = g, g = h, h = e[(j + 1) % e.length], g.onCurve) b.lineTo(g.x, g.y);else {
                  var k = h;f.onCurve || { x: .5 * (g.x + f.x), y: .5 * (g.y + f.y) }, h.onCurve || (k = { x: .5 * (g.x + h.x), y: .5 * (g.y + h.y) }), b.quadraticCurveTo(g.x, g.y, k.x, k.y);
                }
              }b.closePath();
            }return b;
          }function Kb(a, b) {
            if (b.isComposite) for (var c = 0; c < b.components.length; c += 1) {
              var d = b.components[c],
                  e = a.get(d.glyphIndex);if (e.getPath(), e.points) {
                var f = void 0;if (void 0 === d.matchedPoints) f = Hb(e.points, d);else {
                  if (d.matchedPoints[0] > b.points.length - 1 || d.matchedPoints[1] > e.points.length - 1) throw Error("Matched points out of range in " + b.name);var g = b.points[d.matchedPoints[0]],
                      h = e.points[d.matchedPoints[1]],
                      i = { xScale: d.xScale, scale01: d.scale01, scale10: d.scale10, yScale: d.yScale, dx: 0, dy: 0 };h = Hb([h], i)[0], i.dx = g.x - h.x, i.dy = g.y - h.y, f = Hb(e.points, i);
                }b.points = b.points.concat(f);
              }
            }return Jb(b.points);
          }function Lb(a, b, c, d) {
            for (var e = new Se.GlyphSet(d), f = 0; f < c.length - 1; f += 1) {
              var g = c[f];g !== c[f + 1] ? e.push(f, Se.ttfGlyphLoader(d, f, Gb, a, b + g, Kb)) : e.push(f, Se.glyphLoader(d, f));
            }return e;
          }function Mb(a) {
            this.font = a, this.getCommands = function (a) {
              return vf.getPath(a).commands;
            }, this._fpgmState = this._prepState = void 0, this._errorState = 0;
          }function Nb(a) {
            return a;
          }function Ob(a) {
            return Math.sign(a) * Math.round(Math.abs(a));
          }function Pb(a) {
            return Math.sign(a) * Math.round(Math.abs(2 * a)) / 2;
          }function Qb(a) {
            return Math.sign(a) * (Math.round(Math.abs(a) + .5) - .5);
          }function Rb(a) {
            return Math.sign(a) * Math.ceil(Math.abs(a));
          }function Sb(a) {
            return Math.sign(a) * Math.floor(Math.abs(a));
          }function Tb(a, b) {
            this.x = a, this.y = b, this.axis = void 0, this.slope = b / a, this.normalSlope = -a / b, Object.freeze(this);
          }function Ub(a, b) {
            var c = Math.sqrt(a * a + b * b);return a /= c, b /= c, 1 === a && 0 === b ? xf : 0 === a && 1 === b ? yf : new Tb(a, b);
          }function Vb(a, b, c, d) {
            this.x = this.xo = Math.round(64 * a) / 64, this.y = this.yo = Math.round(64 * b) / 64, this.lastPointOfContour = c, this.onCurve = d, this.prevPointOnContour = void 0, this.nextPointOnContour = void 0, this.xTouched = !1, this.yTouched = !1, Object.preventExtensions(this);
          }function Wb(a, b) {
            switch (this.env = a, this.stack = [], this.prog = b, a) {case "glyf":
                this.zp0 = this.zp1 = this.zp2 = 1, this.rp0 = this.rp1 = this.rp2 = 0;case "prep":
                this.fv = this.pv = this.dpv = xf, this.round = Ob;}
          }function Xb(a) {
            for (var b = a.tZone = new Array(a.gZone.length), c = 0; c < b.length; c++) {
              b[c] = new Vb(0, 0);
            }
          }function Yb(a, b) {
            var c,
                d = a.prog,
                e = a.ip,
                f = 1;do {
              if (88 === (c = d[++e])) f++;else if (89 === c) f--;else if (64 === c) e += d[e + 1] + 1;else if (65 === c) e += 2 * d[e + 1] + 1;else if (c >= 176 && c <= 183) e += c - 176 + 1;else if (c >= 184 && c <= 191) e += 2 * (c - 184 + 1);else if (b && 1 === f && 27 === c) break;
            } while (f > 0);a.ip = e;
          }function Zb(b, c) {
            a.DEBUG && console.log(c.step, "SVTCA[" + b.axis + "]"), c.fv = c.pv = c.dpv = b;
          }function $b(b, c) {
            a.DEBUG && console.log(c.step, "SPVTCA[" + b.axis + "]"), c.pv = c.dpv = b;
          }function _b(b, c) {
            a.DEBUG && console.log(c.step, "SFVTCA[" + b.axis + "]"), c.fv = b;
          }function ac(b, c) {
            var d = c.stack,
                e = d.pop(),
                f = d.pop(),
                g = c.z2[e],
                h = c.z1[f];a.DEBUG && console.log("SPVTL[" + b + "]", e, f);var i, j;b ? (i = g.y - h.y, j = h.x - g.x) : (i = h.x - g.x, j = h.y - g.y), c.pv = c.dpv = Ub(i, j);
          }function bc(b, c) {
            var d = c.stack,
                e = d.pop(),
                f = d.pop(),
                g = c.z2[e],
                h = c.z1[f];a.DEBUG && console.log("SFVTL[" + b + "]", e, f);var i, j;b ? (i = g.y - h.y, j = h.x - g.x) : (i = h.x - g.x, j = h.y - g.y), c.fv = Ub(i, j);
          }function cc(b) {
            var c = b.stack,
                d = c.pop(),
                e = c.pop();a.DEBUG && console.log(b.step, "SPVFS[]", d, e), b.pv = b.dpv = Ub(e, d);
          }function dc(b) {
            var c = b.stack,
                d = c.pop(),
                e = c.pop();a.DEBUG && console.log(b.step, "SPVFS[]", d, e), b.fv = Ub(e, d);
          }function ec(b) {
            var c = b.stack,
                d = b.pv;a.DEBUG && console.log(b.step, "GPV[]"), c.push(16384 * d.x), c.push(16384 * d.y);
          }function fc(b) {
            var c = b.stack,
                d = b.fv;a.DEBUG && console.log(b.step, "GFV[]"), c.push(16384 * d.x), c.push(16384 * d.y);
          }function gc(b) {
            b.fv = b.pv, a.DEBUG && console.log(b.step, "SFVTPV[]");
          }function hc(b) {
            var c = b.stack,
                d = c.pop(),
                e = c.pop(),
                f = c.pop(),
                g = c.pop(),
                h = c.pop(),
                i = b.z0,
                j = b.z1,
                k = i[d],
                l = i[e],
                m = j[f],
                n = j[g],
                o = b.z2[h];a.DEBUG && console.log("ISECT[], ", d, e, f, g, h);var p = k.x,
                q = k.y,
                r = l.x,
                s = l.y,
                t = m.x,
                u = m.y,
                v = n.x,
                w = n.y,
                x = (p - r) * (u - w) - (q - s) * (t - v),
                y = p * s - q * r,
                z = t * w - u * v;o.x = (y * (t - v) - z * (p - r)) / x, o.y = (y * (u - w) - z * (q - s)) / x;
          }function ic(b) {
            b.rp0 = b.stack.pop(), a.DEBUG && console.log(b.step, "SRP0[]", b.rp0);
          }function jc(b) {
            b.rp1 = b.stack.pop(), a.DEBUG && console.log(b.step, "SRP1[]", b.rp1);
          }function kc(b) {
            b.rp2 = b.stack.pop(), a.DEBUG && console.log(b.step, "SRP2[]", b.rp2);
          }function lc(b) {
            var c = b.stack.pop();switch (a.DEBUG && console.log(b.step, "SZP0[]", c), b.zp0 = c, c) {case 0:
                b.tZone || Xb(b), b.z0 = b.tZone;break;case 1:
                b.z0 = b.gZone;break;default:
                throw new Error("Invalid zone pointer");}
          }function mc(b) {
            var c = b.stack.pop();switch (a.DEBUG && console.log(b.step, "SZP1[]", c), b.zp1 = c, c) {case 0:
                b.tZone || Xb(b), b.z1 = b.tZone;break;case 1:
                b.z1 = b.gZone;break;default:
                throw new Error("Invalid zone pointer");}
          }function nc(b) {
            var c = b.stack.pop();switch (a.DEBUG && console.log(b.step, "SZP2[]", c), b.zp2 = c, c) {case 0:
                b.tZone || Xb(b), b.z2 = b.tZone;break;case 1:
                b.z2 = b.gZone;break;default:
                throw new Error("Invalid zone pointer");}
          }function oc(b) {
            var c = b.stack.pop();switch (a.DEBUG && console.log(b.step, "SZPS[]", c), b.zp0 = b.zp1 = b.zp2 = c, c) {case 0:
                b.tZone || Xb(b), b.z0 = b.z1 = b.z2 = b.tZone;break;case 1:
                b.z0 = b.z1 = b.z2 = b.gZone;break;default:
                throw new Error("Invalid zone pointer");}
          }function pc(b) {
            b.loop = b.stack.pop(), a.DEBUG && console.log(b.step, "SLOOP[]", b.loop);
          }function qc(b) {
            a.DEBUG && console.log(b.step, "RTG[]"), b.round = Ob;
          }function rc(b) {
            a.DEBUG && console.log(b.step, "RTHG[]"), b.round = Qb;
          }function sc(b) {
            var c = b.stack.pop();a.DEBUG && console.log(b.step, "SMD[]", c), b.minDis = c / 64;
          }function tc(b) {
            a.DEBUG && console.log(b.step, "ELSE[]"), Yb(b, !1);
          }function uc(b) {
            var c = b.stack.pop();a.DEBUG && console.log(b.step, "JMPR[]", c), b.ip += c - 1;
          }function vc(b) {
            var c = b.stack.pop();a.DEBUG && console.log(b.step, "SCVTCI[]", c), b.cvCutIn = c / 64;
          }function wc(b) {
            var c = b.stack;a.DEBUG && console.log(b.step, "DUP[]"), c.push(c[c.length - 1]);
          }function xc(b) {
            a.DEBUG && console.log(b.step, "POP[]"), b.stack.pop();
          }function yc(b) {
            a.DEBUG && console.log(b.step, "CLEAR[]"), b.stack.length = 0;
          }function zc(b) {
            var c = b.stack,
                d = c.pop(),
                e = c.pop();a.DEBUG && console.log(b.step, "SWAP[]"), c.push(d), c.push(e);
          }function Ac(b) {
            var c = b.stack;a.DEBUG && console.log(b.step, "DEPTH[]"), c.push(c.length);
          }function Bc(b) {
            var c = b.stack,
                d = c.pop(),
                e = c.pop();a.DEBUG && console.log(b.step, "LOOPCALL[]", d, e);var f = b.ip,
                g = b.prog;b.prog = b.funcs[d];for (var h = 0; h < e; h++) {
              sf(b), a.DEBUG && console.log(++b.step, h + 1 < e ? "next loopcall" : "done loopcall", h);
            }b.ip = f, b.prog = g;
          }function Cc(b) {
            var c = b.stack.pop();a.DEBUG && console.log(b.step, "CALL[]", c);var d = b.ip,
                e = b.prog;b.prog = b.funcs[c], sf(b), b.ip = d, b.prog = e, a.DEBUG && console.log(++b.step, "returning from", c);
          }function Dc(b) {
            var c = b.stack,
                d = c.pop();a.DEBUG && console.log(b.step, "CINDEX[]", d), c.push(c[c.length - d]);
          }function Ec(b) {
            var c = b.stack,
                d = c.pop();a.DEBUG && console.log(b.step, "MINDEX[]", d), c.push(c.splice(c.length - d, 1)[0]);
          }function Fc(b) {
            if ("fpgm" !== b.env) throw new Error("FDEF not allowed here");var c = b.stack,
                d = b.prog,
                e = b.ip,
                f = c.pop(),
                g = e;for (a.DEBUG && console.log(b.step, "FDEF[]", f); 45 !== d[++e];) {}b.ip = e, b.funcs[f] = d.slice(g + 1, e);
          }function Gc(b, c) {
            var d = c.stack.pop(),
                e = c.z0[d],
                f = c.fv,
                g = c.pv;a.DEBUG && console.log(c.step, "MDAP[" + b + "]", d);var h = g.distance(e, zf);b && (h = c.round(h)), f.setRelative(e, zf, h, g), f.touch(e), c.rp0 = c.rp1 = d;
          }function Hc(b, c) {
            var d,
                e,
                f,
                g = c.z2,
                h = g.length - 2;a.DEBUG && console.log(c.step, "IUP[" + b.axis + "]");for (var i = 0; i < h; i++) {
              d = g[i], b.touched(d) || (e = d.prevTouched(b)) !== d && (f = d.nextTouched(b), e === f && b.setRelative(d, d, b.distance(e, e, !1, !0), b, !0), b.interpolate(d, e, f, b));
            }
          }function Ic(b, c) {
            for (var d = c.stack, e = b ? c.rp1 : c.rp2, f = (b ? c.z0 : c.z1)[e], g = c.fv, h = c.pv, i = c.loop, j = c.z2; i--;) {
              var k = d.pop(),
                  l = j[k],
                  m = h.distance(f, f, !1, !0);g.setRelative(l, l, m, h), g.touch(l), a.DEBUG && console.log(c.step, (c.loop > 1 ? "loop " + (c.loop - i) + ": " : "") + "SHP[" + (b ? "rp1" : "rp2") + "]", k);
            }c.loop = 1;
          }function Jc(b, c) {
            var d = c.stack,
                e = b ? c.rp1 : c.rp2,
                f = (b ? c.z0 : c.z1)[e],
                g = c.fv,
                h = c.pv,
                i = d.pop(),
                j = c.z2[c.contours[i]],
                k = j;a.DEBUG && console.log(c.step, "SHC[" + b + "]", i);var l = h.distance(f, f, !1, !0);do {
              k !== f && g.setRelative(k, k, l, h), k = k.nextPointOnContour;
            } while (k !== j);
          }function Kc(b, c) {
            var d = c.stack,
                e = b ? c.rp1 : c.rp2,
                f = (b ? c.z0 : c.z1)[e],
                g = c.fv,
                h = c.pv,
                i = d.pop();a.DEBUG && console.log(c.step, "SHZ[" + b + "]", i);var j;switch (i) {case 0:
                j = c.tZone;break;case 1:
                j = c.gZone;break;default:
                throw new Error("Invalid zone");}for (var k, l = h.distance(f, f, !1, !0), m = j.length - 2, n = 0; n < m; n++) {
              k = j[n], g.setRelative(k, k, l, h);
            }
          }function Lc(b) {
            for (var c = b.stack, d = b.loop, e = b.fv, f = c.pop() / 64, g = b.z2; d--;) {
              var h = c.pop(),
                  i = g[h];a.DEBUG && console.log(b.step, (b.loop > 1 ? "loop " + (b.loop - d) + ": " : "") + "SHPIX[]", h, f), e.setRelative(i, i, f), e.touch(i);
            }b.loop = 1;
          }function Mc(b) {
            for (var c = b.stack, d = b.rp1, e = b.rp2, f = b.loop, g = b.z0[d], h = b.z1[e], i = b.fv, j = b.dpv, k = b.z2; f--;) {
              var l = c.pop(),
                  m = k[l];a.DEBUG && console.log(b.step, (b.loop > 1 ? "loop " + (b.loop - f) + ": " : "") + "IP[]", l, d, "<->", e), i.interpolate(m, g, h, j), i.touch(m);
            }b.loop = 1;
          }function Nc(b, c) {
            var d = c.stack,
                e = d.pop() / 64,
                f = d.pop(),
                g = c.z1[f],
                h = c.z0[c.rp0],
                i = c.fv,
                j = c.pv;i.setRelative(g, h, e, j), i.touch(g), a.DEBUG && console.log(c.step, "MSIRP[" + b + "]", e, f), c.rp1 = c.rp0, c.rp2 = f, b && (c.rp0 = f);
          }function Oc(b) {
            for (var c = b.stack, d = b.rp0, e = b.z0[d], f = b.loop, g = b.fv, h = b.pv, i = b.z1; f--;) {
              var j = c.pop(),
                  k = i[j];a.DEBUG && console.log(b.step, (b.loop > 1 ? "loop " + (b.loop - f) + ": " : "") + "ALIGNRP[]", j), g.setRelative(k, e, 0, h), g.touch(k);
            }b.loop = 1;
          }function Pc(b) {
            a.DEBUG && console.log(b.step, "RTDG[]"), b.round = Pb;
          }function Qc(b, c) {
            var d = c.stack,
                e = d.pop(),
                f = d.pop(),
                g = c.z0[f],
                h = c.fv,
                i = c.pv,
                j = c.cvt[e];a.DEBUG && console.log(c.step, "MIAP[" + b + "]", e, "(", j, ")", f);var k = i.distance(g, zf);b && (Math.abs(k - j) < c.cvCutIn && (k = j), k = c.round(k)), h.setRelative(g, zf, k, i), 0 === c.zp0 && (g.xo = g.x, g.yo = g.y), h.touch(g), c.rp0 = c.rp1 = f;
          }function Rc(b) {
            var c = b.prog,
                d = b.ip,
                e = b.stack,
                f = c[++d];a.DEBUG && console.log(b.step, "NPUSHB[]", f);for (var g = 0; g < f; g++) {
              e.push(c[++d]);
            }b.ip = d;
          }function Sc(b) {
            var c = b.ip,
                d = b.prog,
                e = b.stack,
                f = d[++c];a.DEBUG && console.log(b.step, "NPUSHW[]", f);for (var g = 0; g < f; g++) {
              var h = d[++c] << 8 | d[++c];32768 & h && (h = -(1 + (65535 ^ h))), e.push(h);
            }b.ip = c;
          }function Tc(b) {
            var c = b.stack,
                d = b.store;d || (d = b.store = []);var e = c.pop(),
                f = c.pop();a.DEBUG && console.log(b.step, "WS", e, f), d[f] = e;
          }function Uc(b) {
            var c = b.stack,
                d = b.store,
                e = c.pop();a.DEBUG && console.log(b.step, "RS", e);var f = d && d[e] || 0;c.push(f);
          }function Vc(b) {
            var c = b.stack,
                d = c.pop(),
                e = c.pop();a.DEBUG && console.log(b.step, "WCVTP", d, e), b.cvt[e] = d / 64;
          }function Wc(b) {
            var c = b.stack,
                d = c.pop();a.DEBUG && console.log(b.step, "RCVT", d), c.push(64 * b.cvt[d]);
          }function Xc(b, c) {
            var d = c.stack,
                e = d.pop(),
                f = c.z2[e];a.DEBUG && console.log(c.step, "GC[" + b + "]", e), d.push(64 * c.dpv.distance(f, zf, b, !1));
          }function Yc(b, c) {
            var d = c.stack,
                e = d.pop(),
                f = d.pop(),
                g = c.z1[e],
                h = c.z0[f],
                i = c.dpv.distance(h, g, b, b);a.DEBUG && console.log(c.step, "MD[" + b + "]", e, f, "->", i), c.stack.push(Math.round(64 * i));
          }function Zc(b) {
            a.DEBUG && console.log(b.step, "MPPEM[]"), b.stack.push(b.ppem);
          }function $c(b) {
            a.DEBUG && console.log(b.step, "FLIPON[]"), b.autoFlip = !0;
          }function _c(b) {
            var c = b.stack,
                d = c.pop(),
                e = c.pop();a.DEBUG && console.log(b.step, "LT[]", d, e), c.push(e < d ? 1 : 0);
          }function ad(b) {
            var c = b.stack,
                d = c.pop(),
                e = c.pop();a.DEBUG && console.log(b.step, "LTEQ[]", d, e), c.push(e <= d ? 1 : 0);
          }function bd(b) {
            var c = b.stack,
                d = c.pop(),
                e = c.pop();a.DEBUG && console.log(b.step, "GT[]", d, e), c.push(e > d ? 1 : 0);
          }function cd(b) {
            var c = b.stack,
                d = c.pop(),
                e = c.pop();a.DEBUG && console.log(b.step, "GTEQ[]", d, e), c.push(e >= d ? 1 : 0);
          }function dd(b) {
            var c = b.stack,
                d = c.pop(),
                e = c.pop();a.DEBUG && console.log(b.step, "EQ[]", d, e), c.push(d === e ? 1 : 0);
          }function ed(b) {
            var c = b.stack,
                d = c.pop(),
                e = c.pop();a.DEBUG && console.log(b.step, "NEQ[]", d, e), c.push(d !== e ? 1 : 0);
          }function fd(b) {
            var c = b.stack,
                d = c.pop();a.DEBUG && console.log(b.step, "ODD[]", d), c.push(Math.trunc(d) % 2 ? 1 : 0);
          }function gd(b) {
            var c = b.stack,
                d = c.pop();a.DEBUG && console.log(b.step, "EVEN[]", d), c.push(Math.trunc(d) % 2 ? 0 : 1);
          }function hd(b) {
            var c = b.stack.pop();a.DEBUG && console.log(b.step, "IF[]", c), c || (Yb(b, !0), a.DEBUG && console.log(b.step, "EIF[]"));
          }function id(b) {
            a.DEBUG && console.log(b.step, "EIF[]");
          }function jd(b) {
            var c = b.stack,
                d = c.pop(),
                e = c.pop();a.DEBUG && console.log(b.step, "AND[]", d, e), c.push(d && e ? 1 : 0);
          }function kd(b) {
            var c = b.stack,
                d = c.pop(),
                e = c.pop();a.DEBUG && console.log(b.step, "OR[]", d, e), c.push(d || e ? 1 : 0);
          }function ld(b) {
            var c = b.stack,
                d = c.pop();a.DEBUG && console.log(b.step, "NOT[]", d), c.push(d ? 0 : 1);
          }function md(b, c) {
            var d = c.stack,
                e = d.pop(),
                f = c.fv,
                g = c.pv,
                h = c.ppem,
                i = c.deltaBase + 16 * (b - 1),
                j = c.deltaShift,
                k = c.z0;a.DEBUG && console.log(c.step, "DELTAP[" + b + "]", e, d);for (var l = 0; l < e; l++) {
              var m = d.pop(),
                  n = d.pop();if (i + ((240 & n) >> 4) === h) {
                var o = (15 & n) - 8;o >= 0 && o++, a.DEBUG && console.log(c.step, "DELTAPFIX", m, "by", o * j);var p = k[m];f.setRelative(p, p, o * j, g);
              }
            }
          }function nd(b) {
            var c = b.stack,
                d = c.pop();a.DEBUG && console.log(b.step, "SDB[]", d), b.deltaBase = d;
          }function od(b) {
            var c = b.stack,
                d = c.pop();a.DEBUG && console.log(b.step, "SDS[]", d), b.deltaShift = Math.pow(.5, d);
          }function pd(b) {
            var c = b.stack,
                d = c.pop(),
                e = c.pop();a.DEBUG && console.log(b.step, "ADD[]", d, e), c.push(e + d);
          }function qd(b) {
            var c = b.stack,
                d = c.pop(),
                e = c.pop();a.DEBUG && console.log(b.step, "SUB[]", d, e), c.push(e - d);
          }function rd(b) {
            var c = b.stack,
                d = c.pop(),
                e = c.pop();a.DEBUG && console.log(b.step, "DIV[]", d, e), c.push(64 * e / d);
          }function sd(b) {
            var c = b.stack,
                d = c.pop(),
                e = c.pop();a.DEBUG && console.log(b.step, "MUL[]", d, e), c.push(e * d / 64);
          }function td(b) {
            var c = b.stack,
                d = c.pop();a.DEBUG && console.log(b.step, "ABS[]", d), c.push(Math.abs(d));
          }function ud(b) {
            var c = b.stack,
                d = c.pop();a.DEBUG && console.log(b.step, "NEG[]", d), c.push(-d);
          }function vd(b) {
            var c = b.stack,
                d = c.pop();a.DEBUG && console.log(b.step, "FLOOR[]", d), c.push(64 * Math.floor(d / 64));
          }function wd(b) {
            var c = b.stack,
                d = c.pop();a.DEBUG && console.log(b.step, "CEILING[]", d), c.push(64 * Math.ceil(d / 64));
          }function xd(b, c) {
            var d = c.stack,
                e = d.pop();a.DEBUG && console.log(c.step, "ROUND[]"), d.push(64 * c.round(e / 64));
          }function yd(b) {
            var c = b.stack,
                d = c.pop(),
                e = c.pop();a.DEBUG && console.log(b.step, "WCVTF[]", d, e), b.cvt[e] = d * b.ppem / b.font.unitsPerEm;
          }function zd(b, c) {
            var d = c.stack,
                e = d.pop(),
                f = c.ppem,
                g = c.deltaBase + 16 * (b - 1),
                h = c.deltaShift;a.DEBUG && console.log(c.step, "DELTAC[" + b + "]", e, d);for (var i = 0; i < e; i++) {
              var j = d.pop(),
                  k = d.pop();if (g + ((240 & k) >> 4) === f) {
                var l = (15 & k) - 8;l >= 0 && l++;var m = l * h;a.DEBUG && console.log(c.step, "DELTACFIX", j, "by", m), c.cvt[j] += m;
              }
            }
          }function Ad(b) {
            var c = b.stack.pop();a.DEBUG && console.log(b.step, "SROUND[]", c), b.round = wf;var d;switch (192 & c) {case 0:
                d = .5;break;case 64:
                d = 1;break;case 128:
                d = 2;break;default:
                throw new Error("invalid SROUND value");}switch (b.srPeriod = d, 48 & c) {case 0:
                b.srPhase = 0;break;case 16:
                b.srPhase = .25 * d;break;case 32:
                b.srPhase = .5 * d;break;case 48:
                b.srPhase = .75 * d;break;default:
                throw new Error("invalid SROUND value");}c &= 15, b.srThreshold = 0 === c ? 0 : (c / 8 - .5) * d;
          }function Bd(b) {
            var c = b.stack.pop();a.DEBUG && console.log(b.step, "S45ROUND[]", c), b.round = wf;var d;switch (192 & c) {case 0:
                d = Math.sqrt(2) / 2;break;case 64:
                d = Math.sqrt(2);break;case 128:
                d = 2 * Math.sqrt(2);break;default:
                throw new Error("invalid S45ROUND value");}switch (b.srPeriod = d, 48 & c) {case 0:
                b.srPhase = 0;break;case 16:
                b.srPhase = .25 * d;break;case 32:
                b.srPhase = .5 * d;break;case 48:
                b.srPhase = .75 * d;break;default:
                throw new Error("invalid S45ROUND value");}c &= 15, b.srThreshold = 0 === c ? 0 : (c / 8 - .5) * d;
          }function Cd(b) {
            a.DEBUG && console.log(b.step, "ROFF[]"), b.round = Nb;
          }function Dd(b) {
            a.DEBUG && console.log(b.step, "RUTG[]"), b.round = Rb;
          }function Ed(b) {
            a.DEBUG && console.log(b.step, "RDTG[]"), b.round = Sb;
          }function Fd(b) {
            var c = b.stack.pop();a.DEBUG && console.log(b.step, "SCANCTRL[]", c);
          }function Gd(b, c) {
            var d = c.stack,
                e = d.pop(),
                f = d.pop(),
                g = c.z2[e],
                h = c.z1[f];a.DEBUG && console.log(c.step, "SDPVTL[" + b + "]", e, f);var i, j;b ? (i = g.y - h.y, j = h.x - g.x) : (i = h.x - g.x, j = h.y - g.y), c.dpv = Ub(i, j);
          }function Hd(b) {
            var c = b.stack,
                d = c.pop(),
                e = 0;a.DEBUG && console.log(b.step, "GETINFO[]", d), 1 & d && (e = 35), 32 & d && (e |= 4096), c.push(e);
          }function Id(b) {
            var c = b.stack,
                d = c.pop(),
                e = c.pop(),
                f = c.pop();a.DEBUG && console.log(b.step, "ROLL[]"), c.push(e), c.push(d), c.push(f);
          }function Jd(b) {
            var c = b.stack,
                d = c.pop(),
                e = c.pop();a.DEBUG && console.log(b.step, "MAX[]", d, e), c.push(Math.max(e, d));
          }function Kd(b) {
            var c = b.stack,
                d = c.pop(),
                e = c.pop();a.DEBUG && console.log(b.step, "MIN[]", d, e), c.push(Math.min(e, d));
          }function Ld(b) {
            var c = b.stack.pop();a.DEBUG && console.log(b.step, "SCANTYPE[]", c);
          }function Md(b) {
            var c = b.stack.pop(),
                d = b.stack.pop();switch (a.DEBUG && console.log(b.step, "INSTCTRL[]", c, d), c) {case 1:
                return void (b.inhibitGridFit = !!d);case 2:
                return void (b.ignoreCvt = !!d);default:
                throw new Error("invalid INSTCTRL[] selector");}
          }function Nd(b, c) {
            var d = c.stack,
                e = c.prog,
                f = c.ip;a.DEBUG && console.log(c.step, "PUSHB[" + b + "]");for (var g = 0; g < b; g++) {
              d.push(e[++f]);
            }c.ip = f;
          }function Od(b, c) {
            var d = c.ip,
                e = c.prog,
                f = c.stack;a.DEBUG && console.log(c.ip, "PUSHW[" + b + "]");for (var g = 0; g < b; g++) {
              var h = e[++d] << 8 | e[++d];32768 & h && (h = -(1 + (65535 ^ h))), f.push(h);
            }c.ip = d;
          }function Pd(b, c, d, e, f, g) {
            var h,
                i,
                j,
                k,
                l = g.stack,
                m = b && l.pop(),
                n = l.pop(),
                o = g.rp0,
                p = g.z0[o],
                q = g.z1[n],
                r = g.minDis,
                s = g.fv,
                t = g.dpv;i = h = t.distance(q, p, !0, !0), j = i >= 0 ? 1 : -1, i = Math.abs(i), b && (k = g.cvt[m], e && Math.abs(i - k) < g.cvCutIn && (i = k)), d && i < r && (i = r), e && (i = g.round(i)), s.setRelative(q, p, j * i, t), s.touch(q), a.DEBUG && console.log(g.step, (b ? "MIRP[" : "MDRP[") + (c ? "M" : "m") + (d ? ">" : "_") + (e ? "R" : "_") + (0 === f ? "Gr" : 1 === f ? "Bl" : 2 === f ? "Wh" : "") + "]", b ? m + "(" + g.cvt[m] + "," + k + ")" : "", n, "(d =", h, "->", j * i, ")"), g.rp1 = g.rp0, g.rp2 = n, c && (g.rp0 = n);
          }function Qd(a) {
            a = a || {}, a.empty || (Eb(a.familyName, "When creating a new Font object, familyName is required."), Eb(a.styleName, "When creating a new Font object, styleName is required."), Eb(a.unitsPerEm, "When creating a new Font object, unitsPerEm is required."), Eb(a.ascender, "When creating a new Font object, ascender is required."), Eb(a.descender, "When creating a new Font object, descender is required."), Eb(a.descender < 0, "Descender should be negative (e.g. -512)."), this.names = { fontFamily: { en: a.familyName || " " }, fontSubfamily: { en: a.styleName || " " }, fullName: { en: a.fullName || a.familyName + " " + a.styleName }, postScriptName: { en: a.postScriptName || (a.familyName + a.styleName).replace(/\s/g, "") }, designer: { en: a.designer || " " }, designerURL: { en: a.designerURL || " " }, manufacturer: { en: a.manufacturer || " " }, manufacturerURL: { en: a.manufacturerURL || " " }, license: { en: a.license || " " }, licenseURL: { en: a.licenseURL || " " }, version: { en: a.version || "Version 0.1" }, description: { en: a.description || " " }, copyright: { en: a.copyright || " " }, trademark: { en: a.trademark || " " } }, this.unitsPerEm = a.unitsPerEm || 1e3, this.ascender = a.ascender, this.descender = a.descender, this.createdTimestamp = a.createdTimestamp, this.tables = { os2: { usWeightClass: a.weightClass || this.usWeightClasses.MEDIUM, usWidthClass: a.widthClass || this.usWidthClasses.MEDIUM, fsSelection: a.fsSelection || this.fsSelectionValues.REGULAR } }), this.supported = !0, this.glyphs = new Se.GlyphSet(this, a.glyphs || []), this.encoding = new X(this), this.position = new xb(this), this.substitution = new yb(this), this.tables = this.tables || {}, Object.defineProperty(this, "hinting", { get: function get() {
                return this._hinting ? this._hinting : "truetype" === this.outlinesFormat ? this._hinting = new Mb(this) : void 0;
              } });
          }function Rd(a, b) {
            var c = JSON.stringify(a),
                d = 256;for (var e in b) {
              var f = parseInt(e);if (f && !(f < 256)) {
                if (JSON.stringify(b[e]) === c) return f;d <= f && (d = f + 1);
              }
            }return b[d] = a, d;
          }function Sd(a, b, c) {
            var d = Rd(b.name, c);return [{ name: "tag_" + a, type: "TAG", value: b.tag }, { name: "minValue_" + a, type: "FIXED", value: b.minValue << 16 }, { name: "defaultValue_" + a, type: "FIXED", value: b.defaultValue << 16 }, { name: "maxValue_" + a, type: "FIXED", value: b.maxValue << 16 }, { name: "flags_" + a, type: "USHORT", value: 0 }, { name: "nameID_" + a, type: "USHORT", value: d }];
          }function Td(a, b, c) {
            var d = {},
                e = new Le.Parser(a, b);return d.tag = e.parseTag(), d.minValue = e.parseFixed(), d.defaultValue = e.parseFixed(), d.maxValue = e.parseFixed(), e.skip("uShort", 1), d.name = c[e.parseUShort()] || {}, d;
          }function Ud(a, b, c, d) {
            for (var e = Rd(b.name, d), f = [{ name: "nameID_" + a, type: "USHORT", value: e }, { name: "flags_" + a, type: "USHORT", value: 0 }], g = 0; g < c.length; ++g) {
              var h = c[g].tag;f.push({ name: "axis_" + a + " " + h, type: "FIXED", value: b.coordinates[h] << 16 });
            }return f;
          }function Vd(a, b, c, d) {
            var e = {},
                f = new Le.Parser(a, b);e.name = d[f.parseUShort()] || {}, f.skip("uShort", 1), e.coordinates = {};for (var g = 0; g < c.length; ++g) {
              e.coordinates[c[g].tag] = f.parseFixed();
            }return e;
          }function Wd(a, b) {
            var c = new Ie.Table("fvar", [{ name: "version", type: "ULONG", value: 65536 }, { name: "offsetToData", type: "USHORT", value: 0 }, { name: "countSizePairs", type: "USHORT", value: 2 }, { name: "axisCount", type: "USHORT", value: a.axes.length }, { name: "axisSize", type: "USHORT", value: 20 }, { name: "instanceCount", type: "USHORT", value: a.instances.length }, { name: "instanceSize", type: "USHORT", value: 4 + 4 * a.axes.length }]);c.offsetToData = c.sizeOf();for (var d = 0; d < a.axes.length; d++) {
              c.fields = c.fields.concat(Sd(d, a.axes[d], b));
            }for (var e = 0; e < a.instances.length; e++) {
              c.fields = c.fields.concat(Ud(e, a.instances[e], a.axes, b));
            }return c;
          }function Xd(a, b, c) {
            var d = new Le.Parser(a, b),
                e = d.parseULong();xe.argument(65536 === e, "Unsupported fvar table version.");var f = d.parseOffset16();d.skip("uShort", 1);for (var g = d.parseUShort(), h = d.parseUShort(), i = d.parseUShort(), j = d.parseUShort(), k = [], l = 0; l < g; l++) {
              k.push(Td(a, b + f + l * h, c));
            }for (var m = [], n = b + f + g * h, o = 0; o < i; o++) {
              m.push(Vd(a, n + o * j, k, c));
            }return { axes: k, instances: m };
          }function Yd(a, b) {
            b = b || 0;var c = new Q(a, b),
                d = c.parseVersion(1);return xe.argument(1 === d || 1.1 === d, "Unsupported GPOS table version " + d), 1 === d ? { version: d, scripts: c.parseScriptList(), features: c.parseFeatureList(), lookups: c.parseLookupList(Df) } : { version: d, scripts: c.parseScriptList(), features: c.parseFeatureList(), lookups: c.parseLookupList(Df), variations: c.parseFeatureVariationsList() };
          }function Zd(a) {
            return new Ie.Table("GPOS", [{ name: "version", type: "ULONG", value: 65536 }, { name: "scripts", type: "TABLE", value: new Ie.ScriptList(a.scripts) }, { name: "features", type: "TABLE", value: new Ie.FeatureList(a.features) }, { name: "lookups", type: "TABLE", value: new Ie.LookupList(a.lookups, Ef) }]);
          }function $d(a) {
            var b = {};a.skip("uShort");var c = a.parseUShort();xe.argument(0 === c, "Unsupported kern sub-table version."), a.skip("uShort", 2);var d = a.parseUShort();a.skip("uShort", 3);for (var e = 0; e < d; e += 1) {
              var f = a.parseUShort(),
                  g = a.parseUShort(),
                  h = a.parseShort();b[f + "," + g] = h;
            }return b;
          }function _d(a) {
            var b = {};a.skip("uShort"), a.parseULong() > 1 && console.warn("Only the first kern subtable is supported."), a.skip("uLong");var c = a.parseUShort(),
                d = 255 & c;if (a.skip("uShort"), 0 === d) {
              var e = a.parseUShort();a.skip("uShort", 3);for (var f = 0; f < e; f += 1) {
                var g = a.parseUShort(),
                    h = a.parseUShort(),
                    i = a.parseShort();b[g + "," + h] = i;
              }
            }return b;
          }function ae(a, b) {
            var c = new Le.Parser(a, b),
                d = c.parseUShort();if (0 === d) return $d(c);if (1 === d) return _d(c);throw new Error("Unsupported kern table version (" + d + ").");
          }function be(a, b, c, d) {
            for (var e = new Le.Parser(a, b), f = d ? e.parseUShort : e.parseULong, g = [], h = 0; h < c + 1; h += 1) {
              var i = f.call(e);d && (i *= 2), g.push(i);
            }return g;
          }function ce(a, c) {
            b("fs").readFile(a, function (a, b) {
              if (a) return c(a.message);c(null, Cb(b));
            });
          }function de(a, b) {
            var c = new XMLHttpRequest();c.open("get", a, !0), c.responseType = "arraybuffer", c.onload = function () {
              return c.response ? b(null, c.response) : b("Font could not be loaded: " + c.statusText);
            }, c.onerror = function () {
              b("Font could not be loaded");
            }, c.send();
          }function ee(a, b) {
            for (var c = [], d = 12, e = 0; e < b; e += 1) {
              var f = Le.getTag(a, d),
                  g = Le.getULong(a, d + 4),
                  h = Le.getULong(a, d + 8),
                  i = Le.getULong(a, d + 12);c.push({ tag: f, checksum: g, offset: h, length: i, compression: !1 }), d += 16;
            }return c;
          }function fe(a, b) {
            for (var c = [], d = 44, e = 0; e < b; e += 1) {
              var f = Le.getTag(a, d),
                  g = Le.getULong(a, d + 4),
                  h = Le.getULong(a, d + 8),
                  i = Le.getULong(a, d + 12),
                  j = void 0;j = h < i && "WOFF", c.push({ tag: f, offset: g, compression: j, compressedLength: h, length: i }), d += 20;
            }return c;
          }function ge(a, b) {
            if ("WOFF" === b.compression) {
              var c = new Uint8Array(a.buffer, b.offset + 2, b.compressedLength - 2),
                  d = new Uint8Array(b.length);if (we(c, d), d.byteLength !== b.length) throw new Error("Decompression error: " + b.tag + " decompressed length doesn't match recorded length");return { data: new DataView(d.buffer, 0), offset: 0 };
            }return { data: a, offset: b.offset };
          }function he(a) {
            var b,
                c,
                d,
                e = new Qd({ empty: !0 }),
                f = new DataView(a, 0),
                g = [],
                h = Le.getTag(f, 0);if (h === String.fromCharCode(0, 1, 0, 0) || "true" === h || "typ1" === h) e.outlinesFormat = "truetype", d = Le.getUShort(f, 4), g = ee(f, d);else if ("OTTO" === h) e.outlinesFormat = "cff", d = Le.getUShort(f, 4), g = ee(f, d);else {
              if ("wOFF" !== h) throw new Error("Unsupported OpenType signature " + h);var i = Le.getTag(f, 4);if (i === String.fromCharCode(0, 1, 0, 0)) e.outlinesFormat = "truetype";else {
                if ("OTTO" !== i) throw new Error("Unsupported OpenType flavor " + h);e.outlinesFormat = "cff";
              }d = Le.getUShort(f, 12), g = fe(f, d);
            }for (var j, k, l, m, n, o, p, q, r, s, t, u = 0; u < d; u += 1) {
              var v = g[u],
                  w = void 0;switch (v.tag) {case "cmap":
                  w = ge(f, v), e.tables.cmap = Me.parse(w.data, w.offset), e.encoding = new Y(e.tables.cmap);break;case "cvt ":
                  w = ge(f, v), t = new Le.Parser(w.data, w.offset), e.tables.cvt = t.parseShortList(v.length / 2);break;case "fvar":
                  k = v;break;case "fpgm":
                  w = ge(f, v), t = new Le.Parser(w.data, w.offset), e.tables.fpgm = t.parseByteList(v.length);break;case "head":
                  w = ge(f, v), e.tables.head = We.parse(w.data, w.offset), e.unitsPerEm = e.tables.head.unitsPerEm, b = e.tables.head.indexToLocFormat;break;case "hhea":
                  w = ge(f, v), e.tables.hhea = Xe.parse(w.data, w.offset), e.ascender = e.tables.hhea.ascender, e.descender = e.tables.hhea.descender, e.numberOfHMetrics = e.tables.hhea.numberOfHMetrics;break;case "hmtx":
                  o = v;break;case "ltag":
                  w = ge(f, v), c = Ze.parse(w.data, w.offset);break;case "maxp":
                  w = ge(f, v), e.tables.maxp = $e.parse(w.data, w.offset), e.numGlyphs = e.tables.maxp.numGlyphs;break;case "name":
                  r = v;break;case "OS/2":
                  w = ge(f, v), e.tables.os2 = jf.parse(w.data, w.offset);break;case "post":
                  w = ge(f, v), e.tables.post = kf.parse(w.data, w.offset), e.glyphNames = new $(e.tables.post);break;case "prep":
                  w = ge(f, v), t = new Le.Parser(w.data, w.offset), e.tables.prep = t.parseByteList(v.length);break;case "glyf":
                  l = v;break;case "loca":
                  q = v;break;case "CFF ":
                  j = v;break;case "kern":
                  p = v;break;case "GPOS":
                  m = v;break;case "GSUB":
                  n = v;break;case "meta":
                  s = v;}
            }var x = ge(f, r);if (e.tables.name = gf.parse(x.data, x.offset, c), e.names = e.tables.name, l && q) {
              var y = 0 === b,
                  z = ge(f, q),
                  A = Hf.parse(z.data, z.offset, e.numGlyphs, y),
                  B = ge(f, l);e.glyphs = vf.parse(B.data, B.offset, A, e);
            } else {
              if (!j) throw new Error("Font doesn't contain TrueType or CFF outlines.");var C = ge(f, j);Ve.parse(C.data, C.offset, e);
            }var D = ge(f, o);if (Ye.parse(D.data, D.offset, e.numberOfHMetrics, e.numGlyphs, e.glyphs), _(e), p) {
              var E = ge(f, p);e.kerningPairs = Gf.parse(E.data, E.offset);
            } else e.kerningPairs = {};if (m) {
              var F = ge(f, m);e.tables.gpos = Ff.parse(F.data, F.offset), e.position.init();
            }if (n) {
              var G = ge(f, n);e.tables.gsub = of.parse(G.data, G.offset);
            }if (k) {
              var H = ge(f, k);e.tables.fvar = Cf.parse(H.data, H.offset, e.names);
            }if (s) {
              var I = ge(f, s);e.tables.meta = pf.parse(I.data, I.offset), e.metas = e.tables.meta;
            }return e;
          }function ie(a, b) {
            ("undefined" == typeof window ? ce : de)(a, function (a, c) {
              if (a) return b(a);var d;try {
                d = he(c);
              } catch (a) {
                return b(a, null);
              }return b(null, d);
            });
          }function je(a) {
            return he(Cb(b("fs").readFileSync(a)));
          }String.prototype.codePointAt || function () {
            var a = function () {
              try {
                var a = {},
                    b = Object.defineProperty,
                    c = b(a, a, a) && b;
              } catch (a) {}return c;
            }(),
                b = function b(a) {
              if (null == this) throw TypeError();var b = String(this),
                  c = b.length,
                  d = a ? Number(a) : 0;if (d != d && (d = 0), !(d < 0 || d >= c)) {
                var e,
                    f = b.charCodeAt(d);return f >= 55296 && f <= 56319 && c > d + 1 && (e = b.charCodeAt(d + 1)) >= 56320 && e <= 57343 ? 1024 * (f - 55296) + e - 56320 + 65536 : f;
              }
            };a ? a(String.prototype, "codePointAt", { value: b, configurable: !0, writable: !0 }) : String.prototype.codePointAt = b;
          }();var ke = 0,
              le = -3,
              me = new c(),
              ne = new c(),
              oe = new Uint8Array(30),
              pe = new Uint16Array(30),
              qe = new Uint8Array(30),
              re = new Uint16Array(30),
              se = new Uint8Array([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]),
              te = new c(),
              ue = new Uint8Array(320),
              ve = new Uint16Array(16);g(me, ne), f(oe, pe, 4, 3), f(qe, re, 2, 1), oe[28] = 0, pe[28] = 258;var we = o;q.prototype.isEmpty = function () {
            return isNaN(this.x1) || isNaN(this.y1) || isNaN(this.x2) || isNaN(this.y2);
          }, q.prototype.addPoint = function (a, b) {
            "number" == typeof a && ((isNaN(this.x1) || isNaN(this.x2)) && (this.x1 = a, this.x2 = a), a < this.x1 && (this.x1 = a), a > this.x2 && (this.x2 = a)), "number" == typeof b && ((isNaN(this.y1) || isNaN(this.y2)) && (this.y1 = b, this.y2 = b), b < this.y1 && (this.y1 = b), b > this.y2 && (this.y2 = b));
          }, q.prototype.addX = function (a) {
            this.addPoint(a, null);
          }, q.prototype.addY = function (a) {
            this.addPoint(null, a);
          }, q.prototype.addBezier = function (a, b, c, d, e, f, g, h) {
            var i = this,
                j = [a, b],
                k = [c, d],
                l = [e, f],
                m = [g, h];this.addPoint(a, b), this.addPoint(g, h);for (var n = 0; n <= 1; n++) {
              var o = 6 * j[n] - 12 * k[n] + 6 * l[n],
                  q = -3 * j[n] + 9 * k[n] - 9 * l[n] + 3 * m[n],
                  r = 3 * k[n] - 3 * j[n];if (0 !== q) {
                var s = Math.pow(o, 2) - 4 * r * q;if (!(s < 0)) {
                  var t = (-o + Math.sqrt(s)) / (2 * q);0 < t && t < 1 && (0 === n && i.addX(p(j[n], k[n], l[n], m[n], t)), 1 === n && i.addY(p(j[n], k[n], l[n], m[n], t)));var u = (-o - Math.sqrt(s)) / (2 * q);0 < u && u < 1 && (0 === n && i.addX(p(j[n], k[n], l[n], m[n], u)), 1 === n && i.addY(p(j[n], k[n], l[n], m[n], u)));
                }
              } else {
                if (0 === o) continue;var v = -r / o;0 < v && v < 1 && (0 === n && i.addX(p(j[n], k[n], l[n], m[n], v)), 1 === n && i.addY(p(j[n], k[n], l[n], m[n], v)));
              }
            }
          }, q.prototype.addQuad = function (a, b, c, d, e, f) {
            var g = a + 2 / 3 * (c - a),
                h = b + 2 / 3 * (d - b),
                i = g + 1 / 3 * (e - a),
                j = h + 1 / 3 * (f - b);this.addBezier(a, b, g, h, i, j, e, f);
          }, r.prototype.moveTo = function (a, b) {
            this.commands.push({ type: "M", x: a, y: b });
          }, r.prototype.lineTo = function (a, b) {
            this.commands.push({ type: "L", x: a, y: b });
          }, r.prototype.curveTo = r.prototype.bezierCurveTo = function (a, b, c, d, e, f) {
            this.commands.push({ type: "C", x1: a, y1: b, x2: c, y2: d, x: e, y: f });
          }, r.prototype.quadTo = r.prototype.quadraticCurveTo = function (a, b, c, d) {
            this.commands.push({ type: "Q", x1: a, y1: b, x: c, y: d });
          }, r.prototype.close = r.prototype.closePath = function () {
            this.commands.push({ type: "Z" });
          }, r.prototype.extend = function (a) {
            if (a.commands) a = a.commands;else if (a instanceof q) {
              var b = a;return this.moveTo(b.x1, b.y1), this.lineTo(b.x2, b.y1), this.lineTo(b.x2, b.y2), this.lineTo(b.x1, b.y2), void this.close();
            }Array.prototype.push.apply(this.commands, a);
          }, r.prototype.getBoundingBox = function () {
            for (var a = this, b = new q(), c = 0, d = 0, e = 0, f = 0, g = 0; g < this.commands.length; g++) {
              var h = a.commands[g];switch (h.type) {case "M":
                  b.addPoint(h.x, h.y), c = e = h.x, d = f = h.y;break;case "L":
                  b.addPoint(h.x, h.y), e = h.x, f = h.y;break;case "Q":
                  b.addQuad(e, f, h.x1, h.y1, h.x, h.y), e = h.x, f = h.y;break;case "C":
                  b.addBezier(e, f, h.x1, h.y1, h.x2, h.y2, h.x, h.y), e = h.x, f = h.y;break;case "Z":
                  e = c, f = d;break;default:
                  throw new Error("Unexpected path command " + h.type);}
            }return b.isEmpty() && b.addPoint(0, 0), b;
          }, r.prototype.draw = function (a) {
            var b = this;a.beginPath();for (var c = 0; c < this.commands.length; c += 1) {
              var d = b.commands[c];"M" === d.type ? a.moveTo(d.x, d.y) : "L" === d.type ? a.lineTo(d.x, d.y) : "C" === d.type ? a.bezierCurveTo(d.x1, d.y1, d.x2, d.y2, d.x, d.y) : "Q" === d.type ? a.quadraticCurveTo(d.x1, d.y1, d.x, d.y) : "Z" === d.type && a.closePath();
            }this.fill && (a.fillStyle = this.fill, a.fill()), this.stroke && (a.strokeStyle = this.stroke, a.lineWidth = this.strokeWidth, a.stroke());
          }, r.prototype.toPathData = function (a) {
            function b(b) {
              return Math.round(b) === b ? "" + Math.round(b) : b.toFixed(a);
            }function c() {
              for (var a = arguments, c = "", d = 0; d < arguments.length; d += 1) {
                var e = a[d];e >= 0 && d > 0 && (c += " "), c += b(e);
              }return c;
            }var d = this;a = void 0 !== a ? a : 2;for (var e = "", f = 0; f < this.commands.length; f += 1) {
              var g = d.commands[f];"M" === g.type ? e += "M" + c(g.x, g.y) : "L" === g.type ? e += "L" + c(g.x, g.y) : "C" === g.type ? e += "C" + c(g.x1, g.y1, g.x2, g.y2, g.x, g.y) : "Q" === g.type ? e += "Q" + c(g.x1, g.y1, g.x, g.y) : "Z" === g.type && (e += "Z");
            }return e;
          }, r.prototype.toSVG = function (a) {
            var b = '<path d="';return b += this.toPathData(a), b += '"', this.fill && "black" !== this.fill && (null === this.fill ? b += ' fill="none"' : b += ' fill="' + this.fill + '"'), this.stroke && (b += ' stroke="' + this.stroke + '" stroke-width="' + this.strokeWidth + '"'), b += "/>";
          }, r.prototype.toDOMElement = function (a) {
            var b = this.toPathData(a),
                c = document.createElementNS("http://www.w3.org/2000/svg", "path");return c.setAttribute("d", b), c;
          };var xe = { fail: s, argument: t, assert: t },
              ye = 32768,
              ze = 2147483648,
              Ae = {},
              Be = {},
              Ce = {};Be.BYTE = function (a) {
            return xe.argument(a >= 0 && a <= 255, "Byte value should be between 0 and 255."), [a];
          }, Ce.BYTE = u(1), Be.CHAR = function (a) {
            return [a.charCodeAt(0)];
          }, Ce.CHAR = u(1), Be.CHARARRAY = function (a) {
            for (var b = [], c = 0; c < a.length; c += 1) {
              b[c] = a.charCodeAt(c);
            }return b;
          }, Ce.CHARARRAY = function (a) {
            return a.length;
          }, Be.USHORT = function (a) {
            return [a >> 8 & 255, 255 & a];
          }, Ce.USHORT = u(2), Be.SHORT = function (a) {
            return a >= ye && (a = -(2 * ye - a)), [a >> 8 & 255, 255 & a];
          }, Ce.SHORT = u(2), Be.UINT24 = function (a) {
            return [a >> 16 & 255, a >> 8 & 255, 255 & a];
          }, Ce.UINT24 = u(3), Be.ULONG = function (a) {
            return [a >> 24 & 255, a >> 16 & 255, a >> 8 & 255, 255 & a];
          }, Ce.ULONG = u(4), Be.LONG = function (a) {
            return a >= ze && (a = -(2 * ze - a)), [a >> 24 & 255, a >> 16 & 255, a >> 8 & 255, 255 & a];
          }, Ce.LONG = u(4), Be.FIXED = Be.ULONG, Ce.FIXED = Ce.ULONG, Be.FWORD = Be.SHORT, Ce.FWORD = Ce.SHORT, Be.UFWORD = Be.USHORT, Ce.UFWORD = Ce.USHORT, Be.LONGDATETIME = function (a) {
            return [0, 0, 0, 0, a >> 24 & 255, a >> 16 & 255, a >> 8 & 255, 255 & a];
          }, Ce.LONGDATETIME = u(8), Be.TAG = function (a) {
            return xe.argument(4 === a.length, "Tag should be exactly 4 ASCII characters."), [a.charCodeAt(0), a.charCodeAt(1), a.charCodeAt(2), a.charCodeAt(3)];
          }, Ce.TAG = u(4), Be.Card8 = Be.BYTE, Ce.Card8 = Ce.BYTE, Be.Card16 = Be.USHORT, Ce.Card16 = Ce.USHORT, Be.OffSize = Be.BYTE, Ce.OffSize = Ce.BYTE, Be.SID = Be.USHORT, Ce.SID = Ce.USHORT, Be.NUMBER = function (a) {
            return a >= -107 && a <= 107 ? [a + 139] : a >= 108 && a <= 1131 ? (a -= 108, [247 + (a >> 8), 255 & a]) : a >= -1131 && a <= -108 ? (a = -a - 108, [251 + (a >> 8), 255 & a]) : a >= -32768 && a <= 32767 ? Be.NUMBER16(a) : Be.NUMBER32(a);
          }, Ce.NUMBER = function (a) {
            return Be.NUMBER(a).length;
          }, Be.NUMBER16 = function (a) {
            return [28, a >> 8 & 255, 255 & a];
          }, Ce.NUMBER16 = u(3), Be.NUMBER32 = function (a) {
            return [29, a >> 24 & 255, a >> 16 & 255, a >> 8 & 255, 255 & a];
          }, Ce.NUMBER32 = u(5), Be.REAL = function (a) {
            var b = a.toString(),
                c = /\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(b);if (c) {
              var d = parseFloat("1e" + ((c[2] ? +c[2] : 0) + c[1].length));b = (Math.round(a * d) / d).toString();
            }for (var e = "", f = 0, g = b.length; f < g; f += 1) {
              var h = b[f];e += "e" === h ? "-" === b[++f] ? "c" : "b" : "." === h ? "a" : "-" === h ? "e" : h;
            }e += 1 & e.length ? "f" : "ff";for (var i = [30], j = 0, k = e.length; j < k; j += 2) {
              i.push(parseInt(e.substr(j, 2), 16));
            }return i;
          }, Ce.REAL = function (a) {
            return Be.REAL(a).length;
          }, Be.NAME = Be.CHARARRAY, Ce.NAME = Ce.CHARARRAY, Be.STRING = Be.CHARARRAY, Ce.STRING = Ce.CHARARRAY, Ae.UTF8 = function (a, b, c) {
            for (var d = [], e = c, f = 0; f < e; f++, b += 1) {
              d[f] = a.getUint8(b);
            }return String.fromCharCode.apply(null, d);
          }, Ae.UTF16 = function (a, b, c) {
            for (var d = [], e = c / 2, f = 0; f < e; f++, b += 2) {
              d[f] = a.getUint16(b);
            }return String.fromCharCode.apply(null, d);
          }, Be.UTF16 = function (a) {
            for (var b = [], c = 0; c < a.length; c += 1) {
              var d = a.charCodeAt(c);b[b.length] = d >> 8 & 255, b[b.length] = 255 & d;
            }return b;
          }, Ce.UTF16 = function (a) {
            return 2 * a.length;
          };var De = { "x-mac-croatian": "ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ", "x-mac-cyrillic": "АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю", "x-mac-gaelic": "ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ", "x-mac-greek": "Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­", "x-mac-icelandic": "ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ", "x-mac-inuit": "ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł", "x-mac-ce": "ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ", macintosh: "ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ", "x-mac-romanian": "ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ", "x-mac-turkish": "ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ" };Ae.MACSTRING = function (a, b, c, d) {
            var e = De[d];if (void 0 !== e) {
              for (var f = "", g = 0; g < c; g++) {
                var h = a.getUint8(b + g);f += h <= 127 ? String.fromCharCode(h) : e[127 & h];
              }return f;
            }
          };var Ee,
              Fe = "function" == typeof WeakMap && new WeakMap(),
              Ge = function Ge(a) {
            if (!Ee) {
              Ee = {};for (var b in De) {
                Ee[b] = new String(b);
              }
            }var c = Ee[a];if (void 0 !== c) {
              if (Fe) {
                var d = Fe.get(c);if (void 0 !== d) return d;
              }var e = De[a];if (void 0 !== e) {
                for (var f = {}, g = 0; g < e.length; g++) {
                  f[e.charCodeAt(g)] = g + 128;
                }return Fe && Fe.set(c, f), f;
              }
            }
          };Be.MACSTRING = function (a, b) {
            var c = Ge(b);if (void 0 !== c) {
              for (var d = [], e = 0; e < a.length; e++) {
                var f = a.charCodeAt(e);if (f >= 128 && void 0 === (f = c[f])) return;d[e] = f;
              }return d;
            }
          }, Ce.MACSTRING = function (a, b) {
            var c = Be.MACSTRING(a, b);return void 0 !== c ? c.length : 0;
          }, Be.VARDELTAS = function (a) {
            for (var b = 0, c = []; b < a.length;) {
              var d = a[b];b = 0 === d ? w(a, b, c) : d >= -128 && d <= 127 ? x(a, b, c) : y(a, b, c);
            }return c;
          }, Be.INDEX = function (a) {
            for (var b = 1, c = [b], d = [], e = 0; e < a.length; e += 1) {
              var f = Be.OBJECT(a[e]);Array.prototype.push.apply(d, f), b += f.length, c.push(b);
            }if (0 === d.length) return [0, 0];for (var g = [], h = 1 + Math.floor(Math.log(b) / Math.log(2)) / 8 | 0, i = [void 0, Be.BYTE, Be.USHORT, Be.UINT24, Be.ULONG][h], j = 0; j < c.length; j += 1) {
              var k = i(c[j]);Array.prototype.push.apply(g, k);
            }return Array.prototype.concat(Be.Card16(a.length), Be.OffSize(h), g, d);
          }, Ce.INDEX = function (a) {
            return Be.INDEX(a).length;
          }, Be.DICT = function (a) {
            for (var b = [], c = Object.keys(a), d = c.length, e = 0; e < d; e += 1) {
              var f = parseInt(c[e], 0),
                  g = a[f];b = b.concat(Be.OPERAND(g.value, g.type)), b = b.concat(Be.OPERATOR(f));
            }return b;
          }, Ce.DICT = function (a) {
            return Be.DICT(a).length;
          }, Be.OPERATOR = function (a) {
            return a < 1200 ? [a] : [12, a - 1200];
          }, Be.OPERAND = function (a, b) {
            var c = [];if (Array.isArray(b)) for (var d = 0; d < b.length; d += 1) {
              xe.argument(a.length === b.length, "Not enough arguments given for type" + b), c = c.concat(Be.OPERAND(a[d], b[d]));
            } else if ("SID" === b) c = c.concat(Be.NUMBER(a));else if ("offset" === b) c = c.concat(Be.NUMBER32(a));else if ("number" === b) c = c.concat(Be.NUMBER(a));else {
              if ("real" !== b) throw new Error("Unknown operand type " + b);c = c.concat(Be.REAL(a));
            }return c;
          }, Be.OP = Be.BYTE, Ce.OP = Ce.BYTE;var He = "function" == typeof WeakMap && new WeakMap();Be.CHARSTRING = function (a) {
            if (He) {
              var b = He.get(a);if (void 0 !== b) return b;
            }for (var c = [], d = a.length, e = 0; e < d; e += 1) {
              var f = a[e];c = c.concat(Be[f.type](f.value));
            }return He && He.set(a, c), c;
          }, Ce.CHARSTRING = function (a) {
            return Be.CHARSTRING(a).length;
          }, Be.OBJECT = function (a) {
            var b = Be[a.type];return xe.argument(void 0 !== b, "No encoding function for type " + a.type), b(a.value);
          }, Ce.OBJECT = function (a) {
            var b = Ce[a.type];return xe.argument(void 0 !== b, "No sizeOf function for type " + a.type), b(a.value);
          }, Be.TABLE = function (a) {
            for (var b = [], c = a.fields.length, d = [], e = [], f = 0; f < c; f += 1) {
              var g = a.fields[f],
                  h = Be[g.type];xe.argument(void 0 !== h, "No encoding function for field type " + g.type + " (" + g.name + ")");var i = a[g.name];void 0 === i && (i = g.value);var j = h(i);"TABLE" === g.type ? (e.push(b.length), b = b.concat([0, 0]), d.push(j)) : b = b.concat(j);
            }for (var k = 0; k < d.length; k += 1) {
              var l = e[k],
                  m = b.length;xe.argument(m < 65536, "Table " + a.tableName + " too big."), b[l] = m >> 8, b[l + 1] = 255 & m, b = b.concat(d[k]);
            }return b;
          }, Ce.TABLE = function (a) {
            for (var b = 0, c = a.fields.length, d = 0; d < c; d += 1) {
              var e = a.fields[d],
                  f = Ce[e.type];xe.argument(void 0 !== f, "No sizeOf function for field type " + e.type + " (" + e.name + ")");var g = a[e.name];void 0 === g && (g = e.value), b += f(g), "TABLE" === e.type && (b += 2);
            }return b;
          }, Be.RECORD = Be.TABLE, Ce.RECORD = Ce.TABLE, Be.LITERAL = function (a) {
            return a;
          }, Ce.LITERAL = function (a) {
            return a.length;
          }, z.prototype.encode = function () {
            return Be.TABLE(this);
          }, z.prototype.sizeOf = function () {
            return Ce.TABLE(this);
          }, D.prototype = Object.create(z.prototype), D.prototype.constructor = D, E.prototype = Object.create(z.prototype), E.prototype.constructor = E, F.prototype = Object.create(z.prototype), F.prototype.constructor = F, G.prototype = Object.create(z.prototype), G.prototype.constructor = G;var Ie = { Table: z, Record: z, Coverage: D, ScriptList: E, FeatureList: F, LookupList: G, ushortList: A, tableList: B, recordList: C },
              Je = { byte: 1, uShort: 2, short: 2, uLong: 4, fixed: 4, longDateTime: 8, tag: 4 };Q.prototype.parseByte = function () {
            var a = this.data.getUint8(this.offset + this.relativeOffset);return this.relativeOffset += 1, a;
          }, Q.prototype.parseChar = function () {
            var a = this.data.getInt8(this.offset + this.relativeOffset);return this.relativeOffset += 1, a;
          }, Q.prototype.parseCard8 = Q.prototype.parseByte, Q.prototype.parseUShort = function () {
            var a = this.data.getUint16(this.offset + this.relativeOffset);return this.relativeOffset += 2, a;
          }, Q.prototype.parseCard16 = Q.prototype.parseUShort, Q.prototype.parseSID = Q.prototype.parseUShort, Q.prototype.parseOffset16 = Q.prototype.parseUShort, Q.prototype.parseShort = function () {
            var a = this.data.getInt16(this.offset + this.relativeOffset);return this.relativeOffset += 2, a;
          }, Q.prototype.parseF2Dot14 = function () {
            var a = this.data.getInt16(this.offset + this.relativeOffset) / 16384;return this.relativeOffset += 2, a;
          }, Q.prototype.parseULong = function () {
            var a = K(this.data, this.offset + this.relativeOffset);return this.relativeOffset += 4, a;
          }, Q.prototype.parseOffset32 = Q.prototype.parseULong, Q.prototype.parseFixed = function () {
            var a = L(this.data, this.offset + this.relativeOffset);return this.relativeOffset += 4, a;
          }, Q.prototype.parseString = function (a) {
            var b = this.data,
                c = this.offset + this.relativeOffset,
                d = "";this.relativeOffset += a;for (var e = 0; e < a; e++) {
              d += String.fromCharCode(b.getUint8(c + e));
            }return d;
          }, Q.prototype.parseTag = function () {
            return this.parseString(4);
          }, Q.prototype.parseLongDateTime = function () {
            var a = K(this.data, this.offset + this.relativeOffset + 4);return a -= 2082844800, this.relativeOffset += 8, a;
          }, Q.prototype.parseVersion = function (a) {
            var b = I(this.data, this.offset + this.relativeOffset),
                c = I(this.data, this.offset + this.relativeOffset + 2);return this.relativeOffset += 4, void 0 === a && (a = 4096), b + c / a / 10;
          }, Q.prototype.skip = function (a, b) {
            void 0 === b && (b = 1), this.relativeOffset += Je[a] * b;
          }, Q.prototype.parseULongList = function (a) {
            void 0 === a && (a = this.parseULong());for (var b = new Array(a), c = this.data, d = this.offset + this.relativeOffset, e = 0; e < a; e++) {
              b[e] = c.getUint32(d), d += 4;
            }return this.relativeOffset += 4 * a, b;
          }, Q.prototype.parseOffset16List = Q.prototype.parseUShortList = function (a) {
            void 0 === a && (a = this.parseUShort());for (var b = new Array(a), c = this.data, d = this.offset + this.relativeOffset, e = 0; e < a; e++) {
              b[e] = c.getUint16(d), d += 2;
            }return this.relativeOffset += 2 * a, b;
          }, Q.prototype.parseShortList = function (a) {
            for (var b = new Array(a), c = this.data, d = this.offset + this.relativeOffset, e = 0; e < a; e++) {
              b[e] = c.getInt16(d), d += 2;
            }return this.relativeOffset += 2 * a, b;
          }, Q.prototype.parseByteList = function (a) {
            for (var b = new Array(a), c = this.data, d = this.offset + this.relativeOffset, e = 0; e < a; e++) {
              b[e] = c.getUint8(d++);
            }return this.relativeOffset += a, b;
          }, Q.prototype.parseList = function (a, b) {
            var c = this;b || (b = a, a = this.parseUShort());for (var d = new Array(a), e = 0; e < a; e++) {
              d[e] = b.call(c);
            }return d;
          }, Q.prototype.parseList32 = function (a, b) {
            var c = this;b || (b = a, a = this.parseULong());for (var d = new Array(a), e = 0; e < a; e++) {
              d[e] = b.call(c);
            }return d;
          }, Q.prototype.parseRecordList = function (a, b) {
            var c = this;b || (b = a, a = this.parseUShort());for (var d = new Array(a), e = Object.keys(b), f = 0; f < a; f++) {
              for (var g = {}, h = 0; h < e.length; h++) {
                var i = e[h],
                    j = b[i];g[i] = j.call(c);
              }d[f] = g;
            }return d;
          }, Q.prototype.parseRecordList32 = function (a, b) {
            var c = this;b || (b = a, a = this.parseULong());for (var d = new Array(a), e = Object.keys(b), f = 0; f < a; f++) {
              for (var g = {}, h = 0; h < e.length; h++) {
                var i = e[h],
                    j = b[i];g[i] = j.call(c);
              }d[f] = g;
            }return d;
          }, Q.prototype.parseStruct = function (a) {
            var b = this;if ("function" == typeof a) return a.call(this);for (var c = Object.keys(a), d = {}, e = 0; e < c.length; e++) {
              var f = c[e],
                  g = a[f];d[f] = g.call(b);
            }return d;
          }, Q.prototype.parseValueRecord = function (a) {
            if (void 0 === a && (a = this.parseUShort()), 0 !== a) {
              var b = {};return 1 & a && (b.xPlacement = this.parseShort()), 2 & a && (b.yPlacement = this.parseShort()), 4 & a && (b.xAdvance = this.parseShort()), 8 & a && (b.yAdvance = this.parseShort()), 16 & a && (b.xPlaDevice = void 0, this.parseShort()), 32 & a && (b.yPlaDevice = void 0, this.parseShort()), 64 & a && (b.xAdvDevice = void 0, this.parseShort()), 128 & a && (b.yAdvDevice = void 0, this.parseShort()), b;
            }
          }, Q.prototype.parseValueRecordList = function () {
            for (var a = this, b = this.parseUShort(), c = this.parseUShort(), d = new Array(c), e = 0; e < c; e++) {
              d[e] = a.parseValueRecord(b);
            }return d;
          }, Q.prototype.parsePointer = function (a) {
            var b = this.parseOffset16();if (b > 0) return new Q(this.data, this.offset + b).parseStruct(a);
          }, Q.prototype.parsePointer32 = function (a) {
            var b = this.parseOffset32();if (b > 0) return new Q(this.data, this.offset + b).parseStruct(a);
          }, Q.prototype.parseListOfLists = function (a) {
            for (var b = this, c = this.parseOffset16List(), d = c.length, e = this.relativeOffset, f = new Array(d), g = 0; g < d; g++) {
              var h = c[g];if (0 !== h) {
                if (b.relativeOffset = h, a) {
                  for (var i = b.parseOffset16List(), j = new Array(i.length), k = 0; k < i.length; k++) {
                    b.relativeOffset = h + i[k], j[k] = a.call(b);
                  }f[g] = j;
                } else f[g] = b.parseUShortList();
              } else f[g] = void 0;
            }return this.relativeOffset = e, f;
          }, Q.prototype.parseCoverage = function () {
            var a = this,
                b = this.offset + this.relativeOffset,
                c = this.parseUShort(),
                d = this.parseUShort();if (1 === c) return { format: 1, glyphs: this.parseUShortList(d) };if (2 === c) {
              for (var e = new Array(d), f = 0; f < d; f++) {
                e[f] = { start: a.parseUShort(), end: a.parseUShort(), index: a.parseUShort() };
              }return { format: 2, ranges: e };
            }throw new Error("0x" + b.toString(16) + ": Coverage format must be 1 or 2.");
          }, Q.prototype.parseClassDef = function () {
            var a = this.offset + this.relativeOffset,
                b = this.parseUShort();if (1 === b) return { format: 1, startGlyph: this.parseUShort(), classes: this.parseUShortList() };if (2 === b) return { format: 2, ranges: this.parseRecordList({ start: Q.uShort, end: Q.uShort, classId: Q.uShort }) };throw new Error("0x" + a.toString(16) + ": ClassDef format must be 1 or 2.");
          }, Q.list = function (a, b) {
            return function () {
              return this.parseList(a, b);
            };
          }, Q.list32 = function (a, b) {
            return function () {
              return this.parseList32(a, b);
            };
          }, Q.recordList = function (a, b) {
            return function () {
              return this.parseRecordList(a, b);
            };
          }, Q.recordList32 = function (a, b) {
            return function () {
              return this.parseRecordList32(a, b);
            };
          }, Q.pointer = function (a) {
            return function () {
              return this.parsePointer(a);
            };
          }, Q.pointer32 = function (a) {
            return function () {
              return this.parsePointer32(a);
            };
          }, Q.tag = Q.prototype.parseTag, Q.byte = Q.prototype.parseByte, Q.uShort = Q.offset16 = Q.prototype.parseUShort, Q.uShortList = Q.prototype.parseUShortList, Q.uLong = Q.offset32 = Q.prototype.parseULong, Q.uLongList = Q.prototype.parseULongList, Q.struct = Q.prototype.parseStruct, Q.coverage = Q.prototype.parseCoverage, Q.classDef = Q.prototype.parseClassDef;var Ke = { reserved: Q.uShort, reqFeatureIndex: Q.uShort, featureIndexes: Q.uShortList };Q.prototype.parseScriptList = function () {
            return this.parsePointer(Q.recordList({ tag: Q.tag, script: Q.pointer({ defaultLangSys: Q.pointer(Ke), langSysRecords: Q.recordList({ tag: Q.tag, langSys: Q.pointer(Ke) }) }) })) || [];
          }, Q.prototype.parseFeatureList = function () {
            return this.parsePointer(Q.recordList({ tag: Q.tag, feature: Q.pointer({ featureParams: Q.offset16, lookupListIndexes: Q.uShortList }) })) || [];
          }, Q.prototype.parseLookupList = function (a) {
            return this.parsePointer(Q.list(Q.pointer(function () {
              var b = this.parseUShort();xe.argument(1 <= b && b <= 9, "GPOS/GSUB lookup type " + b + " unknown.");var c = this.parseUShort(),
                  d = 16 & c;return { lookupType: b, lookupFlag: c, subtables: this.parseList(Q.pointer(a[b])), markFilteringSet: d ? this.parseUShort() : void 0 };
            }))) || [];
          }, Q.prototype.parseFeatureVariationsList = function () {
            return this.parsePointer32(function () {
              var a = this.parseUShort(),
                  b = this.parseUShort();return xe.argument(1 === a && b < 1, "GPOS/GSUB feature variations table unknown."), this.parseRecordList32({ conditionSetOffset: Q.offset32, featureTableSubstitutionOffset: Q.offset32 });
            }) || [];
          };var Le = { getByte: H, getCard8: H, getUShort: I, getCard16: I, getShort: J, getULong: K, getFixed: L, getTag: M, getOffset: N, getBytes: O, bytesToString: P, Parser: Q },
              Me = { parse: T, make: W },
              Ne = [".notdef", "space", "exclam", "quotedbl", "numbersign", "dollar", "percent", "ampersand", "quoteright", "parenleft", "parenright", "asterisk", "plus", "comma", "hyphen", "period", "slash", "zero", "one", "two", "three", "four", "five", "six", "seven", "eight", "nine", "colon", "semicolon", "less", "equal", "greater", "question", "at", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "bracketleft", "backslash", "bracketright", "asciicircum", "underscore", "quoteleft", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "braceleft", "bar", "braceright", "asciitilde", "exclamdown", "cent", "sterling", "fraction", "yen", "florin", "section", "currency", "quotesingle", "quotedblleft", "guillemotleft", "guilsinglleft", "guilsinglright", "fi", "fl", "endash", "dagger", "daggerdbl", "periodcentered", "paragraph", "bullet", "quotesinglbase", "quotedblbase", "quotedblright", "guillemotright", "ellipsis", "perthousand", "questiondown", "grave", "acute", "circumflex", "tilde", "macron", "breve", "dotaccent", "dieresis", "ring", "cedilla", "hungarumlaut", "ogonek", "caron", "emdash", "AE", "ordfeminine", "Lslash", "Oslash", "OE", "ordmasculine", "ae", "dotlessi", "lslash", "oslash", "oe", "germandbls", "onesuperior", "logicalnot", "mu", "trademark", "Eth", "onehalf", "plusminus", "Thorn", "onequarter", "divide", "brokenbar", "degree", "thorn", "threequarters", "twosuperior", "registered", "minus", "eth", "multiply", "threesuperior", "copyright", "Aacute", "Acircumflex", "Adieresis", "Agrave", "Aring", "Atilde", "Ccedilla", "Eacute", "Ecircumflex", "Edieresis", "Egrave", "Iacute", "Icircumflex", "Idieresis", "Igrave", "Ntilde", "Oacute", "Ocircumflex", "Odieresis", "Ograve", "Otilde", "Scaron", "Uacute", "Ucircumflex", "Udieresis", "Ugrave", "Yacute", "Ydieresis", "Zcaron", "aacute", "acircumflex", "adieresis", "agrave", "aring", "atilde", "ccedilla", "eacute", "ecircumflex", "edieresis", "egrave", "iacute", "icircumflex", "idieresis", "igrave", "ntilde", "oacute", "ocircumflex", "odieresis", "ograve", "otilde", "scaron", "uacute", "ucircumflex", "udieresis", "ugrave", "yacute", "ydieresis", "zcaron", "exclamsmall", "Hungarumlautsmall", "dollaroldstyle", "dollarsuperior", "ampersandsmall", "Acutesmall", "parenleftsuperior", "parenrightsuperior", "266 ff", "onedotenleader", "zerooldstyle", "oneoldstyle", "twooldstyle", "threeoldstyle", "fouroldstyle", "fiveoldstyle", "sixoldstyle", "sevenoldstyle", "eightoldstyle", "nineoldstyle", "commasuperior", "threequartersemdash", "periodsuperior", "questionsmall", "asuperior", "bsuperior", "centsuperior", "dsuperior", "esuperior", "isuperior", "lsuperior", "msuperior", "nsuperior", "osuperior", "rsuperior", "ssuperior", "tsuperior", "ff", "ffi", "ffl", "parenleftinferior", "parenrightinferior", "Circumflexsmall", "hyphensuperior", "Gravesmall", "Asmall", "Bsmall", "Csmall", "Dsmall", "Esmall", "Fsmall", "Gsmall", "Hsmall", "Ismall", "Jsmall", "Ksmall", "Lsmall", "Msmall", "Nsmall", "Osmall", "Psmall", "Qsmall", "Rsmall", "Ssmall", "Tsmall", "Usmall", "Vsmall", "Wsmall", "Xsmall", "Ysmall", "Zsmall", "colonmonetary", "onefitted", "rupiah", "Tildesmall", "exclamdownsmall", "centoldstyle", "Lslashsmall", "Scaronsmall", "Zcaronsmall", "Dieresissmall", "Brevesmall", "Caronsmall", "Dotaccentsmall", "Macronsmall", "figuredash", "hypheninferior", "Ogoneksmall", "Ringsmall", "Cedillasmall", "questiondownsmall", "oneeighth", "threeeighths", "fiveeighths", "seveneighths", "onethird", "twothirds", "zerosuperior", "foursuperior", "fivesuperior", "sixsuperior", "sevensuperior", "eightsuperior", "ninesuperior", "zeroinferior", "oneinferior", "twoinferior", "threeinferior", "fourinferior", "fiveinferior", "sixinferior", "seveninferior", "eightinferior", "nineinferior", "centinferior", "dollarinferior", "periodinferior", "commainferior", "Agravesmall", "Aacutesmall", "Acircumflexsmall", "Atildesmall", "Adieresissmall", "Aringsmall", "AEsmall", "Ccedillasmall", "Egravesmall", "Eacutesmall", "Ecircumflexsmall", "Edieresissmall", "Igravesmall", "Iacutesmall", "Icircumflexsmall", "Idieresissmall", "Ethsmall", "Ntildesmall", "Ogravesmall", "Oacutesmall", "Ocircumflexsmall", "Otildesmall", "Odieresissmall", "OEsmall", "Oslashsmall", "Ugravesmall", "Uacutesmall", "Ucircumflexsmall", "Udieresissmall", "Yacutesmall", "Thornsmall", "Ydieresissmall", "001.000", "001.001", "001.002", "001.003", "Black", "Bold", "Book", "Light", "Medium", "Regular", "Roman", "Semibold"],
              Oe = ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "space", "exclam", "quotedbl", "numbersign", "dollar", "percent", "ampersand", "quoteright", "parenleft", "parenright", "asterisk", "plus", "comma", "hyphen", "period", "slash", "zero", "one", "two", "three", "four", "five", "six", "seven", "eight", "nine", "colon", "semicolon", "less", "equal", "greater", "question", "at", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "bracketleft", "backslash", "bracketright", "asciicircum", "underscore", "quoteleft", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "braceleft", "bar", "braceright", "asciitilde", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "exclamdown", "cent", "sterling", "fraction", "yen", "florin", "section", "currency", "quotesingle", "quotedblleft", "guillemotleft", "guilsinglleft", "guilsinglright", "fi", "fl", "", "endash", "dagger", "daggerdbl", "periodcentered", "", "paragraph", "bullet", "quotesinglbase", "quotedblbase", "quotedblright", "guillemotright", "ellipsis", "perthousand", "", "questiondown", "", "grave", "acute", "circumflex", "tilde", "macron", "breve", "dotaccent", "dieresis", "", "ring", "cedilla", "", "hungarumlaut", "ogonek", "caron", "emdash", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "AE", "", "ordfeminine", "", "", "", "", "Lslash", "Oslash", "OE", "ordmasculine", "", "", "", "", "", "ae", "", "", "", "dotlessi", "", "", "lslash", "oslash", "oe", "germandbls"],
              Pe = ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "space", "exclamsmall", "Hungarumlautsmall", "", "dollaroldstyle", "dollarsuperior", "ampersandsmall", "Acutesmall", "parenleftsuperior", "parenrightsuperior", "twodotenleader", "onedotenleader", "comma", "hyphen", "period", "fraction", "zerooldstyle", "oneoldstyle", "twooldstyle", "threeoldstyle", "fouroldstyle", "fiveoldstyle", "sixoldstyle", "sevenoldstyle", "eightoldstyle", "nineoldstyle", "colon", "semicolon", "commasuperior", "threequartersemdash", "periodsuperior", "questionsmall", "", "asuperior", "bsuperior", "centsuperior", "dsuperior", "esuperior", "", "", "isuperior", "", "", "lsuperior", "msuperior", "nsuperior", "osuperior", "", "", "rsuperior", "ssuperior", "tsuperior", "", "ff", "fi", "fl", "ffi", "ffl", "parenleftinferior", "", "parenrightinferior", "Circumflexsmall", "hyphensuperior", "Gravesmall", "Asmall", "Bsmall", "Csmall", "Dsmall", "Esmall", "Fsmall", "Gsmall", "Hsmall", "Ismall", "Jsmall", "Ksmall", "Lsmall", "Msmall", "Nsmall", "Osmall", "Psmall", "Qsmall", "Rsmall", "Ssmall", "Tsmall", "Usmall", "Vsmall", "Wsmall", "Xsmall", "Ysmall", "Zsmall", "colonmonetary", "onefitted", "rupiah", "Tildesmall", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "exclamdownsmall", "centoldstyle", "Lslashsmall", "", "", "Scaronsmall", "Zcaronsmall", "Dieresissmall", "Brevesmall", "Caronsmall", "", "Dotaccentsmall", "", "", "Macronsmall", "", "", "figuredash", "hypheninferior", "", "", "Ogoneksmall", "Ringsmall", "Cedillasmall", "", "", "", "onequarter", "onehalf", "threequarters", "questiondownsmall", "oneeighth", "threeeighths", "fiveeighths", "seveneighths", "onethird", "twothirds", "", "", "zerosuperior", "onesuperior", "twosuperior", "threesuperior", "foursuperior", "fivesuperior", "sixsuperior", "sevensuperior", "eightsuperior", "ninesuperior", "zeroinferior", "oneinferior", "twoinferior", "threeinferior", "fourinferior", "fiveinferior", "sixinferior", "seveninferior", "eightinferior", "nineinferior", "centinferior", "dollarinferior", "periodinferior", "commainferior", "Agravesmall", "Aacutesmall", "Acircumflexsmall", "Atildesmall", "Adieresissmall", "Aringsmall", "AEsmall", "Ccedillasmall", "Egravesmall", "Eacutesmall", "Ecircumflexsmall", "Edieresissmall", "Igravesmall", "Iacutesmall", "Icircumflexsmall", "Idieresissmall", "Ethsmall", "Ntildesmall", "Ogravesmall", "Oacutesmall", "Ocircumflexsmall", "Otildesmall", "Odieresissmall", "OEsmall", "Oslashsmall", "Ugravesmall", "Uacutesmall", "Ucircumflexsmall", "Udieresissmall", "Yacutesmall", "Thornsmall", "Ydieresissmall"],
              Qe = [".notdef", ".null", "nonmarkingreturn", "space", "exclam", "quotedbl", "numbersign", "dollar", "percent", "ampersand", "quotesingle", "parenleft", "parenright", "asterisk", "plus", "comma", "hyphen", "period", "slash", "zero", "one", "two", "three", "four", "five", "six", "seven", "eight", "nine", "colon", "semicolon", "less", "equal", "greater", "question", "at", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "bracketleft", "backslash", "bracketright", "asciicircum", "underscore", "grave", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "braceleft", "bar", "braceright", "asciitilde", "Adieresis", "Aring", "Ccedilla", "Eacute", "Ntilde", "Odieresis", "Udieresis", "aacute", "agrave", "acircumflex", "adieresis", "atilde", "aring", "ccedilla", "eacute", "egrave", "ecircumflex", "edieresis", "iacute", "igrave", "icircumflex", "idieresis", "ntilde", "oacute", "ograve", "ocircumflex", "odieresis", "otilde", "uacute", "ugrave", "ucircumflex", "udieresis", "dagger", "degree", "cent", "sterling", "section", "bullet", "paragraph", "germandbls", "registered", "copyright", "trademark", "acute", "dieresis", "notequal", "AE", "Oslash", "infinity", "plusminus", "lessequal", "greaterequal", "yen", "mu", "partialdiff", "summation", "product", "pi", "integral", "ordfeminine", "ordmasculine", "Omega", "ae", "oslash", "questiondown", "exclamdown", "logicalnot", "radical", "florin", "approxequal", "Delta", "guillemotleft", "guillemotright", "ellipsis", "nonbreakingspace", "Agrave", "Atilde", "Otilde", "OE", "oe", "endash", "emdash", "quotedblleft", "quotedblright", "quoteleft", "quoteright", "divide", "lozenge", "ydieresis", "Ydieresis", "fraction", "currency", "guilsinglleft", "guilsinglright", "fi", "fl", "daggerdbl", "periodcentered", "quotesinglbase", "quotedblbase", "perthousand", "Acircumflex", "Ecircumflex", "Aacute", "Edieresis", "Egrave", "Iacute", "Icircumflex", "Idieresis", "Igrave", "Oacute", "Ocircumflex", "apple", "Ograve", "Uacute", "Ucircumflex", "Ugrave", "dotlessi", "circumflex", "tilde", "macron", "breve", "dotaccent", "ring", "cedilla", "hungarumlaut", "ogonek", "caron", "Lslash", "lslash", "Scaron", "scaron", "Zcaron", "zcaron", "brokenbar", "Eth", "eth", "Yacute", "yacute", "Thorn", "thorn", "minus", "multiply", "onesuperior", "twosuperior", "threesuperior", "onehalf", "onequarter", "threequarters", "franc", "Gbreve", "gbreve", "Idotaccent", "Scedilla", "scedilla", "Cacute", "cacute", "Ccaron", "ccaron", "dcroat"];X.prototype.charToGlyphIndex = function (a) {
            var b = a.codePointAt(0),
                c = this.font.glyphs;if (c) for (var d = 0; d < c.length; d += 1) {
              for (var e = c.get(d), f = 0; f < e.unicodes.length; f += 1) {
                if (e.unicodes[f] === b) return d;
              }
            }return null;
          }, Y.prototype.charToGlyphIndex = function (a) {
            return this.cmap.glyphIndexMap[a.codePointAt(0)] || 0;
          }, Z.prototype.charToGlyphIndex = function (a) {
            var b = a.codePointAt(0),
                c = this.encoding[b];return this.charset.indexOf(c);
          }, $.prototype.nameToGlyphIndex = function (a) {
            return this.names.indexOf(a);
          }, $.prototype.glyphIndexToName = function (a) {
            return this.names[a];
          };var Re = { line: aa };ca.prototype.bindConstructorValues = function (a) {
            this.index = a.index || 0, this.name = a.name || null, this.unicode = a.unicode || void 0, this.unicodes = a.unicodes || void 0 !== a.unicode ? [a.unicode] : [], a.xMin && (this.xMin = a.xMin), a.yMin && (this.yMin = a.yMin), a.xMax && (this.xMax = a.xMax), a.yMax && (this.yMax = a.yMax), a.advanceWidth && (this.advanceWidth = a.advanceWidth), Object.defineProperty(this, "path", ba(this, a.path));
          }, ca.prototype.addUnicode = function (a) {
            0 === this.unicodes.length && (this.unicode = a), this.unicodes.push(a);
          }, ca.prototype.getBoundingBox = function () {
            return this.path.getBoundingBox();
          }, ca.prototype.getPath = function (a, b, c, d, e) {
            a = void 0 !== a ? a : 0, b = void 0 !== b ? b : 0, c = void 0 !== c ? c : 72;var f, g;d || (d = {});var h = d.xScale,
                i = d.yScale;if (d.hinting && e && e.hinting && (g = this.path && e.hinting.exec(this, c)), g) f = e.hinting.getCommands(g), a = Math.round(a), b = Math.round(b), h = i = 1;else {
              f = this.path.commands;var j = 1 / this.path.unitsPerEm * c;void 0 === h && (h = j), void 0 === i && (i = j);
            }for (var k = new r(), l = 0; l < f.length; l += 1) {
              var m = f[l];"M" === m.type ? k.moveTo(a + m.x * h, b + -m.y * i) : "L" === m.type ? k.lineTo(a + m.x * h, b + -m.y * i) : "Q" === m.type ? k.quadraticCurveTo(a + m.x1 * h, b + -m.y1 * i, a + m.x * h, b + -m.y * i) : "C" === m.type ? k.curveTo(a + m.x1 * h, b + -m.y1 * i, a + m.x2 * h, b + -m.y2 * i, a + m.x * h, b + -m.y * i) : "Z" === m.type && k.closePath();
            }return k;
          }, ca.prototype.getContours = function () {
            var a = this;if (void 0 === this.points) return [];for (var b = [], c = [], d = 0; d < this.points.length; d += 1) {
              var e = a.points[d];c.push(e), e.lastPointOfContour && (b.push(c), c = []);
            }return xe.argument(0 === c.length, "There are still points left in the current contour."), b;
          }, ca.prototype.getMetrics = function () {
            for (var a = this.path.commands, b = [], c = [], d = 0; d < a.length; d += 1) {
              var e = a[d];"Z" !== e.type && (b.push(e.x), c.push(e.y)), "Q" !== e.type && "C" !== e.type || (b.push(e.x1), c.push(e.y1)), "C" === e.type && (b.push(e.x2), c.push(e.y2));
            }var f = { xMin: Math.min.apply(null, b), yMin: Math.min.apply(null, c), xMax: Math.max.apply(null, b), yMax: Math.max.apply(null, c), leftSideBearing: this.leftSideBearing };return isFinite(f.xMin) || (f.xMin = 0), isFinite(f.xMax) || (f.xMax = this.advanceWidth), isFinite(f.yMin) || (f.yMin = 0), isFinite(f.yMax) || (f.yMax = 0), f.rightSideBearing = this.advanceWidth - f.leftSideBearing - (f.xMax - f.xMin), f;
          }, ca.prototype.draw = function (a, b, c, d, e) {
            this.getPath(b, c, d, e).draw(a);
          }, ca.prototype.drawPoints = function (a, b, c, d) {
            function e(b, c, d, e) {
              var f = 2 * Math.PI;a.beginPath();for (var g = 0; g < b.length; g += 1) {
                a.moveTo(c + b[g].x * e, d + b[g].y * e), a.arc(c + b[g].x * e, d + b[g].y * e, 2, 0, f, !1);
              }a.closePath(), a.fill();
            }b = void 0 !== b ? b : 0, c = void 0 !== c ? c : 0, d = void 0 !== d ? d : 24;for (var f = 1 / this.path.unitsPerEm * d, g = [], h = [], i = this.path, j = 0; j < i.commands.length; j += 1) {
              var k = i.commands[j];void 0 !== k.x && g.push({ x: k.x, y: -k.y }), void 0 !== k.x1 && h.push({ x: k.x1, y: -k.y1 }), void 0 !== k.x2 && h.push({ x: k.x2, y: -k.y2 });
            }a.fillStyle = "blue", e(g, b, c, f), a.fillStyle = "red", e(h, b, c, f);
          }, ca.prototype.drawMetrics = function (a, b, c, d) {
            var e;b = void 0 !== b ? b : 0, c = void 0 !== c ? c : 0, d = void 0 !== d ? d : 24, e = 1 / this.path.unitsPerEm * d, a.lineWidth = 1, a.strokeStyle = "black", Re.line(a, b, -1e4, b, 1e4), Re.line(a, -1e4, c, 1e4, c);var f = this.xMin || 0,
                g = this.yMin || 0,
                h = this.xMax || 0,
                i = this.yMax || 0,
                j = this.advanceWidth || 0;a.strokeStyle = "blue", Re.line(a, b + f * e, -1e4, b + f * e, 1e4), Re.line(a, b + h * e, -1e4, b + h * e, 1e4), Re.line(a, -1e4, c + -g * e, 1e4, c + -g * e), Re.line(a, -1e4, c + -i * e, 1e4, c + -i * e), a.strokeStyle = "green", Re.line(a, b + j * e, -1e4, b + j * e, 1e4);
          }, ea.prototype.get = function (a) {
            return "function" == typeof this.glyphs[a] && (this.glyphs[a] = this.glyphs[a]()), this.glyphs[a];
          }, ea.prototype.push = function (a, b) {
            this.glyphs[a] = b, this.length++;
          };var Se = { GlyphSet: ea, glyphLoader: fa, ttfGlyphLoader: ga, cffGlyphLoader: ha },
              Te = [{ name: "version", op: 0, type: "SID" }, { name: "notice", op: 1, type: "SID" }, { name: "copyright", op: 1200, type: "SID" }, { name: "fullName", op: 2, type: "SID" }, { name: "familyName", op: 3, type: "SID" }, { name: "weight", op: 4, type: "SID" }, { name: "isFixedPitch", op: 1201, type: "number", value: 0 }, { name: "italicAngle", op: 1202, type: "number", value: 0 }, { name: "underlinePosition", op: 1203, type: "number", value: -100 }, { name: "underlineThickness", op: 1204, type: "number", value: 50 }, { name: "paintType", op: 1205, type: "number", value: 0 }, { name: "charstringType", op: 1206, type: "number", value: 2 }, { name: "fontMatrix", op: 1207, type: ["real", "real", "real", "real", "real", "real"], value: [.001, 0, 0, .001, 0, 0] }, { name: "uniqueId", op: 13, type: "number" }, { name: "fontBBox", op: 5, type: ["number", "number", "number", "number"], value: [0, 0, 0, 0] }, { name: "strokeWidth", op: 1208, type: "number", value: 0 }, { name: "xuid", op: 14, type: [], value: null }, { name: "charset", op: 15, type: "offset", value: 0 }, { name: "encoding", op: 16, type: "offset", value: 0 }, { name: "charStrings", op: 17, type: "offset", value: 0 }, { name: "private", op: 18, type: ["number", "offset"], value: [0, 0] }, { name: "ros", op: 1230, type: ["SID", "SID", "number"] }, { name: "cidFontVersion", op: 1231, type: "number", value: 0 }, { name: "cidFontRevision", op: 1232, type: "number", value: 0 }, { name: "cidFontType", op: 1233, type: "number", value: 0 }, { name: "cidCount", op: 1234, type: "number", value: 8720 }, { name: "uidBase", op: 1235, type: "number" }, { name: "fdArray", op: 1236, type: "offset" }, { name: "fdSelect", op: 1237, type: "offset" }, { name: "fontName", op: 1238, type: "SID" }],
              Ue = [{ name: "subrs", op: 19, type: "offset", value: 0 }, { name: "defaultWidthX", op: 20, type: "number", value: 0 }, { name: "nominalWidthX", op: 21, type: "number", value: 0 }],
              Ve = { parse: za, make: Ma },
              We = { parse: Na, make: Oa },
              Xe = { parse: Pa, make: Qa },
              Ye = { parse: Ra, make: Sa },
              Ze = { make: Ta, parse: Ua },
              $e = { parse: Va, make: Wa },
              _e = ["copyright", "fontFamily", "fontSubfamily", "uniqueID", "fullName", "version", "postScriptName", "trademark", "manufacturer", "designer", "description", "manufacturerURL", "designerURL", "license", "licenseURL", "reserved", "preferredFamily", "preferredSubfamily", "compatibleFullName", "sampleText", "postScriptFindFontName", "wwsFamily", "wwsSubfamily"],
              af = { 0: "en", 1: "fr", 2: "de", 3: "it", 4: "nl", 5: "sv", 6: "es", 7: "da", 8: "pt", 9: "no", 10: "he", 11: "ja", 12: "ar", 13: "fi", 14: "el", 15: "is", 16: "mt", 17: "tr", 18: "hr", 19: "zh-Hant", 20: "ur", 21: "hi", 22: "th", 23: "ko", 24: "lt", 25: "pl", 26: "hu", 27: "es", 28: "lv", 29: "se", 30: "fo", 31: "fa", 32: "ru", 33: "zh", 34: "nl-BE", 35: "ga", 36: "sq", 37: "ro", 38: "cz", 39: "sk", 40: "si", 41: "yi", 42: "sr", 43: "mk", 44: "bg", 45: "uk", 46: "be", 47: "uz", 48: "kk", 49: "az-Cyrl", 50: "az-Arab", 51: "hy", 52: "ka", 53: "mo", 54: "ky", 55: "tg", 56: "tk", 57: "mn-CN", 58: "mn", 59: "ps", 60: "ks", 61: "ku", 62: "sd", 63: "bo", 64: "ne", 65: "sa", 66: "mr", 67: "bn", 68: "as", 69: "gu", 70: "pa", 71: "or", 72: "ml", 73: "kn", 74: "ta", 75: "te", 76: "si", 77: "my", 78: "km", 79: "lo", 80: "vi", 81: "id", 82: "tl", 83: "ms", 84: "ms-Arab", 85: "am", 86: "ti", 87: "om", 88: "so", 89: "sw", 90: "rw", 91: "rn", 92: "ny", 93: "mg", 94: "eo", 128: "cy", 129: "eu", 130: "ca", 131: "la", 132: "qu", 133: "gn", 134: "ay", 135: "tt", 136: "ug", 137: "dz", 138: "jv", 139: "su", 140: "gl", 141: "af", 142: "br", 143: "iu", 144: "gd", 145: "gv", 146: "ga", 147: "to", 148: "el-polyton", 149: "kl", 150: "az", 151: "nn" },
              bf = { 0: 0, 1: 0, 2: 0, 3: 0, 4: 0, 5: 0, 6: 0, 7: 0, 8: 0, 9: 0, 10: 5, 11: 1, 12: 4, 13: 0, 14: 6, 15: 0, 16: 0, 17: 0, 18: 0, 19: 2, 20: 4,
            21: 9, 22: 21, 23: 3, 24: 29, 25: 29, 26: 29, 27: 29, 28: 29, 29: 0, 30: 0, 31: 4, 32: 7, 33: 25, 34: 0, 35: 0, 36: 0, 37: 0, 38: 29, 39: 29, 40: 0, 41: 5, 42: 7, 43: 7, 44: 7, 45: 7, 46: 7, 47: 7, 48: 7, 49: 7, 50: 4, 51: 24, 52: 23, 53: 7, 54: 7, 55: 7, 56: 7, 57: 27, 58: 7, 59: 4, 60: 4, 61: 4, 62: 4, 63: 26, 64: 9, 65: 9, 66: 9, 67: 13, 68: 13, 69: 11, 70: 10, 71: 12, 72: 17, 73: 16, 74: 14, 75: 15, 76: 18, 77: 19, 78: 20, 79: 22, 80: 30, 81: 0, 82: 0, 83: 0, 84: 4, 85: 28, 86: 28, 87: 28, 88: 0, 89: 0, 90: 0, 91: 0, 92: 0, 93: 0, 94: 0, 128: 0, 129: 0, 130: 0, 131: 0, 132: 0, 133: 0, 134: 0, 135: 7, 136: 4, 137: 26, 138: 0, 139: 0, 140: 0, 141: 0, 142: 0, 143: 28, 144: 0, 145: 0, 146: 0, 147: 0, 148: 6, 149: 0, 150: 0, 151: 0 },
              cf = { 1078: "af", 1052: "sq", 1156: "gsw", 1118: "am", 5121: "ar-DZ", 15361: "ar-BH", 3073: "ar", 2049: "ar-IQ", 11265: "ar-JO", 13313: "ar-KW", 12289: "ar-LB", 4097: "ar-LY", 6145: "ary", 8193: "ar-OM", 16385: "ar-QA", 1025: "ar-SA", 10241: "ar-SY", 7169: "aeb", 14337: "ar-AE", 9217: "ar-YE", 1067: "hy", 1101: "as", 2092: "az-Cyrl", 1068: "az", 1133: "ba", 1069: "eu", 1059: "be", 2117: "bn", 1093: "bn-IN", 8218: "bs-Cyrl", 5146: "bs", 1150: "br", 1026: "bg", 1027: "ca", 3076: "zh-HK", 5124: "zh-MO", 2052: "zh", 4100: "zh-SG", 1028: "zh-TW", 1155: "co", 1050: "hr", 4122: "hr-BA", 1029: "cs", 1030: "da", 1164: "prs", 1125: "dv", 2067: "nl-BE", 1043: "nl", 3081: "en-AU", 10249: "en-BZ", 4105: "en-CA", 9225: "en-029", 16393: "en-IN", 6153: "en-IE", 8201: "en-JM", 17417: "en-MY", 5129: "en-NZ", 13321: "en-PH", 18441: "en-SG", 7177: "en-ZA", 11273: "en-TT", 2057: "en-GB", 1033: "en", 12297: "en-ZW", 1061: "et", 1080: "fo", 1124: "fil", 1035: "fi", 2060: "fr-BE", 3084: "fr-CA", 1036: "fr", 5132: "fr-LU", 6156: "fr-MC", 4108: "fr-CH", 1122: "fy", 1110: "gl", 1079: "ka", 3079: "de-AT", 1031: "de", 5127: "de-LI", 4103: "de-LU", 2055: "de-CH", 1032: "el", 1135: "kl", 1095: "gu", 1128: "ha", 1037: "he", 1081: "hi", 1038: "hu", 1039: "is", 1136: "ig", 1057: "id", 1117: "iu", 2141: "iu-Latn", 2108: "ga", 1076: "xh", 1077: "zu", 1040: "it", 2064: "it-CH", 1041: "ja", 1099: "kn", 1087: "kk", 1107: "km", 1158: "quc", 1159: "rw", 1089: "sw", 1111: "kok", 1042: "ko", 1088: "ky", 1108: "lo", 1062: "lv", 1063: "lt", 2094: "dsb", 1134: "lb", 1071: "mk", 2110: "ms-BN", 1086: "ms", 1100: "ml", 1082: "mt", 1153: "mi", 1146: "arn", 1102: "mr", 1148: "moh", 1104: "mn", 2128: "mn-CN", 1121: "ne", 1044: "nb", 2068: "nn", 1154: "oc", 1096: "or", 1123: "ps", 1045: "pl", 1046: "pt", 2070: "pt-PT", 1094: "pa", 1131: "qu-BO", 2155: "qu-EC", 3179: "qu", 1048: "ro", 1047: "rm", 1049: "ru", 9275: "smn", 4155: "smj-NO", 5179: "smj", 3131: "se-FI", 1083: "se", 2107: "se-SE", 8251: "sms", 6203: "sma-NO", 7227: "sms", 1103: "sa", 7194: "sr-Cyrl-BA", 3098: "sr", 6170: "sr-Latn-BA", 2074: "sr-Latn", 1132: "nso", 1074: "tn", 1115: "si", 1051: "sk", 1060: "sl", 11274: "es-AR", 16394: "es-BO", 13322: "es-CL", 9226: "es-CO", 5130: "es-CR", 7178: "es-DO", 12298: "es-EC", 17418: "es-SV", 4106: "es-GT", 18442: "es-HN", 2058: "es-MX", 19466: "es-NI", 6154: "es-PA", 15370: "es-PY", 10250: "es-PE", 20490: "es-PR", 3082: "es", 1034: "es", 21514: "es-US", 14346: "es-UY", 8202: "es-VE", 2077: "sv-FI", 1053: "sv", 1114: "syr", 1064: "tg", 2143: "tzm", 1097: "ta", 1092: "tt", 1098: "te", 1054: "th", 1105: "bo", 1055: "tr", 1090: "tk", 1152: "ug", 1058: "uk", 1070: "hsb", 1056: "ur", 2115: "uz-Cyrl", 1091: "uz", 1066: "vi", 1106: "cy", 1160: "wo", 1157: "sah", 1144: "ii", 1130: "yo" },
              df = "utf-16",
              ef = { 0: "macintosh", 1: "x-mac-japanese", 2: "x-mac-chinesetrad", 3: "x-mac-korean", 6: "x-mac-greek", 7: "x-mac-cyrillic", 9: "x-mac-devanagai", 10: "x-mac-gurmukhi", 11: "x-mac-gujarati", 12: "x-mac-oriya", 13: "x-mac-bengali", 14: "x-mac-tamil", 15: "x-mac-telugu", 16: "x-mac-kannada", 17: "x-mac-malayalam", 18: "x-mac-sinhalese", 19: "x-mac-burmese", 20: "x-mac-khmer", 21: "x-mac-thai", 22: "x-mac-lao", 23: "x-mac-georgian", 24: "x-mac-armenian", 25: "x-mac-chinesesimp", 26: "x-mac-tibetan", 27: "x-mac-mongolian", 28: "x-mac-ethiopic", 29: "x-mac-ce", 30: "x-mac-vietnamese", 31: "x-mac-extarabic" },
              ff = { 15: "x-mac-icelandic", 17: "x-mac-turkish", 18: "x-mac-croatian", 24: "x-mac-ce", 25: "x-mac-ce", 26: "x-mac-ce", 27: "x-mac-ce", 28: "x-mac-ce", 30: "x-mac-icelandic", 37: "x-mac-romanian", 38: "x-mac-ce", 39: "x-mac-ce", 40: "x-mac-ce", 143: "x-mac-inuit", 146: "x-mac-gaelic" },
              gf = { parse: Za, make: cb },
              hf = [{ begin: 0, end: 127 }, { begin: 128, end: 255 }, { begin: 256, end: 383 }, { begin: 384, end: 591 }, { begin: 592, end: 687 }, { begin: 688, end: 767 }, { begin: 768, end: 879 }, { begin: 880, end: 1023 }, { begin: 11392, end: 11519 }, { begin: 1024, end: 1279 }, { begin: 1328, end: 1423 }, { begin: 1424, end: 1535 }, { begin: 42240, end: 42559 }, { begin: 1536, end: 1791 }, { begin: 1984, end: 2047 }, { begin: 2304, end: 2431 }, { begin: 2432, end: 2559 }, { begin: 2560, end: 2687 }, { begin: 2688, end: 2815 }, { begin: 2816, end: 2943 }, { begin: 2944, end: 3071 }, { begin: 3072, end: 3199 }, { begin: 3200, end: 3327 }, { begin: 3328, end: 3455 }, { begin: 3584, end: 3711 }, { begin: 3712, end: 3839 }, { begin: 4256, end: 4351 }, { begin: 6912, end: 7039 }, { begin: 4352, end: 4607 }, { begin: 7680, end: 7935 }, { begin: 7936, end: 8191 }, { begin: 8192, end: 8303 }, { begin: 8304, end: 8351 }, { begin: 8352, end: 8399 }, { begin: 8400, end: 8447 }, { begin: 8448, end: 8527 }, { begin: 8528, end: 8591 }, { begin: 8592, end: 8703 }, { begin: 8704, end: 8959 }, { begin: 8960, end: 9215 }, { begin: 9216, end: 9279 }, { begin: 9280, end: 9311 }, { begin: 9312, end: 9471 }, { begin: 9472, end: 9599 }, { begin: 9600, end: 9631 }, { begin: 9632, end: 9727 }, { begin: 9728, end: 9983 }, { begin: 9984, end: 10175 }, { begin: 12288, end: 12351 }, { begin: 12352, end: 12447 }, { begin: 12448, end: 12543 }, { begin: 12544, end: 12591 }, { begin: 12592, end: 12687 }, { begin: 43072, end: 43135 }, { begin: 12800, end: 13055 }, { begin: 13056, end: 13311 }, { begin: 44032, end: 55215 }, { begin: 55296, end: 57343 }, { begin: 67840, end: 67871 }, { begin: 19968, end: 40959 }, { begin: 57344, end: 63743 }, { begin: 12736, end: 12783 }, { begin: 64256, end: 64335 }, { begin: 64336, end: 65023 }, { begin: 65056, end: 65071 }, { begin: 65040, end: 65055 }, { begin: 65104, end: 65135 }, { begin: 65136, end: 65279 }, { begin: 65280, end: 65519 }, { begin: 65520, end: 65535 }, { begin: 3840, end: 4095 }, { begin: 1792, end: 1871 }, { begin: 1920, end: 1983 }, { begin: 3456, end: 3583 }, { begin: 4096, end: 4255 }, { begin: 4608, end: 4991 }, { begin: 5024, end: 5119 }, { begin: 5120, end: 5759 }, { begin: 5760, end: 5791 }, { begin: 5792, end: 5887 }, { begin: 6016, end: 6143 }, { begin: 6144, end: 6319 }, { begin: 10240, end: 10495 }, { begin: 40960, end: 42127 }, { begin: 5888, end: 5919 }, { begin: 66304, end: 66351 }, { begin: 66352, end: 66383 }, { begin: 66560, end: 66639 }, { begin: 118784, end: 119039 }, { begin: 119808, end: 120831 }, { begin: 1044480, end: 1048573 }, { begin: 65024, end: 65039 }, { begin: 917504, end: 917631 }, { begin: 6400, end: 6479 }, { begin: 6480, end: 6527 }, { begin: 6528, end: 6623 }, { begin: 6656, end: 6687 }, { begin: 11264, end: 11359 }, { begin: 11568, end: 11647 }, { begin: 19904, end: 19967 }, { begin: 43008, end: 43055 }, { begin: 65536, end: 65663 }, { begin: 65856, end: 65935 }, { begin: 66432, end: 66463 }, { begin: 66464, end: 66527 }, { begin: 66640, end: 66687 }, { begin: 66688, end: 66735 }, { begin: 67584, end: 67647 }, { begin: 68096, end: 68191 }, { begin: 119552, end: 119647 }, { begin: 73728, end: 74751 }, { begin: 119648, end: 119679 }, { begin: 7040, end: 7103 }, { begin: 7168, end: 7247 }, { begin: 7248, end: 7295 }, { begin: 43136, end: 43231 }, { begin: 43264, end: 43311 }, { begin: 43312, end: 43359 }, { begin: 43520, end: 43615 }, { begin: 65936, end: 65999 }, { begin: 66e3, end: 66047 }, { begin: 66208, end: 66271 }, { begin: 127024, end: 127135 }],
              jf = { parse: eb, make: fb, unicodeRanges: hf, getUnicodeRange: db },
              kf = { parse: gb, make: hb },
              lf = new Array(9);lf[1] = function () {
            var a = this.offset + this.relativeOffset,
                b = this.parseUShort();return 1 === b ? { substFormat: 1, coverage: this.parsePointer(Q.coverage), deltaGlyphId: this.parseUShort() } : 2 === b ? { substFormat: 2, coverage: this.parsePointer(Q.coverage), substitute: this.parseOffset16List() } : void xe.assert(!1, "0x" + a.toString(16) + ": lookup type 1 format must be 1 or 2.");
          }, lf[2] = function () {
            var a = this.parseUShort();return xe.argument(1 === a, "GSUB Multiple Substitution Subtable identifier-format must be 1"), { substFormat: a, coverage: this.parsePointer(Q.coverage), sequences: this.parseListOfLists() };
          }, lf[3] = function () {
            var a = this.parseUShort();return xe.argument(1 === a, "GSUB Alternate Substitution Subtable identifier-format must be 1"), { substFormat: a, coverage: this.parsePointer(Q.coverage), alternateSets: this.parseListOfLists() };
          }, lf[4] = function () {
            var a = this.parseUShort();return xe.argument(1 === a, "GSUB ligature table identifier-format must be 1"), { substFormat: a, coverage: this.parsePointer(Q.coverage), ligatureSets: this.parseListOfLists(function () {
                return { ligGlyph: this.parseUShort(), components: this.parseUShortList(this.parseUShort() - 1) };
              }) };
          };var mf = { sequenceIndex: Q.uShort, lookupListIndex: Q.uShort };lf[5] = function () {
            var a = this.offset + this.relativeOffset,
                b = this.parseUShort();if (1 === b) return { substFormat: b, coverage: this.parsePointer(Q.coverage), ruleSets: this.parseListOfLists(function () {
                var a = this.parseUShort(),
                    b = this.parseUShort();return { input: this.parseUShortList(a - 1), lookupRecords: this.parseRecordList(b, mf) };
              }) };if (2 === b) return { substFormat: b, coverage: this.parsePointer(Q.coverage), classDef: this.parsePointer(Q.classDef), classSets: this.parseListOfLists(function () {
                var a = this.parseUShort(),
                    b = this.parseUShort();return { classes: this.parseUShortList(a - 1), lookupRecords: this.parseRecordList(b, mf) };
              }) };if (3 === b) {
              var c = this.parseUShort(),
                  d = this.parseUShort();return { substFormat: b, coverages: this.parseList(c, Q.pointer(Q.coverage)), lookupRecords: this.parseRecordList(d, mf) };
            }xe.assert(!1, "0x" + a.toString(16) + ": lookup type 5 format must be 1, 2 or 3.");
          }, lf[6] = function () {
            var a = this.offset + this.relativeOffset,
                b = this.parseUShort();return 1 === b ? { substFormat: 1, coverage: this.parsePointer(Q.coverage), chainRuleSets: this.parseListOfLists(function () {
                return { backtrack: this.parseUShortList(), input: this.parseUShortList(this.parseShort() - 1), lookahead: this.parseUShortList(), lookupRecords: this.parseRecordList(mf) };
              }) } : 2 === b ? { substFormat: 2, coverage: this.parsePointer(Q.coverage), backtrackClassDef: this.parsePointer(Q.classDef), inputClassDef: this.parsePointer(Q.classDef), lookaheadClassDef: this.parsePointer(Q.classDef), chainClassSet: this.parseListOfLists(function () {
                return { backtrack: this.parseUShortList(), input: this.parseUShortList(this.parseShort() - 1), lookahead: this.parseUShortList(), lookupRecords: this.parseRecordList(mf) };
              }) } : 3 === b ? { substFormat: 3, backtrackCoverage: this.parseList(Q.pointer(Q.coverage)), inputCoverage: this.parseList(Q.pointer(Q.coverage)), lookaheadCoverage: this.parseList(Q.pointer(Q.coverage)), lookupRecords: this.parseRecordList(mf) } : void xe.assert(!1, "0x" + a.toString(16) + ": lookup type 6 format must be 1, 2 or 3.");
          }, lf[7] = function () {
            var a = this.parseUShort();xe.argument(1 === a, "GSUB Extension Substitution subtable identifier-format must be 1");var b = this.parseUShort(),
                c = new Q(this.data, this.offset + this.parseULong());return { substFormat: 1, lookupType: b, extension: lf[b].call(c) };
          }, lf[8] = function () {
            var a = this.parseUShort();return xe.argument(1 === a, "GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"), { substFormat: a, coverage: this.parsePointer(Q.coverage), backtrackCoverage: this.parseList(Q.pointer(Q.coverage)), lookaheadCoverage: this.parseList(Q.pointer(Q.coverage)), substitutes: this.parseUShortList() };
          };var nf = new Array(9);nf[1] = function (a) {
            return 1 === a.substFormat ? new Ie.Table("substitutionTable", [{ name: "substFormat", type: "USHORT", value: 1 }, { name: "coverage", type: "TABLE", value: new Ie.Coverage(a.coverage) }, { name: "deltaGlyphID", type: "USHORT", value: a.deltaGlyphId }]) : new Ie.Table("substitutionTable", [{ name: "substFormat", type: "USHORT", value: 2 }, { name: "coverage", type: "TABLE", value: new Ie.Coverage(a.coverage) }].concat(Ie.ushortList("substitute", a.substitute)));
          }, nf[3] = function (a) {
            return xe.assert(1 === a.substFormat, "Lookup type 3 substFormat must be 1."), new Ie.Table("substitutionTable", [{ name: "substFormat", type: "USHORT", value: 1 }, { name: "coverage", type: "TABLE", value: new Ie.Coverage(a.coverage) }].concat(Ie.tableList("altSet", a.alternateSets, function (a) {
              return new Ie.Table("alternateSetTable", Ie.ushortList("alternate", a));
            })));
          }, nf[4] = function (a) {
            return xe.assert(1 === a.substFormat, "Lookup type 4 substFormat must be 1."), new Ie.Table("substitutionTable", [{ name: "substFormat", type: "USHORT", value: 1 }, { name: "coverage", type: "TABLE", value: new Ie.Coverage(a.coverage) }].concat(Ie.tableList("ligSet", a.ligatureSets, function (a) {
              return new Ie.Table("ligatureSetTable", Ie.tableList("ligature", a, function (a) {
                return new Ie.Table("ligatureTable", [{ name: "ligGlyph", type: "USHORT", value: a.ligGlyph }].concat(Ie.ushortList("component", a.components, a.components.length + 1)));
              }));
            })));
          };var of = { parse: ib, make: jb },
              pf = { parse: kb, make: lb },
              qf = { make: pb, fontToTable: sb, computeCheckSum: nb };wb.prototype = { searchTag: tb, binSearch: ub, getTable: function getTable(a) {
              var b = this.font.tables[this.tableName];return !b && a && (b = this.font.tables[this.tableName] = this.createDefaultTable()), b;
            }, getScriptNames: function getScriptNames() {
              var a = this.getTable();return a ? a.scripts.map(function (a) {
                return a.tag;
              }) : [];
            }, getDefaultScriptName: function getDefaultScriptName() {
              var a = this.getTable();if (a) {
                for (var b = !1, c = 0; c < a.scripts.length; c++) {
                  var d = a.scripts[c].tag;if ("DFLT" === d) return d;"latn" === d && (b = !0);
                }return b ? "latn" : void 0;
              }
            }, getScriptTable: function getScriptTable(a, b) {
              var c = this.getTable(b);if (c) {
                a = a || "DFLT";var d = c.scripts,
                    e = tb(c.scripts, a);if (e >= 0) return d[e].script;if (b) {
                  var f = { tag: a, script: { defaultLangSys: { reserved: 0, reqFeatureIndex: 65535, featureIndexes: [] }, langSysRecords: [] } };return d.splice(-1 - e, 0, f), f.script;
                }
              }
            }, getLangSysTable: function getLangSysTable(a, b, c) {
              var d = this.getScriptTable(a, c);if (d) {
                if (!b || "dflt" === b || "DFLT" === b) return d.defaultLangSys;var e = tb(d.langSysRecords, b);if (e >= 0) return d.langSysRecords[e].langSys;if (c) {
                  var f = { tag: b, langSys: { reserved: 0, reqFeatureIndex: 65535, featureIndexes: [] } };return d.langSysRecords.splice(-1 - e, 0, f), f.langSys;
                }
              }
            }, getFeatureTable: function getFeatureTable(a, b, c, d) {
              var e = this.getLangSysTable(a, b, d);if (e) {
                for (var f, g = e.featureIndexes, h = this.font.tables[this.tableName].features, i = 0; i < g.length; i++) {
                  if (f = h[g[i]], f.tag === c) return f.feature;
                }if (d) {
                  var j = h.length;return xe.assert(0 === j || c >= h[j - 1].tag, "Features must be added in alphabetical order."), f = { tag: c, feature: { params: 0, lookupListIndexes: [] } }, h.push(f), g.push(j), f.feature;
                }
              }
            }, getLookupTables: function getLookupTables(a, b, c, d, e) {
              var f = this.getFeatureTable(a, b, c, e),
                  g = [];if (f) {
                for (var h, i = f.lookupListIndexes, j = this.font.tables[this.tableName].lookups, k = 0; k < i.length; k++) {
                  h = j[i[k]], h.lookupType === d && g.push(h);
                }if (0 === g.length && e) {
                  h = { lookupType: d, lookupFlag: 0, subtables: [], markFilteringSet: void 0 };var l = j.length;return j.push(h), i.push(l), [h];
                }
              }return g;
            }, getGlyphClass: function getGlyphClass(a, b) {
              switch (a.format) {case 1:
                  return a.startGlyph <= b && b < a.startGlyph + a.classes.length ? a.classes[b - a.startGlyph] : 0;case 2:
                  var c = vb(a.ranges, b);return c ? c.classId : 0;}
            }, getCoverageIndex: function getCoverageIndex(a, b) {
              switch (a.format) {case 1:
                  var c = ub(a.glyphs, b);return c >= 0 ? c : -1;case 2:
                  var d = vb(a.ranges, b);return d ? d.index + b - d.start : -1;}
            }, expandCoverage: function expandCoverage(a) {
              if (1 === a.format) return a.glyphs;for (var b = [], c = a.ranges, d = 0; d < c.length; d++) {
                for (var e = c[d], f = e.start, g = e.end, h = f; h <= g; h++) {
                  b.push(h);
                }
              }return b;
            } }, xb.prototype = wb.prototype, xb.prototype.init = function () {
            var a = this.getDefaultScriptName();this.defaultKerningTables = this.getKerningTables(a);
          }, xb.prototype.getKerningValue = function (a, b, c) {
            for (var d = this, e = 0; e < a.length; e++) {
              for (var f = a[e].subtables, g = 0; g < f.length; g++) {
                var h = f[g],
                    i = d.getCoverageIndex(h.coverage, b);if (!(i < 0)) switch (h.posFormat) {case 1:
                    for (var j = h.pairSets[i], k = 0; k < j.length; k++) {
                      var l = j[k];if (l.secondGlyph === c) return l.value1 && l.value1.xAdvance || 0;
                    }break;case 2:
                    var m = d.getGlyphClass(h.classDef1, b),
                        n = d.getGlyphClass(h.classDef2, c),
                        o = h.classRecords[m][n];return o.value1 && o.value1.xAdvance || 0;}
              }
            }return 0;
          }, xb.prototype.getKerningTables = function (a, b) {
            if (this.font.tables.gpos) return this.getLookupTables(a, b, "kern", 2);
          }, yb.prototype = wb.prototype, yb.prototype.createDefaultTable = function () {
            return { version: 1, scripts: [{ tag: "DFLT", script: { defaultLangSys: { reserved: 0, reqFeatureIndex: 65535, featureIndexes: [] }, langSysRecords: [] } }], features: [], lookups: [] };
          }, yb.prototype.getSingle = function (a, b, c) {
            for (var d = this, e = [], f = this.getLookupTables(b, c, a, 1), g = 0; g < f.length; g++) {
              for (var h = f[g].subtables, i = 0; i < h.length; i++) {
                var j = h[i],
                    k = d.expandCoverage(j.coverage),
                    l = void 0;if (1 === j.substFormat) {
                  var m = j.deltaGlyphId;for (l = 0; l < k.length; l++) {
                    var n = k[l];e.push({ sub: n, by: n + m });
                  }
                } else {
                  var o = j.substitute;for (l = 0; l < k.length; l++) {
                    e.push({ sub: k[l], by: o[l] });
                  }
                }
              }
            }return e;
          }, yb.prototype.getAlternates = function (a, b, c) {
            for (var d = this, e = [], f = this.getLookupTables(b, c, a, 3), g = 0; g < f.length; g++) {
              for (var h = f[g].subtables, i = 0; i < h.length; i++) {
                for (var j = h[i], k = d.expandCoverage(j.coverage), l = j.alternateSets, m = 0; m < k.length; m++) {
                  e.push({ sub: k[m], by: l[m] });
                }
              }
            }return e;
          }, yb.prototype.getLigatures = function (a, b, c) {
            for (var d = this, e = [], f = this.getLookupTables(b, c, a, 4), g = 0; g < f.length; g++) {
              for (var h = f[g].subtables, i = 0; i < h.length; i++) {
                for (var j = h[i], k = d.expandCoverage(j.coverage), l = j.ligatureSets, m = 0; m < k.length; m++) {
                  for (var n = k[m], o = l[m], p = 0; p < o.length; p++) {
                    var q = o[p];e.push({ sub: [n].concat(q.components), by: q.ligGlyph });
                  }
                }
              }
            }return e;
          }, yb.prototype.addSingle = function (a, b, c, d) {
            var e = this.getLookupTables(c, d, a, 1, !0)[0],
                f = Ab(e, 2, { substFormat: 2, coverage: { format: 1, glyphs: [] }, substitute: [] });xe.assert(1 === f.coverage.format, "Ligature: unable to modify coverage table format " + f.coverage.format);var g = b.sub,
                h = this.binSearch(f.coverage.glyphs, g);h < 0 && (h = -1 - h, f.coverage.glyphs.splice(h, 0, g), f.substitute.splice(h, 0, 0)), f.substitute[h] = b.by;
          }, yb.prototype.addAlternate = function (a, b, c, d) {
            var e = this.getLookupTables(c, d, a, 3, !0)[0],
                f = Ab(e, 1, { substFormat: 1, coverage: { format: 1, glyphs: [] }, alternateSets: [] });xe.assert(1 === f.coverage.format, "Ligature: unable to modify coverage table format " + f.coverage.format);var g = b.sub,
                h = this.binSearch(f.coverage.glyphs, g);h < 0 && (h = -1 - h, f.coverage.glyphs.splice(h, 0, g), f.alternateSets.splice(h, 0, 0)), f.alternateSets[h] = b.by;
          }, yb.prototype.addLigature = function (a, b, c, d) {
            var e = this.getLookupTables(c, d, a, 4, !0)[0],
                f = e.subtables[0];f || (f = { substFormat: 1, coverage: { format: 1, glyphs: [] }, ligatureSets: [] }, e.subtables[0] = f), xe.assert(1 === f.coverage.format, "Ligature: unable to modify coverage table format " + f.coverage.format);var g = b.sub[0],
                h = b.sub.slice(1),
                i = { ligGlyph: b.by, components: h },
                j = this.binSearch(f.coverage.glyphs, g);if (j >= 0) {
              for (var k = f.ligatureSets[j], l = 0; l < k.length; l++) {
                if (zb(k[l].components, h)) return;
              }k.push(i);
            } else j = -1 - j, f.coverage.glyphs.splice(j, 0, g), f.ligatureSets.splice(j, 0, [i]);
          }, yb.prototype.getFeature = function (a, b, c) {
            if (/ss\d\d/.test(a)) return this.getSingle(a, b, c);switch (a) {case "aalt":case "salt":
                return this.getSingle(a, b, c).concat(this.getAlternates(a, b, c));case "dlig":case "liga":case "rlig":
                return this.getLigatures(a, b, c);}
          }, yb.prototype.add = function (a, b, c, d) {
            if (/ss\d\d/.test(a)) return this.addSingle(a, b, c, d);switch (a) {case "aalt":case "salt":
                return "number" == typeof b.by ? this.addSingle(a, b, c, d) : this.addAlternate(a, b, c, d);case "dlig":case "liga":case "rlig":
                return this.addLigature(a, b, c, d);}
          };var rf,
              sf,
              tf,
              uf,
              vf = { getPath: Jb, parse: Lb },
              wf = function wf(a) {
            var b = this.srPeriod,
                c = this.srPhase,
                d = this.srThreshold,
                e = 1;return a < 0 && (a = -a, e = -1), a += d - c, a = Math.trunc(a / b) * b, a += c, a < 0 ? c * e : a * e;
          },
              xf = { x: 1, y: 0, axis: "x", distance: function distance(a, b, c, d) {
              return (c ? a.xo : a.x) - (d ? b.xo : b.x);
            }, interpolate: function interpolate(a, b, c, d) {
              var e, f, g, h, i, j, k;return d && d !== this ? (e = d.distance(a, b, !0, !0), f = d.distance(a, c, !0, !0), i = d.distance(b, b, !1, !0), j = d.distance(c, c, !1, !0), g = Math.abs(e), h = Math.abs(f), 0 === (k = g + h) ? void xf.setRelative(a, a, (i + j) / 2, d, !0) : void xf.setRelative(a, a, (i * h + j * g) / k, d, !0)) : (e = a.xo - b.xo, f = a.xo - c.xo, i = b.x - b.xo, j = c.x - c.xo, g = Math.abs(e), h = Math.abs(f), 0 === (k = g + h) ? void (a.x = a.xo + (i + j) / 2) : void (a.x = a.xo + (i * h + j * g) / k));
            }, normalSlope: Number.NEGATIVE_INFINITY, setRelative: function setRelative(a, b, c, d, e) {
              if (!d || d === this) return void (a.x = (e ? b.xo : b.x) + c);var f = e ? b.xo : b.x,
                  g = e ? b.yo : b.y,
                  h = f + c * d.x,
                  i = g + c * d.y;a.x = h + (a.y - i) / d.normalSlope;
            }, slope: 0, touch: function touch(a) {
              a.xTouched = !0;
            }, touched: function touched(a) {
              return a.xTouched;
            }, untouch: function untouch(a) {
              a.xTouched = !1;
            } },
              yf = { x: 0, y: 1, axis: "y", distance: function distance(a, b, c, d) {
              return (c ? a.yo : a.y) - (d ? b.yo : b.y);
            }, interpolate: function interpolate(a, b, c, d) {
              var e, f, g, h, i, j, k;return d && d !== this ? (e = d.distance(a, b, !0, !0), f = d.distance(a, c, !0, !0), i = d.distance(b, b, !1, !0), j = d.distance(c, c, !1, !0), g = Math.abs(e), h = Math.abs(f), 0 === (k = g + h) ? void yf.setRelative(a, a, (i + j) / 2, d, !0) : void yf.setRelative(a, a, (i * h + j * g) / k, d, !0)) : (e = a.yo - b.yo, f = a.yo - c.yo, i = b.y - b.yo, j = c.y - c.yo, g = Math.abs(e), h = Math.abs(f), 0 === (k = g + h) ? void (a.y = a.yo + (i + j) / 2) : void (a.y = a.yo + (i * h + j * g) / k));
            }, normalSlope: 0, setRelative: function setRelative(a, b, c, d, e) {
              if (!d || d === this) return void (a.y = (e ? b.yo : b.y) + c);var f = e ? b.xo : b.x,
                  g = e ? b.yo : b.y,
                  h = f + c * d.x,
                  i = g + c * d.y;a.y = i + d.normalSlope * (a.x - h);
            }, slope: Number.POSITIVE_INFINITY, touch: function touch(a) {
              a.yTouched = !0;
            }, touched: function touched(a) {
              return a.yTouched;
            }, untouch: function untouch(a) {
              a.yTouched = !1;
            } };Object.freeze(xf), Object.freeze(yf), Tb.prototype.distance = function (a, b, c, d) {
            return this.x * xf.distance(a, b, c, d) + this.y * yf.distance(a, b, c, d);
          }, Tb.prototype.interpolate = function (a, b, c, d) {
            var e, f, g, h, i, j, k;if (g = d.distance(a, b, !0, !0), h = d.distance(a, c, !0, !0), e = d.distance(b, b, !1, !0), f = d.distance(c, c, !1, !0), i = Math.abs(g), j = Math.abs(h), 0 === (k = i + j)) return void this.setRelative(a, a, (e + f) / 2, d, !0);this.setRelative(a, a, (e * j + f * i) / k, d, !0);
          }, Tb.prototype.setRelative = function (a, b, c, d, e) {
            d = d || this;var f = e ? b.xo : b.x,
                g = e ? b.yo : b.y,
                h = f + c * d.x,
                i = g + c * d.y,
                j = d.normalSlope,
                k = this.slope,
                l = a.x,
                m = a.y;a.x = (k * l - j * h + i - m) / (k - j), a.y = k * (a.x - l) + m;
          }, Tb.prototype.touch = function (a) {
            a.xTouched = !0, a.yTouched = !0;
          }, Vb.prototype.nextTouched = function (a) {
            for (var b = this.nextPointOnContour; !a.touched(b) && b !== this;) {
              b = b.nextPointOnContour;
            }return b;
          }, Vb.prototype.prevTouched = function (a) {
            for (var b = this.prevPointOnContour; !a.touched(b) && b !== this;) {
              b = b.prevPointOnContour;
            }return b;
          };var zf = Object.freeze(new Vb(0, 0)),
              Af = { cvCutIn: 17 / 16, deltaBase: 9, deltaShift: .125, loop: 1, minDis: 1, autoFlip: !0 };Mb.prototype.exec = function (b, c) {
            if ("number" != typeof c) throw new Error("Point size is not a number!");if (!(this._errorState > 2)) {
              var d = this.font,
                  e = this._prepState;if (!e || e.ppem !== c) {
                var f = this._fpgmState;if (!f) {
                  Wb.prototype = Af, f = this._fpgmState = new Wb("fpgm", d.tables.fpgm), f.funcs = [], f.font = d, a.DEBUG && (console.log("---EXEC FPGM---"), f.step = -1);try {
                    sf(f);
                  } catch (a) {
                    return console.log("Hinting error in FPGM:" + a), void (this._errorState = 3);
                  }
                }Wb.prototype = f, e = this._prepState = new Wb("prep", d.tables.prep), e.ppem = c;var g = d.tables.cvt;if (g) for (var h = e.cvt = new Array(g.length), i = c / d.unitsPerEm, j = 0; j < g.length; j++) {
                  h[j] = g[j] * i;
                } else e.cvt = [];a.DEBUG && (console.log("---EXEC PREP---"), e.step = -1);try {
                  sf(e);
                } catch (a) {
                  this._errorState < 2 && console.log("Hinting error in PREP:" + a), this._errorState = 2;
                }
              }if (!(this._errorState > 1)) try {
                return tf(b, e);
              } catch (a) {
                return this._errorState < 1 && (console.log("Hinting error:" + a), console.log("Note: further hinting errors are silenced")), void (this._errorState = 1);
              }
            }
          }, tf = function tf(b, c) {
            var d,
                e,
                f,
                g = c.ppem / c.font.unitsPerEm,
                h = g,
                i = b.components;if (Wb.prototype = c, i) {
              var j = c.font;e = [], d = [];for (var k = 0; k < i.length; k++) {
                var l = i[k],
                    m = j.glyphs.get(l.glyphIndex);f = new Wb("glyf", m.instructions), a.DEBUG && (console.log("---EXEC COMP " + k + "---"), f.step = -1), uf(m, f, g, h);for (var n = Math.round(l.dx * g), o = Math.round(l.dy * h), p = f.gZone, q = f.contours, r = 0; r < p.length; r++) {
                  var s = p[r];s.xTouched = s.yTouched = !1, s.xo = s.x = s.x + n, s.yo = s.y = s.y + o;
                }var t = e.length;e.push.apply(e, p);for (var u = 0; u < q.length; u++) {
                  d.push(q[u] + t);
                }
              }b.instructions && !f.inhibitGridFit && (f = new Wb("glyf", b.instructions), f.gZone = f.z0 = f.z1 = f.z2 = e, f.contours = d, e.push(new Vb(0, 0), new Vb(Math.round(b.advanceWidth * g), 0)), a.DEBUG && (console.log("---EXEC COMPOSITE---"), f.step = -1), sf(f), e.length -= 2);
            } else f = new Wb("glyf", b.instructions), a.DEBUG && (console.log("---EXEC GLYPH---"), f.step = -1), uf(b, f, g, h), e = f.gZone;return e;
          }, uf = function uf(b, c, d, e) {
            for (var f, g = b.points || [], h = g.length, i = c.gZone = c.z0 = c.z1 = c.z2 = [], j = c.contours = [], k = 0; k < h; k++) {
              f = g[k], i[k] = new Vb(f.x * d, f.y * e, f.lastPointOfContour, f.onCurve);
            }for (var l, m, n = 0; n < h; n++) {
              f = i[n], l || (l = f, j.push(n)), f.lastPointOfContour ? (f.nextPointOnContour = l, l.prevPointOnContour = f, l = void 0) : (m = i[n + 1], f.nextPointOnContour = m, m.prevPointOnContour = f);
            }if (!c.inhibitGridFit) {
              if (a.DEBUG) {
                console.log("PROCESSING GLYPH", c.stack);for (var o = 0; o < h; o++) {
                  console.log(o, i[o].x, i[o].y);
                }
              }if (i.push(new Vb(0, 0), new Vb(Math.round(b.advanceWidth * d), 0)), sf(c), i.length -= 2, a.DEBUG) {
                console.log("FINISHED GLYPH", c.stack);for (var p = 0; p < h; p++) {
                  console.log(p, i[p].x, i[p].y);
                }
              }
            }
          }, sf = function sf(b) {
            var c = b.prog;if (c) {
              var d,
                  e = c.length;for (b.ip = 0; b.ip < e; b.ip++) {
                if (a.DEBUG && b.step++, !(d = rf[c[b.ip]])) throw new Error("unknown instruction: 0x" + Number(c[b.ip]).toString(16));d(b);
              }
            }
          }, rf = [Zb.bind(void 0, yf), Zb.bind(void 0, xf), $b.bind(void 0, yf), $b.bind(void 0, xf), _b.bind(void 0, yf), _b.bind(void 0, xf), ac.bind(void 0, 0), ac.bind(void 0, 1), bc.bind(void 0, 0), bc.bind(void 0, 1), cc, dc, ec, fc, gc, hc, ic, jc, kc, lc, mc, nc, oc, pc, qc, rc, sc, tc, uc, vc, void 0, void 0, wc, xc, yc, zc, Ac, Dc, Ec, void 0, void 0, void 0, Bc, Cc, Fc, void 0, Gc.bind(void 0, 0), Gc.bind(void 0, 1), Hc.bind(void 0, yf), Hc.bind(void 0, xf), Ic.bind(void 0, 0), Ic.bind(void 0, 1), Jc.bind(void 0, 0), Jc.bind(void 0, 1), Kc.bind(void 0, 0), Kc.bind(void 0, 1), Lc, Mc, Nc.bind(void 0, 0), Nc.bind(void 0, 1), Oc, Pc, Qc.bind(void 0, 0), Qc.bind(void 0, 1), Rc, Sc, Tc, Uc, Vc, Wc, Xc.bind(void 0, 0), Xc.bind(void 0, 1), void 0, Yc.bind(void 0, 0), Yc.bind(void 0, 1), Zc, void 0, $c, void 0, void 0, _c, ad, bd, cd, dd, ed, fd, gd, hd, id, jd, kd, ld, md.bind(void 0, 1), nd, od, pd, qd, rd, sd, td, ud, vd, wd, xd.bind(void 0, 0), xd.bind(void 0, 1), xd.bind(void 0, 2), xd.bind(void 0, 3), void 0, void 0, void 0, void 0, yd, md.bind(void 0, 2), md.bind(void 0, 3), zd.bind(void 0, 1), zd.bind(void 0, 2), zd.bind(void 0, 3), Ad, Bd, void 0, void 0, Cd, void 0, Dd, Ed, xc, xc, void 0, void 0, void 0, void 0, void 0, Fd, Gd.bind(void 0, 0), Gd.bind(void 0, 1), Hd, void 0, Id, Jd, Kd, Ld, Md, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, Nd.bind(void 0, 1), Nd.bind(void 0, 2), Nd.bind(void 0, 3), Nd.bind(void 0, 4), Nd.bind(void 0, 5), Nd.bind(void 0, 6), Nd.bind(void 0, 7), Nd.bind(void 0, 8), Od.bind(void 0, 1), Od.bind(void 0, 2), Od.bind(void 0, 3), Od.bind(void 0, 4), Od.bind(void 0, 5), Od.bind(void 0, 6), Od.bind(void 0, 7), Od.bind(void 0, 8), Pd.bind(void 0, 0, 0, 0, 0, 0), Pd.bind(void 0, 0, 0, 0, 0, 1), Pd.bind(void 0, 0, 0, 0, 0, 2), Pd.bind(void 0, 0, 0, 0, 0, 3), Pd.bind(void 0, 0, 0, 0, 1, 0), Pd.bind(void 0, 0, 0, 0, 1, 1), Pd.bind(void 0, 0, 0, 0, 1, 2), Pd.bind(void 0, 0, 0, 0, 1, 3), Pd.bind(void 0, 0, 0, 1, 0, 0), Pd.bind(void 0, 0, 0, 1, 0, 1), Pd.bind(void 0, 0, 0, 1, 0, 2), Pd.bind(void 0, 0, 0, 1, 0, 3), Pd.bind(void 0, 0, 0, 1, 1, 0), Pd.bind(void 0, 0, 0, 1, 1, 1), Pd.bind(void 0, 0, 0, 1, 1, 2), Pd.bind(void 0, 0, 0, 1, 1, 3), Pd.bind(void 0, 0, 1, 0, 0, 0), Pd.bind(void 0, 0, 1, 0, 0, 1), Pd.bind(void 0, 0, 1, 0, 0, 2), Pd.bind(void 0, 0, 1, 0, 0, 3), Pd.bind(void 0, 0, 1, 0, 1, 0), Pd.bind(void 0, 0, 1, 0, 1, 1), Pd.bind(void 0, 0, 1, 0, 1, 2), Pd.bind(void 0, 0, 1, 0, 1, 3), Pd.bind(void 0, 0, 1, 1, 0, 0), Pd.bind(void 0, 0, 1, 1, 0, 1), Pd.bind(void 0, 0, 1, 1, 0, 2), Pd.bind(void 0, 0, 1, 1, 0, 3), Pd.bind(void 0, 0, 1, 1, 1, 0), Pd.bind(void 0, 0, 1, 1, 1, 1), Pd.bind(void 0, 0, 1, 1, 1, 2), Pd.bind(void 0, 0, 1, 1, 1, 3), Pd.bind(void 0, 1, 0, 0, 0, 0), Pd.bind(void 0, 1, 0, 0, 0, 1), Pd.bind(void 0, 1, 0, 0, 0, 2), Pd.bind(void 0, 1, 0, 0, 0, 3), Pd.bind(void 0, 1, 0, 0, 1, 0), Pd.bind(void 0, 1, 0, 0, 1, 1), Pd.bind(void 0, 1, 0, 0, 1, 2), Pd.bind(void 0, 1, 0, 0, 1, 3), Pd.bind(void 0, 1, 0, 1, 0, 0), Pd.bind(void 0, 1, 0, 1, 0, 1), Pd.bind(void 0, 1, 0, 1, 0, 2), Pd.bind(void 0, 1, 0, 1, 0, 3), Pd.bind(void 0, 1, 0, 1, 1, 0), Pd.bind(void 0, 1, 0, 1, 1, 1), Pd.bind(void 0, 1, 0, 1, 1, 2), Pd.bind(void 0, 1, 0, 1, 1, 3), Pd.bind(void 0, 1, 1, 0, 0, 0), Pd.bind(void 0, 1, 1, 0, 0, 1), Pd.bind(void 0, 1, 1, 0, 0, 2), Pd.bind(void 0, 1, 1, 0, 0, 3), Pd.bind(void 0, 1, 1, 0, 1, 0), Pd.bind(void 0, 1, 1, 0, 1, 1), Pd.bind(void 0, 1, 1, 0, 1, 2), Pd.bind(void 0, 1, 1, 0, 1, 3), Pd.bind(void 0, 1, 1, 1, 0, 0), Pd.bind(void 0, 1, 1, 1, 0, 1), Pd.bind(void 0, 1, 1, 1, 0, 2), Pd.bind(void 0, 1, 1, 1, 0, 3), Pd.bind(void 0, 1, 1, 1, 1, 0), Pd.bind(void 0, 1, 1, 1, 1, 1), Pd.bind(void 0, 1, 1, 1, 1, 2), Pd.bind(void 0, 1, 1, 1, 1, 3)];var Bf = Array.from || function (a) {
            return a.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g) || [];
          };Qd.prototype.hasChar = function (a) {
            return null !== this.encoding.charToGlyphIndex(a);
          }, Qd.prototype.charToGlyphIndex = function (a) {
            return this.encoding.charToGlyphIndex(a);
          }, Qd.prototype.charToGlyph = function (a) {
            var b = this.charToGlyphIndex(a),
                c = this.glyphs.get(b);return c || (c = this.glyphs.get(0)), c;
          }, Qd.prototype.stringToGlyphs = function (a, b) {
            var c = this;b = b || this.defaultRenderOptions;for (var d = Bf(a), e = [], f = 0; f < d.length; f += 1) {
              var g = d[f];e.push(c.charToGlyphIndex(g));
            }var h = e.length;if (b.features) {
              var i = b.script || this.substitution.getDefaultScriptName(),
                  j = [];b.features.liga && (j = j.concat(this.substitution.getFeature("liga", i, b.language))), b.features.rlig && (j = j.concat(this.substitution.getFeature("rlig", i, b.language)));for (var k = 0; k < h; k += 1) {
                for (var l = 0; l < j.length; l++) {
                  for (var m = j[l], n = m.sub, o = n.length, p = 0; p < o && n[p] === e[k + p];) {
                    p++;
                  }p === o && (e.splice(k, o, m.by), h = h - o + 1);
                }
              }
            }for (var q = new Array(h), r = this.glyphs.get(0), s = 0; s < h; s += 1) {
              q[s] = c.glyphs.get(e[s]) || r;
            }return q;
          }, Qd.prototype.nameToGlyphIndex = function (a) {
            return this.glyphNames.nameToGlyphIndex(a);
          }, Qd.prototype.nameToGlyph = function (a) {
            var b = this.nameToGlyphIndex(a),
                c = this.glyphs.get(b);return c || (c = this.glyphs.get(0)), c;
          }, Qd.prototype.glyphIndexToName = function (a) {
            return this.glyphNames.glyphIndexToName ? this.glyphNames.glyphIndexToName(a) : "";
          }, Qd.prototype.getKerningValue = function (a, b) {
            a = a.index || a, b = b.index || b;var c = this.position.defaultKerningTables;return c ? this.position.getKerningValue(c, a, b) : this.kerningPairs[a + "," + b] || 0;
          }, Qd.prototype.defaultRenderOptions = { kerning: !0, features: { liga: !0, rlig: !0 } }, Qd.prototype.forEachGlyph = function (a, b, c, d, e, f) {
            var g = this;b = void 0 !== b ? b : 0, c = void 0 !== c ? c : 0, d = void 0 !== d ? d : 72, e = e || this.defaultRenderOptions;var h,
                i = 1 / this.unitsPerEm * d,
                j = this.stringToGlyphs(a, e);if (e.kerning) {
              var k = e.script || this.position.getDefaultScriptName();h = this.position.getKerningTables(k, e.language);
            }for (var l = 0; l < j.length; l += 1) {
              var m = j[l];if (f.call(g, m, b, c, d, e), m.advanceWidth && (b += m.advanceWidth * i), e.kerning && l < j.length - 1) {
                b += (h ? g.position.getKerningValue(h, m.index, j[l + 1].index) : g.getKerningValue(m, j[l + 1])) * i;
              }e.letterSpacing ? b += e.letterSpacing * d : e.tracking && (b += e.tracking / 1e3 * d);
            }return b;
          }, Qd.prototype.getPath = function (a, b, c, d, e) {
            var f = new r();return this.forEachGlyph(a, b, c, d, e, function (a, b, c, d) {
              var g = a.getPath(b, c, d, e, this);f.extend(g);
            }), f;
          }, Qd.prototype.getPaths = function (a, b, c, d, e) {
            var f = [];return this.forEachGlyph(a, b, c, d, e, function (a, b, c, d) {
              var g = a.getPath(b, c, d, e, this);f.push(g);
            }), f;
          }, Qd.prototype.getAdvanceWidth = function (a, b, c) {
            return this.forEachGlyph(a, 0, 0, b, c, function () {});
          }, Qd.prototype.draw = function (a, b, c, d, e, f) {
            this.getPath(b, c, d, e, f).draw(a);
          }, Qd.prototype.drawPoints = function (a, b, c, d, e, f) {
            this.forEachGlyph(b, c, d, e, f, function (b, c, d, e) {
              b.drawPoints(a, c, d, e);
            });
          }, Qd.prototype.drawMetrics = function (a, b, c, d, e, f) {
            this.forEachGlyph(b, c, d, e, f, function (b, c, d, e) {
              b.drawMetrics(a, c, d, e);
            });
          }, Qd.prototype.getEnglishName = function (a) {
            var b = this.names[a];if (b) return b.en;
          }, Qd.prototype.validate = function () {
            function a(a, b) {}function b(b) {
              var d = c.getEnglishName(b);a(d && d.trim().length > 0, "No English " + b + " specified.");
            }var c = this;b("fontFamily"), b("weightName"), b("manufacturer"), b("copyright"), b("version"), a(this.unitsPerEm > 0, "No unitsPerEm specified.");
          }, Qd.prototype.toTables = function () {
            return qf.fontToTable(this);
          }, Qd.prototype.toBuffer = function () {
            return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."), this.toArrayBuffer();
          }, Qd.prototype.toArrayBuffer = function () {
            for (var a = this.toTables(), b = a.encode(), c = new ArrayBuffer(b.length), d = new Uint8Array(c), e = 0; e < b.length; e++) {
              d[e] = b[e];
            }return c;
          }, Qd.prototype.download = function (a) {
            var c = this.getEnglishName("fontFamily"),
                d = this.getEnglishName("fontSubfamily");a = a || c.replace(/\s/g, "") + "-" + d + ".otf";var e = this.toArrayBuffer();if (Bb()) window.requestFileSystem = window.requestFileSystem || window.webkitRequestFileSystem, window.requestFileSystem(window.TEMPORARY, e.byteLength, function (b) {
              b.root.getFile(a, { create: !0 }, function (a) {
                a.createWriter(function (b) {
                  var c = new DataView(e),
                      d = new Blob([c], { type: "font/opentype" });b.write(d), b.addEventListener("writeend", function () {
                    location.href = a.toURL();
                  }, !1);
                });
              });
            }, function (a) {
              throw new Error(a.name + ": " + a.message);
            });else {
              var f = b("fs"),
                  g = Db(e);f.writeFileSync(a, g);
            }
          }, Qd.prototype.fsSelectionValues = { ITALIC: 1, UNDERSCORE: 2, NEGATIVE: 4, OUTLINED: 8, STRIKEOUT: 16, BOLD: 32, REGULAR: 64, USER_TYPO_METRICS: 128, WWS: 256, OBLIQUE: 512 }, Qd.prototype.usWidthClasses = { ULTRA_CONDENSED: 1, EXTRA_CONDENSED: 2, CONDENSED: 3, SEMI_CONDENSED: 4, MEDIUM: 5, SEMI_EXPANDED: 6, EXPANDED: 7, EXTRA_EXPANDED: 8, ULTRA_EXPANDED: 9 }, Qd.prototype.usWeightClasses = { THIN: 100, EXTRA_LIGHT: 200, LIGHT: 300, NORMAL: 400, MEDIUM: 500, SEMI_BOLD: 600, BOLD: 700, EXTRA_BOLD: 800, BLACK: 900 };var Cf = { make: Wd, parse: Xd },
              Df = new Array(10);Df[1] = function () {
            var a = this.offset + this.relativeOffset,
                b = this.parseUShort();return 1 === b ? { posFormat: 1, coverage: this.parsePointer(Q.coverage), value: this.parseValueRecord() } : 2 === b ? {
              posFormat: 2, coverage: this.parsePointer(Q.coverage), values: this.parseValueRecordList() } : void xe.assert(!1, "0x" + a.toString(16) + ": GPOS lookup type 1 format must be 1 or 2.");
          }, Df[2] = function () {
            var a = this.offset + this.relativeOffset,
                b = this.parseUShort();xe.assert(1 === b || 2 === b, "0x" + a.toString(16) + ": GPOS lookup type 2 format must be 1 or 2.");var c = this.parsePointer(Q.coverage),
                d = this.parseUShort(),
                e = this.parseUShort();if (1 === b) return { posFormat: b, coverage: c, valueFormat1: d, valueFormat2: e, pairSets: this.parseList(Q.pointer(Q.list(function () {
                return { secondGlyph: this.parseUShort(), value1: this.parseValueRecord(d), value2: this.parseValueRecord(e) };
              }))) };if (2 === b) {
              var f = this.parsePointer(Q.classDef),
                  g = this.parsePointer(Q.classDef),
                  h = this.parseUShort(),
                  i = this.parseUShort();return { posFormat: b, coverage: c, valueFormat1: d, valueFormat2: e, classDef1: f, classDef2: g, class1Count: h, class2Count: i, classRecords: this.parseList(h, Q.list(i, function () {
                  return { value1: this.parseValueRecord(d), value2: this.parseValueRecord(e) };
                })) };
            }
          }, Df[3] = function () {
            return { error: "GPOS Lookup 3 not supported" };
          }, Df[4] = function () {
            return { error: "GPOS Lookup 4 not supported" };
          }, Df[5] = function () {
            return { error: "GPOS Lookup 5 not supported" };
          }, Df[6] = function () {
            return { error: "GPOS Lookup 6 not supported" };
          }, Df[7] = function () {
            return { error: "GPOS Lookup 7 not supported" };
          }, Df[8] = function () {
            return { error: "GPOS Lookup 8 not supported" };
          }, Df[9] = function () {
            return { error: "GPOS Lookup 9 not supported" };
          };var Ef = new Array(10),
              Ff = { parse: Yd, make: Zd },
              Gf = { parse: ae },
              Hf = { parse: be };a.Font = Qd, a.Glyph = ca, a.Path = r, a.BoundingBox = q, a._parse = Le, a.parse = he, a.load = ie, a.loadSync = je, Object.defineProperty(a, "__esModule", { value: !0 });
        });
      }).call(this, b("buffer").Buffer);
    }, { buffer: 3, fs: 2 }], 11: [function (a, b, c) {
      function d() {
        throw new Error("setTimeout has not been defined");
      }function e() {
        throw new Error("clearTimeout has not been defined");
      }function f(a) {
        if (l === setTimeout) return setTimeout(a, 0);if ((l === d || !l) && setTimeout) return l = setTimeout, setTimeout(a, 0);try {
          return l(a, 0);
        } catch (b) {
          try {
            return l.call(null, a, 0);
          } catch (b) {
            return l.call(this, a, 0);
          }
        }
      }function g(a) {
        if (m === clearTimeout) return clearTimeout(a);if ((m === e || !m) && clearTimeout) return m = clearTimeout, clearTimeout(a);try {
          return m(a);
        } catch (b) {
          try {
            return m.call(null, a);
          } catch (b) {
            return m.call(this, a);
          }
        }
      }function h() {
        q && o && (q = !1, o.length ? p = o.concat(p) : r = -1, p.length && i());
      }function i() {
        if (!q) {
          var a = f(h);q = !0;for (var b = p.length; b;) {
            for (o = p, p = []; ++r < b;) {
              o && o[r].run();
            }r = -1, b = p.length;
          }o = null, q = !1, g(a);
        }
      }function j(a, b) {
        this.fun = a, this.array = b;
      }function k() {}var l,
          m,
          n = b.exports = {};!function () {
        try {
          l = "function" == typeof setTimeout ? setTimeout : d;
        } catch (a) {
          l = d;
        }try {
          m = "function" == typeof clearTimeout ? clearTimeout : e;
        } catch (a) {
          m = e;
        }
      }();var o,
          p = [],
          q = !1,
          r = -1;n.nextTick = function (a) {
        var b = new Array(arguments.length - 1);if (arguments.length > 1) for (var c = 1; c < arguments.length; c++) {
          b[c - 1] = arguments[c];
        }p.push(new j(a, b)), 1 !== p.length || q || f(i);
      }, j.prototype.run = function () {
        this.fun.apply(null, this.array);
      }, n.title = "browser", n.browser = !0, n.env = {}, n.argv = [], n.version = "", n.versions = {}, n.on = k, n.addListener = k, n.once = k, n.off = k, n.removeListener = k, n.removeAllListeners = k, n.emit = k, n.prependListener = k, n.prependOnceListener = k, n.listeners = function (a) {
        return [];
      }, n.binding = function (a) {
        throw new Error("process.binding is not supported");
      }, n.cwd = function () {
        return "/";
      }, n.chdir = function (a) {
        throw new Error("process.chdir is not supported");
      }, n.umask = function () {
        return 0;
      };
    }, {}], 12: [function (a, b, c) {
      !function (a) {
        "use strict";
        function b(a) {
          if ("string" != typeof a && (a = String(a)), /[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(a)) throw new TypeError("Invalid character in header field name");return a.toLowerCase();
        }function c(a) {
          return "string" != typeof a && (a = String(a)), a;
        }function d(a) {
          var b = { next: function next() {
              var b = a.shift();return { done: void 0 === b, value: b };
            } };return r.iterable && (b[Symbol.iterator] = function () {
            return b;
          }), b;
        }function e(a) {
          this.map = {}, a instanceof e ? a.forEach(function (a, b) {
            this.append(b, a);
          }, this) : Array.isArray(a) ? a.forEach(function (a) {
            this.append(a[0], a[1]);
          }, this) : a && Object.getOwnPropertyNames(a).forEach(function (b) {
            this.append(b, a[b]);
          }, this);
        }function f(a) {
          if (a.bodyUsed) return Promise.reject(new TypeError("Already read"));a.bodyUsed = !0;
        }function g(a) {
          return new Promise(function (b, c) {
            a.onload = function () {
              b(a.result);
            }, a.onerror = function () {
              c(a.error);
            };
          });
        }function h(a) {
          var b = new FileReader(),
              c = g(b);return b.readAsArrayBuffer(a), c;
        }function i(a) {
          var b = new FileReader(),
              c = g(b);return b.readAsText(a), c;
        }function j(a) {
          for (var b = new Uint8Array(a), c = new Array(b.length), d = 0; d < b.length; d++) {
            c[d] = String.fromCharCode(b[d]);
          }return c.join("");
        }function k(a) {
          if (a.slice) return a.slice(0);var b = new Uint8Array(a.byteLength);return b.set(new Uint8Array(a)), b.buffer;
        }function l() {
          return this.bodyUsed = !1, this._initBody = function (a) {
            if (this._bodyInit = a, a) {
              if ("string" == typeof a) this._bodyText = a;else if (r.blob && Blob.prototype.isPrototypeOf(a)) this._bodyBlob = a;else if (r.formData && FormData.prototype.isPrototypeOf(a)) this._bodyFormData = a;else if (r.searchParams && URLSearchParams.prototype.isPrototypeOf(a)) this._bodyText = a.toString();else if (r.arrayBuffer && r.blob && t(a)) this._bodyArrayBuffer = k(a.buffer), this._bodyInit = new Blob([this._bodyArrayBuffer]);else {
                if (!r.arrayBuffer || !ArrayBuffer.prototype.isPrototypeOf(a) && !u(a)) throw new Error("unsupported BodyInit type");this._bodyArrayBuffer = k(a);
              }
            } else this._bodyText = "";this.headers.get("content-type") || ("string" == typeof a ? this.headers.set("content-type", "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this.headers.set("content-type", this._bodyBlob.type) : r.searchParams && URLSearchParams.prototype.isPrototypeOf(a) && this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8"));
          }, r.blob && (this.blob = function () {
            var a = f(this);if (a) return a;if (this._bodyBlob) return Promise.resolve(this._bodyBlob);if (this._bodyArrayBuffer) return Promise.resolve(new Blob([this._bodyArrayBuffer]));if (this._bodyFormData) throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]));
          }, this.arrayBuffer = function () {
            return this._bodyArrayBuffer ? f(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then(h);
          }), this.text = function () {
            var a = f(this);if (a) return a;if (this._bodyBlob) return i(this._bodyBlob);if (this._bodyArrayBuffer) return Promise.resolve(j(this._bodyArrayBuffer));if (this._bodyFormData) throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText);
          }, r.formData && (this.formData = function () {
            return this.text().then(o);
          }), this.json = function () {
            return this.text().then(JSON.parse);
          }, this;
        }function m(a) {
          var b = a.toUpperCase();return v.indexOf(b) > -1 ? b : a;
        }function n(a, b) {
          b = b || {};var c = b.body;if (a instanceof n) {
            if (a.bodyUsed) throw new TypeError("Already read");this.url = a.url, this.credentials = a.credentials, b.headers || (this.headers = new e(a.headers)), this.method = a.method, this.mode = a.mode, c || null == a._bodyInit || (c = a._bodyInit, a.bodyUsed = !0);
          } else this.url = String(a);if (this.credentials = b.credentials || this.credentials || "omit", !b.headers && this.headers || (this.headers = new e(b.headers)), this.method = m(b.method || this.method || "GET"), this.mode = b.mode || this.mode || null, this.referrer = null, ("GET" === this.method || "HEAD" === this.method) && c) throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(c);
        }function o(a) {
          var b = new FormData();return a.trim().split("&").forEach(function (a) {
            if (a) {
              var c = a.split("="),
                  d = c.shift().replace(/\+/g, " "),
                  e = c.join("=").replace(/\+/g, " ");b.append(decodeURIComponent(d), decodeURIComponent(e));
            }
          }), b;
        }function p(a) {
          var b = new e();return a.split(/\r?\n/).forEach(function (a) {
            var c = a.split(":"),
                d = c.shift().trim();if (d) {
              var e = c.join(":").trim();b.append(d, e);
            }
          }), b;
        }function q(a, b) {
          b || (b = {}), this.type = "default", this.status = "status" in b ? b.status : 200, this.ok = this.status >= 200 && this.status < 300, this.statusText = "statusText" in b ? b.statusText : "OK", this.headers = new e(b.headers), this.url = b.url || "", this._initBody(a);
        }if (!a.fetch) {
          var r = { searchParams: "URLSearchParams" in a, iterable: "Symbol" in a && "iterator" in Symbol, blob: "FileReader" in a && "Blob" in a && function () {
              try {
                return new Blob(), !0;
              } catch (a) {
                return !1;
              }
            }(), formData: "FormData" in a, arrayBuffer: "ArrayBuffer" in a };if (r.arrayBuffer) var s = ["[object Int8Array]", "[object Uint8Array]", "[object Uint8ClampedArray]", "[object Int16Array]", "[object Uint16Array]", "[object Int32Array]", "[object Uint32Array]", "[object Float32Array]", "[object Float64Array]"],
              t = function t(a) {
            return a && DataView.prototype.isPrototypeOf(a);
          },
              u = ArrayBuffer.isView || function (a) {
            return a && s.indexOf(Object.prototype.toString.call(a)) > -1;
          };e.prototype.append = function (a, d) {
            a = b(a), d = c(d);var e = this.map[a];this.map[a] = e ? e + "," + d : d;
          }, e.prototype.delete = function (a) {
            delete this.map[b(a)];
          }, e.prototype.get = function (a) {
            return a = b(a), this.has(a) ? this.map[a] : null;
          }, e.prototype.has = function (a) {
            return this.map.hasOwnProperty(b(a));
          }, e.prototype.set = function (a, d) {
            this.map[b(a)] = c(d);
          }, e.prototype.forEach = function (a, b) {
            for (var c in this.map) {
              this.map.hasOwnProperty(c) && a.call(b, this.map[c], c, this);
            }
          }, e.prototype.keys = function () {
            var a = [];return this.forEach(function (b, c) {
              a.push(c);
            }), d(a);
          }, e.prototype.values = function () {
            var a = [];return this.forEach(function (b) {
              a.push(b);
            }), d(a);
          }, e.prototype.entries = function () {
            var a = [];return this.forEach(function (b, c) {
              a.push([c, b]);
            }), d(a);
          }, r.iterable && (e.prototype[Symbol.iterator] = e.prototype.entries);var v = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"];n.prototype.clone = function () {
            return new n(this, { body: this._bodyInit });
          }, l.call(n.prototype), l.call(q.prototype), q.prototype.clone = function () {
            return new q(this._bodyInit, { status: this.status, statusText: this.statusText, headers: new e(this.headers), url: this.url });
          }, q.error = function () {
            var a = new q(null, { status: 0, statusText: "" });return a.type = "error", a;
          };var w = [301, 302, 303, 307, 308];q.redirect = function (a, b) {
            if (-1 === w.indexOf(b)) throw new RangeError("Invalid status code");return new q(null, { status: b, headers: { location: a } });
          }, a.Headers = e, a.Request = n, a.Response = q, a.fetch = function (a, b) {
            return new Promise(function (c, d) {
              var e = new n(a, b),
                  f = new XMLHttpRequest();f.onload = function () {
                var a = { status: f.status, statusText: f.statusText, headers: p(f.getAllResponseHeaders() || "") };a.url = "responseURL" in f ? f.responseURL : a.headers.get("X-Request-URL");var b = "response" in f ? f.response : f.responseText;c(new q(b, a));
              }, f.onerror = function () {
                d(new TypeError("Network request failed"));
              }, f.ontimeout = function () {
                d(new TypeError("Network request failed"));
              }, f.open(e.method, e.url, !0), "include" === e.credentials && (f.withCredentials = !0), "responseType" in f && r.blob && (f.responseType = "blob"), e.headers.forEach(function (a, b) {
                f.setRequestHeader(b, a);
              }), f.send(void 0 === e._bodyInit ? null : e._bodyInit);
            });
          }, a.fetch.polyfill = !0;
        }
      }("undefined" != typeof self ? self : this);
    }, {}], 13: [function (a, b, c) {
      "use strict";
      var d = a("./core/main");a("./core/constants"), a("./core/environment"), a("./core/error_helpers"), a("./core/helpers"), a("./core/legacy"), a("./core/p5.Element"), a("./core/p5.Graphics"), a("./core/p5.Renderer"), a("./core/p5.Renderer2D"), a("./core/rendering"), a("./core/shim"), a("./core/structure"), a("./core/transform"), a("./core/shape/2d_primitives"), a("./core/shape/attributes"), a("./core/shape/curves"), a("./core/shape/vertex"), a("./color/color_conversion"), a("./color/creating_reading"), a("./color/p5.Color"), a("./color/setting"), a("./data/p5.TypedDict"), a("./events/acceleration"), a("./events/keyboard"), a("./events/mouse"), a("./events/touch"), a("./image/filters"), a("./image/image"), a("./image/loading_displaying"), a("./image/p5.Image"), a("./image/pixels"), a("./io/files"), a("./io/p5.Table"), a("./io/p5.TableRow"), a("./io/p5.XML"), a("./math/calculation"), a("./math/math"), a("./math/noise"), a("./math/p5.Vector"), a("./math/random"), a("./math/trigonometry"), a("./typography/attributes"), a("./typography/loading_displaying"), a("./typography/p5.Font"), a("./utilities/array_functions"), a("./utilities/conversion"), a("./utilities/string_functions"), a("./utilities/time_date"), a("./webgl/3d_primitives"), a("./webgl/interaction"), a("./webgl/light"), a("./webgl/loading"), a("./webgl/material"), a("./webgl/p5.Camera"), a("./webgl/p5.Geometry"), a("./webgl/p5.Matrix"), a("./webgl/p5.RendererGL.Immediate"), a("./webgl/p5.RendererGL"), a("./webgl/p5.RendererGL.Retained"), a("./webgl/p5.Shader"), a("./webgl/p5.Texture"), a("./webgl/text"), a("./core/init"), b.exports = d;
    }, { "./color/color_conversion": 14, "./color/creating_reading": 15, "./color/p5.Color": 16, "./color/setting": 17, "./core/constants": 18, "./core/environment": 19, "./core/error_helpers": 20, "./core/helpers": 21, "./core/init": 22, "./core/legacy": 23, "./core/main": 24, "./core/p5.Element": 25, "./core/p5.Graphics": 26, "./core/p5.Renderer": 27, "./core/p5.Renderer2D": 28, "./core/rendering": 29, "./core/shape/2d_primitives": 30, "./core/shape/attributes": 31, "./core/shape/curves": 32, "./core/shape/vertex": 33, "./core/shim": 34, "./core/structure": 35, "./core/transform": 36, "./data/p5.TypedDict": 37, "./events/acceleration": 38, "./events/keyboard": 39, "./events/mouse": 40, "./events/touch": 41, "./image/filters": 42, "./image/image": 43, "./image/loading_displaying": 44, "./image/p5.Image": 45, "./image/pixels": 46, "./io/files": 47, "./io/p5.Table": 48, "./io/p5.TableRow": 49, "./io/p5.XML": 50, "./math/calculation": 51, "./math/math": 52, "./math/noise": 53, "./math/p5.Vector": 54, "./math/random": 55, "./math/trigonometry": 56, "./typography/attributes": 57, "./typography/loading_displaying": 58, "./typography/p5.Font": 59, "./utilities/array_functions": 60, "./utilities/conversion": 61, "./utilities/string_functions": 62, "./utilities/time_date": 63, "./webgl/3d_primitives": 64, "./webgl/interaction": 65, "./webgl/light": 66, "./webgl/loading": 67, "./webgl/material": 68, "./webgl/p5.Camera": 69, "./webgl/p5.Geometry": 70, "./webgl/p5.Matrix": 71, "./webgl/p5.RendererGL": 74, "./webgl/p5.RendererGL.Immediate": 72, "./webgl/p5.RendererGL.Retained": 73, "./webgl/p5.Shader": 75, "./webgl/p5.Texture": 76, "./webgl/text": 77 }], 14: [function (a, b, c) {
      "use strict";
      var d = a("../core/main");d.ColorConversion = {}, d.ColorConversion._hsbaToHSLA = function (a) {
        var b = a[0],
            c = a[1],
            d = a[2],
            e = (2 - c) * d / 2;return 0 !== e && (1 === e ? c = 0 : e < .5 ? c /= 2 - c : c = c * d / (2 - 2 * e)), [b, c, e, a[3]];
      }, d.ColorConversion._hsbaToRGBA = function (a) {
        var b = 6 * a[0],
            c = a[1],
            d = a[2],
            e = [];if (0 === c) e = [d, d, d, a[3]];else {
          var f,
              g,
              h,
              i = Math.floor(b),
              j = d * (1 - c),
              k = d * (1 - c * (b - i)),
              l = d * (1 - c * (1 + i - b));1 === i ? (f = k, g = d, h = j) : 2 === i ? (f = j, g = d, h = l) : 3 === i ? (f = j, g = k, h = d) : 4 === i ? (f = l, g = j, h = d) : 5 === i ? (f = d, g = j, h = k) : (f = d, g = l, h = j), e = [f, g, h, a[3]];
        }return e;
      }, d.ColorConversion._hslaToHSBA = function (a) {
        var b,
            c = a[0],
            d = a[1],
            e = a[2];return b = e < .5 ? (1 + d) * e : e + d - e * d, d = 2 * (b - e) / b, [c, d, b, a[3]];
      }, d.ColorConversion._hslaToRGBA = function (a) {
        var b = 6 * a[0],
            c = a[1],
            d = a[2],
            e = [];if (0 === c) e = [d, d, d, a[3]];else {
          var f;f = d < .5 ? (1 + c) * d : d + c - d * c;var g = 2 * d - f,
              h = function h(a, b, c) {
            return a < 0 ? a += 6 : a >= 6 && (a -= 6), a < 1 ? b + (c - b) * a : a < 3 ? c : a < 4 ? b + (c - b) * (4 - a) : b;
          };e = [h(b + 2, g, f), h(b, g, f), h(b - 2, g, f), a[3]];
        }return e;
      }, d.ColorConversion._rgbaToHSBA = function (a) {
        var b,
            c,
            d = a[0],
            e = a[1],
            f = a[2],
            g = Math.max(d, e, f),
            h = g - Math.min(d, e, f);return 0 === h ? (b = 0, c = 0) : (c = h / g, d === g ? b = (e - f) / h : e === g ? b = 2 + (f - d) / h : f === g && (b = 4 + (d - e) / h), b < 0 ? b += 6 : b >= 6 && (b -= 6)), [b / 6, c, g, a[3]];
      }, d.ColorConversion._rgbaToHSLA = function (a) {
        var b,
            c,
            d = a[0],
            e = a[1],
            f = a[2],
            g = Math.max(d, e, f),
            h = Math.min(d, e, f),
            i = g + h,
            j = g - h;return 0 === j ? (b = 0, c = 0) : (c = i < 1 ? j / i : j / (2 - i), d === g ? b = (e - f) / j : e === g ? b = 2 + (f - d) / j : f === g && (b = 4 + (d - e) / j), b < 0 ? b += 6 : b >= 6 && (b -= 6)), [b / 6, c, i / 2, a[3]];
      }, b.exports = d.ColorConversion;
    }, { "../core/main": 24 }], 15: [function (a, b, c) {
      "use strict";
      var d = a("../core/main"),
          e = a("../core/constants");a("./p5.Color"), a("../core/error_helpers"), d.prototype.alpha = function (a) {
        return d._validateParameters("alpha", arguments), this.color(a)._getAlpha();
      }, d.prototype.blue = function (a) {
        return d._validateParameters("blue", arguments), this.color(a)._getBlue();
      }, d.prototype.brightness = function (a) {
        return d._validateParameters("brightness", arguments), this.color(a)._getBrightness();
      }, d.prototype.color = function () {
        if (d._validateParameters("color", arguments), arguments[0] instanceof d.Color) return arguments[0];var a = arguments[0] instanceof Array ? arguments[0] : arguments;return new d.Color(this, a);
      }, d.prototype.green = function (a) {
        return d._validateParameters("green", arguments), this.color(a)._getGreen();
      }, d.prototype.hue = function (a) {
        return d._validateParameters("hue", arguments), this.color(a)._getHue();
      }, d.prototype.lerpColor = function (a, b, c) {
        d._validateParameters("lerpColor", arguments);var f,
            g,
            h,
            i,
            j,
            k,
            l = this._colorMode,
            m = this._colorMaxes;if (l === e.RGB) j = a.levels.map(function (a) {
          return a / 255;
        }), k = b.levels.map(function (a) {
          return a / 255;
        });else if (l === e.HSB) a._getBrightness(), b._getBrightness(), j = a.hsba, k = b.hsba;else {
          if (l !== e.HSL) throw new Error(l + "cannot be used for interpolation.");a._getLightness(), b._getLightness(), j = a.hsla, k = b.hsla;
        }return c = Math.max(Math.min(c, 1), 0), void 0 === this.lerp && (this.lerp = function (a, b, c) {
          return c * (b - a) + a;
        }), f = this.lerp(j[0], k[0], c), g = this.lerp(j[1], k[1], c), h = this.lerp(j[2], k[2], c), i = this.lerp(j[3], k[3], c), f *= m[l][0], g *= m[l][1], h *= m[l][2], i *= m[l][3], this.color(f, g, h, i);
      }, d.prototype.lightness = function (a) {
        return d._validateParameters("lightness", arguments), this.color(a)._getLightness();
      }, d.prototype.red = function (a) {
        return d._validateParameters("red", arguments), this.color(a)._getRed();
      }, d.prototype.saturation = function (a) {
        return d._validateParameters("saturation", arguments), this.color(a)._getSaturation();
      }, b.exports = d;
    }, { "../core/constants": 18, "../core/error_helpers": 20, "../core/main": 24, "./p5.Color": 16 }], 16: [function (a, b, c) {
      "use strict";
      var d = a("../core/main"),
          e = a("../core/constants"),
          f = a("./color_conversion");d.Color = function (a, b) {
        if (this._storeModeAndMaxes(a._colorMode, a._colorMaxes), this.mode !== e.RGB && this.mode !== e.HSL && this.mode !== e.HSB) throw new Error(this.mode + " is an invalid colorMode.");return this._array = d.Color._parseInputs.apply(this, b), this._calculateLevels(), this;
      }, d.Color.prototype.toString = function (a) {
        this.hsba || (this.hsba = f._rgbaToHSBA(this._array)), this.hsla || (this.hsla = f._rgbaToHSLA(this._array));var b = this.levels,
            c = this._array,
            d = c[3];switch (a) {case "#rrggbb":
            return "#".concat(b[0] < 16 ? "0".concat(b[0].toString(16)) : b[0].toString(16), b[1] < 16 ? "0".concat(b[1].toString(16)) : b[1].toString(16), b[2] < 16 ? "0".concat(b[2].toString(16)) : b[2].toString(16));case "#rrggbbaa":
            return "#".concat(b[0] < 16 ? "0".concat(b[0].toString(16)) : b[0].toString(16), b[1] < 16 ? "0".concat(b[1].toString(16)) : b[1].toString(16), b[2] < 16 ? "0".concat(b[2].toString(16)) : b[2].toString(16), b[3] < 16 ? "0".concat(b[2].toString(16)) : b[3].toString(16));case "#rgb":
            return "#".concat(Math.round(15 * c[0]).toString(16), Math.round(15 * c[1]).toString(16), Math.round(15 * c[2]).toString(16));case "#rgba":
            return "#".concat(Math.round(15 * c[0]).toString(16), Math.round(15 * c[1]).toString(16), Math.round(15 * c[2]).toString(16), Math.round(15 * c[3]).toString(16));case "rgb":
            return "rgb(".concat(b[0], ", ", b[1], ", ", b[2], ")");case "rgb%":
            return "rgb(".concat((100 * c[0]).toPrecision(3), "%, ", (100 * c[1]).toPrecision(3), "%, ", (100 * c[2]).toPrecision(3), "%)");case "rgba%":
            return "rgba(".concat((100 * c[0]).toPrecision(3), "%, ", (100 * c[1]).toPrecision(3), "%, ", (100 * c[2]).toPrecision(3), "%, ", (100 * c[3]).toPrecision(3), "%)");case "hsb":case "hsv":
            return "hsb(".concat(this.hsba[0] * this.maxes[e.HSB][0], ", ", this.hsba[1] * this.maxes[e.HSB][1], ", ", this.hsba[2] * this.maxes[e.HSB][2], ")");case "hsb%":case "hsv%":
            return "hsb(".concat((100 * this.hsba[0]).toPrecision(3), "%, ", (100 * this.hsba[1]).toPrecision(3), "%, ", (100 * this.hsba[2]).toPrecision(3), "%)");case "hsba":case "hsva":
            return "hsba(".concat(this.hsba[0] * this.maxes[e.HSB][0], ", ", this.hsba[1] * this.maxes[e.HSB][1], ", ", this.hsba[2] * this.maxes[e.HSB][2], ", ", d, ")");case "hsba%":case "hsva%":
            return "hsba(".concat((100 * this.hsba[0]).toPrecision(3), "%, ", (100 * this.hsba[1]).toPrecision(3), "%, ", (100 * this.hsba[2]).toPrecision(3), "%, ", (100 * d).toPrecision(3), "%)");case "hsl":
            return "hsl(".concat(this.hsla[0] * this.maxes[e.HSL][0], ", ", this.hsla[1] * this.maxes[e.HSL][1], ", ", this.hsla[2] * this.maxes[e.HSL][2], ")");case "hsl%":
            return "hsl(".concat((100 * this.hsla[0]).toPrecision(3), "%, ", (100 * this.hsla[1]).toPrecision(3), "%, ", (100 * this.hsla[2]).toPrecision(3), "%)");case "hsla":
            return "hsla(".concat(this.hsla[0] * this.maxes[e.HSL][0], ", ", this.hsla[1] * this.maxes[e.HSL][1], ", ", this.hsla[2] * this.maxes[e.HSL][2], ", ", d, ")");case "hsla%":
            return "hsl(".concat((100 * this.hsla[0]).toPrecision(3), "%, ", (100 * this.hsla[1]).toPrecision(3), "%, ", (100 * this.hsla[2]).toPrecision(3), "%, ", (100 * d).toPrecision(3), "%)");case "rgba":default:
            return "rgba(" + b[0] + "," + b[1] + "," + b[2] + "," + d + ")";}
      }, d.Color.prototype.setRed = function (a) {
        this._array[0] = a / this.maxes[e.RGB][0], this._calculateLevels();
      }, d.Color.prototype.setGreen = function (a) {
        this._array[1] = a / this.maxes[e.RGB][1], this._calculateLevels();
      }, d.Color.prototype.setBlue = function (a) {
        this._array[2] = a / this.maxes[e.RGB][2], this._calculateLevels();
      }, d.Color.prototype.setAlpha = function (a) {
        this._array[3] = a / this.maxes[this.mode][3], this._calculateLevels();
      }, d.Color.prototype._calculateLevels = function () {
        for (var a = this._array, b = this.levels = new Array(a.length), c = a.length - 1; c >= 0; --c) {
          b[c] = Math.round(255 * a[c]);
        }
      }, d.Color.prototype._getAlpha = function () {
        return this._array[3] * this.maxes[this.mode][3];
      }, d.Color.prototype._storeModeAndMaxes = function (a, b) {
        this.mode = a, this.maxes = b;
      }, d.Color.prototype._getMode = function () {
        return this.mode;
      }, d.Color.prototype._getMaxes = function () {
        return this.maxes;
      }, d.Color.prototype._getBlue = function () {
        return this._array[2] * this.maxes[e.RGB][2];
      }, d.Color.prototype._getBrightness = function () {
        return this.hsba || (this.hsba = f._rgbaToHSBA(this._array)), this.hsba[2] * this.maxes[e.HSB][2];
      }, d.Color.prototype._getGreen = function () {
        return this._array[1] * this.maxes[e.RGB][1];
      }, d.Color.prototype._getHue = function () {
        return this.mode === e.HSB ? (this.hsba || (this.hsba = f._rgbaToHSBA(this._array)), this.hsba[0] * this.maxes[e.HSB][0]) : (this.hsla || (this.hsla = f._rgbaToHSLA(this._array)), this.hsla[0] * this.maxes[e.HSL][0]);
      }, d.Color.prototype._getLightness = function () {
        return this.hsla || (this.hsla = f._rgbaToHSLA(this._array)), this.hsla[2] * this.maxes[e.HSL][2];
      }, d.Color.prototype._getRed = function () {
        return this._array[0] * this.maxes[e.RGB][0];
      }, d.Color.prototype._getSaturation = function () {
        return this.mode === e.HSB ? (this.hsba || (this.hsba = f._rgbaToHSBA(this._array)), this.hsba[1] * this.maxes[e.HSB][1]) : (this.hsla || (this.hsla = f._rgbaToHSLA(this._array)), this.hsla[1] * this.maxes[e.HSL][1]);
      };var g = { aliceblue: "#f0f8ff", antiquewhite: "#faebd7", aqua: "#00ffff", aquamarine: "#7fffd4", azure: "#f0ffff", beige: "#f5f5dc", bisque: "#ffe4c4", black: "#000000", blanchedalmond: "#ffebcd", blue: "#0000ff", blueviolet: "#8a2be2", brown: "#a52a2a", burlywood: "#deb887", cadetblue: "#5f9ea0", chartreuse: "#7fff00", chocolate: "#d2691e", coral: "#ff7f50", cornflowerblue: "#6495ed", cornsilk: "#fff8dc", crimson: "#dc143c", cyan: "#00ffff", darkblue: "#00008b", darkcyan: "#008b8b", darkgoldenrod: "#b8860b", darkgray: "#a9a9a9", darkgreen: "#006400", darkgrey: "#a9a9a9", darkkhaki: "#bdb76b", darkmagenta: "#8b008b", darkolivegreen: "#556b2f", darkorange: "#ff8c00", darkorchid: "#9932cc", darkred: "#8b0000", darksalmon: "#e9967a", darkseagreen: "#8fbc8f", darkslateblue: "#483d8b", darkslategray: "#2f4f4f", darkslategrey: "#2f4f4f", darkturquoise: "#00ced1", darkviolet: "#9400d3", deeppink: "#ff1493", deepskyblue: "#00bfff", dimgray: "#696969", dimgrey: "#696969", dodgerblue: "#1e90ff", firebrick: "#b22222", floralwhite: "#fffaf0", forestgreen: "#228b22", fuchsia: "#ff00ff", gainsboro: "#dcdcdc", ghostwhite: "#f8f8ff", gold: "#ffd700", goldenrod: "#daa520", gray: "#808080", green: "#008000", greenyellow: "#adff2f", grey: "#808080", honeydew: "#f0fff0", hotpink: "#ff69b4", indianred: "#cd5c5c", indigo: "#4b0082", ivory: "#fffff0", khaki: "#f0e68c", lavender: "#e6e6fa", lavenderblush: "#fff0f5", lawngreen: "#7cfc00", lemonchiffon: "#fffacd", lightblue: "#add8e6", lightcoral: "#f08080", lightcyan: "#e0ffff", lightgoldenrodyellow: "#fafad2", lightgray: "#d3d3d3", lightgreen: "#90ee90", lightgrey: "#d3d3d3", lightpink: "#ffb6c1", lightsalmon: "#ffa07a", lightseagreen: "#20b2aa", lightskyblue: "#87cefa", lightslategray: "#778899", lightslategrey: "#778899", lightsteelblue: "#b0c4de", lightyellow: "#ffffe0", lime: "#00ff00", limegreen: "#32cd32", linen: "#faf0e6", magenta: "#ff00ff", maroon: "#800000", mediumaquamarine: "#66cdaa", mediumblue: "#0000cd", mediumorchid: "#ba55d3", mediumpurple: "#9370db", mediumseagreen: "#3cb371", mediumslateblue: "#7b68ee", mediumspringgreen: "#00fa9a", mediumturquoise: "#48d1cc", mediumvioletred: "#c71585", midnightblue: "#191970", mintcream: "#f5fffa", mistyrose: "#ffe4e1", moccasin: "#ffe4b5", navajowhite: "#ffdead", navy: "#000080", oldlace: "#fdf5e6", olive: "#808000", olivedrab: "#6b8e23", orange: "#ffa500", orangered: "#ff4500", orchid: "#da70d6", palegoldenrod: "#eee8aa", palegreen: "#98fb98", paleturquoise: "#afeeee", palevioletred: "#db7093", papayawhip: "#ffefd5", peachpuff: "#ffdab9", peru: "#cd853f", pink: "#ffc0cb", plum: "#dda0dd", powderblue: "#b0e0e6", purple: "#800080", red: "#ff0000", rosybrown: "#bc8f8f", royalblue: "#4169e1", saddlebrown: "#8b4513", salmon: "#fa8072", sandybrown: "#f4a460", seagreen: "#2e8b57", seashell: "#fff5ee", sienna: "#a0522d", silver: "#c0c0c0", skyblue: "#87ceeb", slateblue: "#6a5acd", slategray: "#708090", slategrey: "#708090", snow: "#fffafa", springgreen: "#00ff7f", steelblue: "#4682b4", tan: "#d2b48c", teal: "#008080", thistle: "#d8bfd8", tomato: "#ff6347", turquoise: "#40e0d0", violet: "#ee82ee", wheat: "#f5deb3", white: "#ffffff", whitesmoke: "#f5f5f5", yellow: "#ffff00", yellowgreen: "#9acd32" },
          h = /\s*/,
          i = /(\d{1,3})/,
          j = /((?:\d+(?:\.\d+)?)|(?:\.\d+))/,
          k = new RegExp(j.source + "%"),
          l = { HEX3: /^#([a-f0-9])([a-f0-9])([a-f0-9])$/i, HEX4: /^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i, HEX6: /^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i, HEX8: /^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i, RGB: new RegExp(["^rgb\\(", i.source, ",", i.source, ",", i.source, "\\)$"].join(h.source), "i"), RGB_PERCENT: new RegExp(["^rgb\\(", k.source, ",", k.source, ",", k.source, "\\)$"].join(h.source), "i"), RGBA: new RegExp(["^rgba\\(", i.source, ",", i.source, ",", i.source, ",", j.source, "\\)$"].join(h.source), "i"), RGBA_PERCENT: new RegExp(["^rgba\\(", k.source, ",", k.source, ",", k.source, ",", j.source, "\\)$"].join(h.source), "i"), HSL: new RegExp(["^hsl\\(", i.source, ",", k.source, ",", k.source, "\\)$"].join(h.source), "i"), HSLA: new RegExp(["^hsla\\(", i.source, ",", k.source, ",", k.source, ",", j.source, "\\)$"].join(h.source), "i"), HSB: new RegExp(["^hsb\\(", i.source, ",", k.source, ",", k.source, "\\)$"].join(h.source), "i"), HSBA: new RegExp(["^hsba\\(", i.source, ",", k.source, ",", k.source, ",", j.source, "\\)$"].join(h.source), "i") };d.Color._parseInputs = function (a, b, c, h) {
        var i,
            j = arguments.length,
            k = this.mode,
            m = this.maxes[k],
            n = [];if (j >= 3) {
          for (n[0] = a / m[0], n[1] = b / m[1], n[2] = c / m[2], n[3] = "number" == typeof h ? h / m[3] : 1, i = n.length - 1; i >= 0; --i) {
            var o = n[i];o < 0 ? n[i] = 0 : o > 1 && (n[i] = 1);
          }return k === e.HSL ? f._hslaToRGBA(n) : k === e.HSB ? f._hsbaToRGBA(n) : n;
        }if (1 === j && "string" == typeof a) {
          var p = a.trim().toLowerCase();if (g[p]) return d.Color._parseInputs.call(this, g[p]);if (l.HEX3.test(p)) return n = l.HEX3.exec(p).slice(1).map(function (a) {
            return parseInt(a + a, 16) / 255;
          }), n[3] = 1, n;if (l.HEX6.test(p)) return n = l.HEX6.exec(p).slice(1).map(function (a) {
            return parseInt(a, 16) / 255;
          }), n[3] = 1, n;if (l.HEX4.test(p)) return n = l.HEX4.exec(p).slice(1).map(function (a) {
            return parseInt(a + a, 16) / 255;
          });if (l.HEX8.test(p)) return n = l.HEX8.exec(p).slice(1).map(function (a) {
            return parseInt(a, 16) / 255;
          });if (l.RGB.test(p)) return n = l.RGB.exec(p).slice(1).map(function (a) {
            return a / 255;
          }), n[3] = 1, n;if (l.RGB_PERCENT.test(p)) return n = l.RGB_PERCENT.exec(p).slice(1).map(function (a) {
            return parseFloat(a) / 100;
          }), n[3] = 1, n;if (l.RGBA.test(p)) return n = l.RGBA.exec(p).slice(1).map(function (a, b) {
            return 3 === b ? parseFloat(a) : a / 255;
          });if (l.RGBA_PERCENT.test(p)) return n = l.RGBA_PERCENT.exec(p).slice(1).map(function (a, b) {
            return 3 === b ? parseFloat(a) : parseFloat(a) / 100;
          });if (l.HSL.test(p) ? (n = l.HSL.exec(p).slice(1).map(function (a, b) {
            return 0 === b ? parseInt(a, 10) / 360 : parseInt(a, 10) / 100;
          }), n[3] = 1) : l.HSLA.test(p) && (n = l.HSLA.exec(p).slice(1).map(function (a, b) {
            return 0 === b ? parseInt(a, 10) / 360 : 3 === b ? parseFloat(a) : parseInt(a, 10) / 100;
          })), n = n.map(function (a) {
            return Math.max(Math.min(a, 1), 0);
          }), n.length) return f._hslaToRGBA(n);if (l.HSB.test(p) ? (n = l.HSB.exec(p).slice(1).map(function (a, b) {
            return 0 === b ? parseInt(a, 10) / 360 : parseInt(a, 10) / 100;
          }), n[3] = 1) : l.HSBA.test(p) && (n = l.HSBA.exec(p).slice(1).map(function (a, b) {
            return 0 === b ? parseInt(a, 10) / 360 : 3 === b ? parseFloat(a) : parseInt(a, 10) / 100;
          })), n.length) {
            for (i = n.length - 1; i >= 0; --i) {
              n[i] = Math.max(Math.min(n[i], 1), 0);
            }return f._hsbaToRGBA(n);
          }n = [1, 1, 1, 1];
        } else {
          if (1 !== j && 2 !== j || "number" != typeof a) throw new Error(arguments + "is not a valid color representation.");n[0] = a / m[2], n[1] = a / m[2], n[2] = a / m[2], n[3] = "number" == typeof b ? b / m[3] : 1, n = n.map(function (a) {
            return Math.max(Math.min(a, 1), 0);
          });
        }return n;
      }, b.exports = d.Color;
    }, { "../core/constants": 18, "../core/main": 24, "./color_conversion": 14 }], 17: [function (a, b, c) {
      "use strict";
      var d = a("../core/main"),
          e = a("../core/constants");a("./p5.Color"), d.prototype.background = function () {
        return arguments[0] instanceof d.Image ? this.image(arguments[0], 0, 0, this.width, this.height) : this._renderer.background.apply(this._renderer, arguments), this;
      }, d.prototype.clear = function () {
        return this._renderer.clear(), this;
      }, d.prototype.colorMode = function (a, b, c, f, g) {
        if (d._validateParameters("colorMode", arguments), a === e.RGB || a === e.HSB || a === e.HSL) {
          this._colorMode = a;var h = this._colorMaxes[a];2 === arguments.length ? (h[0] = b, h[1] = b, h[2] = b, h[3] = b) : 4 === arguments.length ? (h[0] = b, h[1] = c, h[2] = f) : 5 === arguments.length && (h[0] = b, h[1] = c, h[2] = f, h[3] = g);
        }return this;
      }, d.prototype.fill = function () {
        return this._renderer._setProperty("_fillSet", !0), this._renderer._setProperty("_doFill", !0), this._renderer.fill.apply(this._renderer, arguments), this;
      }, d.prototype.noFill = function () {
        return this._renderer._setProperty("_doFill", !1), this;
      }, d.prototype.noStroke = function () {
        return this._renderer._setProperty("_doStroke", !1), this;
      }, d.prototype.stroke = function () {
        return this._renderer._setProperty("_strokeSet", !0), this._renderer._setProperty("_doStroke", !0), this._renderer.stroke.apply(this._renderer, arguments), this;
      }, b.exports = d;
    }, { "../core/constants": 18, "../core/main": 24, "./p5.Color": 16 }], 18: [function (a, b, c) {
      "use strict";
      var d = Math.PI;b.exports = { P2D: "p2d", WEBGL: "webgl", ARROW: "default", CROSS: "crosshair", HAND: "pointer", MOVE: "move", TEXT: "text", WAIT: "wait", HALF_PI: d / 2, PI: d, QUARTER_PI: d / 4, TAU: 2 * d, TWO_PI: 2 * d, DEGREES: "degrees", RADIANS: "radians", DEG_TO_RAD: d / 180, RAD_TO_DEG: 180 / d, CORNER: "corner", CORNERS: "corners", RADIUS: "radius", RIGHT: "right", LEFT: "left", CENTER: "center", TOP: "top", BOTTOM: "bottom", BASELINE: "alphabetic", POINTS: 0, LINES: 1, LINE_STRIP: 3, LINE_LOOP: 2, TRIANGLES: 4, TRIANGLE_FAN: 6, TRIANGLE_STRIP: 5, QUADS: "quads", QUAD_STRIP: "quad_strip", CLOSE: "close", OPEN: "open", CHORD: "chord", PIE: "pie", PROJECT: "square", SQUARE: "butt", ROUND: "round", BEVEL: "bevel", MITER: "miter", RGB: "rgb", HSB: "hsb", HSL: "hsl", AUTO: "auto", ALT: 18, BACKSPACE: 8, CONTROL: 17, DELETE: 46, DOWN_ARROW: 40, ENTER: 13, ESCAPE: 27, LEFT_ARROW: 37, OPTION: 18, RETURN: 13, RIGHT_ARROW: 39, SHIFT: 16, TAB: 9, UP_ARROW: 38, BLEND: "source-over", ADD: "lighter", DARKEST: "darken", LIGHTEST: "lighten", DIFFERENCE: "difference", EXCLUSION: "exclusion", MULTIPLY: "multiply", SCREEN: "screen", REPLACE: "copy", OVERLAY: "overlay", HARD_LIGHT: "hard-light", SOFT_LIGHT: "soft-light", DODGE: "color-dodge", BURN: "color-burn", THRESHOLD: "threshold", GRAY: "gray", OPAQUE: "opaque", INVERT: "invert", POSTERIZE: "posterize", DILATE: "dilate", ERODE: "erode", BLUR: "blur", NORMAL: "normal", ITALIC: "italic", BOLD: "bold", _DEFAULT_TEXT_FILL: "#000000", _DEFAULT_LEADMULT: 1.25, _CTX_MIDDLE: "middle", LINEAR: "linear", QUADRATIC: "quadratic", BEZIER: "bezier", CURVE: "curve", STROKE: "stroke", FILL: "fill", TEXTURE: "texture", IMMEDIATE: "immediate", NEAREST: "nearest", REPEAT: "repeat", CLAMP: "clamp", MIRROR: "mirror", LANDSCAPE: "landscape", PORTRAIT: "portrait", _DEFAULT_STROKE: "#000000", _DEFAULT_FILL: "#FFFFFF", GRID: "grid", AXES: "axes" };
    }, {}], 19: [function (a, b, c) {
      "use strict";
      function d() {
        return window.innerWidth || document.documentElement && document.documentElement.clientWidth || document.body && document.body.clientWidth || 0;
      }function e() {
        return window.innerHeight || document.documentElement && document.documentElement.clientHeight || document.body && document.body.clientHeight || 0;
      }function f(a) {
        if (!(document.fullscreenEnabled || document.webkitFullscreenEnabled || document.mozFullScreenEnabled || document.msFullscreenEnabled)) throw new Error("Fullscreen not enabled in this browser.");a.requestFullscreen ? a.requestFullscreen() : a.mozRequestFullScreen ? a.mozRequestFullScreen() : a.webkitRequestFullscreen ? a.webkitRequestFullscreen() : a.msRequestFullscreen && a.msRequestFullscreen();
      }function g() {
        document.exitFullscreen ? document.exitFullscreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.webkitExitFullscreen ? document.webkitExitFullscreen() : document.msExitFullscreen && document.msExitFullscreen();
      }var h = a("./main"),
          i = a("./constants"),
          j = [i.ARROW, i.CROSS, i.HAND, i.MOVE, i.TEXT, i.WAIT];h.prototype._frameRate = 0, h.prototype._lastFrameTime = window.performance.now(), h.prototype._targetFrameRate = 60;var k = window.print;h.prototype.print = function () {
        arguments.length ? console.log.apply(console, arguments) : k();
      }, h.prototype.frameCount = 0, h.prototype.focused = document.hasFocus(), h.prototype.cursor = function (a, b, c) {
        var d = "auto",
            e = this._curElement.elt;if (j.indexOf(a) > -1) d = a;else if ("string" == typeof a) {
          var f = "";b && c && "number" == typeof b && "number" == typeof c && (f = b + " " + c), d = "http://" === a.substring(0, 7) || "https://" === a.substring(0, 8) ? "url(" + a + ") " + f + ", auto" : /\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(a) ? "url(" + a + ") " + f + ", auto" : a;
        }e.style.cursor = d;
      }, h.prototype.frameRate = function (a) {
        return h._validateParameters("frameRate", arguments), "number" != typeof a || a < 0 ? this._frameRate : (this._setProperty("_targetFrameRate", a), this._runFrames(), this);
      }, h.prototype.getFrameRate = function () {
        return this.frameRate();
      }, h.prototype.setFrameRate = function (a) {
        return this.frameRate(a);
      }, h.prototype.noCursor = function () {
        this._curElement.elt.style.cursor = "none";
      }, h.prototype.displayWidth = screen.width, h.prototype.displayHeight = screen.height, h.prototype.windowWidth = d(), h.prototype.windowHeight = e(), h.prototype._onresize = function (a) {
        this._setProperty("windowWidth", d()), this._setProperty("windowHeight", e());var b,
            c = this._isGlobal ? window : this;"function" == typeof c.windowResized && (void 0 === (b = c.windowResized(a)) || b || a.preventDefault());
      }, h.prototype.width = 0, h.prototype.height = 0, h.prototype.fullscreen = function (a) {
        if (h._validateParameters("fullscreen", arguments), void 0 === a) return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;a ? f(document.documentElement) : g();
      }, h.prototype.pixelDensity = function (a) {
        h._validateParameters("pixelDensity", arguments);var b;return "number" == typeof a ? (a !== this._pixelDensity && (this._pixelDensity = a, this._pixelsDirty = !0), b = this, this.resizeCanvas(this.width, this.height, !0)) : b = this._pixelDensity, b;
      }, h.prototype.displayDensity = function () {
        return window.devicePixelRatio;
      }, h.prototype.getURL = function () {
        return location.href;
      }, h.prototype.getURLPath = function () {
        return location.pathname.split("/").filter(function (a) {
          return "" !== a;
        });
      }, h.prototype.getURLParams = function () {
        for (var a, b = /[?&]([^&=]+)(?:[&=])([^&=]+)/gim, c = {}; null != (a = b.exec(location.search));) {
          a.index === b.lastIndex && b.lastIndex++, c[a[1]] = a[2];
        }return c;
      }, b.exports = h;
    }, { "./constants": 18, "./main": 24 }], 20: [function (a, b, c) {
      "use strict";
      var d = a("./main");a("./constants");d._validateParameters = d._friendlyFileLoadError = function () {};var e = null,
          f = "https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup",
          g = function g() {
        var b = {},
            c = function c(a) {
          return Object.getOwnPropertyNames(a).filter(function (a) {
            return "_" !== a[0] && !(a in b) && (b[a] = !0, !0);
          }).map(function (b) {
            var c;return c = "function" == typeof a[b] ? "function" : b === b.toUpperCase() ? "constant" : "variable", { name: b, type: c };
          });
        };e = [].concat(c(d.prototype), c(a("./constants"))), e.sort(function (a, b) {
          return b.name.length - a.name.length;
        });
      },
          h = function h(a, b) {
        b || (b = console.log.bind(console)), e || g(), e.some(function (c) {
          if (a.message && null !== a.message.match("\\W?" + c.name + "\\W")) return b("Did you just try to use p5.js's " + c.name + ("function" === c.type ? "() " : " ") + c.type + "? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: " + f), !0;
        });
      };d.prototype._helpForMisusedAtTopLevelCode = h, "complete" !== document.readyState && (window.addEventListener("error", h, !1), window.addEventListener("load", function () {
        window.removeEventListener("error", h, !1);
      })), b.exports = d;
    }, { "../../docs/reference/data.json": void 0, "./constants": 18, "./main": 24 }], 21: [function (a, b, c) {
      "use strict";
      var d = a("./constants");b.exports = { modeAdjust: function modeAdjust(a, b, c, e, f) {
          return f === d.CORNER ? { x: a, y: b, w: c, h: e } : f === d.CORNERS ? { x: a, y: b, w: c - a, h: e - b } : f === d.RADIUS ? { x: a - c, y: b - e, w: 2 * c, h: 2 * e } : f === d.CENTER ? { x: a - .5 * c, y: b - .5 * e, w: c, h: e } : void 0;
        } };
    }, { "./constants": 18 }], 22: [function (a, b, c) {
      "use strict";
      var d = a("../core/main"),
          e = function e() {
        window.mocha || (window.setup && "function" == typeof window.setup || window.draw && "function" == typeof window.draw) && !d.instance && new d();
      };"complete" === document.readyState ? e() : window.addEventListener("load", e, !1);
    }, { "../core/main": 24 }], 23: [function (a, b, c) {
      "use strict";
      var d = a("./main");d.prototype.exit = function () {
        throw new Error("exit() not implemented, see remove()");
      }, d.prototype.pushStyle = function () {
        throw new Error("pushStyle() not used, see push()");
      }, d.prototype.popStyle = function () {
        throw new Error("popStyle() not used, see pop()");
      }, d.prototype.size = function () {
        var a = "size() is not a valid p5 function, to set the size of the ";throw a += "drawing canvas, please use createCanvas() instead", new Error(a);
      }, b.exports = d;
    }, { "./main": 24 }], 24: [function (a, b, c) {
      "use strict";
      a("./shim");var d = a("./constants"),
          e = function e(a, b, c) {
        "boolean" == typeof b && void 0 === c && (c = b, b = void 0), this._setupDone = !1, this._pixelDensity = Math.ceil(window.devicePixelRatio) || 1, this._userNode = b, this._curElement = null, this._elements = [], this._requestAnimId = 0, this._preloadCount = 0, this._isGlobal = !1, this._loop = !0, this._initializeInstanceVariables(), this._defaultCanvasSize = { width: 100, height: 100 }, this._events = { mousemove: null, mousedown: null, mouseup: null, dragend: null, dragover: null, click: null, dblclick: null, mouseover: null, mouseout: null, keydown: null, keyup: null, keypress: null, touchstart: null, touchmove: null, touchend: null, resize: null, blur: null }, this._events.wheel = null, this._loadingScreenId = "p5_loading", this._registeredMethods = {};for (var d = Object.getOwnPropertyNames(e.prototype._registeredMethods), f = 0; f < d.length; f++) {
          var g = d[f];this._registeredMethods[g] = e.prototype._registeredMethods[g].slice();
        }window.DeviceOrientationEvent && (this._events.deviceorientation = null), window.DeviceMotionEvent && !window._isNodeWebkit && (this._events.devicemotion = null), this._start = function () {
          this._userNode && "string" == typeof this._userNode && (this._userNode = document.getElementById(this._userNode));var a = this._isGlobal ? window : this,
              b = a.preload;if (b) {
            var c = document.getElementById(this._loadingScreenId);if (!c) {
              c = document.createElement("div"), c.innerHTML = "Loading...", c.style.position = "absolute", c.id = this._loadingScreenId;(this._userNode || document.body).appendChild(c);
            }var d = this._preloadMethods;for (var f in d) {
              d[f] = d[f] || e;var g = d[f];g !== e.prototype && g !== e || (this._isGlobal && (window[f] = this._wrapPreload(this, f)), g = this), this._registeredPreloadMethods[f] = g[f], g[f] = this._wrapPreload(g, f);
            }b(), this._runIfPreloadsAreDone();
          } else this._setup(), this._runFrames(), this._draw();
        }.bind(this), this._runIfPreloadsAreDone = function () {
          var a = this._isGlobal ? window : this;if (0 === a._preloadCount) {
            var b = document.getElementById(a._loadingScreenId);b && b.parentNode.removeChild(b), a._setup(), a._runFrames(), a._draw();
          }
        }, this._decrementPreload = function () {
          var a = this._isGlobal ? window : this;"function" == typeof a.preload && (a._setProperty("_preloadCount", a._preloadCount - 1), a._runIfPreloadsAreDone());
        }, this._wrapPreload = function (a, b) {
          return function () {
            return this._incrementPreload(), this._registeredPreloadMethods[b].apply(a, arguments);
          }.bind(this);
        }, this._incrementPreload = function () {
          var a = this._isGlobal ? window : this;a._setProperty("_preloadCount", a._preloadCount + 1);
        }, this._setup = function () {
          this.createCanvas(this._defaultCanvasSize.width, this._defaultCanvasSize.height, "p2d");var a = this._isGlobal ? window : this;if ("function" == typeof a.preload) for (var b in this._preloadMethods) {
            a[b] = this._preloadMethods[b][b], a[b] && this && (a[b] = a[b].bind(this));
          }"function" == typeof a.setup && a.setup();for (var c = document.getElementsByTagName("canvas"), d = 0; d < c.length; d++) {
            var e = c[d];"true" === e.dataset.hidden && (e.style.visibility = "", delete e.dataset.hidden);
          }this._setupDone = !0;
        }.bind(this), this._draw = function () {
          var a = window.performance.now(),
              b = a - this._lastFrameTime,
              c = 1e3 / this._targetFrameRate;(!this._loop || b >= c - 5) && (this.redraw(), this._frameRate = 1e3 / (a - this._lastFrameTime), this._lastFrameTime = a, void 0 !== this._updateMouseCoords && this._updateMouseCoords()), this._loop && (this._requestAnimId = window.requestAnimationFrame(this._draw));
        }.bind(this), this._runFrames = function () {
          this._updateInterval && clearInterval(this._updateInterval);
        }.bind(this), this._setProperty = function (a, b) {
          this[a] = b, this._isGlobal && (window[a] = b);
        }.bind(this), this.remove = function () {
          var a = document.getElementById(this._loadingScreenId);if (a && (a.parentNode.removeChild(a), this._incrementPreload()), this._curElement) {
            this._loop = !1, this._requestAnimId && window.cancelAnimationFrame(this._requestAnimId);for (var b in this._events) {
              window.removeEventListener(b, this._events[b]);
            }for (var c = 0; c < this._elements.length; c++) {
              var d = this._elements[c];d.elt.parentNode && d.elt.parentNode.removeChild(d.elt);for (var f in d._events) {
                d.elt.removeEventListener(f, d._events[f]);
              }
            }var g = this;this._registeredMethods.remove.forEach(function (a) {
              void 0 !== a && a.call(g);
            });
          }if (this._isGlobal) {
            for (var h in e.prototype) {
              try {
                delete window[h];
              } catch (a) {
                window[h] = void 0;
              }
            }for (var i in this) {
              if (this.hasOwnProperty(i)) try {
                delete window[i];
              } catch (a) {
                window[i] = void 0;
              }
            }e.instance = null;
          }
        }.bind(this), this._registeredMethods.init.forEach(function (a) {
          void 0 !== a && a.call(this);
        }, this);var h = this._createFriendlyGlobalFunctionBinder();if (a) a(this);else {
          this._isGlobal = !0, e.instance = this;for (var i in e.prototype) {
            if ("function" == typeof e.prototype[i]) {
              var j = i.substring(2);this._events.hasOwnProperty(j) || (Math.hasOwnProperty(i) && Math[i] === e.prototype[i] ? h(i, e.prototype[i]) : h(i, e.prototype[i].bind(this)));
            } else h(i, e.prototype[i]);
          }for (var k in this) {
            this.hasOwnProperty(k) && h(k, this[k]);
          }
        }for (var l in this._events) {
          var m = this["_on" + l];if (m) {
            var n = m.bind(this);window.addEventListener(l, n, { passive: !1 }), this._events[l] = n;
          }
        }var o = function () {
          this._setProperty("focused", !0);
        }.bind(this),
            p = function () {
          this._setProperty("focused", !1);
        }.bind(this);window.addEventListener("focus", o), window.addEventListener("blur", p), this.registerMethod("remove", function () {
          window.removeEventListener("focus", o), window.removeEventListener("blur", p);
        }), c ? this._start() : "complete" === document.readyState ? this._start() : window.addEventListener("load", this._start.bind(this), !1);
      };e.prototype._initializeInstanceVariables = function () {
        this._styles = [], this._bezierDetail = 20, this._curveDetail = 20, this._colorMode = d.RGB, this._colorMaxes = { rgb: [255, 255, 255, 255], hsb: [360, 100, 100, 1], hsl: [360, 100, 100, 1] }, this._pixelsDirty = !0;
      }, e.instance = null, e.disableFriendlyErrors = !1;for (var f in d) {
        e.prototype[f] = d[f];
      }e.prototype._preloadMethods = { loadJSON: e.prototype, loadImage: e.prototype, loadStrings: e.prototype, loadXML: e.prototype, loadBytes: e.prototype, loadTable: e.prototype, loadFont: e.prototype, loadModel: e.prototype, loadShader: e.prototype }, e.prototype._registeredMethods = { init: [], pre: [], post: [], remove: [] }, e.prototype._registeredPreloadMethods = {}, e.prototype.registerPreloadMethod = function (a, b) {
        e.prototype._preloadMethods.hasOwnProperty(a) || (e.prototype._preloadMethods[a] = b);
      }, e.prototype.registerMethod = function (a, b) {
        var c = this || e.prototype;c._registeredMethods.hasOwnProperty(a) || (c._registeredMethods[a] = []), c._registeredMethods[a].push(b);
      }, e.prototype._createFriendlyGlobalFunctionBinder = function (a) {
        a = a || {};var b = a.globalObject || window,
            c = a.log || console.log.bind(console),
            d = { print: !0 };return function (a, f) {
          if (e.disableFriendlyErrors, 1) b[a] = f;else try {
            if (a in b && !(a in d)) throw new Error('global "' + a + '" already exists');Object.defineProperty(b, a, { configurable: !0, enumerable: !0, get: function get() {
                return f;
              }, set: function set(d) {
                Object.defineProperty(b, a, { configurable: !0, enumerable: !0, value: d, writable: !0 }), c('You just changed the value of "' + a + "\", which was a p5 function. This could cause problems later if you're not careful.");
              } });
          } catch (d) {
            c('p5 had problems creating the global function "' + a + '", possibly because your code is already using that name as a variable. You may want to rename your variable to something else.'), b[a] = f;
          }
        };
      }, b.exports = e;
    }, { "./constants": 18, "./shim": 34 }], 25: [function (a, b, c) {
      "use strict";
      function d(a, b, c) {
        return !1 === b ? f(a, c) : e(a, b, c), this;
      }function e(a, b, c) {
        c._events[a] && f(a, c);var d = b.bind(c);c.elt.addEventListener(a, d, !1), c._events[a] = d;
      }function f(a, b) {
        var c = b._events[a];b.elt.removeEventListener(a, c, !1), b._events[a] = null;
      }var g = a("./main");g.Element = function (a, b) {
        this.elt = a, this._pInst = b, this._events = {}, this.width = this.elt.offsetWidth, this.height = this.elt.offsetHeight;
      }, g.Element.prototype.parent = function (a) {
        return void 0 === a ? this.elt.parentNode : ("string" == typeof a ? ("#" === a[0] && (a = a.substring(1)), a = document.getElementById(a)) : a instanceof g.Element && (a = a.elt), a.appendChild(this.elt), this);
      }, g.Element.prototype.id = function (a) {
        return void 0 === a ? this.elt.id : (this.elt.id = a, this.width = this.elt.offsetWidth, this.height = this.elt.offsetHeight, this);
      }, g.Element.prototype.class = function (a) {
        return void 0 === a ? this.elt.className : (this.elt.className = a, this);
      }, g.Element.prototype.mousePressed = function (a) {
        return d("mousedown", function (b) {
          return this._pInst._setProperty("mouseIsPressed", !0), this._pInst._setMouseButton(b), a();
        }, this), this;
      }, g.Element.prototype.doubleClicked = function (a) {
        return d("dblclick", a, this), this;
      }, g.Element.prototype.mouseWheel = function (a) {
        return d("wheel", a, this), this;
      }, g.Element.prototype.mouseReleased = function (a) {
        return d("mouseup", a, this), this;
      }, g.Element.prototype.mouseClicked = function (a) {
        return d("click", a, this), this;
      }, g.Element.prototype.mouseMoved = function (a) {
        return d("mousemove", a, this), this;
      }, g.Element.prototype.mouseOver = function (a) {
        return d("mouseover", a, this), this;
      }, g.Element.prototype.changed = function (a) {
        return d("change", a, this), this;
      }, g.Element.prototype.input = function (a) {
        return d("input", a, this), this;
      }, g.Element.prototype.mouseOut = function (a) {
        return d("mouseout", a, this), this;
      }, g.Element.prototype.touchStarted = function (a) {
        return d("touchstart", a, this), this;
      }, g.Element.prototype.touchMoved = function (a) {
        return d("touchmove", a, this), this;
      }, g.Element.prototype.touchEnded = function (a) {
        return d("touchend", a, this), this;
      }, g.Element.prototype.dragOver = function (a) {
        return d("dragover", a, this), this;
      }, g.Element.prototype.dragLeave = function (a) {
        return d("dragleave", a, this), this;
      }, g.Element.prototype.drop = function (a, b) {
        function c(b) {
          var c = new g.File(b);return function (b) {
            c.data = b.target.result, a(c);
          };
        }return window.File && window.FileReader && window.FileList && window.Blob ? (e("dragover", function (a) {
          a.stopPropagation(), a.preventDefault();
        }, this), e("dragleave", function (a) {
          a.stopPropagation(), a.preventDefault();
        }, this), void 0 !== b && e("drop", b, this), e("drop", function (a) {
          a.stopPropagation(), a.preventDefault();for (var b = a.dataTransfer.files, d = 0; d < b.length; d++) {
            var e = b[d],
                f = new FileReader();f.onload = c(e), e.type.indexOf("text") > -1 ? f.readAsText(e) : f.readAsDataURL(e);
          }
        }, this)) : console.log("The File APIs are not fully supported in this browser."), this;
      }, g.Element.prototype._setProperty = function (a, b) {
        this[a] = b;
      }, b.exports = g.Element;
    }, { "./main": 24 }], 26: [function (a, b, c) {
      "use strict";
      var d = a("./main"),
          e = a("./constants");d.Graphics = function (a, b, c, f) {
        var g = c || e.P2D;this.canvas = document.createElement("canvas"), (f._userNode || document.body).appendChild(this.canvas), d.Element.call(this, this.canvas, f, !1);for (var h in d.prototype) {
          this[h] || ("function" == typeof d.prototype[h] ? this[h] = d.prototype[h].bind(this) : this[h] = d.prototype[h]);
        }return d.prototype._initializeInstanceVariables.apply(this), this.width = a, this.height = b, this._pixelDensity = f._pixelDensity, g === e.WEBGL ? this._renderer = new d.RendererGL(this.canvas, this, !1) : this._renderer = new d.Renderer2D(this.canvas, this, !1), f._elements.push(this), this._renderer.resize(a, b), this._renderer._applyDefaults(), this;
      }, d.Graphics.prototype = Object.create(d.Element.prototype), d.Graphics.prototype.remove = function () {
        this.elt.parentNode && this.elt.parentNode.removeChild(this.elt);var a = this._pInst._elements.indexOf(this);-1 !== a && this._pInst._elements.splice(a, 1);for (var b in this._events) {
          this.elt.removeEventListener(b, this._events[b]);
        }
      }, b.exports = d.Graphics;
    }, { "./constants": 18, "./main": 24 }], 27: [function (a, b, c) {
      "use strict";
      function d(a) {
        var b = 0,
            c = 0;if (a.offsetParent) do {
          b += a.offsetLeft, c += a.offsetTop;
        } while (a = a.offsetParent);else b += a.offsetLeft, c += a.offsetTop;return [b, c];
      }var e = a("./main"),
          f = a("../core/constants");e.Renderer = function (a, b, c) {
        e.Element.call(this, a, b), this.canvas = a, c ? (this._isMainCanvas = !0, this._pInst._setProperty("_curElement", this), this._pInst._setProperty("canvas", this.canvas), this._pInst._setProperty("width", this.width), this._pInst._setProperty("height", this.height)) : (this.canvas.style.display = "none", this._styles = []), this._textSize = 12, this._textLeading = 15, this._textFont = "sans-serif", this._textStyle = f.NORMAL, this._textAscent = null, this._textDescent = null, this._textAlign = f.LEFT, this._textBaseline = f.BASELINE, this._rectMode = f.CORNER, this._ellipseMode = f.CENTER, this._curveTightness = 0, this._imageMode = f.CORNER, this._tint = null, this._doStroke = !0, this._doFill = !0, this._strokeSet = !1, this._fillSet = !1;
      }, e.Renderer.prototype = Object.create(e.Element.prototype), e.Renderer.prototype.push = function () {
        return { properties: { _doStroke: this._doStroke, _strokeSet: this._strokeSet, _doFill: this._doFill, _fillSet: this._fillSet, _tint: this._tint, _imageMode: this._imageMode, _rectMode: this._rectMode, _ellipseMode: this._ellipseMode, _textFont: this._textFont, _textLeading: this._textLeading, _textSize: this._textSize, _textAlign: this._textAlign, _textBaseline: this._textBaseline, _textStyle: this._textStyle } };
      }, e.Renderer.prototype.pop = function (a) {
        a.properties && Object.assign(this, a.properties);
      }, e.Renderer.prototype.resize = function (a, b) {
        this.width = a, this.height = b, this.elt.width = a * this._pInst._pixelDensity, this.elt.height = b * this._pInst._pixelDensity, this.elt.style.width = a + "px", this.elt.style.height = b + "px", this._isMainCanvas && (this._pInst._setProperty("width", this.width), this._pInst._setProperty("height", this.height));
      }, e.Renderer.prototype.textLeading = function (a) {
        return "number" == typeof a ? (this._setProperty("_textLeading", a), this._pInst) : this._textLeading;
      }, e.Renderer.prototype.textSize = function (a) {
        return "number" == typeof a ? (this._setProperty("_textSize", a), this._setProperty("_textLeading", a * f._DEFAULT_LEADMULT), this._applyTextProperties()) : this._textSize;
      }, e.Renderer.prototype.textStyle = function (a) {
        return a ? (a !== f.NORMAL && a !== f.ITALIC && a !== f.BOLD || this._setProperty("_textStyle", a), this._applyTextProperties()) : this._textStyle;
      }, e.Renderer.prototype.textAscent = function () {
        return null === this._textAscent && this._updateTextMetrics(), this._textAscent;
      }, e.Renderer.prototype.textDescent = function () {
        return null === this._textDescent && this._updateTextMetrics(), this._textDescent;
      }, e.Renderer.prototype.textAlign = function (a, b) {
        return void 0 !== a ? (this._setProperty("_textAlign", a), void 0 !== b && this._setProperty("_textBaseline", b), this._applyTextProperties()) : { horizontal: this._textAlign, vertical: this._textBaseline };
      }, e.Renderer.prototype.text = function (a, b, c, d, e) {
        var g,
            h,
            i,
            j,
            k,
            l,
            m,
            n,
            o,
            p = this._pInst,
            q = Number.MAX_VALUE;if ((this._doFill || this._doStroke) && void 0 !== a) {
          if ("string" != typeof a && (a = a.toString()), a = a.replace(/(\t)/g, "  "), g = a.split("\n"), void 0 !== d) {
            for (o = 0, i = 0; i < g.length; i++) {
              for (k = "", n = g[i].split(" "), h = 0; h < n.length; h++) {
                l = k + n[h] + " ", m = this.textWidth(l), m > d ? (k = n[h] + " ", o += p.textLeading()) : k = l;
              }
            }switch (this._rectMode === f.CENTER && (b -= d / 2, c -= e / 2), this._textAlign) {case f.CENTER:
                b += d / 2;break;case f.RIGHT:
                b += d;}var r = !1;if (void 0 !== e) {
              switch (this._textBaseline) {case f.BOTTOM:
                  c += e - o;break;case f.CENTER:
                  c += (e - o) / 2;break;case f.BASELINE:
                  r = !0, this._textBaseline = f.TOP;}q = c + e - p.textAscent();
            }for (i = 0; i < g.length; i++) {
              for (k = "", n = g[i].split(" "), h = 0; h < n.length; h++) {
                l = k + n[h] + " ", m = this.textWidth(l), m > d && k.length > 0 ? (this._renderText(p, k, b, c, q), k = n[h] + " ", c += p.textLeading()) : k = l;
              }this._renderText(p, k, b, c, q), c += p.textLeading(), r && (this._textBaseline = f.BASELINE);
            }
          } else {
            var s = 0,
                t = p.textAlign().vertical;for (t === f.CENTER ? s = (g.length - 1) * p.textLeading() / 2 : t === f.BOTTOM && (s = (g.length - 1) * p.textLeading()), j = 0; j < g.length; j++) {
              this._renderText(p, g[j], b, c - s, q), c += p.textLeading();
            }
          }return p;
        }
      }, e.Renderer.prototype._applyDefaults = function () {
        return this;
      }, e.Renderer.prototype._isOpenType = function (a) {
        return "object" == _typeof(a = a || this._textFont) && a.font && a.font.supported;
      }, e.Renderer.prototype._updateTextMetrics = function () {
        if (this._isOpenType()) return this._setProperty("_textAscent", this._textFont._textAscent()), this._setProperty("_textDescent", this._textFont._textDescent()), this;var a = document.createElement("span");a.style.fontFamily = this._textFont, a.style.fontSize = this._textSize + "px", a.innerHTML = "ABCjgq|";var b = document.createElement("div");b.style.display = "inline-block", b.style.width = "1px", b.style.height = "0px";var c = document.createElement("div");c.appendChild(a), c.appendChild(b), c.style.height = "0px", c.style.overflow = "hidden", document.body.appendChild(c), b.style.verticalAlign = "baseline";var e = d(b),
            f = d(a),
            g = e[1] - f[1];b.style.verticalAlign = "bottom", e = d(b), f = d(a);var h = e[1] - f[1],
            i = h - g;return document.body.removeChild(c), this._setProperty("_textAscent", g), this._setProperty("_textDescent", i), this;
      }, b.exports = e.Renderer;
    }, { "../core/constants": 18, "./main": 24 }], 28: [function (a, b, c) {
      "use strict";
      var d = a("./main"),
          e = a("./constants"),
          f = a("../image/filters");a("./p5.Renderer");var g = "rgba(0,0,0,0)";d.Renderer2D = function (a, b, c) {
        return d.Renderer.call(this, a, b, c), this.drawingContext = this.canvas.getContext("2d"), this._pInst._setProperty("drawingContext", this.drawingContext), this;
      }, d.Renderer2D.prototype = Object.create(d.Renderer.prototype), d.Renderer2D.prototype._applyDefaults = function () {
        this._cachedFillStyle = this._cachedStrokeStyle = void 0, this._setFill(e._DEFAULT_FILL), this._setStroke(e._DEFAULT_STROKE), this.drawingContext.lineCap = e.ROUND, this.drawingContext.font = "normal 12px sans-serif";
      }, d.Renderer2D.prototype.resize = function (a, b) {
        d.Renderer.prototype.resize.call(this, a, b), this.drawingContext.scale(this._pInst._pixelDensity, this._pInst._pixelDensity);
      }, d.Renderer2D.prototype.background = function () {
        if (this.drawingContext.save(), this.resetMatrix(), arguments[0] instanceof d.Image) this._pInst.image(arguments[0], 0, 0, this.width, this.height);else {
          var a = this._getFill(),
              b = this._pInst.color.apply(this._pInst, arguments),
              c = b.toString();this._setFill(c), this.drawingContext.fillRect(0, 0, this.width, this.height), this._setFill(a);
        }this.drawingContext.restore(), this._pInst._pixelsDirty = !0;
      }, d.Renderer2D.prototype.clear = function () {
        this.drawingContext.save(), this.resetMatrix(), this.drawingContext.clearRect(0, 0, this.width, this.height), this.drawingContext.restore(), this._pInst._pixelsDirty = !0;
      }, d.Renderer2D.prototype.fill = function () {
        var a = this._pInst.color.apply(this._pInst, arguments);this._setFill(a.toString());
      }, d.Renderer2D.prototype.stroke = function () {
        var a = this._pInst.color.apply(this._pInst, arguments);this._setStroke(a.toString());
      }, d.Renderer2D.prototype.image = function (a, b, c, e, f, g, h, i, j) {
        var k;try {
          this._tint && (d.MediaElement && a instanceof d.MediaElement && a.loadPixels(), a.canvas && (k = this._getTintedImageCanvas(a))), k || (k = a.canvas || a.elt);var l = 1;a.width && a.width > 0 && (l = k.width / a.width), this.drawingContext.drawImage(k, l * b, l * c, l * e, l * f, g, h, i, j);
        } catch (a) {
          if ("NS_ERROR_NOT_AVAILABLE" !== a.name) throw a;
        }this._pInst._pixelsDirty = !0;
      }, d.Renderer2D.prototype._getTintedImageCanvas = function (a) {
        if (!a.canvas) return a;var b = f._toPixels(a.canvas),
            c = document.createElement("canvas");c.width = a.canvas.width, c.height = a.canvas.height;for (var d = c.getContext("2d"), e = d.createImageData(a.canvas.width, a.canvas.height), g = e.data, h = 0; h < b.length; h += 4) {
          var i = b[h],
              j = b[h + 1],
              k = b[h + 2],
              l = b[h + 3];g[h] = i * this._tint[0] / 255, g[h + 1] = j * this._tint[1] / 255, g[h + 2] = k * this._tint[2] / 255, g[h + 3] = l * this._tint[3] / 255;
        }return d.putImageData(e, 0, 0), c;
      }, d.Renderer2D.prototype.blendMode = function (a) {
        this.drawingContext.globalCompositeOperation = a;
      }, d.Renderer2D.prototype.blend = function () {
        var a = this.drawingContext.globalCompositeOperation,
            b = arguments[arguments.length - 1],
            c = Array.prototype.slice.call(arguments, 0, arguments.length - 1);this.drawingContext.globalCompositeOperation = b, this._pInst ? this._pInst.copy.apply(this._pInst, c) : this.copy.apply(this, c), this.drawingContext.globalCompositeOperation = a;
      }, d.Renderer2D.prototype.copy = function () {
        var a, b, c, e, f, g, h, i, j;if (9 === arguments.length) a = arguments[0], b = arguments[1], c = arguments[2], e = arguments[3], f = arguments[4], g = arguments[5], h = arguments[6], i = arguments[7], j = arguments[8];else {
          if (8 !== arguments.length) throw new Error("Signature not supported");a = this._pInst, b = arguments[0], c = arguments[1], e = arguments[2], f = arguments[3], g = arguments[4], h = arguments[5], i = arguments[6], j = arguments[7];
        }d.Renderer2D._copyHelper(this, a, b, c, e, f, g, h, i, j), this._pInst._pixelsDirty = !0;
      }, d.Renderer2D._copyHelper = function (a, b, c, d, e, f, g, h, i, j) {
        b.loadPixels();var k = b.canvas.width / b.width;a.drawingContext.drawImage(b.canvas, k * c, k * d, k * e, k * f, g, h, i, j);
      }, d.Renderer2D.prototype.get = function (a, b, c, e) {
        if (void 0 === c && void 0 === e && (void 0 === a && void 0 === b ? (a = b = 0, c = this.width, e = this.height) : c = e = 1), a + c < 0 || b + e < 0 || a >= this.width || b >= this.height) return [0, 0, 0, 255];var f = this._pInst || this,
            g = f._pixelDensity;a = Math.floor(a), b = Math.floor(b), c = Math.floor(c), e = Math.floor(e);var h = a * g,
            i = b * g;if (1 !== c || 1 !== e || this instanceof d.RendererGL) {
          var j = Math.min(c, f.width),
              k = Math.min(e, f.height),
              l = j * g,
              m = k * g,
              n = new d.Image(j, k);return n.canvas.getContext("2d").drawImage(this.canvas, h, i, l, m, 0, 0, j, k), n;
        }var o, p;return f._pixelsDirty ? (o = this.drawingContext.getImageData(h, i, 1, 1).data, p = 0) : (o = f.pixels, p = 4 * (h + i * this.width * g)), [o[p + 0], o[p + 1], o[p + 2], o[p + 3]];
      }, d.Renderer2D.prototype.loadPixels = function () {
        var a = this._pInst || this;if (a._pixelsDirty) {
          a._pixelsDirty = !1;var b = a._pixelDensity,
              c = this.width * b,
              d = this.height * b,
              e = this.drawingContext.getImageData(0, 0, c, d);a._setProperty("imageData", e), a._setProperty("pixels", e.data);
        }
      }, d.Renderer2D.prototype.set = function (a, b, c) {
        a = Math.floor(a), b = Math.floor(b);var e = this._pInst || this;if (c instanceof d.Image) this.drawingContext.save(), this.drawingContext.setTransform(1, 0, 0, 1, 0, 0), this.drawingContext.scale(e._pixelDensity, e._pixelDensity), this.drawingContext.drawImage(c.canvas, a, b), this.drawingContext.restore(), e._pixelsDirty = !0;else {
          var f = 0,
              g = 0,
              h = 0,
              i = 0,
              j = 4 * (b * e._pixelDensity * (this.width * e._pixelDensity) + a * e._pixelDensity);if (e.imageData && !e._pixelsDirty || e.loadPixels.call(e), "number" == typeof c) j < e.pixels.length && (f = c, g = c, h = c, i = 255);else if (c instanceof Array) {
            if (c.length < 4) throw new Error("pixel array must be of the form [R, G, B, A]");j < e.pixels.length && (f = c[0], g = c[1], h = c[2], i = c[3]);
          } else c instanceof d.Color && j < e.pixels.length && (f = c.levels[0], g = c.levels[1], h = c.levels[2], i = c.levels[3]);for (var k = 0; k < e._pixelDensity; k++) {
            for (var l = 0; l < e._pixelDensity; l++) {
              j = 4 * ((b * e._pixelDensity + l) * this.width * e._pixelDensity + (a * e._pixelDensity + k)), e.pixels[j] = f, e.pixels[j + 1] = g, e.pixels[j + 2] = h, e.pixels[j + 3] = i;
            }
          }
        }
      }, d.Renderer2D.prototype.updatePixels = function (a, b, c, d) {
        var e = this._pInst || this,
            f = e._pixelDensity;void 0 === a && void 0 === b && void 0 === c && void 0 === d && (a = 0, b = 0, c = this.width, d = this.height), c *= f, d *= f, this.drawingContext.putImageData(e.imageData, a, b, 0, 0, c, d), 0 === a && 0 === b && c === this.width && d === this.height || (e._pixelsDirty = !0);
      }, d.Renderer2D.prototype._acuteArcToBezier = function (a, b) {
        var c = b / 2,
            d = Math.cos(c),
            e = Math.sin(c),
            f = 1 / Math.tan(c),
            g = a + c,
            h = Math.cos(g),
            i = Math.sin(g),
            j = (4 - d) / 3,
            k = e + (d - j) * f;return { ax: Math.cos(a), ay: Math.sin(a), bx: j * h + k * i, by: j * i - k * h, cx: j * h - k * i, cy: j * i + k * h, dx: Math.cos(a + b), dy: Math.sin(a + b) };
      }, d.Renderer2D.prototype.arc = function (a, b, c, d, f, g, h) {
        var i = this.drawingContext,
            j = c / 2,
            k = d / 2,
            l = 1e-5,
            m = 0,
            n = [];for (a += j, b += k; g - f > l;) {
          m = Math.min(g - f, e.HALF_PI), n.push(this._acuteArcToBezier(f, m)), f += m;
        }return this._doFill && (i.beginPath(), n.forEach(function (c, d) {
          0 === d && i.moveTo(a + c.ax * j, b + c.ay * k), i.bezierCurveTo(a + c.bx * j, b + c.by * k, a + c.cx * j, b + c.cy * k, a + c.dx * j, b + c.dy * k);
        }), h !== e.PIE && null != h || i.lineTo(a, b), i.closePath(), i.fill()), this._doStroke && (i.beginPath(), n.forEach(function (c, d) {
          0 === d && i.moveTo(a + c.ax * j, b + c.ay * k), i.bezierCurveTo(a + c.bx * j, b + c.by * k, a + c.cx * j, b + c.cy * k, a + c.dx * j, b + c.dy * k);
        }), h === e.PIE ? (i.lineTo(a, b), i.closePath()) : h === e.CHORD && i.closePath(), i.stroke()), this;
      }, d.Renderer2D.prototype.ellipse = function (a) {
        var b = this.drawingContext,
            c = this._doFill,
            d = this._doStroke,
            e = a[0],
            f = a[1],
            h = a[2],
            i = a[3];if (c && !d) {
          if (this._getFill() === g) return this;
        } else if (!c && d && this._getStroke() === g) return this;var j = .5522847498,
            k = h / 2 * j,
            l = i / 2 * j,
            m = e + h,
            n = f + i,
            o = e + h / 2,
            p = f + i / 2;b.beginPath(), b.moveTo(e, p), b.bezierCurveTo(e, p - l, o - k, f, o, f), b.bezierCurveTo(o + k, f, m, p - l, m, p), b.bezierCurveTo(m, p + l, o + k, n, o, n), b.bezierCurveTo(o - k, n, e, p + l, e, p), b.closePath(), c && b.fill(), d && b.stroke();
      }, d.Renderer2D.prototype.line = function (a, b, c, d) {
        var e = this.drawingContext;return this._doStroke ? this._getStroke() === g ? this : (e.lineWidth % 2 == 1 && e.translate(.5, .5), e.beginPath(), e.moveTo(a, b), e.lineTo(c, d), e.stroke(), e.lineWidth % 2 == 1 && e.translate(-.5, -.5), this) : this;
      }, d.Renderer2D.prototype.point = function (a, b) {
        var c = this.drawingContext;if (!this._doStroke) return this;if (this._getStroke() === g) return this;var d = this._getStroke(),
            f = this._getFill();a = Math.round(a), b = Math.round(b), this._setFill(d), c.lineWidth > 1 ? (c.beginPath(), c.arc(a, b, c.lineWidth / 2, 0, e.TWO_PI, !1), c.fill()) : c.fillRect(a, b, 1, 1), this._setFill(f);
      }, d.Renderer2D.prototype.quad = function (a, b, c, d, e, f, h, i) {
        var j = this.drawingContext,
            k = this._doFill,
            l = this._doStroke;if (k && !l) {
          if (this._getFill() === g) return this;
        } else if (!k && l && this._getStroke() === g) return this;return j.beginPath(), j.moveTo(a, b), j.lineTo(c, d), j.lineTo(e, f), j.lineTo(h, i), j.closePath(), k && j.fill(), l && j.stroke(), this;
      }, d.Renderer2D.prototype.rect = function (a) {
        var b = a[0],
            c = a[1],
            d = a[2],
            e = a[3],
            f = a[4],
            h = a[5],
            i = a[6],
            j = a[7],
            k = this.drawingContext,
            l = this._doFill,
            m = this._doStroke;if (l && !m) {
          if (this._getFill() === g) return this;
        } else if (!l && m && this._getStroke() === g) return this;if (this._doStroke && k.lineWidth % 2 == 1 && k.translate(.5, .5), k.beginPath(), void 0 === f) k.rect(b, c, d, e);else {
          void 0 === h && (h = f), void 0 === i && (i = h), void 0 === j && (j = i);var n = d / 2,
              o = e / 2;d < 2 * f && (f = n), e < 2 * f && (f = o), d < 2 * h && (h = n), e < 2 * h && (h = o), d < 2 * i && (i = n), e < 2 * i && (i = o), d < 2 * j && (j = n), e < 2 * j && (j = o), k.beginPath(), k.moveTo(b + f, c), k.arcTo(b + d, c, b + d, c + e, h), k.arcTo(b + d, c + e, b, c + e, i), k.arcTo(b, c + e, b, c, j), k.arcTo(b, c, b + d, c, f), k.closePath();
        }return this._doFill && k.fill(), this._doStroke && k.stroke(), this._doStroke && k.lineWidth % 2 == 1 && k.translate(-.5, -.5), this;
      }, d.Renderer2D.prototype.triangle = function (a) {
        var b = this.drawingContext,
            c = this._doFill,
            d = this._doStroke,
            e = a[0],
            f = a[1],
            h = a[2],
            i = a[3],
            j = a[4],
            k = a[5];if (c && !d) {
          if (this._getFill() === g) return this;
        } else if (!c && d && this._getStroke() === g) return this;b.beginPath(), b.moveTo(e, f), b.lineTo(h, i), b.lineTo(j, k), b.closePath(), c && b.fill(), d && b.stroke();
      }, d.Renderer2D.prototype.endShape = function (a, b, c, d, f, g, h) {
        if (0 === b.length) return this;if (!this._doStroke && !this._doFill) return this;var i,
            j = a === e.CLOSE;j && !g && b.push(b[0]);var k,
            l,
            m = b.length;if (!c || h !== e.POLYGON && null !== h) {
          if (!d || h !== e.POLYGON && null !== h) {
            if (!f || h !== e.POLYGON && null !== h) {
              if (h === e.POINTS) for (k = 0; k < m; k++) {
                i = b[k], this._doStroke && this._pInst.stroke(i[6]), this._pInst.point(i[0], i[1]);
              } else if (h === e.LINES) for (k = 0; k + 1 < m; k += 2) {
                i = b[k], this._doStroke && this._pInst.stroke(b[k + 1][6]), this._pInst.line(i[0], i[1], b[k + 1][0], b[k + 1][1]);
              } else if (h === e.TRIANGLES) for (k = 0; k + 2 < m; k += 3) {
                i = b[k], this.drawingContext.beginPath(), this.drawingContext.moveTo(i[0], i[1]), this.drawingContext.lineTo(b[k + 1][0], b[k + 1][1]), this.drawingContext.lineTo(b[k + 2][0], b[k + 2][1]), this.drawingContext.closePath(), this._doFill && (this._pInst.fill(b[k + 2][5]), this.drawingContext.fill()), this._doStroke && (this._pInst.stroke(b[k + 2][6]), this.drawingContext.stroke());
              } else if (h === e.TRIANGLE_STRIP) for (k = 0; k + 1 < m; k++) {
                i = b[k], this.drawingContext.beginPath(), this.drawingContext.moveTo(b[k + 1][0], b[k + 1][1]), this.drawingContext.lineTo(i[0], i[1]), this._doStroke && this._pInst.stroke(b[k + 1][6]), this._doFill && this._pInst.fill(b[k + 1][5]), k + 2 < m && (this.drawingContext.lineTo(b[k + 2][0], b[k + 2][1]), this._doStroke && this._pInst.stroke(b[k + 2][6]), this._doFill && this._pInst.fill(b[k + 2][5])), this._doFillStrokeClose();
              } else if (h === e.TRIANGLE_FAN) {
                if (m > 2) {
                  for (this.drawingContext.beginPath(), k = 2; k < m; k++) {
                    i = b[k], this.drawingContext.moveTo(b[0][0], b[0][1]), this.drawingContext.lineTo(b[k - 1][0], b[k - 1][1]), this.drawingContext.lineTo(i[0], i[1]), this.drawingContext.lineTo(b[0][0], b[0][1]), k < m - 1 && (this._doFill && i[5] !== b[k + 1][5] || this._doStroke && i[6] !== b[k + 1][6]) && (this._doFill && (this._pInst.fill(i[5]), this.drawingContext.fill(), this._pInst.fill(b[k + 1][5])), this._doStroke && (this._pInst.stroke(i[6]), this.drawingContext.stroke(), this._pInst.stroke(b[k + 1][6])), this.drawingContext.closePath(), this.drawingContext.beginPath());
                  }this._doFillStrokeClose();
                }
              } else if (h === e.QUADS) for (k = 0; k + 3 < m; k += 4) {
                for (i = b[k], this.drawingContext.beginPath(), this.drawingContext.moveTo(i[0], i[1]), l = 1; l < 4; l++) {
                  this.drawingContext.lineTo(b[k + l][0], b[k + l][1]);
                }this.drawingContext.lineTo(i[0], i[1]), this._doFill && this._pInst.fill(b[k + 3][5]), this._doStroke && this._pInst.stroke(b[k + 3][6]), this._doFillStrokeClose();
              } else if (h === e.QUAD_STRIP) {
                if (m > 3) for (k = 0; k + 1 < m; k += 2) {
                  i = b[k], this.drawingContext.beginPath(), k + 3 < m ? (this.drawingContext.moveTo(b[k + 2][0], b[k + 2][1]), this.drawingContext.lineTo(i[0], i[1]), this.drawingContext.lineTo(b[k + 1][0], b[k + 1][1]), this.drawingContext.lineTo(b[k + 3][0], b[k + 3][1]), this._doFill && this._pInst.fill(b[k + 3][5]), this._doStroke && this._pInst.stroke(b[k + 3][6])) : (this.drawingContext.moveTo(i[0], i[1]), this.drawingContext.lineTo(b[k + 1][0], b[k + 1][1])), this._doFillStrokeClose();
                }
              } else {
                for (this.drawingContext.beginPath(), this.drawingContext.moveTo(b[0][0], b[0][1]), k = 1; k < m; k++) {
                  i = b[k], i.isVert && (i.moveTo ? this.drawingContext.moveTo(i[0], i[1]) : this.drawingContext.lineTo(i[0], i[1]));
                }this._doFillStrokeClose();
              }
            } else {
              for (this.drawingContext.beginPath(), k = 0; k < m; k++) {
                b[k].isVert ? b[k].moveTo ? this.drawingContext.moveTo([0], b[k][1]) : this.drawingContext.lineTo(b[k][0], b[k][1]) : this.drawingContext.quadraticCurveTo(b[k][0], b[k][1], b[k][2], b[k][3]);
              }this._doFillStrokeClose();
            }
          } else {
            for (this.drawingContext.beginPath(), k = 0; k < m; k++) {
              b[k].isVert ? b[k].moveTo ? this.drawingContext.moveTo(b[k][0], b[k][1]) : this.drawingContext.lineTo(b[k][0], b[k][1]) : this.drawingContext.bezierCurveTo(b[k][0], b[k][1], b[k][2], b[k][3], b[k][4], b[k][5]);
            }this._doFillStrokeClose();
          }
        } else if (m > 3) {
          var n = [],
              o = 1 - this._curveTightness;for (this.drawingContext.beginPath(), this.drawingContext.moveTo(b[1][0], b[1][1]), k = 1; k + 2 < m; k++) {
            i = b[k], n[0] = [i[0], i[1]], n[1] = [i[0] + (o * b[k + 1][0] - o * b[k - 1][0]) / 6, i[1] + (o * b[k + 1][1] - o * b[k - 1][1]) / 6], n[2] = [b[k + 1][0] + (o * b[k][0] - o * b[k + 2][0]) / 6, b[k + 1][1] + (o * b[k][1] - o * b[k + 2][1]) / 6], n[3] = [b[k + 1][0], b[k + 1][1]], this.drawingContext.bezierCurveTo(n[1][0], n[1][1], n[2][0], n[2][1], n[3][0], n[3][1]);
          }j && this.drawingContext.lineTo(b[k + 1][0], b[k + 1][1]), this._doFillStrokeClose();
        }return c = !1, d = !1, f = !1, g = !1, j && b.pop(), this._pInst._pixelsDirty = !0, this;
      }, d.Renderer2D.prototype.noSmooth = function () {
        return "imageSmoothingEnabled" in this.drawingContext && (this.drawingContext.imageSmoothingEnabled = !1), this;
      }, d.Renderer2D.prototype.smooth = function () {
        return "imageSmoothingEnabled" in this.drawingContext && (this.drawingContext.imageSmoothingEnabled = !0), this;
      }, d.Renderer2D.prototype.strokeCap = function (a) {
        return a !== e.ROUND && a !== e.SQUARE && a !== e.PROJECT || (this.drawingContext.lineCap = a), this;
      }, d.Renderer2D.prototype.strokeJoin = function (a) {
        return a !== e.ROUND && a !== e.BEVEL && a !== e.MITER || (this.drawingContext.lineJoin = a), this;
      }, d.Renderer2D.prototype.strokeWeight = function (a) {
        return this.drawingContext.lineWidth = void 0 === a || 0 === a ? 1e-4 : a, this;
      }, d.Renderer2D.prototype._getFill = function () {
        return this._cachedFillStyle || (this._cachedFillStyle = this.drawingContext.fillStyle), this._cachedFillStyle;
      }, d.Renderer2D.prototype._setFill = function (a) {
        a !== this._cachedFillStyle && (this.drawingContext.fillStyle = a, this._cachedFillStyle = a);
      }, d.Renderer2D.prototype._getStroke = function () {
        return this._cachedStrokeStyle || (this._cachedStrokeStyle = this.drawingContext.strokeStyle), this._cachedStrokeStyle;
      }, d.Renderer2D.prototype._setStroke = function (a) {
        a !== this._cachedStrokeStyle && (this.drawingContext.strokeStyle = a, this._cachedStrokeStyle = a);
      }, d.Renderer2D.prototype.bezier = function (a, b, c, d, e, f, g, h) {
        return this._pInst.beginShape(), this._pInst.vertex(a, b), this._pInst.bezierVertex(c, d, e, f, g, h), this._pInst.endShape(), this;
      }, d.Renderer2D.prototype.curve = function (a, b, c, d, e, f, g, h) {
        return this._pInst.beginShape(), this._pInst.curveVertex(a, b), this._pInst.curveVertex(c, d), this._pInst.curveVertex(e, f), this._pInst.curveVertex(g, h), this._pInst.endShape(), this;
      }, d.Renderer2D.prototype._doFillStrokeClose = function () {
        this._doFill && this.drawingContext.fill(), this._doStroke && this.drawingContext.stroke(), this.drawingContext.closePath(), this._pInst._pixelsDirty = !0;
      }, d.Renderer2D.prototype.applyMatrix = function (a, b, c, d, e, f) {
        this.drawingContext.transform(a, b, c, d, e, f);
      }, d.Renderer2D.prototype.resetMatrix = function () {
        return this.drawingContext.setTransform(1, 0, 0, 1, 0, 0), this.drawingContext.scale(this._pInst._pixelDensity, this._pInst._pixelDensity), this;
      }, d.Renderer2D.prototype.rotate = function (a) {
        this.drawingContext.rotate(a);
      }, d.Renderer2D.prototype.scale = function (a, b) {
        return this.drawingContext.scale(a, b), this;
      }, d.Renderer2D.prototype.shearX = function (a) {
        return this.drawingContext.transform(1, 0, Math.tan(a), 1, 0, 0), this;
      }, d.Renderer2D.prototype.shearY = function (a) {
        return this.drawingContext.transform(1, Math.tan(a), 0, 1, 0, 0), this;
      }, d.Renderer2D.prototype.translate = function (a, b) {
        return a instanceof d.Vector && (b = a.y, a = a.x), this.drawingContext.translate(a, b), this;
      }, d.Renderer2D.prototype.text = function (a, b, c, f, g) {
        var h;void 0 !== f && void 0 !== g && this.drawingContext.textBaseline === e.BASELINE && (h = !0, this.drawingContext.textBaseline = e.TOP);var i = d.Renderer.prototype.text.apply(this, arguments);return h && (this.drawingContext.textBaseline = e.BASELINE), i;
      }, d.Renderer2D.prototype._renderText = function (a, b, c, d, f) {
        if (!(d >= f)) return a.push(), this._isOpenType() ? this._textFont._renderPath(b, c, d, { renderer: this }) : (this._doStroke && this._strokeSet && this.drawingContext.strokeText(b, c, d), this._doFill && (this._fillSet || this._setFill(e._DEFAULT_TEXT_FILL), this.drawingContext.fillText(b, c, d))), a.pop(), this._pInst._pixelsDirty = !0, a;
      }, d.Renderer2D.prototype.textWidth = function (a) {
        return this._isOpenType() ? this._textFont._textWidth(a, this._textSize) : this.drawingContext.measureText(a).width;
      }, d.Renderer2D.prototype._applyTextProperties = function () {
        var a,
            b = this._pInst;return this._setProperty("_textAscent", null), this._setProperty("_textDescent", null), a = this._textFont, this._isOpenType() && (a = this._textFont.font.familyName, this._setProperty("_textStyle", this._textFont.font.styleName)), this.drawingContext.font = (this._textStyle || "normal") + " " + (this._textSize || 12) + "px " + (a || "sans-serif"), this.drawingContext.textAlign = this._textAlign, this._textBaseline === e.CENTER ? this.drawingContext.textBaseline = e._CTX_MIDDLE : this.drawingContext.textBaseline = this._textBaseline, b;
      }, d.Renderer2D.prototype.push = function () {
        return this.drawingContext.save(), d.Renderer.prototype.push.apply(this);
      }, d.Renderer2D.prototype.pop = function (a) {
        this.drawingContext.restore(), this._cachedFillStyle = this.drawingContext.fillStyle, this._cachedStrokeStyle = this.drawingContext.strokeStyle, d.Renderer.prototype.pop.call(this, a);
      }, b.exports = d.Renderer2D;
    }, { "../image/filters": 42, "./constants": 18, "./main": 24, "./p5.Renderer": 27 }], 29: [function (a, b, c) {
      "use strict";
      var d = a("./main"),
          e = a("./constants");a("./p5.Graphics"), a("./p5.Renderer2D"), a("../webgl/p5.RendererGL");var f = "defaultCanvas0",
          g = "p5Canvas";d.prototype.createCanvas = function (a, b, c) {
        d._validateParameters("createCanvas", arguments);var h,
            i = c || e.P2D;if (i === e.WEBGL) {
          if (h = document.getElementById(f)) {
            h.parentNode.removeChild(h);var j = this._renderer;this._elements = this._elements.filter(function (a) {
              return a !== j;
            });
          }h = document.createElement("canvas"), h.id = f, h.classList.add(g);
        } else if (this._defaultGraphicsCreated) h = this.canvas;else {
          h = document.createElement("canvas");for (var k = 0; document.getElementById("defaultCanvas" + k);) {
            k++;
          }f = "defaultCanvas" + k, h.id = f, h.classList.add(g);
        }return this._setupDone || (h.dataset.hidden = !0, h.style.visibility = "hidden"), this._userNode ? this._userNode.appendChild(h) : document.body.appendChild(h), i === e.WEBGL ? (this._setProperty("_renderer", new d.RendererGL(h, this, !0)), this._elements.push(this._renderer)) : this._defaultGraphicsCreated || (this._setProperty("_renderer", new d.Renderer2D(h, this, !0)), this._defaultGraphicsCreated = !0, this._elements.push(this._renderer)), this._renderer.resize(a, b), this._renderer._applyDefaults(), this._renderer;
      }, d.prototype.resizeCanvas = function (a, b, c) {
        if (d._validateParameters("resizeCanvas", arguments), this._renderer) {
          var e = {};for (var f in this.drawingContext) {
            var g = this.drawingContext[f];"object" != (typeof g === "undefined" ? "undefined" : _typeof(g)) && "function" != typeof g && (e[f] = g);
          }this._renderer.resize(a, b), this.width = a, this.height = b;for (var h in e) {
            try {
              this.drawingContext[h] = e[h];
            } catch (a) {}
          }c || this.redraw();
        }
      }, d.prototype.noCanvas = function () {
        this.canvas && this.canvas.parentNode.removeChild(this.canvas);
      }, d.prototype.createGraphics = function (a, b, c) {
        return d._validateParameters("createGraphics", arguments), new d.Graphics(a, b, c, this);
      }, d.prototype.blendMode = function (a) {
        if (d._validateParameters("blendMode", arguments), a !== e.BLEND && a !== e.DARKEST && a !== e.LIGHTEST && a !== e.DIFFERENCE && a !== e.MULTIPLY && a !== e.EXCLUSION && a !== e.SCREEN && a !== e.REPLACE && a !== e.OVERLAY && a !== e.HARD_LIGHT && a !== e.SOFT_LIGHT && a !== e.DODGE && a !== e.BURN && a !== e.ADD && a !== e.NORMAL) throw new Error("Mode " + a + " not recognized.");this._renderer.blendMode(a);
      }, b.exports = d;
    }, { "../webgl/p5.RendererGL": 74, "./constants": 18, "./main": 24, "./p5.Graphics": 26, "./p5.Renderer2D": 28 }], 30: [function (a, b, c) {
      "use strict";
      var d = a("../main"),
          e = a("../constants"),
          f = a("../helpers");a("../error_helpers"), d.prototype.arc = function (a, b, c, g, h, i, j, k) {
        if (d._validateParameters("arc", arguments), !this._renderer._doStroke && !this._renderer._doFill) return this;for (h = this._toRadians(h), i = this._toRadians(i); h < 0;) {
          h += e.TWO_PI;
        }for (; i < 0;) {
          i += e.TWO_PI;
        }void 0 !== h && void 0 !== i && (i.toFixed(10) === h.toFixed(10) || Math.abs(i - h) === e.TWO_PI ? (h %= e.TWO_PI, i %= e.TWO_PI, h += e.TWO_PI) : Math.abs(i - h) > e.TWO_PI && (h %= e.TWO_PI, i %= e.TWO_PI, i += e.TWO_PI)), h <= e.HALF_PI ? h = Math.atan(c / g * Math.tan(h)) : h > e.HALF_PI && h <= 3 * e.HALF_PI && (h = Math.atan(c / g * Math.tan(h)) + e.PI), i <= e.HALF_PI ? i = Math.atan(c / g * Math.tan(i)) : i > e.HALF_PI && i <= 3 * e.HALF_PI && (i = Math.atan(c / g * Math.tan(i)) + e.PI), h > i && (i += e.TWO_PI), c = Math.abs(c), g = Math.abs(g);var l = f.modeAdjust(a, b, c, g, this._renderer._ellipseMode);return this._renderer.arc(l.x, l.y, l.w, l.h, h, i, j, k), this;
      }, d.prototype.ellipse = function (a, b, c, e, g) {
        if (d._validateParameters("ellipse", arguments), !this._renderer._doStroke && !this._renderer._doFill) return this;c < 0 && (c = Math.abs(c)), void 0 === e ? e = c : e < 0 && (e = Math.abs(e));var h = f.modeAdjust(a, b, c, e, this._renderer._ellipseMode);return this._renderer.ellipse([h.x, h.y, h.w, h.h, g]), this;
      }, d.prototype.line = function () {
        return d._validateParameters("line", arguments), this._renderer._doStroke && this._renderer.line.apply(this._renderer, arguments), this;
      }, d.prototype.point = function () {
        return d._validateParameters("point", arguments), this._renderer._doStroke && this._renderer.point.apply(this._renderer, arguments), this;
      }, d.prototype.quad = function () {
        return d._validateParameters("quad", arguments), (this._renderer._doStroke || this._renderer._doFill) && this._renderer.quad.apply(this._renderer, arguments), this;
      }, d.prototype.rect = function () {
        if (d._validateParameters("rect", arguments), this._renderer._doStroke || this._renderer._doFill) {
          for (var a = f.modeAdjust(arguments[0], arguments[1], arguments[2], arguments[3], this._renderer._rectMode), b = [a.x, a.y, a.w, a.h], c = 4; c < arguments.length; c++) {
            b[c] = arguments[c];
          }this._renderer.rect(b);
        }return this;
      }, d.prototype.triangle = function () {
        return d._validateParameters("triangle", arguments), (this._renderer._doStroke || this._renderer._doFill) && this._renderer.triangle(arguments), this;
      }, b.exports = d;
    }, { "../constants": 18, "../error_helpers": 20, "../helpers": 21, "../main": 24 }], 31: [function (a, b, c) {
      "use strict";
      var d = a("../main"),
          e = a("../constants");d.prototype.ellipseMode = function (a) {
        return d._validateParameters("ellipseMode", arguments), a !== e.CORNER && a !== e.CORNERS && a !== e.RADIUS && a !== e.CENTER || (this._renderer._ellipseMode = a), this;
      }, d.prototype.noSmooth = function () {
        return this._renderer.noSmooth(), this;
      }, d.prototype.rectMode = function (a) {
        return d._validateParameters("rectMode", arguments), a !== e.CORNER && a !== e.CORNERS && a !== e.RADIUS && a !== e.CENTER || (this._renderer._rectMode = a), this;
      }, d.prototype.smooth = function () {
        return this._renderer.smooth(), this;
      }, d.prototype.strokeCap = function (a) {
        return d._validateParameters("strokeCap", arguments), a !== e.ROUND && a !== e.SQUARE && a !== e.PROJECT || this._renderer.strokeCap(a), this;
      }, d.prototype.strokeJoin = function (a) {
        return d._validateParameters("strokeJoin", arguments), a !== e.ROUND && a !== e.BEVEL && a !== e.MITER || this._renderer.strokeJoin(a), this;
      }, d.prototype.strokeWeight = function (a) {
        return d._validateParameters("strokeWeight", arguments), this._renderer.strokeWeight(a), this;
      }, b.exports = d;
    }, { "../constants": 18, "../main": 24 }], 32: [function (a, b, c) {
      "use strict";
      var d = a("../main");a("../error_helpers"), d.prototype.bezier = function () {
        return d._validateParameters("bezier", arguments), this._renderer._doStroke || this._renderer._doFill ? (this._renderer.bezier.apply(this._renderer, arguments), this) : this;
      }, d.prototype.bezierDetail = function (a) {
        return d._validateParameters("bezierDetail", arguments), this._bezierDetail = a, this;
      }, d.prototype.bezierPoint = function (a, b, c, e, f) {
        d._validateParameters("bezierPoint", arguments);var g = 1 - f;return Math.pow(g, 3) * a + 3 * Math.pow(g, 2) * f * b + 3 * g * Math.pow(f, 2) * c + Math.pow(f, 3) * e;
      }, d.prototype.bezierTangent = function (a, b, c, e, f) {
        d._validateParameters("bezierTangent", arguments);var g = 1 - f;return 3 * e * Math.pow(f, 2) - 3 * c * Math.pow(f, 2) + 6 * c * g * f - 6 * b * g * f + 3 * b * Math.pow(g, 2) - 3 * a * Math.pow(g, 2);
      }, d.prototype.curve = function () {
        return d._validateParameters("curve", arguments), this._renderer._doStroke && this._renderer.curve.apply(this._renderer, arguments), this;
      }, d.prototype.curveDetail = function (a) {
        return d._validateParameters("curveDetail", arguments), this._curveDetail = a < 3 ? 3 : a, this;
      }, d.prototype.curveTightness = function (a) {
        return d._validateParameters("curveTightness", arguments), this._renderer._curveTightness = a, this;
      }, d.prototype.curvePoint = function (a, b, c, e, f) {
        d._validateParameters("curvePoint", arguments);var g = f * f * f,
            h = f * f;return a * (-.5 * g + h - .5 * f) + b * (1.5 * g - 2.5 * h + 1) + c * (-1.5 * g + 2 * h + .5 * f) + e * (.5 * g - .5 * h);
      }, d.prototype.curveTangent = function (a, b, c, e, f) {
        d._validateParameters("curveTangent", arguments);var g = f * f;return a * (-3 * g / 2 + 2 * f - .5) + b * (9 * g / 2 - 5 * f) + c * (-9 * g / 2 + 4 * f + .5) + e * (3 * g / 2 - f);
      }, b.exports = d;
    }, { "../error_helpers": 20, "../main": 24 }], 33: [function (a, b, c) {
      "use strict";
      var d = a("../main"),
          e = a("../constants"),
          f = null,
          g = [],
          h = [],
          i = !1,
          j = !1,
          k = !1,
          l = !1,
          m = !0;d.prototype.beginContour = function () {
        return h = [], l = !0, this;
      }, d.prototype.beginShape = function (a) {
        return d._validateParameters("beginShape", arguments), this._renderer.isP3D ? this._renderer.beginShape.apply(this._renderer, arguments) : (f = a === e.POINTS || a === e.LINES || a === e.TRIANGLES || a === e.TRIANGLE_FAN || a === e.TRIANGLE_STRIP || a === e.QUADS || a === e.QUAD_STRIP ? a : null, g = [], h = []), this;
      }, d.prototype.bezierVertex = function () {
        if (d._validateParameters("bezierVertex", arguments), this._renderer.isP3D) this._renderer.bezierVertex.apply(this._renderer, arguments);else {
          if (0 === g.length) throw "vertex() must be used once before calling bezierVertex()";i = !0;for (var a = [], b = 0; b < arguments.length; b++) {
            a[b] = arguments[b];
          }a.isVert = !1, l ? h.push(a) : g.push(a);
        }return this;
      }, d.prototype.curveVertex = function () {
        return d._validateParameters("curveVertex", arguments), this._renderer.isP3D ? this._renderer.curveVertex.apply(this._renderer, arguments) : (j = !0, this.vertex(arguments[0], arguments[1])), this;
      }, d.prototype.endContour = function () {
        var a = h[0].slice();a.isVert = h[0].isVert, a.moveTo = !1, h.push(a), m && (g.push(g[0]), m = !1);for (var b = 0; b < h.length; b++) {
          g.push(h[b]);
        }return this;
      }, d.prototype.endShape = function (a) {
        if (d._validateParameters("endShape", arguments), this._renderer.isP3D) this._renderer.endShape(a, j, i, k, l, f);else {
          if (0 === g.length) return this;if (!this._renderer._doStroke && !this._renderer._doFill) return this;var b = a === e.CLOSE;b && !l && g.push(g[0]), this._renderer.endShape(a, g, j, i, k, l, f), j = !1, i = !1, k = !1, l = !1, m = !0, b && g.pop();
        }return this;
      }, d.prototype.quadraticVertex = function () {
        if (d._validateParameters("quadraticVertex", arguments), this._renderer.isP3D) this._renderer.quadraticVertex.apply(this._renderer, arguments);else {
          if (this._contourInited) {
            var a = {};return a.x = arguments[0], a.y = arguments[1], a.x3 = arguments[2], a.y3 = arguments[3], a.type = e.QUADRATIC, this._contourVertices.push(a), this;
          }if (!(g.length > 0)) throw new Error("vertex() must be used once before calling quadraticVertex()");k = !0;for (var b = [], c = 0; c < arguments.length; c++) {
            b[c] = arguments[c];
          }b.isVert = !1, l ? h.push(b) : g.push(b);
        }return this;
      }, d.prototype.vertex = function (a, b, c, d, e) {
        if (this._renderer.isP3D) this._renderer.vertex.apply(this._renderer, arguments);else {
          var f = [];f.isVert = !0, f[0] = a, f[1] = b, f[2] = 0, f[3] = 0, f[4] = 0, f[5] = this._renderer._getFill(), f[6] = this._renderer._getStroke(), c && (f.moveTo = c), l ? (0 === h.length && (f.moveTo = !0), h.push(f)) : g.push(f);
        }return this;
      }, b.exports = d;
    }, { "../constants": 18, "../main": 24 }], 34: [function (a, b, c) {
      "use strict";
      window.requestAnimationFrame = function () {
        return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (a, b) {
          window.setTimeout(a, 1e3 / 60);
        };
      }(), function () {
        "undefined" == typeof Uint8ClampedArray || Uint8ClampedArray.prototype.slice || Object.defineProperty(Uint8ClampedArray.prototype, "slice", { value: Array.prototype.slice, writable: !0, configurable: !0, enumerable: !1 });
      }(), function () {
        if (!Object.assign) {
          var a = Object.keys,
              b = Object.defineProperty,
              c = function c(a) {
            return void 0 !== a && null !== a;
          },
              d = "function" == typeof Symbol && "symbol" == _typeof(Symbol()),
              e = Object.prototype.propertyIsEnumerable,
              f = function f(a) {
            return function (b) {
              return e.call(a, b);
            };
          },
              g = function g(b, e) {
            if (!c(b)) throw new TypeError("target must be an object");var g,
                h,
                i,
                j,
                k = Object(b);for (g = 1; g < arguments.length; ++g) {
              for (h = Object(arguments[g]), j = a(h), d && Object.getOwnPropertySymbols && j.push.apply(j, Object.getOwnPropertySymbols(h).filter(f(h))), i = 0; i < j.length; ++i) {
                k[j[i]] = h[j[i]];
              }
            }return k;
          };b(Object, "assign", { value: g, configurable: !0, enumerable: !1, writable: !0 });
        }
      }();
    }, {}], 35: [function (a, b, c) {
      "use strict";
      var d = a("./main");d.prototype.noLoop = function () {
        this._loop = !1;
      }, d.prototype.loop = function () {
        this._loop = !0, this._draw();
      }, d.prototype.push = function () {
        this._styles.push({ props: { _colorMode: this._colorMode }, renderer: this._renderer.push() });
      }, d.prototype.pop = function () {
        var a = this._styles.pop();a ? (this._renderer.pop(a.renderer), Object.assign(this, a.props)) : console.warn("pop() was called without matching push()");
      }, d.prototype.redraw = function (a) {
        var b = parseInt(a);(isNaN(b) || b < 1) && (b = 1);var c = this._isGlobal ? window : this,
            d = c.setup,
            e = c.draw;if ("function" == typeof e) {
          void 0 === d && c.scale(c._pixelDensity, c._pixelDensity);for (var f = function f(a) {
            a.call(c);
          }, g = 0; g < b; g++) {
            c.resetMatrix(), c._renderer.isP3D && c._renderer._update(), c._setProperty("frameCount", c.frameCount + 1), c._registeredMethods.pre.forEach(f), e(), c._registeredMethods.post.forEach(f);
          }
        }
      }, b.exports = d;
    }, { "./main": 24 }], 36: [function (a, b, c) {
      "use strict";
      var d = a("./main");d.prototype.applyMatrix = function (a, b, c, d, e, f) {
        return this._renderer.applyMatrix(a, b, c, d, e, f), this;
      }, d.prototype.popMatrix = function () {
        throw new Error("popMatrix() not used, see pop()");
      }, d.prototype.printMatrix = function () {
        throw new Error("printMatrix() not implemented");
      }, d.prototype.pushMatrix = function () {
        throw new Error("pushMatrix() not used, see push()");
      }, d.prototype.resetMatrix = function () {
        return this._renderer.resetMatrix(), this;
      }, d.prototype.rotate = function (a, b) {
        return d._validateParameters("rotate", arguments), this._renderer.rotate(this._toRadians(a), b), this;
      }, d.prototype.rotateX = function (a) {
        return this._assert3d("rotateX"), d._validateParameters("rotateX", arguments), this._renderer.rotateX(this._toRadians(a)), this;
      }, d.prototype.rotateY = function (a) {
        return this._assert3d("rotateY"), d._validateParameters("rotateY", arguments), this._renderer.rotateY(this._toRadians(a)), this;
      }, d.prototype.rotateZ = function (a) {
        return this._assert3d("rotateZ"), d._validateParameters("rotateZ", arguments), this._renderer.rotateZ(this._toRadians(a)), this;
      }, d.prototype.scale = function (a, b, c) {
        if (d._validateParameters("scale", arguments), a instanceof d.Vector) {
          var e = a;a = e.x, b = e.y, c = e.z;
        } else if (a instanceof Array) {
          var f = a;a = f[0], b = f[1], c = f[2] || 1;
        }return isNaN(b) ? b = c = a : isNaN(c) && (c = 1), this._renderer.scale.call(this._renderer, a, b, c), this;
      }, d.prototype.shearX = function (a) {
        return d._validateParameters("shearX", arguments), this._renderer.shearX(this._toRadians(a)), this;
      }, d.prototype.shearY = function (a) {
        return d._validateParameters("shearY", arguments), this._renderer.shearY(this._toRadians(a)), this;
      }, d.prototype.translate = function (a, b, c) {
        return d._validateParameters("translate", arguments), this._renderer.isP3D ? this._renderer.translate(a, b, c) : this._renderer.translate(a, b), this;
      }, b.exports = d;
    }, { "./main": 24 }], 37: [function (a, b, c) {
      "use strict";
      var d = a("../core/main");d.prototype.createStringDict = function (a, b) {
        return d._validateParameters("createStringDict", arguments), new d.StringDict(a, b);
      }, d.prototype.createNumberDict = function (a, b) {
        return d._validateParameters("createNumberDict", arguments), new d.NumberDict(a, b);
      }, d.TypedDict = function (a, b) {
        return a instanceof Object ? this.data = a : (this.data = {}, this.data[a] = b), this;
      }, d.TypedDict.prototype.size = function () {
        return Object.keys(this.data).length;
      }, d.TypedDict.prototype.hasKey = function (a) {
        return this.data.hasOwnProperty(a);
      }, d.TypedDict.prototype.get = function (a) {
        if (this.data.hasOwnProperty(a)) return this.data[a];console.log(a + " does not exist in this Dictionary");
      }, d.TypedDict.prototype.set = function (a, b) {
        this._validate(b) ? this.data[a] = b : console.log("Those values dont work for this dictionary type.");
      }, d.TypedDict.prototype._addObj = function (a) {
        for (var b in a) {
          this.set(b, a[b]);
        }
      }, d.TypedDict.prototype.create = function (a, b) {
        a instanceof Object && void 0 === b ? this._addObj(a) : void 0 !== a ? this.set(a, b) : console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair");
      }, d.TypedDict.prototype.clear = function () {
        this.data = {};
      }, d.TypedDict.prototype.remove = function (a) {
        if (!this.data.hasOwnProperty(a)) throw new Error(a + " does not exist in this Dictionary");delete this.data[a];
      }, d.TypedDict.prototype.print = function () {
        for (var a in this.data) {
          console.log("key:" + a + " value:" + this.data[a]);
        }
      }, d.TypedDict.prototype.saveTable = function (a) {
        var b = "";for (var c in this.data) {
          b += c + "," + this.data[c] + "\n";
        }var e = new Blob([b], { type: "text/csv" });d.prototype.downloadFile(e, a || "mycsv", "csv");
      }, d.TypedDict.prototype.saveJSON = function (a, b) {
        d.prototype.saveJSON(this.data, a, b);
      }, d.TypedDict.prototype._validate = function (a) {
        return !0;
      }, d.StringDict = function () {
        d.TypedDict.apply(this, arguments);
      }, d.StringDict.prototype = Object.create(d.TypedDict.prototype), d.StringDict.prototype._validate = function (a) {
        return "string" == typeof a;
      }, d.NumberDict = function () {
        d.TypedDict.apply(this, arguments);
      }, d.NumberDict.prototype = Object.create(d.TypedDict.prototype), d.NumberDict.prototype._validate = function (a) {
        return "number" == typeof a;
      }, d.NumberDict.prototype.add = function (a, b) {
        this.data.hasOwnProperty(a) ? this.data[a] += b : console.log("The key - " + a + " does not exist in this dictionary.");
      }, d.NumberDict.prototype.sub = function (a, b) {
        this.add(a, -b);
      }, d.NumberDict.prototype.mult = function (a, b) {
        this.data.hasOwnProperty(a) ? this.data[a] *= b : console.log("The key - " + a + " does not exist in this dictionary.");
      }, d.NumberDict.prototype.div = function (a, b) {
        this.data.hasOwnProperty(a) ? this.data[a] /= b : console.log("The key - " + a + " does not exist in this dictionary.");
      }, d.NumberDict.prototype._valueTest = function (a) {
        if (0 === Object.keys(this.data).length) throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if (1 === Object.keys(this.data).length) return this.data[Object.keys(this.data)[0]];var b = this.data[Object.keys(this.data)[0]];for (var c in this.data) {
          this.data[c] * a < b * a && (b = this.data[c]);
        }return b;
      }, d.NumberDict.prototype.minValue = function () {
        return this._valueTest(1);
      }, d.NumberDict.prototype.maxValue = function () {
        return this._valueTest(-1);
      }, d.NumberDict.prototype._keyTest = function (a) {
        if (0 === Object.keys(this.data).length) throw new Error("Unable to use minValue on an empty NumberDict");if (1 === Object.keys(this.data).length) return Object.keys(this.data)[0];for (var b = Object.keys(this.data)[0], c = 1; c < Object.keys(this.data).length; c++) {
          Object.keys(this.data)[c] * a < b * a && (b = Object.keys(this.data)[c]);
        }return b;
      }, d.NumberDict.prototype.minKey = function () {
        return this._keyTest(1);
      }, d.NumberDict.prototype.maxKey = function () {
        return this._keyTest(-1);
      }, b.exports = d.TypedDict;
    }, { "../core/main": 24 }], 38: [function (a, b, c) {
      "use strict";
      var d = a("../core/main");d.prototype.deviceOrientation = void 0, d.prototype.accelerationX = 0, d.prototype.accelerationY = 0, d.prototype.accelerationZ = 0, d.prototype.pAccelerationX = 0, d.prototype.pAccelerationY = 0, d.prototype.pAccelerationZ = 0, d.prototype._updatePAccelerations = function () {
        this._setProperty("pAccelerationX", this.accelerationX), this._setProperty("pAccelerationY", this.accelerationY), this._setProperty("pAccelerationZ", this.accelerationZ);
      }, d.prototype.rotationX = 0, d.prototype.rotationY = 0, d.prototype.rotationZ = 0, d.prototype.pRotationX = 0, d.prototype.pRotationY = 0, d.prototype.pRotationZ = 0;var e,
          f,
          g,
          h = 0,
          i = 0,
          j = 0,
          k = "clockwise",
          l = "clockwise",
          m = "clockwise";d.prototype._updatePRotations = function () {
        this._setProperty("pRotationX", this.rotationX), this._setProperty("pRotationY", this.rotationY), this._setProperty("pRotationZ", this.rotationZ);
      }, d.prototype.turnAxis = void 0;var n = .5,
          o = 30;d.prototype.setMoveThreshold = function (a) {
        d._validateParameters("setMoveThreshold", arguments), n = a;
      }, d.prototype.setShakeThreshold = function (a) {
        d._validateParameters("setShakeThreshold", arguments), o = a;
      }, d.prototype._ondeviceorientation = function (a) {
        this._updatePRotations(), this._setProperty("rotationX", a.beta), this._setProperty("rotationY", a.gamma), this._setProperty("rotationZ", a.alpha), this._handleMotion();
      }, d.prototype._ondevicemotion = function (a) {
        this._updatePAccelerations(), this._setProperty("accelerationX", 2 * a.acceleration.x), this._setProperty("accelerationY", 2 * a.acceleration.y), this._setProperty("accelerationZ", 2 * a.acceleration.z), this._handleMotion();
      }, d.prototype._handleMotion = function () {
        90 === window.orientation || -90 === window.orientation ? this._setProperty("deviceOrientation", "landscape") : 0 === window.orientation ? this._setProperty("deviceOrientation", "portrait") : void 0 === window.orientation && this._setProperty("deviceOrientation", "undefined");var a = this.deviceMoved || window.deviceMoved;"function" == typeof a && (Math.abs(this.accelerationX - this.pAccelerationX) > n || Math.abs(this.accelerationY - this.pAccelerationY) > n || Math.abs(this.accelerationZ - this.pAccelerationZ) > n) && a();var b = this.deviceTurned || window.deviceTurned;if ("function" == typeof b) {
          var c = this.rotationX + 180,
              d = this.pRotationX + 180,
              p = h + 180;c - d > 0 && c - d < 270 || c - d < -270 ? k = "clockwise" : (c - d < 0 || c - d > 270) && (k = "counter-clockwise"), k !== e && (p = c), Math.abs(c - p) > 90 && Math.abs(c - p) < 270 && (p = c, this._setProperty("turnAxis", "X"), b()), e = k, h = p - 180;var q = this.rotationY + 180,
              r = this.pRotationY + 180,
              s = i + 180;q - r > 0 && q - r < 270 || q - r < -270 ? l = "clockwise" : (q - r < 0 || q - this.pRotationY > 270) && (l = "counter-clockwise"), l !== f && (s = q), Math.abs(q - s) > 90 && Math.abs(q - s) < 270 && (s = q, this._setProperty("turnAxis", "Y"), b()), f = l, i = s - 180, this.rotationZ - this.pRotationZ > 0 && this.rotationZ - this.pRotationZ < 270 || this.rotationZ - this.pRotationZ < -270 ? m = "clockwise" : (this.rotationZ - this.pRotationZ < 0 || this.rotationZ - this.pRotationZ > 270) && (m = "counter-clockwise"), m !== g && (j = this.rotationZ), Math.abs(this.rotationZ - j) > 90 && Math.abs(this.rotationZ - j) < 270 && (j = this.rotationZ, this._setProperty("turnAxis", "Z"), b()), g = m, this._setProperty("turnAxis", void 0);
        }var t = this.deviceShaken || window.deviceShaken;if ("function" == typeof t) {
          var u, v;null !== this.pAccelerationX && (u = Math.abs(this.accelerationX - this.pAccelerationX), v = Math.abs(this.accelerationY - this.pAccelerationY)), u + v > o && t();
        }
      }, b.exports = d;
    }, { "../core/main": 24 }], 39: [function (a, b, c) {
      "use strict";
      function d() {
        for (var a in f) {
          if (f.hasOwnProperty(a) && !0 === f[a]) return !0;
        }return !1;
      }var e = a("../core/main"),
          f = {};e.prototype.isKeyPressed = !1, e.prototype.keyIsPressed = !1, e.prototype.key = "", e.prototype.keyCode = 0, e.prototype._onkeydown = function (a) {
        if (!f[a.which]) {
          this._setProperty("isKeyPressed", !0), this._setProperty("keyIsPressed", !0), this._setProperty("keyCode", a.which), f[a.which] = !0, this._setProperty("key", a.key || String.fromCharCode(a.which) || a.which);var b = this.keyPressed || window.keyPressed;if ("function" == typeof b && !a.charCode) {
            !1 === b(a) && a.preventDefault();
          }
        }
      }, e.prototype._onkeyup = function (a) {
        var b = this.keyReleased || window.keyReleased;if (f[a.which] = !1, d() || (this._setProperty("isKeyPressed", !1), this._setProperty("keyIsPressed", !1)), this._setProperty("_lastKeyCodeTyped", null), this._setProperty("key", a.key || String.fromCharCode(a.which) || a.which), this._setProperty("keyCode", a.which), "function" == typeof b) {
          !1 === b(a) && a.preventDefault();
        }
      }, e.prototype._onkeypress = function (a) {
        if (a.which !== this._lastKeyCodeTyped) {
          this._setProperty("keyCode", a.which), this._setProperty("_lastKeyCodeTyped", a.which), this._setProperty("key", String.fromCharCode(a.which));var b = this.keyTyped || window.keyTyped;if ("function" == typeof b) {
            !1 === b(a) && a.preventDefault();
          }
        }
      }, e.prototype._onblur = function (a) {
        f = {};
      }, e.prototype.keyIsDown = function (a) {
        return e._validateParameters("keyIsDown", arguments), f[a];
      }, b.exports = e;
    }, { "../core/main": 24 }], 40: [function (a, b, c) {
      "use strict";
      function d(a, b, c, d) {
        d && !d.clientX && (d.touches ? d = d.touches[0] : d.changedTouches && (d = d.changedTouches[0]));var e = a.getBoundingClientRect(),
            f = a.scrollWidth / b,
            g = a.scrollHeight / c;return { x: (d.clientX - e.left) / f, y: (d.clientY - e.top) / g, winX: d.clientX, winY: d.clientY, id: d.identifier };
      }var e = a("../core/main"),
          f = a("../core/constants");e.prototype._hasMouseInteracted = !1, e.prototype.mouseX = 0, e.prototype.mouseY = 0, e.prototype.pmouseX = 0, e.prototype.pmouseY = 0, e.prototype.winMouseX = 0, e.prototype.winMouseY = 0, e.prototype.pwinMouseX = 0, e.prototype.pwinMouseY = 0, e.prototype.mouseButton = 0, e.prototype.mouseIsPressed = !1, e.prototype._updateNextMouseCoords = function (a) {
        if (null !== this._curElement && (!a.touches || a.touches.length > 0)) {
          var b = d(this._curElement.elt, this.width, this.height, a);this._setProperty("mouseX", b.x), this._setProperty("mouseY", b.y), this._setProperty("winMouseX", b.winX), this._setProperty("winMouseY", b.winY);
        }this._hasMouseInteracted || (this._updateMouseCoords(), this._setProperty("_hasMouseInteracted", !0));
      }, e.prototype._updateMouseCoords = function () {
        this._setProperty("pmouseX", this.mouseX), this._setProperty("pmouseY", this.mouseY), this._setProperty("pwinMouseX", this.winMouseX), this._setProperty("pwinMouseY", this.winMouseY), this._setProperty("_pmouseWheelDeltaY", this._mouseWheelDeltaY);
      }, e.prototype._setMouseButton = function (a) {
        1 === a.button ? this._setProperty("mouseButton", f.CENTER) : 2 === a.button ? this._setProperty("mouseButton", f.RIGHT) : this._setProperty("mouseButton", f.LEFT);
      }, e.prototype._onmousemove = function (a) {
        var b = this._isGlobal ? window : this;this._updateNextMouseCoords(a), this.mouseIsPressed ? "function" == typeof b.mouseDragged ? !1 === b.mouseDragged(a) && a.preventDefault() : "function" == typeof b.touchMoved && !1 === b.touchMoved(a) && a.preventDefault() : "function" == typeof b.mouseMoved && !1 === b.mouseMoved(a) && a.preventDefault();
      }, e.prototype._onmousedown = function (a) {
        var b = this._isGlobal ? window : this;this._setProperty("mouseIsPressed", !0), this._setMouseButton(a), this._updateNextMouseCoords(a), "function" == typeof b.mousePressed ? !1 === b.mousePressed(a) && a.preventDefault() : "function" == typeof b.touchStarted && !1 === b.touchStarted(a) && a.preventDefault();
      }, e.prototype._onmouseup = function (a) {
        var b = this._isGlobal ? window : this;this._setProperty("mouseIsPressed", !1), "function" == typeof b.mouseReleased ? !1 === b.mouseReleased(a) && a.preventDefault() : "function" == typeof b.touchEnded && !1 === b.touchEnded(a) && a.preventDefault();
      }, e.prototype._ondragend = e.prototype._onmouseup, e.prototype._ondragover = e.prototype._onmousemove, e.prototype._onclick = function (a) {
        var b = this._isGlobal ? window : this;if ("function" == typeof b.mouseClicked) {
          !1 === b.mouseClicked(a) && a.preventDefault();
        }
      }, e.prototype._ondblclick = function (a) {
        var b = this._isGlobal ? window : this;if ("function" == typeof b.doubleClicked) {
          !1 === b.doubleClicked(a) && a.preventDefault();
        }
      }, e.prototype._mouseWheelDeltaY = 0, e.prototype._pmouseWheelDeltaY = 0, e.prototype._onwheel = function (a) {
        var b = this._isGlobal ? window : this;if (this._setProperty("_mouseWheelDeltaY", a.deltaY), "function" == typeof b.mouseWheel) {
          a.delta = a.deltaY;!1 === b.mouseWheel(a) && a.preventDefault();
        }
      }, b.exports = e;
    }, { "../core/constants": 18, "../core/main": 24 }], 41: [function (a, b, c) {
      "use strict";
      function d(a, b, c, d, e) {
        e = e || 0;var f = a.getBoundingClientRect(),
            g = a.scrollWidth / b,
            h = a.scrollHeight / c,
            i = d.touches[e] || d.changedTouches[e];return { x: (i.clientX - f.left) / g, y: (i.clientY - f.top) / h, winX: i.clientX, winY: i.clientY, id: i.identifier };
      }var e = a("../core/main");e.prototype.touches = [], e.prototype._updateTouchCoords = function (a) {
        if (null !== this._curElement) {
          for (var b = [], c = 0; c < a.touches.length; c++) {
            b[c] = d(this._curElement.elt, this.width, this.height, a, c);
          }this._setProperty("touches", b);
        }
      }, e.prototype._ontouchstart = function (a) {
        var b = this._isGlobal ? window : this;this._setProperty("mouseIsPressed", !0), this._updateTouchCoords(a), this._updateNextMouseCoords(a), this._updateMouseCoords(), "function" == typeof b.touchStarted ? !1 === b.touchStarted(a) && a.preventDefault() : "function" == typeof b.mousePressed && !1 === b.mousePressed(a) && a.preventDefault();
      }, e.prototype._ontouchmove = function (a) {
        var b = this._isGlobal ? window : this;this._updateTouchCoords(a), this._updateNextMouseCoords(a), "function" == typeof b.touchMoved ? !1 === b.touchMoved(a) && a.preventDefault() : "function" == typeof b.mouseDragged && !1 === b.mouseDragged(a) && a.preventDefault();
      }, e.prototype._ontouchend = function (a) {
        this._setProperty("mouseIsPressed", !1), this._updateTouchCoords(a), this._updateNextMouseCoords(a);var b = this._isGlobal ? window : this;"function" == typeof b.touchEnded ? !1 === b.touchEnded(a) && a.preventDefault() : "function" == typeof b.mouseReleased && !1 === b.mouseReleased(a) && a.preventDefault();
      }, b.exports = e;
    }, { "../core/main": 24 }], 42: [function (a, b, c) {
      "use strict";
      function d(a) {
        var b = 3.5 * a | 0;if (b = b < 1 ? 1 : b < 248 ? b : 248, g !== b) {
          g = b, h = 1 + g << 1, i = new Int32Array(h), j = new Array(h);for (var c = 0; c < h; c++) {
            j[c] = new Int32Array(256);
          }for (var d, e, f, k, l = 1, m = b - 1; l < b; l++) {
            i[b + l] = i[m] = e = m * m, f = j[b + l], k = j[m--];for (var n = 0; n < 256; n++) {
              f[n] = k[n] = e * n;
            }
          }d = i[b] = b * b, f = j[b];for (var o = 0; o < 256; o++) {
            f[o] = d * o;
          }
        }
      }function e(a, b) {
        for (var c = f._toPixels(a), e = a.width, k = a.height, l = e * k, m = new Int32Array(l), n = 0; n < l; n++) {
          m[n] = f._getARGB(c, n);
        }var o,
            p,
            q,
            r,
            s,
            t,
            u,
            v,
            w,
            x,
            y = new Int32Array(l),
            z = new Int32Array(l),
            A = new Int32Array(l),
            B = new Int32Array(l),
            C = 0;d(b);var D, E, F, G;for (E = 0; E < k; E++) {
          for (D = 0; D < e; D++) {
            if (r = q = p = s = o = 0, (t = D - g) < 0) x = -t, t = 0;else {
              if (t >= e) break;x = 0;
            }for (F = x; F < h && !(t >= e); F++) {
              var H = m[t + C];G = j[F], s += G[(-16777216 & H) >>> 24], p += G[(16711680 & H) >> 16], q += G[(65280 & H) >> 8], r += G[255 & H], o += i[F], t++;
            }u = C + D, y[u] = s / o, z[u] = p / o, A[u] = q / o, B[u] = r / o;
          }C += e;
        }for (C = 0, v = -g, w = v * e, E = 0; E < k; E++) {
          for (D = 0; D < e; D++) {
            if (r = q = p = s = o = 0, v < 0) x = u = -v, t = D;else {
              if (v >= k) break;x = 0, u = v, t = D + w;
            }for (F = x; F < h && !(u >= k); F++) {
              G = j[F], s += G[y[t]], p += G[z[t]], q += G[A[t]], r += G[B[t]], o += i[F], u++, t += e;
            }m[D + C] = s / o << 24 | p / o << 16 | q / o << 8 | r / o;
          }C += e, w += e, v++;
        }f._setPixels(c, m);
      }var f = {};f._toPixels = function (a) {
        return a instanceof ImageData ? a.data : a.getContext("2d").getImageData(0, 0, a.width, a.height).data;
      }, f._getARGB = function (a, b) {
        var c = 4 * b;return a[c + 3] << 24 & 4278190080 | a[c] << 16 & 16711680 | a[c + 1] << 8 & 65280 | 255 & a[c + 2];
      }, f._setPixels = function (a, b) {
        for (var c = 0, d = 0, e = a.length; d < e; d++) {
          c = 4 * d, a[c + 0] = (16711680 & b[d]) >>> 16, a[c + 1] = (65280 & b[d]) >>> 8, a[c + 2] = 255 & b[d], a[c + 3] = (4278190080 & b[d]) >>> 24;
        }
      }, f._toImageData = function (a) {
        return a instanceof ImageData ? a : a.getContext("2d").getImageData(0, 0, a.width, a.height);
      }, f._createImageData = function (a, b) {
        return f._tmpCanvas = document.createElement("canvas"), f._tmpCtx = f._tmpCanvas.getContext("2d"), this._tmpCtx.createImageData(a, b);
      }, f.apply = function (a, b, c) {
        var d = a.getContext("2d"),
            e = d.getImageData(0, 0, a.width, a.height),
            f = b(e, c);f instanceof ImageData ? d.putImageData(f, 0, 0, 0, 0, a.width, a.height) : d.putImageData(e, 0, 0, 0, 0, a.width, a.height);
      }, f.threshold = function (a, b) {
        var c = f._toPixels(a);void 0 === b && (b = .5);for (var d = Math.floor(255 * b), e = 0; e < c.length; e += 4) {
          var g,
              h = c[e],
              i = c[e + 1],
              j = c[e + 2],
              k = .2126 * h + .7152 * i + .0722 * j;g = k >= d ? 255 : 0, c[e] = c[e + 1] = c[e + 2] = g;
        }
      }, f.gray = function (a) {
        for (var b = f._toPixels(a), c = 0; c < b.length; c += 4) {
          var d = b[c],
              e = b[c + 1],
              g = b[c + 2],
              h = .2126 * d + .7152 * e + .0722 * g;b[c] = b[c + 1] = b[c + 2] = h;
        }
      }, f.opaque = function (a) {
        for (var b = f._toPixels(a), c = 0; c < b.length; c += 4) {
          b[c + 3] = 255;
        }return b;
      }, f.invert = function (a) {
        for (var b = f._toPixels(a), c = 0; c < b.length; c += 4) {
          b[c] = 255 - b[c], b[c + 1] = 255 - b[c + 1], b[c + 2] = 255 - b[c + 2];
        }
      }, f.posterize = function (a, b) {
        var c = f._toPixels(a);if (b < 2 || b > 255) throw new Error("Level must be greater than 2 and less than 255 for posterize");for (var d = b - 1, e = 0; e < c.length; e += 4) {
          var g = c[e],
              h = c[e + 1],
              i = c[e + 2];c[e] = 255 * (g * b >> 8) / d, c[e + 1] = 255 * (h * b >> 8) / d, c[e + 2] = 255 * (i * b >> 8) / d;
        }
      }, f.dilate = function (a) {
        for (var b, c, d, e, g, h, i, j, k, l, m, n, o, p, q, r, s, t = f._toPixels(a), u = 0, v = t.length ? t.length / 4 : 0, w = new Int32Array(v); u < v;) {
          for (b = u, c = u + a.width; u < c;) {
            d = e = f._getARGB(t, u), i = u - 1, h = u + 1, j = u - a.width, k = u + a.width, i < b && (i = u), h >= c && (h = u), j < 0 && (j = 0), k >= v && (k = u), n = f._getARGB(t, j), m = f._getARGB(t, i), o = f._getARGB(t, k), l = f._getARGB(t, h), g = 77 * (d >> 16 & 255) + 151 * (d >> 8 & 255) + 28 * (255 & d), q = 77 * (m >> 16 & 255) + 151 * (m >> 8 & 255) + 28 * (255 & m), p = 77 * (l >> 16 & 255) + 151 * (l >> 8 & 255) + 28 * (255 & l), r = 77 * (n >> 16 & 255) + 151 * (n >> 8 & 255) + 28 * (255 & n), s = 77 * (o >> 16 & 255) + 151 * (o >> 8 & 255) + 28 * (255 & o), q > g && (e = m, g = q), p > g && (e = l, g = p), r > g && (e = n, g = r), s > g && (e = o, g = s), w[u++] = e;
          }
        }f._setPixels(t, w);
      }, f.erode = function (a) {
        for (var b, c, d, e, g, h, i, j, k, l, m, n, o, p, q, r, s, t = f._toPixels(a), u = 0, v = t.length ? t.length / 4 : 0, w = new Int32Array(v); u < v;) {
          for (b = u, c = u + a.width; u < c;) {
            d = e = f._getARGB(t, u), i = u - 1, h = u + 1, j = u - a.width, k = u + a.width, i < b && (i = u), h >= c && (h = u), j < 0 && (j = 0), k >= v && (k = u), n = f._getARGB(t, j), m = f._getARGB(t, i), o = f._getARGB(t, k), l = f._getARGB(t, h), g = 77 * (d >> 16 & 255) + 151 * (d >> 8 & 255) + 28 * (255 & d), q = 77 * (m >> 16 & 255) + 151 * (m >> 8 & 255) + 28 * (255 & m), p = 77 * (l >> 16 & 255) + 151 * (l >> 8 & 255) + 28 * (255 & l), r = 77 * (n >> 16 & 255) + 151 * (n >> 8 & 255) + 28 * (255 & n), s = 77 * (o >> 16 & 255) + 151 * (o >> 8 & 255) + 28 * (255 & o), q < g && (e = m, g = q), p < g && (e = l, g = p), r < g && (e = n, g = r), s < g && (e = o, g = s), w[u++] = e;
          }
        }f._setPixels(t, w);
      };var g, h, i, j;f.blur = function (a, b) {
        e(a, b);
      }, b.exports = f;
    }, {}], 43: [function (a, b, c) {
      "use strict";
      var d = a("../core/main"),
          e = [];d.prototype.createImage = function (a, b) {
        return d._validateParameters("createImage", arguments), new d.Image(a, b);
      }, d.prototype.saveCanvas = function () {
        d._validateParameters("saveCanvas", arguments);var a,
            b,
            c,
            e = [].slice.call(arguments);arguments[0] instanceof HTMLCanvasElement ? (a = arguments[0], e.shift()) : arguments[0] instanceof d.Element ? (a = arguments[0].elt, e.shift()) : a = this._curElement && this._curElement.elt, e.length >= 1 && (b = e[0]), e.length >= 2 && (c = e[1]), c = c || d.prototype._checkFileExtension(b, c)[1] || "png";var f;switch (c) {default:
            f = "image/png";break;case "jpeg":case "jpg":
            f = "image/jpeg";}a.toBlob(function (a) {
          d.prototype.downloadFile(a, b, c);
        }, f);
      }, d.prototype.saveFrames = function (a, b, c, f, g) {
        d._validateParameters("saveFrames", arguments);var h = c || 3;h = d.prototype.constrain(h, 0, 15), h *= 1e3;var i = f || 15;i = d.prototype.constrain(i, 0, 22);var j = 0,
            k = d.prototype._makeFrame,
            l = this._curElement.elt,
            m = setInterval(function () {
          k(a + j, b, l), j++;
        }, 1e3 / i);setTimeout(function () {
          if (clearInterval(m), g) g(e);else for (var a = 0; a < e.length; a++) {
            var b = e[a];d.prototype.downloadFile(b.imageData, b.filename, b.ext);
          }e = [];
        }, h + .01);
      }, d.prototype._makeFrame = function (a, b, c) {
        var d;d = this ? this._curElement.elt : c;var f;if (b) switch (b.toLowerCase()) {case "png":
            f = "image/png";break;case "jpeg":case "jpg":
            f = "image/jpeg";break;default:
            f = "image/png";} else b = "png", f = "image/png";var g = d.toDataURL(f);g = g.replace(f, "image/octet-stream");var h = {};h.imageData = g, h.filename = a, h.ext = b, e.push(h);
      }, b.exports = d;
    }, { "../core/main": 24 }], 44: [function (a, b, c) {
      "use strict";
      function d(a, b) {
        return a > 0 && a < b ? a : b;
      }var e = a("../core/main"),
          f = a("./filters"),
          g = a("../core/helpers"),
          h = a("../core/constants");a("../core/error_helpers"), e.prototype.loadImage = function (a, b, c) {
        e._validateParameters("loadImage", arguments);var d = new Image(),
            f = new e.Image(1, 1, this),
            g = this;return d.onload = function () {
          f.width = f.canvas.width = d.width, f.height = f.canvas.height = d.height, f.drawingContext.drawImage(d, 0, 0), f.modified = !0, "function" == typeof b && b(f), g._decrementPreload();
        }, d.onerror = function (a) {
          e._friendlyFileLoadError(0, d.src), "function" == typeof c && c(a);
        }, 0 !== a.indexOf("data:image/") && (d.crossOrigin = "Anonymous"), d.src = a, f;
      }, e.prototype.image = function (a, b, c, f, h, i, j, k, l) {
        e._validateParameters("image", arguments);var m = a.width,
            n = a.height;a.elt && a.elt.videoWidth && !a.canvas && (m = a.elt.videoWidth, n = a.elt.videoHeight);var o = b,
            p = c,
            q = f || m,
            r = h || n,
            s = i || 0,
            t = j || 0,
            u = k || m,
            v = l || n;u = d(u, m), v = d(v, n);var w = 1;a.elt && !a.canvas && a.elt.style.width && (w = a.elt.videoWidth && !f ? a.elt.videoWidth : a.elt.width, w /= parseInt(a.elt.style.width, 10)), s *= w, t *= w, v *= w, u *= w;var x = g.modeAdjust(o, p, q, r, this._renderer._imageMode);this._renderer.image(a, s, t, u, v, x.x, x.y, x.w, x.h);
      }, e.prototype.tint = function () {
        e._validateParameters("tint", arguments);var a = this.color.apply(this, arguments);this._renderer._tint = a.levels;
      }, e.prototype.noTint = function () {
        this._renderer._tint = null;
      }, e.prototype._getTintedImageCanvas = function (a) {
        if (!a.canvas) return a;var b = f._toPixels(a.canvas),
            c = document.createElement("canvas");c.width = a.canvas.width, c.height = a.canvas.height;for (var d = c.getContext("2d"), e = d.createImageData(a.canvas.width, a.canvas.height), g = e.data, h = 0; h < b.length; h += 4) {
          var i = b[h],
              j = b[h + 1],
              k = b[h + 2],
              l = b[h + 3];g[h] = i * this._renderer._tint[0] / 255, g[h + 1] = j * this._renderer._tint[1] / 255, g[h + 2] = k * this._renderer._tint[2] / 255, g[h + 3] = l * this._renderer._tint[3] / 255;
        }return d.putImageData(e, 0, 0), c;
      }, e.prototype.imageMode = function (a) {
        e._validateParameters("imageMode", arguments), a !== h.CORNER && a !== h.CORNERS && a !== h.CENTER || (this._renderer._imageMode = a);
      }, b.exports = e;
    }, { "../core/constants": 18, "../core/error_helpers": 20, "../core/helpers": 21, "../core/main": 24, "./filters": 42 }], 45: [function (a, b, c) {
      "use strict";
      var d = a("../core/main"),
          e = a("./filters");d.Image = function (a, b) {
        this.width = a, this.height = b, this.canvas = document.createElement("canvas"), this.canvas.width = this.width, this.canvas.height = this.height, this.drawingContext = this.canvas.getContext("2d"), this._pixelDensity = 1, this._modified = !1, this._pixelsDirty = !0, this.pixels = [];
      }, d.Image.prototype._setProperty = function (a, b) {
        this[a] = b, this.setModified(!0);
      }, d.Image.prototype.loadPixels = function () {
        d.Renderer2D.prototype.loadPixels.call(this), this.setModified(!0);
      }, d.Image.prototype.updatePixels = function (a, b, c, e) {
        d.Renderer2D.prototype.updatePixels.call(this, a, b, c, e), this.setModified(!0);
      }, d.Image.prototype.get = function (a, b, c, e) {
        return d.Renderer2D.prototype.get.call(this, a, b, c, e);
      }, d.Image.prototype.set = function (a, b, c) {
        d.Renderer2D.prototype.set.call(this, a, b, c), this.setModified(!0);
      }, d.Image.prototype.resize = function (a, b) {
        0 === a && 0 === b ? (a = this.canvas.width, b = this.canvas.height) : 0 === a ? a = this.canvas.width * b / this.canvas.height : 0 === b && (b = this.canvas.height * a / this.canvas.width), a = Math.floor(a), b = Math.floor(b);var c = document.createElement("canvas");c.width = a, c.height = b, c.getContext("2d").drawImage(this.canvas, 0, 0, this.canvas.width, this.canvas.height, 0, 0, c.width, c.height), this.canvas.width = this.width = a, this.canvas.height = this.height = b, this.drawingContext.drawImage(c, 0, 0, a, b, 0, 0, a, b), this.pixels.length > 0 && this.loadPixels(), this.setModified(!0), this._pixelsDirty = !0;
      }, d.Image.prototype.copy = function () {
        var a, b, c, e, f, g, h, i, j;if (9 === arguments.length) a = arguments[0], b = arguments[1], c = arguments[2], e = arguments[3], f = arguments[4], g = arguments[5], h = arguments[6], i = arguments[7], j = arguments[8];else {
          if (8 !== arguments.length) throw new Error("Signature not supported");a = this, b = arguments[0], c = arguments[1], e = arguments[2], f = arguments[3], g = arguments[4], h = arguments[5], i = arguments[6], j = arguments[7];
        }d.Renderer2D._copyHelper(this, a, b, c, e, f, g, h, i, j), this._pixelsDirty = !0;
      }, d.Image.prototype.mask = function (a) {
        void 0 === a && (a = this);var b = this.drawingContext.globalCompositeOperation,
            c = 1;a instanceof d.Renderer && (c = a._pInst._pixelDensity);var e = [a, 0, 0, c * a.width, c * a.height, 0, 0, this.width, this.height];this.drawingContext.globalCompositeOperation = "destination-in", d.Image.prototype.copy.apply(this, e), this.drawingContext.globalCompositeOperation = b, this.setModified(!0);
      }, d.Image.prototype.filter = function (a, b) {
        e.apply(this.canvas, e[a.toLowerCase()], b), this.setModified(!0);
      }, d.Image.prototype.blend = function () {
        d.prototype.blend.apply(this, arguments), this.setModified(!0);
      }, d.Image.prototype.setModified = function (a) {
        this._modified = a;
      }, d.Image.prototype.isModified = function () {
        return this._modified;
      }, d.Image.prototype.save = function (a, b) {
        d.prototype.saveCanvas(this.canvas, a, b);
      }, b.exports = d.Image;
    }, { "../core/main": 24, "./filters": 42 }], 46: [function (a, b, c) {
      "use strict";
      var d = a("../core/main"),
          e = a("./filters");a("../color/p5.Color"), d.prototype.pixels = [], d.prototype.blend = function () {
        d._validateParameters("blend", arguments), this._renderer ? this._renderer.blend.apply(this._renderer, arguments) : d.Renderer2D.prototype.blend.apply(this, arguments);
      }, d.prototype.copy = function () {
        d._validateParameters("copy", arguments), d.Renderer2D.prototype.copy.apply(this._renderer, arguments);
      }, d.prototype.filter = function (a, b) {
        d._validateParameters("filter", arguments), void 0 !== this.canvas ? e.apply(this.canvas, e[a.toLowerCase()], b) : e.apply(this.elt, e[a.toLowerCase()], b);
      }, d.prototype.get = function (a, b, c, d) {
        return this._renderer.get(a, b, c, d);
      }, d.prototype.loadPixels = function () {
        d._validateParameters("loadPixels", arguments), this._renderer.loadPixels();
      }, d.prototype.set = function (a, b, c) {
        this._renderer.set(a, b, c);
      }, d.prototype.updatePixels = function (a, b, c, e) {
        d._validateParameters("updatePixels", arguments), 0 !== this.pixels.length && this._renderer.updatePixels(a, b, c, e);
      }, b.exports = d;
    }, { "../color/p5.Color": 16, "../core/main": 24, "./filters": 42 }], 47: [function (a, b, c) {
      "use strict";
      function d(a, b) {
        var c = {};if (void 0 === (b = b || [])) for (var d = 0; d < a.length; d++) {
          b[d.toString()] = d;
        }for (var e = 0; e < b.length; e++) {
          var f = b[e],
              g = a[e];c[f] = g;
        }return c;
      }function e(a) {
        var b = new i.XML(),
            c = a.childNodes;if (c && c.length) {
          for (var d = 0; d < c.length; d++) {
            var f = e(c[d]);b.addChild(f);
          }b.setName(a.nodeName), b._setCont(a.textContent), b._setAttributes(a);for (var g = 0; g < b.children.length; g++) {
            b.children[g].parent = b;
          }return b;
        }return b.setName(a.nodeName), b._setCont(a.textContent), b._setAttributes(a), b;
      }function f(a) {
        return a.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#039;");
      }function g(a, b) {
        b && !0 !== b && "true" !== b || (b = ""), a || (a = "untitled");var c = "";return a && a.indexOf(".") > -1 && (c = a.split(".").pop()), b && c !== b && (c = b, a = a + "." + c), [a, c];
      }function h(a) {
        document.body.removeChild(a.target);
      }var i = a("../core/main");a("whatwg-fetch"), a("es6-promise").polyfill();var j = a("fetch-jsonp");a("../core/error_helpers"), i.prototype.loadJSON = function () {
        i._validateParameters("loadJSON", arguments);for (var a, b, c, d = arguments[0], e = {}, f = "json", g = 1; g < arguments.length; g++) {
          var h = arguments[g];"string" == typeof h ? "jsonp" !== h && "json" !== h || (f = h) : "function" == typeof h ? a ? b = h : a = h : "object" == (typeof h === "undefined" ? "undefined" : _typeof(h)) && h.hasOwnProperty("jsonpCallback") && (f = "jsonp", c = h);
        }var j = this;return this.httpDo(d, "GET", c, f, function (b) {
          for (var c in b) {
            e[c] = b[c];
          }void 0 !== a && a(b), j._decrementPreload();
        }, function (a) {
          if (i._friendlyFileLoadError(5, d), !b) throw a;b(a);
        }), e;
      }, i.prototype.loadStrings = function () {
        i._validateParameters("loadStrings", arguments);for (var a, b, c = [], d = 1; d < arguments.length; d++) {
          var e = arguments[d];"function" == typeof e && (void 0 === a ? a = e : void 0 === b && (b = e));
        }var f = this;return i.prototype.httpDo.call(this, arguments[0], "GET", "text", function (b) {
          var d = b.replace(/\r\n/g, "\r").replace(/\n/g, "\r").split(/\r/);Array.prototype.push.apply(c, d), void 0 !== a && a(c), f._decrementPreload();
        }, function (a) {
          if (i._friendlyFileLoadError(3, arguments[0]), !b) throw a;b(a);
        }), c;
      }, i.prototype.loadTable = function (a) {
        var b,
            c,
            e = [],
            f = !1,
            g = a.substring(a.lastIndexOf(".") + 1, a.length),
            h = ",",
            j = !1;"tsv" === g && (h = "\t");for (var k = 1; k < arguments.length; k++) {
          if ("function" == typeof arguments[k]) void 0 === b ? b = arguments[k] : void 0 === c && (c = arguments[k]);else if ("string" == typeof arguments[k]) if (e.push(arguments[k]), "header" === arguments[k] && (f = !0), "csv" === arguments[k]) {
            if (j) throw new Error("Cannot set multiple separator types.");h = ",", j = !0;
          } else if ("tsv" === arguments[k]) {
            if (j) throw new Error("Cannot set multiple separator types.");h = "\t", j = !0;
          }
        }var l = new i.Table(),
            m = this;return this.httpDo(a, "GET", "table", function (a) {
          for (var c, e = {}, g = 0, j = 1, n = 2, o = 4, p = '"', q = "\r", r = "\n", s = [], t = 0, u = null, v = function v() {
            e.currentState = g, e.token = "";
          }, w = function w() {
            u.push(e.token), v();
          }, x = function x() {
            e.escaped = !1, u = [], v();
          }, y = function y() {
            e.currentState = o, s.push(u), u = null;
          };;) {
            if (null == (c = a[t++])) {
              if (e.escaped) throw new Error("Unclosed quote in file.");if (u) {
                w(), y();break;
              }
            }if (null === u && x(), e.currentState === g) {
              if (c === p) {
                e.escaped = !0, e.currentState = j;continue;
              }e.currentState = j;
            }if (e.currentState === j && e.escaped) {
              if (c === p) a[t] === p ? (e.token += p, t++) : (e.escaped = !1, e.currentState = n);else {
                if (c === q) continue;e.token += c;
              }
            } else c === q ? (a[t] === r && t++, w(), y()) : c === r ? (w(), y()) : c === h ? w() : e.currentState === j && (e.token += c);
          }if (f) l.columns = s.shift();else for (k = 0; k < s[0].length; k++) {
            l.columns[k] = "null";
          }var z;for (k = 0; k < s.length; k++) {
            (1 !== s[k].length || "undefined" !== s[k][0] && "" !== s[k][0]) && (z = new i.TableRow(), z.arr = s[k], z.obj = d(s[k], l.columns), l.addRow(z));
          }"function" == typeof b && b(l), m._decrementPreload();
        }, function (b) {
          if (i._friendlyFileLoadError(2, a), !c) throw b;c(b);
        }), l;
      }, i.prototype.loadXML = function () {
        for (var a, b, c = {}, d = 1; d < arguments.length; d++) {
          var e = arguments[d];"function" == typeof e && (void 0 === a ? a = e : void 0 === b && (b = e));
        }var f = this;return this.httpDo(arguments[0], "GET", "xml", function (b) {
          for (var d in b) {
            c[d] = b[d];
          }void 0 !== a && a(c), f._decrementPreload();
        }, function (a) {
          if (i._friendlyFileLoadError(1, arguments[0]), !b) throw a;b(a);
        }), c;
      }, i.prototype.loadBytes = function (a, b, c) {
        var d = {},
            e = this;return this.httpDo(a, "GET", "arrayBuffer", function (a) {
          d.bytes = new Uint8Array(a), "function" == typeof b && b(d), e._decrementPreload();
        }, function (b) {
          if (i._friendlyFileLoadError(6, a), !c) throw b;c(b);
        }), d;
      }, i.prototype.httpGet = function () {
        i._validateParameters("httpGet", arguments);var a = Array.prototype.slice.call(arguments);return a.splice(1, 0, "GET"), i.prototype.httpDo.apply(this, a);
      }, i.prototype.httpPost = function () {
        i._validateParameters("httpPost", arguments);var a = Array.prototype.slice.call(arguments);return a.splice(1, 0, "POST"), i.prototype.httpDo.apply(this, a);
      }, i.prototype.httpDo = function () {
        for (var a, b, c, d, f, g = {}, h = 0, k = "text/plain", l = arguments.length - 1; l > 0 && "function" == typeof arguments[l]; l--) {
          h++;
        }var m = arguments.length - h,
            n = arguments[0];if (2 === m && "string" == typeof n && "object" == _typeof(arguments[1])) d = new Request(n, arguments[1]), b = arguments[2], c = arguments[3];else {
          for (var o, p = "GET", q = 1; q < arguments.length; q++) {
            var r = arguments[q];if ("string" == typeof r) "GET" === r || "POST" === r || "PUT" === r || "DELETE" === r ? p = r : "json" === r || "jsonp" === r || "binary" === r || "arrayBuffer" === r || "xml" === r || "text" === r || "table" === r ? a = r : o = r;else if ("number" == typeof r) o = r.toString();else if ("object" == (typeof r === "undefined" ? "undefined" : _typeof(r))) {
              if (r.hasOwnProperty("jsonpCallback")) for (var s in r) {
                g[s] = r[s];
              } else o = JSON.stringify(r), k = "application/json";
            } else "function" == typeof r && (b ? c = r : b = r);
          }d = new Request(n, { method: p, mode: "cors", body: o, headers: new Headers({ "Content-Type": k }) });
        }return a || (a = -1 !== n.indexOf("json") ? "json" : -1 !== n.indexOf("xml") ? "xml" : "text"), f = "jsonp" === a ? j(n, g) : fetch(d), f = f.then(function (b) {
          if (!b.ok) {
            var c = new Error(b.body);throw c.status = b.status, c.ok = !1, c;
          }var d = b.headers.get("content-length");switch (d && d > 64e6 && i._friendlyFileLoadError(7, n), a) {case "json":case "jsonp":
              return b.json();case "binary":
              return b.blob();case "arrayBuffer":
              return b.arrayBuffer();case "xml":
              return b.text().then(function (a) {
                return e(new DOMParser().parseFromString(a, "text/xml").documentElement);
              });default:
              return b.text();}
        }), f.then(b || function () {}), f.catch(c || console.error), f;
      }, window.URL = window.URL || window.webkitURL, i.prototype._pWriters = [], i.prototype.createWriter = function (a, b) {
        var c;for (var d in i.prototype._pWriters) {
          if (i.prototype._pWriters[d].name === a) return c = new i.PrintWriter(a + this.millis(), b), i.prototype._pWriters.push(c), c;
        }return c = new i.PrintWriter(a, b), i.prototype._pWriters.push(c), c;
      }, i.PrintWriter = function (a, b) {
        var c = this;this.name = a, this.content = "", this.write = function (a) {
          this.content += a;
        }, this.print = function (a) {
          this.content += a + "\n";
        }, this.clear = function () {
          this.content = "";
        }, this.close = function () {
          var d = [];d.push(this.content), i.prototype.writeFile(d, a, b);for (var e in i.prototype._pWriters) {
            i.prototype._pWriters[e].name === this.name && i.prototype._pWriters.splice(e, 1);
          }c.clear(), c = {};
        };
      }, i.prototype.save = function (a, b, c) {
        var d = arguments,
            e = this._curElement.elt;if (0 === d.length) return void i.prototype.saveCanvas(e);if (d[0] instanceof i.Renderer || d[0] instanceof i.Graphics) return void i.prototype.saveCanvas(d[0].elt, d[1], d[2]);if (1 === d.length && "string" == typeof d[0]) i.prototype.saveCanvas(e, d[0]);else {
          switch (g(d[1], d[2])[1]) {case "json":
              return void i.prototype.saveJSON(d[0], d[1], d[2]);case "txt":
              return void i.prototype.saveStrings(d[0], d[1], d[2]);default:
              d[0] instanceof Array ? i.prototype.saveStrings(d[0], d[1], d[2]) : d[0] instanceof i.Table ? i.prototype.saveTable(d[0], d[1], d[2]) : d[0] instanceof i.Image ? i.prototype.saveCanvas(d[0].canvas, d[1]) : d[0] instanceof i.SoundFile && i.prototype.saveSound(d[0], d[1], d[2], d[3]);}
        }
      }, i.prototype.saveJSON = function (a, b, c) {
        i._validateParameters("saveJSON", arguments);var d;d = c ? JSON.stringify(a) : JSON.stringify(a, void 0, 2), this.saveStrings(d.split("\n"), b, "json");
      }, i.prototype.saveJSONObject = i.prototype.saveJSON, i.prototype.saveJSONArray = i.prototype.saveJSON, i.prototype.saveStrings = function (a, b, c) {
        i._validateParameters("saveStrings", arguments);for (var d = c || "txt", e = this.createWriter(b, d), f = 0; f < a.length; f++) {
          a.length, e.print(a[f]);
        }e.close(), e.clear();
      }, i.prototype.saveTable = function (a, b, c) {
        i._validateParameters("saveTable", arguments);var d;d = void 0 === c ? b.substring(b.lastIndexOf(".") + 1, b.length) : c;var e = this.createWriter(b, d),
            g = a.columns,
            h = ",";if ("tsv" === d && (h = "\t"), "html" !== d) {
          if ("0" !== g[0]) {
            for (var j = 0; j < g.length; j++) {
              j < g.length - 1 ? e.write(g[j] + h) : e.write(g[j]);
            }e.write("\n");
          }for (var k = 0; k < a.rows.length; k++) {
            var l;for (l = 0; l < a.rows[k].arr.length; l++) {
              l < a.rows[k].arr.length - 1 ? e.write(a.rows[k].arr[l] + h) : (a.rows.length, e.write(a.rows[k].arr[l]));
            }e.write("\n");
          }
        } else {
          e.print("<html>"), e.print("<head>");var m = '  <meta http-equiv="content-type" content';if (m += '="text/html;charset=utf-8" />', e.print(m), e.print("</head>"), e.print("<body>"), e.print("  <table>"), "0" !== g[0]) {
            e.print("    <tr>");for (var n = 0; n < g.length; n++) {
              var o = f(g[n]);e.print("      <td>" + o), e.print("      </td>");
            }e.print("    </tr>");
          }for (var p = 0; p < a.rows.length; p++) {
            e.print("    <tr>");for (var q = 0; q < a.columns.length; q++) {
              var r = a.rows[p].getString(q),
                  s = f(r);e.print("      <td>" + s), e.print("      </td>");
            }e.print("    </tr>");
          }e.print("  </table>"), e.print("</body>"), e.print("</html>");
        }e.close(), e.clear();
      }, i.prototype.writeFile = function (a, b, c) {
        var d = "application/octet-stream";i.prototype._isSafari() && (d = "text/plain");var e = new Blob(a, { type: d });i.prototype.downloadFile(e, b, c);
      }, i.prototype.downloadFile = function (b, c, d) {
        var e = g(c, d),
            f = e[0];if (b instanceof Blob) {
          return void a("file-saver").saveAs(b, f);
        }var j = document.createElement("a");if (j.href = b, j.download = f, j.onclick = function (a) {
          h(a), a.stopPropagation();
        }, j.style.display = "none", document.body.appendChild(j), i.prototype._isSafari()) {
          var k = "Hello, Safari user! To download this file...\n";k += "1. Go to File --\x3e Save As.\n", k += '2. Choose "Page Source" as the Format.\n', k += '3. Name it with this extension: ."' + e[1] + '"', alert(k);
        }j.click();
      }, i.prototype._checkFileExtension = g, i.prototype._isSafari = function () {
        return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor") > 0;
      }, b.exports = i;
    }, { "../core/error_helpers": 20, "../core/main": 24, "es6-promise": 4, "fetch-jsonp": 5, "file-saver": 6, "whatwg-fetch": 12 }], 48: [function (a, b, c) {
      "use strict";
      var d = a("../core/main");d.Table = function (a) {
        this.columns = [], this.rows = [];
      }, d.Table.prototype.addRow = function (a) {
        var b = a || new d.TableRow();if (void 0 === b.arr || void 0 === b.obj) throw new Error("invalid TableRow: " + b);return b.table = this, this.rows.push(b), b;
      }, d.Table.prototype.removeRow = function (a) {
        this.rows[a].table = null;var b = this.rows.splice(a + 1, this.rows.length);this.rows.pop(), this.rows = this.rows.concat(b);
      }, d.Table.prototype.getRow = function (a) {
        return this.rows[a];
      }, d.Table.prototype.getRows = function () {
        return this.rows;
      }, d.Table.prototype.findRow = function (a, b) {
        if ("string" == typeof b) {
          for (var c = 0; c < this.rows.length; c++) {
            if (this.rows[c].obj[b] === a) return this.rows[c];
          }
        } else for (var d = 0; d < this.rows.length; d++) {
          if (this.rows[d].arr[b] === a) return this.rows[d];
        }return null;
      }, d.Table.prototype.findRows = function (a, b) {
        var c = [];if ("string" == typeof b) for (var d = 0; d < this.rows.length; d++) {
          this.rows[d].obj[b] === a && c.push(this.rows[d]);
        } else for (var e = 0; e < this.rows.length; e++) {
          this.rows[e].arr[b] === a && c.push(this.rows[e]);
        }return c;
      }, d.Table.prototype.matchRow = function (a, b) {
        if ("number" == typeof b) {
          for (var c = 0; c < this.rows.length; c++) {
            if (this.rows[c].arr[b].match(a)) return this.rows[c];
          }
        } else for (var d = 0; d < this.rows.length; d++) {
          if (this.rows[d].obj[b].match(a)) return this.rows[d];
        }return null;
      }, d.Table.prototype.matchRows = function (a, b) {
        var c = [];if ("number" == typeof b) for (var d = 0; d < this.rows.length; d++) {
          this.rows[d].arr[b].match(a) && c.push(this.rows[d]);
        } else for (var e = 0; e < this.rows.length; e++) {
          this.rows[e].obj[b].match(a) && c.push(this.rows[e]);
        }return c;
      }, d.Table.prototype.getColumn = function (a) {
        var b = [];if ("string" == typeof a) for (var c = 0; c < this.rows.length; c++) {
          b.push(this.rows[c].obj[a]);
        } else for (var d = 0; d < this.rows.length; d++) {
          b.push(this.rows[d].arr[a]);
        }return b;
      }, d.Table.prototype.clearRows = function () {
        delete this.rows, this.rows = [];
      }, d.Table.prototype.addColumn = function (a) {
        var b = a || null;this.columns.push(b);
      }, d.Table.prototype.getColumnCount = function () {
        return this.columns.length;
      }, d.Table.prototype.getRowCount = function () {
        return this.rows.length;
      }, d.Table.prototype.removeTokens = function (a, b) {
        for (var c = function c(a) {
          return a.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&");
        }, d = [], e = 0; e < a.length; e++) {
          d.push(c(a.charAt(e)));
        }var f = new RegExp(d.join("|"), "g");if (void 0 === b) for (var g = 0; g < this.columns.length; g++) {
          for (var h = 0; h < this.rows.length; h++) {
            var i = this.rows[h].arr[g];i = i.replace(f, ""), this.rows[h].arr[g] = i, this.rows[h].obj[this.columns[g]] = i;
          }
        } else if ("string" == typeof b) for (var j = 0; j < this.rows.length; j++) {
          var k = this.rows[j].obj[b];k = k.replace(f, ""), this.rows[j].obj[b] = k;var l = this.columns.indexOf(b);this.rows[j].arr[l] = k;
        } else for (var m = 0; m < this.rows.length; m++) {
          var n = this.rows[m].arr[b];n = n.replace(f, ""), this.rows[m].arr[b] = n, this.rows[m].obj[this.columns[b]] = n;
        }
      }, d.Table.prototype.trim = function (a) {
        var b = new RegExp(" ", "g");if (void 0 === a) for (var c = 0; c < this.columns.length; c++) {
          for (var d = 0; d < this.rows.length; d++) {
            var e = this.rows[d].arr[c];e = e.replace(b, ""), this.rows[d].arr[c] = e, this.rows[d].obj[this.columns[c]] = e;
          }
        } else if ("string" == typeof a) for (var f = 0; f < this.rows.length; f++) {
          var g = this.rows[f].obj[a];g = g.replace(b, ""), this.rows[f].obj[a] = g;var h = this.columns.indexOf(a);this.rows[f].arr[h] = g;
        } else for (var i = 0; i < this.rows.length; i++) {
          var j = this.rows[i].arr[a];j = j.replace(b, ""), this.rows[i].arr[a] = j, this.rows[i].obj[this.columns[a]] = j;
        }
      }, d.Table.prototype.removeColumn = function (a) {
        var b, c;"string" == typeof a ? (b = a, c = this.columns.indexOf(a)) : (c = a, b = this.columns[a]);var d = this.columns.splice(c + 1, this.columns.length);this.columns.pop(), this.columns = this.columns.concat(d);for (var e = 0; e < this.rows.length; e++) {
          var f = this.rows[e].arr,
              g = f.splice(c + 1, f.length);f.pop(), this.rows[e].arr = f.concat(g), delete this.rows[e].obj[b];
        }
      }, d.Table.prototype.set = function (a, b, c) {
        this.rows[a].set(b, c);
      }, d.Table.prototype.setNum = function (a, b, c) {
        this.rows[a].setNum(b, c);
      }, d.Table.prototype.setString = function (a, b, c) {
        this.rows[a].setString(b, c);
      }, d.Table.prototype.get = function (a, b) {
        return this.rows[a].get(b);
      }, d.Table.prototype.getNum = function (a, b) {
        return this.rows[a].getNum(b);
      }, d.Table.prototype.getString = function (a, b) {
        return this.rows[a].getString(b);
      }, d.Table.prototype.getObject = function (a) {
        for (var b, c, d = {}, e = 0; e < this.rows.length; e++) {
          if (b = this.rows[e].obj, "string" == typeof a) {
            if (!(this.columns.indexOf(a) >= 0)) throw new Error('This table has no column named "' + a + '"');c = b[a], d[c] = b;
          } else d[e] = this.rows[e].obj;
        }return d;
      }, d.Table.prototype.getArray = function () {
        for (var a = [], b = 0; b < this.rows.length; b++) {
          a.push(this.rows[b].arr);
        }return a;
      }, b.exports = d;
    }, { "../core/main": 24 }], 49: [function (a, b, c) {
      "use strict";
      var d = a("../core/main");d.TableRow = function (a, b) {
        var c = [],
            d = {};a && (b = b || ",", c = a.split(b));for (var e = 0; e < c.length; e++) {
          var f = e,
              g = c[e];d[f] = g;
        }this.arr = c, this.obj = d, this.table = null;
      }, d.TableRow.prototype.set = function (a, b) {
        if ("string" == typeof a) {
          var c = this.table.columns.indexOf(a);if (!(c >= 0)) throw new Error('This table has no column named "' + a + '"');this.obj[a] = b, this.arr[c] = b;
        } else {
          if (!(a < this.table.columns.length)) throw new Error("Column #" + a + " is out of the range of this table");this.arr[a] = b;var d = this.table.columns[a];this.obj[d] = b;
        }
      }, d.TableRow.prototype.setNum = function (a, b) {
        var c = parseFloat(b);this.set(a, c);
      }, d.TableRow.prototype.setString = function (a, b) {
        var c = b.toString();this.set(a, c);
      }, d.TableRow.prototype.get = function (a) {
        return "string" == typeof a ? this.obj[a] : this.arr[a];
      }, d.TableRow.prototype.getNum = function (a) {
        var b;if (b = "string" == typeof a ? parseFloat(this.obj[a]) : parseFloat(this.arr[a]), "NaN" === b.toString()) throw "Error: " + this.obj[a] + " is NaN (Not a Number)";return b;
      }, d.TableRow.prototype.getString = function (a) {
        return "string" == typeof a ? this.obj[a].toString() : this.arr[a].toString();
      }, b.exports = d;
    }, { "../core/main": 24 }], 50: [function (a, b, c) {
      "use strict";
      var d = a("../core/main");d.XML = function () {
        this.name = null, this.attributes = {}, this.children = [], this.parent = null, this.content = null;
      }, d.XML.prototype.getParent = function () {
        return this.parent;
      }, d.XML.prototype.getName = function () {
        return this.name;
      }, d.XML.prototype.setName = function (a) {
        this.name = a;
      }, d.XML.prototype.hasChildren = function () {
        return this.children.length > 0;
      }, d.XML.prototype.listChildren = function () {
        return this.children.map(function (a) {
          return a.name;
        });
      }, d.XML.prototype.getChildren = function (a) {
        return a ? this.children.filter(function (b) {
          return b.name === a;
        }) : this.children;
      }, d.XML.prototype.getChild = function (a) {
        if ("string" != typeof a) return this.children[a];for (var b = 0; b < this.children.length; b++) {
          var c = this.children[b];if (c.name === a) return c;
        }
      }, d.XML.prototype.addChild = function (a) {
        a instanceof d.XML && this.children.push(a);
      }, d.XML.prototype.removeChild = function (a) {
        var b = -1;if ("string" == typeof a) {
          for (var c = 0; c < this.children.length; c++) {
            if (this.children[c].name === a) {
              b = c;break;
            }
          }
        } else b = a;-1 !== b && this.children.splice(b, 1);
      }, d.XML.prototype.getAttributeCount = function () {
        return Object.keys(this.attributes).length;
      }, d.XML.prototype.listAttributes = function () {
        return Object.keys(this.attributes);
      }, d.XML.prototype.hasAttribute = function (a) {
        return !!this.attributes[a];
      }, d.XML.prototype.getNum = function (a, b) {
        return Number(this.attributes[a]) || b || 0;
      }, d.XML.prototype.getString = function (a, b) {
        return String(this.attributes[a]) || b || null;
      }, d.XML.prototype.setAttribute = function (a, b) {
        this.attributes[a] && (this.attributes[a] = b);
      }, d.XML.prototype.getContent = function (a) {
        return this.content || a || null;
      }, d.XML.prototype.setContent = function (a) {
        this.children.length || (this.content = a);
      }, d.XML.prototype._setCont = function (a) {
        var b;b = a, b = b.replace(/\s\s+/g, ","), this.content = b;
      }, d.XML.prototype._setAttributes = function (a) {
        var b = {},
            c = a.attributes;if (c) for (var d = 0; d < c.length; d++) {
          var e = c[d];b[e.nodeName] = e.nodeValue;
        }this.attributes = b;
      }, b.exports = d;
    }, { "../core/main": 24 }], 51: [function (a, b, c) {
      "use strict";
      function d(a, b, c) {
        if ("function" == typeof Math.hypot) return Math.hypot.apply(null, arguments);for (var d = arguments.length, e = [], f = 0, g = 0; g < d; g++) {
          var h = arguments[g];if ((h = +h) === 1 / 0 || h === -1 / 0) return 1 / 0;h = Math.abs(h), h > f && (f = h), e[g] = h;
        }0 === f && (f = 1);for (var i = 0, j = 0, k = 0; k < d; k++) {
          var l = e[k] / f,
              m = l * l - j,
              n = i + m;j = n - i - m, i = n;
        }return Math.sqrt(i) * f;
      }var e = a("../core/main");e.prototype.abs = Math.abs, e.prototype.ceil = Math.ceil, e.prototype.constrain = function (a, b, c) {
        return e._validateParameters("constrain", arguments), Math.max(Math.min(a, c), b);
      }, e.prototype.dist = function () {
        return e._validateParameters("dist", arguments), 4 === arguments.length ? d(arguments[2] - arguments[0], arguments[3] - arguments[1]) : 6 === arguments.length ? d(arguments[3] - arguments[0], arguments[4] - arguments[1], arguments[5] - arguments[2]) : void 0;
      }, e.prototype.exp = Math.exp, e.prototype.floor = Math.floor, e.prototype.lerp = function (a, b, c) {
        return e._validateParameters("lerp", arguments), c * (b - a) + a;
      }, e.prototype.log = Math.log, e.prototype.mag = function (a, b) {
        return e._validateParameters("mag", arguments), d(a, b);
      }, e.prototype.map = function (a, b, c, d, f, g) {
        e._validateParameters("map", arguments);var h = (a - b) / (c - b) * (f - d) + d;return g ? d < f ? this.constrain(h, d, f) : this.constrain(h, f, d) : h;
      }, e.prototype.max = function () {
        return e._validateParameters("max", arguments), arguments[0] instanceof Array ? Math.max.apply(null, arguments[0]) : Math.max.apply(null, arguments);
      }, e.prototype.min = function () {
        return e._validateParameters("min", arguments), arguments[0] instanceof Array ? Math.min.apply(null, arguments[0]) : Math.min.apply(null, arguments);
      }, e.prototype.norm = function (a, b, c) {
        return e._validateParameters("norm", arguments), this.map(a, b, c, 0, 1);
      }, e.prototype.pow = Math.pow, e.prototype.round = Math.round, e.prototype.sq = function (a) {
        return a * a;
      }, e.prototype.sqrt = Math.sqrt, b.exports = e;
    }, { "../core/main": 24 }], 52: [function (a, b, c) {
      "use strict";
      var d = a("../core/main");d.prototype.createVector = function (a, b, c) {
        return this instanceof d ? new d.Vector(this, arguments) : new d.Vector(a, b, c);
      }, b.exports = d;
    }, { "../core/main": 24 }], 53: [function (a, b, c) {
      "use strict";
      var d,
          e = a("../core/main"),
          f = 4,
          g = 1 << f,
          h = 8,
          i = 1 << h,
          j = 4095,
          k = 4,
          l = .5,
          m = function m(a) {
        return .5 * (1 - Math.cos(a * Math.PI));
      };e.prototype.noise = function (a, b, c) {
        if (b = b || 0, c = c || 0, null == d) {
          d = new Array(j + 1);for (var e = 0; e < j + 1; e++) {
            d[e] = Math.random();
          }
        }a < 0 && (a = -a), b < 0 && (b = -b), c < 0 && (c = -c);for (var n, o, p, q, r, s = Math.floor(a), t = Math.floor(b), u = Math.floor(c), v = a - s, w = b - t, x = c - u, y = 0, z = .5, A = 0; A < k; A++) {
          var B = s + (t << f) + (u << h);n = m(v), o = m(w), p = d[B & j], p += n * (d[B + 1 & j] - p), q = d[B + g & j], q += n * (d[B + g + 1 & j] - q), p += o * (q - p), B += i, q = d[B & j], q += n * (d[B + 1 & j] - q), r = d[B + g & j], r += n * (d[B + g + 1 & j] - r), q += o * (r - q), p += m(x) * (q - p), y += p * z, z *= l, s <<= 1, v *= 2, t <<= 1, w *= 2, u <<= 1, x *= 2, v >= 1 && (s++, v--), w >= 1 && (t++, w--), x >= 1 && (u++, x--);
        }return y;
      }, e.prototype.noiseDetail = function (a, b) {
        a > 0 && (k = a), b > 0 && (l = b);
      }, e.prototype.noiseSeed = function (a) {
        var b = function () {
          var a,
              b,
              c = 4294967296,
              d = 1664525,
              e = 1013904223;return { setSeed: function setSeed(d) {
              b = a = (null == d ? Math.random() * c : d) >>> 0;
            }, getSeed: function getSeed() {
              return a;
            }, rand: function rand() {
              return (b = (d * b + e) % c) / c;
            } };
        }();b.setSeed(a), d = new Array(j + 1);for (var c = 0; c < j + 1; c++) {
          d[c] = b.rand();
        }
      }, b.exports = e;
    }, { "../core/main": 24 }], 54: [function (a, b, c) {
      "use strict";
      var d = a("../core/main"),
          e = a("../core/constants");d.Vector = function () {
        var a, b, c;arguments[0] instanceof d ? (this.p5 = arguments[0], a = arguments[1][0] || 0, b = arguments[1][1] || 0, c = arguments[1][2] || 0) : (a = arguments[0] || 0, b = arguments[1] || 0, c = arguments[2] || 0), this.x = a, this.y = b, this.z = c;
      }, d.Vector.prototype.toString = function () {
        return "p5.Vector Object : [" + this.x + ", " + this.y + ", " + this.z + "]";
      }, d.Vector.prototype.set = function (a, b, c) {
        return a instanceof d.Vector ? (this.x = a.x || 0, this.y = a.y || 0, this.z = a.z || 0, this) : a instanceof Array ? (this.x = a[0] || 0, this.y = a[1] || 0, this.z = a[2] || 0, this) : (this.x = a || 0, this.y = b || 0, this.z = c || 0, this);
      }, d.Vector.prototype.copy = function () {
        return this.p5 ? new d.Vector(this.p5, [this.x, this.y, this.z]) : new d.Vector(this.x, this.y, this.z);
      }, d.Vector.prototype.add = function (a, b, c) {
        return a instanceof d.Vector ? (this.x += a.x || 0, this.y += a.y || 0, this.z += a.z || 0, this) : a instanceof Array ? (this.x += a[0] || 0, this.y += a[1] || 0, this.z += a[2] || 0, this) : (this.x += a || 0, this.y += b || 0, this.z += c || 0, this);
      }, d.Vector.prototype.sub = function (a, b, c) {
        return a instanceof d.Vector ? (this.x -= a.x || 0, this.y -= a.y || 0, this.z -= a.z || 0, this) : a instanceof Array ? (this.x -= a[0] || 0, this.y -= a[1] || 0, this.z -= a[2] || 0, this) : (this.x -= a || 0, this.y -= b || 0, this.z -= c || 0, this);
      }, d.Vector.prototype.mult = function (a) {
        return "number" == typeof a && isFinite(a) ? (this.x *= a, this.y *= a, this.z *= a, this) : (console.warn("p5.Vector.prototype.mult:", "n is undefined or not a finite number"), this);
      }, d.Vector.prototype.div = function (a) {
        return "number" == typeof a && isFinite(a) ? 0 === a ? (console.warn("p5.Vector.prototype.div:", "divide by 0"), this) : (this.x /= a, this.y /= a, this.z /= a, this) : (console.warn("p5.Vector.prototype.div:", "n is undefined or not a finite number"), this);
      }, d.Vector.prototype.mag = function () {
        return Math.sqrt(this.magSq());
      }, d.Vector.prototype.magSq = function () {
        var a = this.x,
            b = this.y,
            c = this.z;return a * a + b * b + c * c;
      }, d.Vector.prototype.dot = function (a, b, c) {
        return a instanceof d.Vector ? this.dot(a.x, a.y, a.z) : this.x * (a || 0) + this.y * (b || 0) + this.z * (c || 0);
      }, d.Vector.prototype.cross = function (a) {
        var b = this.y * a.z - this.z * a.y,
            c = this.z * a.x - this.x * a.z,
            e = this.x * a.y - this.y * a.x;return this.p5 ? new d.Vector(this.p5, [b, c, e]) : new d.Vector(b, c, e);
      }, d.Vector.prototype.dist = function (a) {
        return a.copy().sub(this).mag();
      }, d.Vector.prototype.normalize = function () {
        var a = this.mag();return 0 !== a && this.mult(1 / a), this;
      }, d.Vector.prototype.limit = function (a) {
        var b = this.magSq();return b > a * a && this.div(Math.sqrt(b)).mult(a), this;
      }, d.Vector.prototype.setMag = function (a) {
        return this.normalize().mult(a);
      }, d.Vector.prototype.heading = function () {
        var a = Math.atan2(this.y, this.x);return this.p5 ? this.p5._fromRadians(a) : a;
      }, d.Vector.prototype.rotate = function (a) {
        var b = this.heading() + a;this.p5 && (b = this.p5._toRadians(b));var c = this.mag();return this.x = Math.cos(b) * c, this.y = Math.sin(b) * c, this;
      }, d.Vector.prototype.angleBetween = function (a) {
        var b = this.dot(a) / (this.mag() * a.mag()),
            c = Math.acos(Math.min(1, Math.max(-1, b)));return this.p5 ? this.p5._fromRadians(c) : c;
      }, d.Vector.prototype.lerp = function (a, b, c, e) {
        return a instanceof d.Vector ? this.lerp(a.x, a.y, a.z, b) : (this.x += (a - this.x) * e || 0, this.y += (b - this.y) * e || 0, this.z += (c - this.z) * e || 0, this);
      }, d.Vector.prototype.array = function () {
        return [this.x || 0, this.y || 0, this.z || 0];
      }, d.Vector.prototype.equals = function (a, b, c) {
        var e, f, g;return a instanceof d.Vector ? (e = a.x || 0, f = a.y || 0, g = a.z || 0) : a instanceof Array ? (e = a[0] || 0, f = a[1] || 0, g = a[2] || 0) : (e = a || 0, f = b || 0, g = c || 0), this.x === e && this.y === f && this.z === g;
      }, d.Vector.fromAngle = function (a, b) {
        return void 0 === b && (b = 1), new d.Vector(b * Math.cos(a), b * Math.sin(a), 0);
      }, d.Vector.fromAngles = function (a, b, c) {
        void 0 === c && (c = 1);var e = Math.cos(b),
            f = Math.sin(b),
            g = Math.cos(a),
            h = Math.sin(a);return new d.Vector(c * h * f, -c * g, c * h * e);
      }, d.Vector.random2D = function () {
        return this.fromAngle(Math.random() * e.TWO_PI);
      }, d.Vector.random3D = function () {
        var a = Math.random() * e.TWO_PI,
            b = 2 * Math.random() - 1,
            c = Math.sqrt(1 - b * b),
            f = c * Math.cos(a),
            g = c * Math.sin(a);return new d.Vector(f, g, b);
      }, d.Vector.add = function (a, b, c) {
        return c ? c.set(a) : c = a.copy(), c.add(b), c;
      }, d.Vector.sub = function (a, b, c) {
        return c ? c.set(a) : c = a.copy(), c.sub(b), c;
      }, d.Vector.mult = function (a, b, c) {
        return c ? c.set(a) : c = a.copy(), c.mult(b), c;
      }, d.Vector.div = function (a, b, c) {
        return c ? c.set(a) : c = a.copy(), c.div(b), c;
      }, d.Vector.dot = function (a, b) {
        return a.dot(b);
      }, d.Vector.cross = function (a, b) {
        return a.cross(b);
      }, d.Vector.dist = function (a, b) {
        return a.dist(b);
      }, d.Vector.lerp = function (a, b, c, d) {
        return d ? d.set(a) : d = a.copy(), d.lerp(b, c), d;
      }, d.Vector.mag = function (a) {
        var b = a.x,
            c = a.y,
            d = a.z,
            e = b * b + c * c + d * d;return Math.sqrt(e);
      }, b.exports = d.Vector;
    }, { "../core/constants": 18, "../core/main": 24 }], 55: [function (a, b, c) {
      "use strict";
      var d = a("../core/main"),
          e = !1,
          f = !1,
          g = 0,
          h = function () {
        var a,
            b,
            c = 4294967296,
            d = 1664525,
            e = 1013904223;return { setSeed: function setSeed(d) {
            b = a = (null == d ? Math.random() * c : d) >>> 0;
          }, getSeed: function getSeed() {
            return a;
          }, rand: function rand() {
            return (b = (d * b + e) % c) / c;
          } };
      }();d.prototype.randomSeed = function (a) {
        h.setSeed(a), e = !0, f = !1;
      }, d.prototype.random = function (a, b) {
        var c;if (c = e ? h.rand() : Math.random(), void 0 === a) return c;if (void 0 === b) return a instanceof Array ? a[Math.floor(c * a.length)] : c * a;if (a > b) {
          var d = a;a = b, b = d;
        }return c * (b - a) + a;
      }, d.prototype.randomGaussian = function (a, b) {
        var c, d, e, h;if (f) c = g, f = !1;else {
          do {
            d = this.random(2) - 1, e = this.random(2) - 1, h = d * d + e * e;
          } while (h >= 1);h = Math.sqrt(-2 * Math.log(h) / h), c = d * h, g = e * h, f = !0;
        }var i = a || 0;return c * (b || 1) + i;
      }, b.exports = d;
    }, { "../core/main": 24 }], 56: [function (a, b, c) {
      "use strict";
      var d = a("../core/main"),
          e = a("../core/constants");d.prototype._angleMode = e.RADIANS, d.prototype.acos = function (a) {
        return this._fromRadians(Math.acos(a));
      }, d.prototype.asin = function (a) {
        return this._fromRadians(Math.asin(a));
      }, d.prototype.atan = function (a) {
        return this._fromRadians(Math.atan(a));
      }, d.prototype.atan2 = function (a, b) {
        return this._fromRadians(Math.atan2(a, b));
      }, d.prototype.cos = function (a) {
        return Math.cos(this._toRadians(a));
      }, d.prototype.sin = function (a) {
        return Math.sin(this._toRadians(a));
      }, d.prototype.tan = function (a) {
        return Math.tan(this._toRadians(a));
      }, d.prototype.degrees = function (a) {
        return a * e.RAD_TO_DEG;
      }, d.prototype.radians = function (a) {
        return a * e.DEG_TO_RAD;
      }, d.prototype.angleMode = function (a) {
        a !== e.DEGREES && a !== e.RADIANS || (this._angleMode = a);
      }, d.prototype._toRadians = function (a) {
        return this._angleMode === e.DEGREES ? a * e.DEG_TO_RAD : a;
      }, d.prototype._toDegrees = function (a) {
        return this._angleMode === e.RADIANS ? a * e.RAD_TO_DEG : a;
      }, d.prototype._fromRadians = function (a) {
        return this._angleMode === e.DEGREES ? a * e.RAD_TO_DEG : a;
      }, b.exports = d;
    }, { "../core/constants": 18, "../core/main": 24 }], 57: [function (a, b, c) {
      "use strict";
      var d = a("../core/main");d.prototype.textAlign = function (a, b) {
        return d._validateParameters("textAlign", arguments), this._renderer.textAlign.apply(this._renderer, arguments);
      }, d.prototype.textLeading = function (a) {
        return d._validateParameters("textLeading", arguments), this._renderer.textLeading.apply(this._renderer, arguments);
      }, d.prototype.textSize = function (a) {
        return d._validateParameters("textSize", arguments), this._renderer.textSize.apply(this._renderer, arguments);
      }, d.prototype.textStyle = function (a) {
        return d._validateParameters("textStyle", arguments), this._renderer.textStyle.apply(this._renderer, arguments);
      }, d.prototype.textWidth = function (a) {
        return d._validateParameters("textWidth", arguments), 0 === a.length ? 0 : this._renderer.textWidth.apply(this._renderer, arguments);
      }, d.prototype.textAscent = function () {
        return d._validateParameters("textAscent", arguments), this._renderer.textAscent();
      }, d.prototype.textDescent = function () {
        return d._validateParameters("textDescent", arguments), this._renderer.textDescent();
      }, d.prototype._updateTextMetrics = function () {
        return this._renderer._updateTextMetrics();
      }, b.exports = d;
    }, { "../core/main": 24 }], 58: [function (a, b, c) {
      "use strict";
      var d = a("../core/main"),
          e = a("../core/constants"),
          f = a("opentype.js");a("../core/error_helpers"), d.prototype.loadFont = function (a, b, c) {
        d._validateParameters("loadFont", arguments);var e = new d.Font(this),
            g = this;return f.load(a, function (f, h) {
          if (f) return void 0 !== c ? c(f) : (d._friendlyFileLoadError(4, a), void console.error(f, a));e.font = h, void 0 !== b && b(e), g._decrementPreload();var i,
              j,
              k = ["ttf", "otf", "woff", "woff2"],
              l = a.split("\\").pop().split("/").pop(),
              m = l.lastIndexOf("."),
              n = m < 1 ? null : l.substr(m + 1);k.indexOf(n) > -1 && (i = l.substr(0, m), j = document.createElement("style"), j.appendChild(document.createTextNode("\n@font-face {\nfont-family: " + i + ";\nsrc: url(" + a + ");\n}\n")), document.head.appendChild(j));
        }), e;
      }, d.prototype.text = function (a, b, c, e, f) {
        return d._validateParameters("text", arguments), this._renderer._doFill || this._renderer._doStroke ? this._renderer.text.apply(this._renderer, arguments) : this;
      }, d.prototype.textFont = function (a, b) {
        if (d._validateParameters("textFont", arguments), arguments.length) {
          if (!a) throw new Error("null font passed to textFont");return this._renderer._setProperty("_textFont", a), b && (this._renderer._setProperty("_textSize", b), this._renderer._setProperty("_textLeading", b * e._DEFAULT_LEADMULT)), this._renderer._applyTextProperties();
        }return this._renderer._textFont;
      }, b.exports = d;
    }, { "../core/constants": 18, "../core/error_helpers": 20, "../core/main": 24, "opentype.js": 10 }], 59: [function (a, b, c) {
      "use strict";
      function d(a, b) {
        for (var c = h(b, { sampleFactor: .1, simplifyThreshold: 0 }), d = n(a, 0, 1), f = d / (d * c.sampleFactor), g = [], i = 0; i < d; i += f) {
          g.push(n(a, i));
        }return c.simplifyThreshold && e(g, c.simplifyThreshold), g;
      }function e(a, b) {
        b = void 0 === b ? 0 : b;for (var c = 0, d = a.length - 1; a.length > 3 && d >= 0; --d) {
          j(i(a, d - 1), i(a, d), i(a, d + 1), b) && (a.splice(d % a.length, 1), c++);
        }return c;
      }function f(a) {
        for (var b, c = [], d = 0; d < a.length; d++) {
          "M" === a[d].type && (b && c.push(b), b = []), b.push(g(a[d]));
        }return c.push(b), c;
      }function g(a) {
        var b = [a.type];return "M" === a.type || "L" === a.type ? b.push(a.x, a.y) : "C" === a.type ? b.push(a.x1, a.y1, a.x2, a.y2, a.x, a.y) : "Q" === a.type && b.push(a.x1, a.y1, a.x, a.y), b;
      }function h(a, b) {
        if ("object" != (typeof a === "undefined" ? "undefined" : _typeof(a))) a = b;else for (var c in b) {
          void 0 === a[c] && (a[c] = b[c]);
        }return a;
      }function i(a, b) {
        var c = a.length;return a[b < 0 ? b % c + c : b % c];
      }function j(a, b, c, d) {
        if (!d) return 0 === k(a, b, c);void 0 === j.tmpPoint1 && (j.tmpPoint1 = [], j.tmpPoint2 = []);var e = j.tmpPoint1,
            f = j.tmpPoint2;e.x = b.x - a.x, e.y = b.y - a.y, f.x = c.x - b.x, f.y = c.y - b.y;var g = e.x * f.x + e.y * f.y,
            h = Math.sqrt(e.x * e.x + e.y * e.y),
            i = Math.sqrt(f.x * f.x + f.y * f.y);return Math.acos(g / (h * i)) < d;
      }function k(a, b, c) {
        return (b[0] - a[0]) * (c[1] - a[1]) - (c[0] - a[0]) * (b[1] - a[1]);
      }function l(a, b, c, d, e, f, g, h, i) {
        var j = 1 - i,
            k = Math.pow(j, 3),
            l = Math.pow(j, 2),
            m = i * i,
            n = m * i,
            o = k * a + 3 * l * i * c + 3 * j * i * i * e + n * g,
            p = k * b + 3 * l * i * d + 3 * j * i * i * f + n * h,
            q = a + 2 * i * (c - a) + m * (e - 2 * c + a),
            r = b + 2 * i * (d - b) + m * (f - 2 * d + b),
            s = c + 2 * i * (e - c) + m * (g - 2 * e + c),
            t = d + 2 * i * (f - d) + m * (h - 2 * f + d),
            u = j * a + i * c,
            v = j * b + i * d,
            w = j * e + i * g,
            x = j * f + i * h,
            y = 90 - 180 * Math.atan2(q - s, r - t) / Math.PI;return (q > s || r < t) && (y += 180), { x: o, y: p, m: { x: q, y: r }, n: { x: s, y: t }, start: { x: u, y: v }, end: { x: w, y: x }, alpha: y };
      }function m(a, b, c, d, e, f, g, h, i) {
        return null == i ? u(a, b, c, d, e, f, g, h) : l(a, b, c, d, e, f, g, h, v(a, b, c, d, e, f, g, h, i));
      }function n(a, b, c) {
        a = p(a);for (var d, e, f, g, h, i = "", j = {}, k = 0, n = 0, o = a.length; n < o; n++) {
          if (f = a[n], "M" === f[0]) d = +f[1], e = +f[2];else {
            if (g = m(d, e, f[1], f[2], f[3], f[4], f[5], f[6]), k + g > b && !c) return h = m(d, e, f[1], f[2], f[3], f[4], f[5], f[6], b - k), { x: h.x, y: h.y, alpha: h.alpha };k += g, d = +f[5], e = +f[6];
          }i += f.shift() + f;
        }return j.end = i, h = c ? k : l(d, e, f[0], f[1], f[2], f[3], f[4], f[5], 1), h.alpha && (h = { x: h.x, y: h.y, alpha: h.alpha }), h;
      }function o(a) {
        var b = [],
            c = 0,
            d = 0,
            e = 0,
            f = 0,
            g = 0;if (!a) return b;"M" === a[0][0] && (c = +a[0][1], d = +a[0][2], e = c, f = d, g++, b[0] = ["M", c, d]);for (var h, i, j, k = 3 === a.length && "M" === a[0][0] && "R" === a[1][0].toUpperCase() && "Z" === a[2][0].toUpperCase(), l = g, m = a.length; l < m; l++) {
          if (b.push(i = []), j = a[l], j[0] !== String.prototype.toUpperCase.call(j[0])) switch (i[0] = String.prototype.toUpperCase.call(j[0]), i[0]) {case "A":
              i[1] = j[1], i[2] = j[2], i[3] = j[3], i[4] = j[4], i[5] = j[5], i[6] = +(j[6] + c), i[7] = +(j[7] + d);break;case "V":
              i[1] = +j[1] + d;break;case "H":
              i[1] = +j[1] + c;break;case "R":
              h = [c, d].concat(j.slice(1));for (var n = 2, o = h.length; n < o; n++) {
                h[n] = +h[n] + c, h[++n] = +h[n] + d;
              }b.pop(), b = b.concat(r(h, k));break;case "M":
              e = +j[1] + c, f = +j[2] + d;break;default:
              for (n = 1, o = j.length; n < o; n++) {
                i[n] = +j[n] + (n % 2 ? c : d);
              }} else if ("R" === j[0]) h = [c, d].concat(j.slice(1)), b.pop(), b = b.concat(r(h, k)), i = ["R"].concat(j.slice(-2));else for (var p = 0, q = j.length; p < q; p++) {
            i[p] = j[p];
          }switch (i[0]) {case "Z":
              c = e, d = f;break;case "H":
              c = i[1];break;case "V":
              d = i[1];break;case "M":
              e = i[i.length - 2], f = i[i.length - 1];break;default:
              c = i[i.length - 2], d = i[i.length - 1];}
        }return b;
      }function p(a, b) {
        var c,
            d = o(a),
            e = b && o(b),
            f = { x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null },
            g = { x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null },
            h = [],
            i = [],
            j = function j(a, b, c) {
          var d,
              e,
              f = { T: 1, Q: 1 };if (!a) return ["C", b.x, b.y, b.x, b.y, b.x, b.y];switch (a[0] in f || (b.qx = b.qy = null), a[0]) {case "M":
              b.X = a[1], b.Y = a[2];break;case "A":
              a = ["C"].concat(q.apply(0, [b.x, b.y].concat(a.slice(1))));break;case "S":
              "C" === c || "S" === c ? (d = 2 * b.x - b.bx, e = 2 * b.y - b.by) : (d = b.x, e = b.y), a = ["C", d, e].concat(a.slice(1));break;case "T":
              "Q" === c || "T" === c ? (b.qx = 2 * b.x - b.qx, b.qy = 2 * b.y - b.qy) : (b.qx = b.x, b.qy = b.y), a = ["C"].concat(t(b.x, b.y, b.qx, b.qy, a[1], a[2]));break;case "Q":
              b.qx = a[1], b.qy = a[2], a = ["C"].concat(t(b.x, b.y, a[1], a[2], a[3], a[4]));break;case "L":
              a = ["C"].concat(s(b.x, b.y, a[1], a[2]));break;case "H":
              a = ["C"].concat(s(b.x, b.y, a[1], b.y));break;case "V":
              a = ["C"].concat(s(b.x, b.y, b.x, a[1]));break;case "Z":
              a = ["C"].concat(s(b.x, b.y, b.X, b.Y));}return a;
        },
            k = function k(a, b) {
          if (a[b].length > 7) {
            a[b].shift();for (var f = a[b]; f.length;) {
              h[b] = "A", e && (i[b] = "A"), a.splice(b++, 0, ["C"].concat(f.splice(0, 6)));
            }a.splice(b, 1), c = Math.max(d.length, e && e.length || 0);
          }
        },
            l = function l(a, b, f, g, h) {
          a && b && "M" === a[h][0] && "M" !== b[h][0] && (b.splice(h, 0, ["M", g.x, g.y]), f.bx = 0, f.by = 0, f.x = a[h][1], f.y = a[h][2], c = Math.max(d.length, e && e.length || 0));
        },
            m = "",
            n = "";c = Math.max(d.length, e && e.length || 0);for (var p = 0; p < c; p++) {
          d[p] && (m = d[p][0]), "C" !== m && (h[p] = m, p && (n = h[p - 1])), d[p] = j(d[p], f, n), "A" !== h[p] && "C" === m && (h[p] = "C"), k(d, p), e && (e[p] && (m = e[p][0]), "C" !== m && (i[p] = m, p && (n = i[p - 1])), e[p] = j(e[p], g, n), "A" !== i[p] && "C" === m && (i[p] = "C"), k(e, p)), l(d, e, f, g, p), l(e, d, g, f, p);var r = d[p],
              u = e && e[p],
              v = r.length,
              w = e && u.length;f.x = r[v - 2], f.y = r[v - 1], f.bx = parseFloat(r[v - 4]) || f.x, f.by = parseFloat(r[v - 3]) || f.y, g.bx = e && (parseFloat(u[w - 4]) || g.x), g.by = e && (parseFloat(u[w - 3]) || g.y), g.x = e && u[w - 2], g.y = e && u[w - 1];
        }return e ? [d, e] : d;
      }function q(a, b, c, d, e, f, g, h, i, j) {
        var k,
            l,
            m,
            n,
            o,
            p = Math.PI,
            r = 120 * p / 180,
            s = p / 180 * (+e || 0),
            t = [],
            u = function u(a, b, c) {
          return { x: a * Math.cos(c) - b * Math.sin(c), y: a * Math.sin(c) + b * Math.cos(c) };
        };if (j) k = j[0], l = j[1], m = j[2], n = j[3];else {
          o = u(a, b, -s), a = o.x, b = o.y, o = u(h, i, -s), h = o.x, i = o.y;var v = (a - h) / 2,
              w = (b - i) / 2,
              x = v * v / (c * c) + w * w / (d * d);x > 1 && (x = Math.sqrt(x), c *= x, d *= x);var y = c * c,
              z = d * d,
              A = (f === g ? -1 : 1) * Math.sqrt(Math.abs((y * z - y * w * w - z * v * v) / (y * w * w + z * v * v)));m = A * c * w / d + (a + h) / 2, n = A * -d * v / c + (b + i) / 2, k = Math.asin(((b - n) / d).toFixed(9)), l = Math.asin(((i - n) / d).toFixed(9)), k = a < m ? p - k : k, l = h < m ? p - l : l, k < 0 && (k = 2 * p + k), l < 0 && (l = 2 * p + l), g && k > l && (k -= 2 * p), !g && l > k && (l -= 2 * p);
        }var B = l - k;if (Math.abs(B) > r) {
          var C = l,
              D = h,
              E = i;l = k + r * (g && l > k ? 1 : -1), h = m + c * Math.cos(l), i = n + d * Math.sin(l), t = q(h, i, c, d, e, 0, g, D, E, [l, C, m, n]);
        }B = l - k;var F = Math.cos(k),
            G = Math.sin(k),
            H = Math.cos(l),
            I = Math.sin(l),
            J = Math.tan(B / 4),
            K = 4 / 3 * c * J,
            L = 4 / 3 * d * J,
            M = [a, b],
            N = [a + K * G, b - L * F],
            O = [h + K * I, i - L * H],
            P = [h, i];if (N[0] = 2 * M[0] - N[0], N[1] = 2 * M[1] - N[1], j) return [N, O, P].concat(t);t = [N, O, P].concat(t).join().split(",");for (var Q = [], R = 0, S = t.length; R < S; R++) {
          Q[R] = R % 2 ? u(t[R - 1], t[R], s).y : u(t[R], t[R + 1], s).x;
        }return Q;
      }function r(a, b) {
        for (var c = [], d = 0, e = a.length; e - 2 * !b > d; d += 2) {
          var f = [{ x: +a[d - 2], y: +a[d - 1] }, { x: +a[d], y: +a[d + 1] }, { x: +a[d + 2], y: +a[d + 3] }, { x: +a[d + 4], y: +a[d + 5] }];b ? d ? e - 4 === d ? f[3] = { x: +a[0], y: +a[1] } : e - 2 === d && (f[2] = { x: +a[0], y: +a[1] }, f[3] = { x: +a[2], y: +a[3] }) : f[0] = { x: +a[e - 2], y: +a[e - 1] } : e - 4 === d ? f[3] = f[2] : d || (f[0] = { x: +a[d], y: +a[d + 1] }), c.push(["C", (-f[0].x + 6 * f[1].x + f[2].x) / 6, (-f[0].y + 6 * f[1].y + f[2].y) / 6, (f[1].x + 6 * f[2].x - f[3].x) / 6, (f[1].y + 6 * f[2].y - f[3].y) / 6, f[2].x, f[2].y]);
        }return c;
      }function s(a, b, c, d) {
        return [a, b, c, d, c, d];
      }function t(a, b, c, d, e, f) {
        var g = 1 / 3,
            h = 2 / 3;return [g * a + h * c, g * b + h * d, g * e + h * c, g * f + h * d, e, f];
      }function u(a, b, c, d, e, f, g, h, i) {
        null == i && (i = 1), i = i > 1 ? 1 : i < 0 ? 0 : i;for (var j = i / 2, k = 12, l = [-.1252, .1252, -.3678, .3678, -.5873, .5873, -.7699, .7699, -.9041, .9041, -.9816, .9816], m = 0, n = [.2491, .2491, .2335, .2335, .2032, .2032, .1601, .1601, .1069, .1069, .0472, .0472], o = 0; o < k; o++) {
          var p = j * l[o] + j,
              q = w(p, a, c, e, g),
              r = w(p, b, d, f, h),
              s = q * q + r * r;m += n[o] * Math.sqrt(s);
        }return j * m;
      }function v(a, b, c, d, e, f, g, h, i) {
        if (!(i < 0 || u(a, b, c, d, e, f, g, h) < i)) {
          var j,
              k = 1,
              l = k / 2,
              m = k - l,
              n = .01;for (j = u(a, b, c, d, e, f, g, h, m); Math.abs(j - i) > n;) {
            l /= 2, m += (j < i ? 1 : -1) * l, j = u(a, b, c, d, e, f, g, h, m);
          }return m;
        }
      }function w(a, b, c, d, e) {
        return a * (a * (-3 * b + 9 * c - 9 * d + 3 * e) + 6 * b - 12 * c + 6 * d) - 3 * b + 3 * c;
      }function x() {
        for (var a = "", b = arguments.length - 1; b >= 0; --b) {
          var c = arguments[b];a += c === Object(c) ? JSON.stringify(c) : c;
        }return a;
      }var y = a("../core/main"),
          z = a("../core/constants");y.Font = function (a) {
        this.parent = a, this.cache = {}, this.font = void 0;
      }, y.Font.prototype.list = function () {
        throw new Error("not yet implemented");
      }, y.Font.prototype.textBounds = function (a, b, c, d, e) {
        b = void 0 !== b ? b : 0, c = void 0 !== c ? c : 0, d = d || this.parent._renderer._textSize;var f = e && e.renderer && e.renderer._pInst || this.parent,
            g = f._renderer,
            h = g._textAlign || z.LEFT,
            i = g._textBaseline || z.BASELINE,
            j = x("textBounds", a, b, c, d, h, i),
            k = this.cache[j];if (!k) {
          var l,
              m,
              n,
              o,
              p,
              q = [],
              r = [],
              s = this._scale(d);this.font.forEachGlyph(a, b, c, d, e, function (a, b, c, d) {
            var e = a.getMetrics();q.push(b + e.xMin * s), q.push(b + e.xMax * s), r.push(c + -e.yMin * s), r.push(c + -e.yMax * s);
          }), l = Math.min.apply(null, q), m = Math.min.apply(null, r), n = Math.max.apply(null, q), o = Math.max.apply(null, r), k = { x: l, y: m, h: o - m, w: n - l, advance: l - b }, p = this._handleAlignment(g, a, k.x, k.y, k.w + k.advance), k.x = p.x, k.y = p.y, this.cache[x("textBounds", a, b, c, d, h, i)] = k;
        }return k;
      }, y.Font.prototype.textToPoints = function (a, b, c, e, g) {
        function h(b) {
          return k[b].name && "space" === k[b].name || a.length === k.length && " " === a[b] || k[b].index && 3 === k[b].index;
        }var i = 0,
            j = [],
            k = this._getGlyphs(a);e = e || this.parent._renderer._textSize;for (var l = 0; l < k.length; l++) {
          if (!h(l)) for (var m = k[l].getPath(b, c, e), n = f(m.commands), o = 0; o < n.length; o++) {
            for (var p = d(n[o], g), q = 0; q < p.length; q++) {
              p[q].x += i, j.push(p[q]);
            }
          }i += k[l].advanceWidth * this._scale(e);
        }return j;
      }, y.Font.prototype._getGlyphs = function (a) {
        return this.font.stringToGlyphs(a);
      }, y.Font.prototype._getPath = function (a, b, c, d) {
        var e = d && d.renderer && d.renderer._pInst || this.parent,
            f = e._renderer,
            g = this._handleAlignment(f, a, b, c);return this.font.getPath(a, g.x, g.y, f._textSize, d);
      }, y.Font.prototype._getPathData = function (a, b, c, d) {
        var e = 3;return "string" == typeof a && arguments.length > 2 ? a = this._getPath(a, b, c, d) : "object" == (typeof b === "undefined" ? "undefined" : _typeof(b)) && (d = b), d && "number" == typeof d.decimals && (e = d.decimals), a.toPathData(e);
      }, y.Font.prototype._getSVG = function (a, b, c, d) {
        var e = 3;return "string" == typeof a && arguments.length > 2 ? a = this._getPath(a, b, c, d) : "object" == (typeof b === "undefined" ? "undefined" : _typeof(b)) && (d = b), d && ("number" == typeof d.decimals && (e = d.decimals), "number" == typeof d.strokeWidth && (a.strokeWidth = d.strokeWidth), void 0 !== d.fill && (a.fill = d.fill), void 0 !== d.stroke && (a.stroke = d.stroke)), a.toSVG(e);
      }, y.Font.prototype._renderPath = function (a, b, c, d) {
        var e,
            f = d && d.renderer || this.parent._renderer,
            g = f.drawingContext;e = "object" == (typeof a === "undefined" ? "undefined" : _typeof(a)) && a.commands ? a.commands : this._getPath(a, b, c, d).commands, g.beginPath();for (var h = 0; h < e.length; h += 1) {
          var i = e[h];"M" === i.type ? g.moveTo(i.x, i.y) : "L" === i.type ? g.lineTo(i.x, i.y) : "C" === i.type ? g.bezierCurveTo(i.x1, i.y1, i.x2, i.y2, i.x, i.y) : "Q" === i.type ? g.quadraticCurveTo(i.x1, i.y1, i.x, i.y) : "Z" === i.type && g.closePath();
        }return f._doStroke && f._strokeSet && g.stroke(), f._doFill && (f._fillSet || f._setFill(z._DEFAULT_TEXT_FILL), g.fill()), this;
      }, y.Font.prototype._textWidth = function (a, b) {
        return this.font.getAdvanceWidth(a, b);
      }, y.Font.prototype._textAscent = function (a) {
        return this.font.ascender * this._scale(a);
      }, y.Font.prototype._textDescent = function (a) {
        return -this.font.descender * this._scale(a);
      }, y.Font.prototype._scale = function (a) {
        return 1 / this.font.unitsPerEm * (a || this.parent._renderer._textSize);
      }, y.Font.prototype._handleAlignment = function (a, b, c, d, e) {
        var f = a._textSize;switch (void 0 === e && (e = this._textWidth(b, f)), a._textAlign) {case z.CENTER:
            c -= e / 2;break;case z.RIGHT:
            c -= e;}switch (a._textBaseline) {case z.TOP:
            d += this._textAscent(f);break;case z.CENTER:
            d += this._textAscent(f) / 2;break;case z.BOTTOM:
            d -= this._textDescent(f);}return { x: c, y: d };
      }, b.exports = y;
    }, { "../core/constants": 18, "../core/main": 24 }], 60: [function (a, b, c) {
      "use strict";
      var d = a("../core/main");d.prototype.append = function (a, b) {
        return a.push(b), a;
      }, d.prototype.arrayCopy = function (a, b, c, d, e) {
        var f, g;void 0 !== e ? (g = Math.min(e, a.length), f = d, a = a.slice(b, g + b)) : (void 0 !== c ? (g = c, g = Math.min(g, a.length)) : g = a.length, f = 0, c = b, a = a.slice(0, g)), Array.prototype.splice.apply(c, [f, g].concat(a));
      }, d.prototype.concat = function (a, b) {
        return a.concat(b);
      }, d.prototype.reverse = function (a) {
        return a.reverse();
      }, d.prototype.shorten = function (a) {
        return a.pop(), a;
      }, d.prototype.shuffle = function (a, b) {
        var c = ArrayBuffer && ArrayBuffer.isView && ArrayBuffer.isView(a);a = b || c ? a : a.slice();for (var d, e, f = a.length; f > 1;) {
          d = Math.random() * f | 0, e = a[--f], a[f] = a[d], a[d] = e;
        }return a;
      }, d.prototype.sort = function (a, b) {
        var c = b ? a.slice(0, Math.min(b, a.length)) : a,
            d = b ? a.slice(Math.min(b, a.length)) : [];return c = "string" == typeof c[0] ? c.sort() : c.sort(function (a, b) {
          return a - b;
        }), c.concat(d);
      }, d.prototype.splice = function (a, b, c) {
        return Array.prototype.splice.apply(a, [c, 0].concat(b)), a;
      }, d.prototype.subset = function (a, b, c) {
        return void 0 !== c ? a.slice(b, b + c) : a.slice(b, a.length);
      }, b.exports = d;
    }, { "../core/main": 24 }], 61: [function (a, b, c) {
      "use strict";
      var d = a("../core/main");d.prototype.float = function (a) {
        return a instanceof Array ? a.map(parseFloat) : parseFloat(a);
      }, d.prototype.int = function (a, b) {
        return b = b || 10, "string" == typeof a ? parseInt(a, b) : "number" == typeof a ? 0 | a : "boolean" == typeof a ? a ? 1 : 0 : a instanceof Array ? a.map(function (a) {
          return d.prototype.int(a, b);
        }) : void 0;
      }, d.prototype.str = function (a) {
        return a instanceof Array ? a.map(d.prototype.str) : String(a);
      }, d.prototype.boolean = function (a) {
        return "number" == typeof a ? 0 !== a : "string" == typeof a ? "true" === a.toLowerCase() : "boolean" == typeof a ? a : a instanceof Array ? a.map(d.prototype.boolean) : void 0;
      }, d.prototype.byte = function (a) {
        var b = d.prototype.int(a, 10);return "number" == typeof b ? (b + 128) % 256 - 128 : b instanceof Array ? b.map(d.prototype.byte) : void 0;
      }, d.prototype.char = function (a) {
        return "number" != typeof a || isNaN(a) ? a instanceof Array ? a.map(d.prototype.char) : "string" == typeof a ? d.prototype.char(parseInt(a, 10)) : void 0 : String.fromCharCode(a);
      }, d.prototype.unchar = function (a) {
        return "string" == typeof a && 1 === a.length ? a.charCodeAt(0) : a instanceof Array ? a.map(d.prototype.unchar) : void 0;
      }, d.prototype.hex = function (a, b) {
        if (b = void 0 === b || null === b ? b = 8 : b, a instanceof Array) return a.map(function (a) {
          return d.prototype.hex(a, b);
        });if ("number" == typeof a) {
          a < 0 && (a = 4294967295 + a + 1);for (var c = Number(a).toString(16).toUpperCase(); c.length < b;) {
            c = "0" + c;
          }return c.length >= b && (c = c.substring(c.length - b, c.length)), c;
        }
      }, d.prototype.unhex = function (a) {
        return a instanceof Array ? a.map(d.prototype.unhex) : parseInt("0x" + a, 16);
      }, b.exports = d;
    }, { "../core/main": 24 }], 62: [function (a, b, c) {
      "use strict";
      function d(a, b, c) {
        var d = a < 0,
            e = d ? a.toString().substring(1) : a.toString(),
            f = e.indexOf("."),
            g = -1 !== f ? e.substring(0, f) : e,
            h = -1 !== f ? e.substring(f + 1) : "",
            i = d ? "-" : "";if (void 0 !== c) {
          var j = "";(-1 !== f || c - h.length > 0) && (j = "."), h.length > c && (h = h.substring(0, c));for (var k = 0; k < b - g.length; k++) {
            i += "0";
          }i += g, i += j, i += h;for (var l = 0; l < c - h.length; l++) {
            i += "0";
          }return i;
        }for (var m = 0; m < Math.max(b - g.length, 0); m++) {
          i += "0";
        }return i += e;
      }function e(a, b) {
        a = a.toString();var c = a.indexOf("."),
            d = -1 !== c ? a.substring(c) : "",
            e = -1 !== c ? a.substring(0, c) : a;if (e = e.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","), 0 === b) d = "";else if (void 0 !== b) if (b > d.length) {
          d += -1 === c ? "." : "";for (var f = b - d.length + 1, g = 0; g < f; g++) {
            d += "0";
          }
        } else d = d.substring(0, b + 1);return e + d;
      }function f(a) {
        return parseFloat(a) > 0 ? "+" + a.toString() : a.toString();
      }function g(a) {
        return parseFloat(a) > 0 ? " " + a.toString() : a.toString();
      }var h = a("../core/main");a("../core/error_helpers"), h.prototype.join = function (a, b) {
        return h._validateParameters("join", arguments), a.join(b);
      }, h.prototype.match = function (a, b) {
        return h._validateParameters("match", arguments), a.match(b);
      }, h.prototype.matchAll = function (a, b) {
        h._validateParameters("matchAll", arguments);for (var c = new RegExp(b, "g"), d = c.exec(a), e = []; null !== d;) {
          e.push(d), d = c.exec(a);
        }return e;
      }, h.prototype.nf = function (a, b, c) {
        return h._validateParameters("nf", arguments), a instanceof Array ? a.map(function (a) {
          return d(a, b, c);
        }) : "[object Arguments]" === Object.prototype.toString.call(a) ? 3 === a.length ? this.nf(a[0], a[1], a[2]) : 2 === a.length ? this.nf(a[0], a[1]) : this.nf(a[0]) : d(a, b, c);
      }, h.prototype.nfc = function (a, b) {
        return h._validateParameters("nfc", arguments), a instanceof Array ? a.map(function (a) {
          return e(a, b);
        }) : e(a, b);
      }, h.prototype.nfp = function () {
        h._validateParameters("nfp", arguments);var a = h.prototype.nf.apply(this, arguments);return a instanceof Array ? a.map(f) : f(a);
      }, h.prototype.nfs = function () {
        h._validateParameters("nfs", arguments);var a = h.prototype.nf.apply(this, arguments);return a instanceof Array ? a.map(g) : g(a);
      }, h.prototype.split = function (a, b) {
        return h._validateParameters("split", arguments), a.split(b);
      }, h.prototype.splitTokens = function (a, b) {
        h._validateParameters("splitTokens", arguments);var c;if (void 0 !== b) {
          var d = b,
              e = /\]/g.exec(d),
              f = /\[/g.exec(d);f && e ? (d = d.slice(0, e.index) + d.slice(e.index + 1), f = /\[/g.exec(d), d = d.slice(0, f.index) + d.slice(f.index + 1), c = new RegExp("[\\[" + d + "\\]]", "g")) : e ? (d = d.slice(0, e.index) + d.slice(e.index + 1), c = new RegExp("[" + d + "\\]]", "g")) : f ? (d = d.slice(0, f.index) + d.slice(f.index + 1), c = new RegExp("[" + d + "\\[]", "g")) : c = new RegExp("[" + d + "]", "g");
        } else c = /\s/g;return a.split(c).filter(function (a) {
          return a;
        });
      }, h.prototype.trim = function (a) {
        return h._validateParameters("trim", arguments), a instanceof Array ? a.map(this.trim) : a.trim();
      }, b.exports = h;
    }, { "../core/error_helpers": 20, "../core/main": 24 }], 63: [function (a, b, c) {
      "use strict";
      var d = a("../core/main");d.prototype.day = function () {
        return new Date().getDate();
      }, d.prototype.hour = function () {
        return new Date().getHours();
      }, d.prototype.minute = function () {
        return new Date().getMinutes();
      }, d.prototype.millis = function () {
        return window.performance.now();
      }, d.prototype.month = function () {
        return new Date().getMonth() + 1;
      }, d.prototype.second = function () {
        return new Date().getSeconds();
      }, d.prototype.year = function () {
        return new Date().getFullYear();
      }, b.exports = d;
    }, { "../core/main": 24 }], 64: [function (a, b, c) {
      "use strict";
      var d = a("../core/main");a("./p5.Geometry");var e = a("../core/constants");d.prototype.plane = function (a, b, c, e) {
        this._assert3d("plane"), d._validateParameters("plane", arguments), void 0 === a && (a = 50), void 0 === b && (b = a), void 0 === c && (c = 1), void 0 === e && (e = 1);var f = "plane|" + c + "|" + e;if (!this._renderer.geometryInHash(f)) {
          var g = function g() {
            for (var a, b, c, e = 0; e <= this.detailY; e++) {
              b = e / this.detailY;for (var f = 0; f <= this.detailX; f++) {
                a = f / this.detailX, c = new d.Vector(a - .5, b - .5, 0), this.vertices.push(c), this.uvs.push(a, b);
              }
            }
          },
              h = new d.Geometry(c, e, g);h.computeFaces().computeNormals(), c <= 1 && e <= 1 ? h._makeTriangleEdges()._edgesToVertices() : console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"), this._renderer.createBuffers(f, h);
        }return this._renderer.drawBuffersScaled(f, a, b, 1), this;
      }, d.prototype.box = function (a, b, c, e, f) {
        this._assert3d("box"), d._validateParameters("box", arguments), void 0 === a && (a = 50), void 0 === b && (b = a), void 0 === c && (c = b);var g = this._renderer.attributes && this._renderer.attributes.perPixelLighting;void 0 === e && (e = g ? 1 : 4), void 0 === f && (f = g ? 1 : 4);var h = "box|" + e + "|" + f;if (!this._renderer.geometryInHash(h)) {
          var i = function i() {
            var a = [[0, 4, 2, 6], [1, 3, 5, 7], [0, 1, 4, 5], [2, 6, 3, 7], [0, 2, 1, 3], [4, 5, 6, 7]];this.strokeIndices = [[0, 1], [1, 3], [3, 2], [6, 7], [8, 9], [9, 11], [14, 15], [16, 17], [17, 19], [18, 19], [20, 21], [22, 23]];for (var b = 0; b < a.length; b++) {
              for (var c = a[b], e = 4 * b, f = 0; f < 4; f++) {
                var g = c[f],
                    h = new d.Vector((2 * (1 & g) - 1) / 2, ((2 & g) - 1) / 2, ((4 & g) / 2 - 1) / 2);this.vertices.push(h), this.uvs.push(1 & f, (2 & f) / 2);
              }this.faces.push([e, e + 1, e + 2]), this.faces.push([e + 2, e + 1, e + 3]);
            }
          },
              j = new d.Geometry(e, f, i);j.computeNormals(), e <= 4 && f <= 4 ? j._makeTriangleEdges()._edgesToVertices() : console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"), this._renderer.createBuffers(h, j);
        }return this._renderer.drawBuffersScaled(h, a, b, c), this;
      }, d.prototype.sphere = function (a, b, c) {
        return this._assert3d("sphere"), d._validateParameters("sphere", arguments), void 0 === a && (a = 50), void 0 === b && (b = 24), void 0 === c && (c = 16), this.ellipsoid(a, a, a, b, c), this;
      };var f = function f(a, b, c, e, _f, g, h) {
        a = a <= 0 ? 1 : a, b = b < 0 ? 0 : b, c = c <= 0 ? a : c, e = e < 3 ? 3 : e, _f = _f < 1 ? 1 : _f, g = void 0 === g || g, h = void 0 === h ? 0 !== b : h;var i,
            j,
            k,
            l,
            m,
            n = g ? -2 : 0,
            o = _f + (h ? 2 : 0),
            p = {},
            q = Math.atan2(a - b, c);for (i = n; i <= o; ++i) {
          var r,
              s = i / _f,
              t = c * s;for (i < 0 ? (t = 0, s = 0, r = a) : i > _f ? (t = c, s = 1, r = b) : r = a + (b - a) * s, -2 !== i && i !== _f + 2 || (r = 0), t -= c / 2, p[i] = 0 === r ? 1 : e, j = 0; j < p[i]; ++j) {
            var u = j / e;this.vertices.push(new d.Vector(Math.sin(2 * u * Math.PI) * r, t, Math.cos(2 * u * Math.PI) * r)), this.vertexNormals.push(new d.Vector(i < 0 || i > _f ? 0 : Math.sin(2 * u * Math.PI) * Math.cos(q), i < 0 ? -1 : i > _f ? 1 : Math.sin(q), i < 0 || i > _f ? 0 : Math.cos(2 * u * Math.PI) * Math.cos(q))), this.uvs.push(u, s);
          }
        }var v = 0;if (g) {
          for (k = 0; k < p[-1]; ++k) {
            m = (k + 1) % p[-1], this.faces.push([v, v + 1 + m, v + 1 + k]);
          }v += p[-2] + p[-1];
        }for (i = 0; i < _f; ++i) {
          for (j = 0; j < p[i]; ++j) {
            1 === p[i + 1] ? (l = (j + 1) % p[i], this.faces.push([v + j, v + l, v + p[i]])) : (l = (j + 1) % p[i], this.faces.push([v + j, v + l, v + p[i] + l]), this.faces.push([v + j, v + p[i] + l, v + p[i] + j]));
          }v += p[i];
        }if (h) for (v += p[_f], j = 0; j < p[_f + 1]; ++j) {
          l = (j + 1) % p[_f + 1], this.faces.push([v + j, v + l, v + p[_f + 1]]);
        }
      };d.prototype.cylinder = function (a, b, c, e, g, h) {
        this._assert3d("cylinder"), d._validateParameters("cylinder", arguments), void 0 === a && (a = 50), void 0 === b && (b = a), void 0 === c && (c = 24), void 0 === e && (e = 1), void 0 === h && (h = !0), void 0 === g && (g = !0);var i = "cylinder|" + c + "|" + e + "|" + g + "|" + h;if (!this._renderer.geometryInHash(i)) {
          var j = new d.Geometry(c, e);f.call(j, 1, 1, 1, c, e, g, h), j.computeNormals(), c <= 24 && e <= 16 ? j._makeTriangleEdges()._edgesToVertices() : console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"), this._renderer.createBuffers(i, j);
        }return this._renderer.drawBuffersScaled(i, a, b, a), this;
      }, d.prototype.cone = function (a, b, c, e, g) {
        this._assert3d("cone"), d._validateParameters("cone", arguments), void 0 === a && (a = 50), void 0 === b && (b = a), void 0 === c && (c = 24), void 0 === e && (e = 1), void 0 === g && (g = !0);var h = "cone|" + c + "|" + e + "|" + g;if (!this._renderer.geometryInHash(h)) {
          var i = new d.Geometry(c, e);f.call(i, 1, 0, 1, c, e, g, !1), i.computeNormals(), c <= 24 && e <= 16 ? i._makeTriangleEdges()._edgesToVertices() : console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"), this._renderer.createBuffers(h, i);
        }return this._renderer.drawBuffersScaled(h, a, b, a), this;
      }, d.prototype.ellipsoid = function (a, b, c, e, f) {
        this._assert3d("ellipsoid"), d._validateParameters("ellipsoid", arguments), void 0 === a && (a = 50), void 0 === b && (b = a), void 0 === c && (c = a), void 0 === e && (e = 24), void 0 === f && (f = 16);var g = "ellipsoid|" + e + "|" + f;if (!this._renderer.geometryInHash(g)) {
          var h = function h() {
            for (var a = 0; a <= this.detailY; a++) {
              for (var b = a / this.detailY, c = Math.PI * b - Math.PI / 2, e = Math.cos(c), f = Math.sin(c), g = 0; g <= this.detailX; g++) {
                var h = g / this.detailX,
                    i = 2 * Math.PI * h,
                    j = Math.cos(i),
                    k = Math.sin(i),
                    l = new d.Vector(e * k, f, e * j);this.vertices.push(l), this.vertexNormals.push(l), this.uvs.push(h, b);
              }
            }
          },
              i = new d.Geometry(e, f, h);i.computeFaces(), e <= 24 && f <= 24 ? i._makeTriangleEdges()._edgesToVertices() : console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"), this._renderer.createBuffers(g, i);
        }return this._renderer.drawBuffersScaled(g, a, b, c), this;
      }, d.prototype.torus = function (a, b, c, e) {
        if (this._assert3d("torus"), d._validateParameters("torus", arguments), void 0 === a) a = 50;else if (!a) return;if (void 0 === b) b = 10;else if (!b) return;void 0 === c && (c = 24), void 0 === e && (e = 16);var f = (b / a).toPrecision(4),
            g = "torus|" + f + "|" + c + "|" + e;if (!this._renderer.geometryInHash(g)) {
          var h = function h() {
            for (var a = 0; a <= this.detailY; a++) {
              for (var b = a / this.detailY, c = 2 * Math.PI * b, e = Math.cos(c), g = Math.sin(c), h = 1 + f * e, i = 0; i <= this.detailX; i++) {
                var j = i / this.detailX,
                    k = 2 * Math.PI * j,
                    l = Math.cos(k),
                    m = Math.sin(k),
                    n = new d.Vector(h * l, h * m, f * g),
                    o = new d.Vector(e * l, e * m, g);this.vertices.push(n), this.vertexNormals.push(o), this.uvs.push(j, b);
              }
            }
          },
              i = new d.Geometry(c, e, h);i.computeFaces(), c <= 24 && e <= 16 ? i._makeTriangleEdges()._edgesToVertices() : console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"), this._renderer.createBuffers(g, i);
        }return this._renderer.drawBuffersScaled(g, a, a, a), this;
      }, d.RendererGL.prototype.point = function (a, b, c) {
        this._usePointShader(), this.curPointShader.bindShader(), void 0 === c && (c = 0);var e = [];return e.push(new d.Vector(a, b, c)), this._drawPoints(e, this._pointVertexBuffer), this.curPointShader.unbindShader(), this;
      }, d.RendererGL.prototype.triangle = function (a) {
        var b = a[0],
            c = a[1],
            e = a[2],
            f = a[3],
            g = a[4],
            h = a[5],
            i = "tri";if (!this.geometryInHash(i)) {
          var j = function j() {
            var a = [];a.push(new d.Vector(0, 0, 0)), a.push(new d.Vector(0, 1, 0)), a.push(new d.Vector(1, 0, 0)), this.strokeIndices = [[0, 1], [1, 2], [2, 0]], this.vertices = a, this.faces = [[0, 1, 2]], this.uvs = [0, 0, 0, 1, 1, 1];
          },
              k = new d.Geometry(1, 1, j);k._makeTriangleEdges()._edgesToVertices(), k.computeNormals(), this.createBuffers(i, k);
        }var l = this.uMVMatrix.copy();try {
          var m = new d.Matrix([e - b, f - c, 0, 0, g - b, h - c, 0, 0, 0, 0, 1, 0, b, c, 0, 1]).mult(this.uMVMatrix);this.uMVMatrix = m, this.drawBuffers(i);
        } finally {
          this.uMVMatrix = l;
        }return this;
      }, d.RendererGL.prototype.ellipse = function (a) {
        this.arc(a[0], a[1], a[2], a[3], 0, e.TWO_PI, e.OPEN, a[4]);
      }, d.RendererGL.prototype.arc = function (a) {
        var b,
            c,
            f = arguments[0],
            g = arguments[1],
            h = arguments[2],
            i = arguments[3],
            j = arguments[4],
            k = arguments[5],
            l = arguments[6],
            m = arguments[7] || 25;if (Math.abs(k - j) >= e.TWO_PI ? (b = "ellipse", c = b + "|" + m + "|") : (b = "arc", c = b + "|" + j + "|" + k + "|" + l + "|" + m + "|"), !this.geometryInHash(c)) {
          var n = function n() {
            if (this.strokeIndices = [], j.toFixed(10) !== k.toFixed(10)) {
              l !== e.PIE && void 0 !== l || (this.vertices.push(new d.Vector(.5, .5, 0)), this.uvs.push([.5, .5]));for (var a = 0; a <= m; a++) {
                var b = a / m,
                    c = (k - j) * b + j,
                    f = .5 + Math.cos(c) / 2,
                    g = .5 + Math.sin(c) / 2;this.vertices.push(new d.Vector(f, g, 0)), this.uvs.push([f, g]), a < m - 1 && (this.faces.push([0, a + 1, a + 2]), this.strokeIndices.push([a + 1, a + 2]));
              }switch (l) {case e.PIE:
                  this.faces.push([0, this.vertices.length - 2, this.vertices.length - 1]), this.strokeIndices.push([0, 1]), this.strokeIndices.push([this.vertices.length - 2, this.vertices.length - 1]), this.strokeIndices.push([0, this.vertices.length - 1]);break;case e.CHORD:
                  this.strokeIndices.push([0, 1]), this.strokeIndices.push([0, this.vertices.length - 1]);break;case e.OPEN:
                  this.strokeIndices.push([0, 1]);break;default:
                  this.faces.push([0, this.vertices.length - 2, this.vertices.length - 1]), this.strokeIndices.push([this.vertices.length - 2, this.vertices.length - 1]);}
            }
          },
              o = new d.Geometry(m, 1, n);o.computeNormals(), m <= 50 ? o._makeTriangleEdges()._edgesToVertices(o) : console.log("Cannot stroke " + b + " with more than 50 detail"), this.createBuffers(c, o);
        }var p = this.uMVMatrix.copy();try {
          this.uMVMatrix.translate([f, g, 0]), this.uMVMatrix.scale(h, i, 1), this.drawBuffers(c);
        } finally {
          this.uMVMatrix = p;
        }return this;
      }, d.RendererGL.prototype.rect = function (a) {
        var b = this.attributes.perPixelLighting,
            c = a[0],
            e = a[1],
            f = a[2],
            g = a[3],
            h = a[4] || (b ? 1 : 24),
            i = a[5] || (b ? 1 : 16),
            j = "rect|" + h + "|" + i;if (!this.geometryInHash(j)) {
          var k = function k() {
            for (var a = 0; a <= this.detailY; a++) {
              for (var b = a / this.detailY, c = 0; c <= this.detailX; c++) {
                var e = c / this.detailX,
                    f = new d.Vector(e, b, 0);this.vertices.push(f), this.uvs.push(e, b);
              }
            }h > 0 && i > 0 && (this.strokeIndices = [[0, h], [h, (h + 1) * (i + 1) - 1], [(h + 1) * (i + 1) - 1, (h + 1) * i], [(h + 1) * i, 0]]);
          },
              l = new d.Geometry(h, i, k);l.computeFaces().computeNormals()._makeTriangleEdges()._edgesToVertices(), this.createBuffers(j, l);
        }var m = this.uMVMatrix.copy();try {
          this.uMVMatrix.translate([c, e, 0]), this.uMVMatrix.scale(f, g, 1), this.drawBuffers(j);
        } finally {
          this.uMVMatrix = m;
        }return this;
      }, d.RendererGL.prototype.quad = function (a, b, c, e, f, g, h, i) {
        var j = "quad|" + a + "|" + b + "|" + c + "|" + e + "|" + f + "|" + g + "|" + h + "|" + i;if (!this.geometryInHash(j)) {
          var k = function k() {
            this.vertices.push(new d.Vector(a, b, 0)), this.vertices.push(new d.Vector(c, e, 0)), this.vertices.push(new d.Vector(f, g, 0)), this.vertices.push(new d.Vector(h, i, 0)), this.uvs.push(0, 0, 1, 0, 1, 1, 0, 1), this.strokeIndices = [[0, 1], [1, 2], [2, 3], [3, 0]];
          },
              l = new d.Geometry(2, 2, k);l.computeNormals()._makeTriangleEdges()._edgesToVertices(), l.faces = [[0, 1, 2], [2, 3, 0]], this.createBuffers(j, l);
        }return this.drawBuffers(j), this;
      }, d.RendererGL.prototype.bezier = function (a, b, c, d, e, f, g, h, i, j, k, l) {
        8 === arguments.length && (j = g, k = h, g = e, h = d, d = c, e = d, c = f = i = l = 0);var m = this._pInst._bezierDetail || 20;this.beginShape();for (var n = 0; n <= m; n++) {
          var o = Math.pow(1 - n / m, 3),
              p = n / m * 3 * Math.pow(1 - n / m, 2),
              q = 3 * Math.pow(n / m, 2) * (1 - n / m),
              r = Math.pow(n / m, 3);this.vertex(a * o + d * p + g * q + j * r, b * o + e * p + h * q + k * r, c * o + f * p + i * q + l * r);
        }return this.endShape(), this;
      }, d.RendererGL.prototype.curve = function (a, b, c, d, e, f, g, h, i, j, k, l) {
        8 === arguments.length && (j = g, k = h, g = e, h = d, d = c, e = d, c = f = i = l = 0);var m = this._pInst._curveDetail;this.beginShape();for (var n = 0; n <= m; n++) {
          var o = .5 * Math.pow(n / m, 3),
              p = .5 * Math.pow(n / m, 2),
              q = n / m * .5,
              r = .5,
              s = o * (3 * d - a - 3 * g + j) + p * (2 * a - 5 * d + 4 * g - j) + q * (-a + g) + r * (2 * d),
              t = o * (3 * e - b - 3 * h + k) + p * (2 * b - 5 * e + 4 * h - k) + q * (-b + h) + r * (2 * e),
              u = o * (3 * f - c - 3 * i + l) + p * (2 * c - 5 * f + 4 * i - l) + q * (-c + i) + r * (2 * f);this.vertex(s, t, u);
        }return this.endShape(), this;
      }, d.RendererGL.prototype.line = function () {
        return 6 === arguments.length ? (this.beginShape(), this.vertex(arguments[0], arguments[1], arguments[2]), this.vertex(arguments[3], arguments[4], arguments[5]), this.endShape()) : 4 === arguments.length && (this.beginShape(), this.vertex(arguments[0], arguments[1], 0), this.vertex(arguments[2], arguments[3], 0), this.endShape()), this;
      }, d.RendererGL.prototype.bezierVertex = function () {
        if (0 === this.immediateMode._bezierVertex.length) throw Error("vertex() must be used once before calling bezierVertex()");var a,
            b,
            c,
            d,
            e,
            f = [],
            g = [],
            h = [],
            i = arguments.length;if (a = 0, 0 === this._lookUpTableBezier.length || this._lutBezierDetail !== this._pInst._curveDetail) {
          this._lookUpTableBezier = [], this._lutBezierDetail = this._pInst._curveDetail;for (var j = 1 / this._lutBezierDetail, k = 0, l = 1, m = 0; k < 1;) {
            if (a = parseFloat(k.toFixed(6)), this._lookUpTableBezier[m] = this._bezierCoefficients(a), l.toFixed(6) === j.toFixed(6)) {
              a = parseFloat(l.toFixed(6)) + parseFloat(k.toFixed(6)), ++m, this._lookUpTableBezier[m] = this._bezierCoefficients(a);break;
            }k += j, l -= j, ++m;
          }
        }var n = this._lookUpTableBezier.length;if (6 === i) {
          for (this.isBezier = !0, f = [this.immediateMode._bezierVertex[0], arguments[0], arguments[2], arguments[4]], g = [this.immediateMode._bezierVertex[1], arguments[1], arguments[3], arguments[5]], e = 0; e < n; e++) {
            b = f[0] * this._lookUpTableBezier[e][0] + f[1] * this._lookUpTableBezier[e][1] + f[2] * this._lookUpTableBezier[e][2] + f[3] * this._lookUpTableBezier[e][3], c = g[0] * this._lookUpTableBezier[e][0] + g[1] * this._lookUpTableBezier[e][1] + g[2] * this._lookUpTableBezier[e][2] + g[3] * this._lookUpTableBezier[e][3], this.vertex(b, c);
          }this.immediateMode._bezierVertex[0] = arguments[4], this.immediateMode._bezierVertex[1] = arguments[5];
        } else if (9 === i) {
          for (this.isBezier = !0, f = [this.immediateMode._bezierVertex[0], arguments[0], arguments[3], arguments[6]], g = [this.immediateMode._bezierVertex[1], arguments[1], arguments[4], arguments[7]], h = [this.immediateMode._bezierVertex[2], arguments[2], arguments[5], arguments[8]], e = 0; e < n; e++) {
            b = f[0] * this._lookUpTableBezier[e][0] + f[1] * this._lookUpTableBezier[e][1] + f[2] * this._lookUpTableBezier[e][2] + f[3] * this._lookUpTableBezier[e][3], c = g[0] * this._lookUpTableBezier[e][0] + g[1] * this._lookUpTableBezier[e][1] + g[2] * this._lookUpTableBezier[e][2] + g[3] * this._lookUpTableBezier[e][3], d = h[0] * this._lookUpTableBezier[e][0] + h[1] * this._lookUpTableBezier[e][1] + h[2] * this._lookUpTableBezier[e][2] + h[3] * this._lookUpTableBezier[e][3], this.vertex(b, c, d);
          }this.immediateMode._bezierVertex[0] = arguments[6], this.immediateMode._bezierVertex[1] = arguments[7], this.immediateMode._bezierVertex[2] = arguments[8];
        }
      }, d.RendererGL.prototype.quadraticVertex = function () {
        if (0 === this.immediateMode._quadraticVertex.length) throw Error("vertex() must be used once before calling quadraticVertex()");var a,
            b,
            c,
            d,
            e,
            f = [],
            g = [],
            h = [],
            i = arguments.length;if (a = 0, 0 === this._lookUpTableQuadratic.length || this._lutQuadraticDetail !== this._pInst._curveDetail) {
          this._lookUpTableQuadratic = [], this._lutQuadraticDetail = this._pInst._curveDetail;for (var j = 1 / this._lutQuadraticDetail, k = 0, l = 1, m = 0; k < 1;) {
            if (a = parseFloat(k.toFixed(6)), this._lookUpTableQuadratic[m] = this._quadraticCoefficients(a), l.toFixed(6) === j.toFixed(6)) {
              a = parseFloat(l.toFixed(6)) + parseFloat(k.toFixed(6)), ++m, this._lookUpTableQuadratic[m] = this._quadraticCoefficients(a);break;
            }k += j, l -= j, ++m;
          }
        }var n = this._lookUpTableQuadratic.length;if (4 === i) {
          for (this.isQuadratic = !0, f = [this.immediateMode._quadraticVertex[0], arguments[0], arguments[2]], g = [this.immediateMode._quadraticVertex[1], arguments[1], arguments[3]], e = 0; e < n; e++) {
            b = f[0] * this._lookUpTableQuadratic[e][0] + f[1] * this._lookUpTableQuadratic[e][1] + f[2] * this._lookUpTableQuadratic[e][2], c = g[0] * this._lookUpTableQuadratic[e][0] + g[1] * this._lookUpTableQuadratic[e][1] + g[2] * this._lookUpTableQuadratic[e][2], this.vertex(b, c);
          }this.immediateMode._quadraticVertex[0] = arguments[2], this.immediateMode._quadraticVertex[1] = arguments[3];
        } else if (6 === i) {
          for (this.isQuadratic = !0, f = [this.immediateMode._quadraticVertex[0], arguments[0], arguments[3]], g = [this.immediateMode._quadraticVertex[1], arguments[1], arguments[4]], h = [this.immediateMode._quadraticVertex[2], arguments[2], arguments[5]], e = 0; e < n; e++) {
            b = f[0] * this._lookUpTableQuadratic[e][0] + f[1] * this._lookUpTableQuadratic[e][1] + f[2] * this._lookUpTableQuadratic[e][2], c = g[0] * this._lookUpTableQuadratic[e][0] + g[1] * this._lookUpTableQuadratic[e][1] + g[2] * this._lookUpTableQuadratic[e][2], d = h[0] * this._lookUpTableQuadratic[e][0] + h[1] * this._lookUpTableQuadratic[e][1] + h[2] * this._lookUpTableQuadratic[e][2], this.vertex(b, c, d);
          }this.immediateMode._quadraticVertex[0] = arguments[3], this.immediateMode._quadraticVertex[1] = arguments[4], this.immediateMode._quadraticVertex[2] = arguments[5];
        }
      }, d.RendererGL.prototype.curveVertex = function () {
        var a,
            b,
            c,
            d,
            e,
            f = [],
            g = [],
            h = [];a = 0;var i = arguments.length;if (0 === this._lookUpTableBezier.length || this._lutBezierDetail !== this._pInst._curveDetail) {
          this._lookUpTableBezier = [], this._lutBezierDetail = this._pInst._curveDetail;for (var j = 1 / this._lutBezierDetail, k = 0, l = 1, m = 0; k < 1;) {
            if (a = parseFloat(k.toFixed(6)), this._lookUpTableBezier[m] = this._bezierCoefficients(a), l.toFixed(6) === j.toFixed(6)) {
              a = parseFloat(l.toFixed(6)) + parseFloat(k.toFixed(6)), ++m, this._lookUpTableBezier[m] = this._bezierCoefficients(a);break;
            }k += j, l -= j, ++m;
          }
        }var n = this._lookUpTableBezier.length;if (2 === i) {
          if (this.immediateMode._curveVertex.push(arguments[0]), this.immediateMode._curveVertex.push(arguments[1]), 8 === this.immediateMode._curveVertex.length) {
            for (this.isCurve = !0, f = this._bezierToCatmull([this.immediateMode._curveVertex[0], this.immediateMode._curveVertex[2], this.immediateMode._curveVertex[4], this.immediateMode._curveVertex[6]]), g = this._bezierToCatmull([this.immediateMode._curveVertex[1], this.immediateMode._curveVertex[3], this.immediateMode._curveVertex[5], this.immediateMode._curveVertex[7]]), e = 0; e < n; e++) {
              b = f[0] * this._lookUpTableBezier[e][0] + f[1] * this._lookUpTableBezier[e][1] + f[2] * this._lookUpTableBezier[e][2] + f[3] * this._lookUpTableBezier[e][3], c = g[0] * this._lookUpTableBezier[e][0] + g[1] * this._lookUpTableBezier[e][1] + g[2] * this._lookUpTableBezier[e][2] + g[3] * this._lookUpTableBezier[e][3], this.vertex(b, c);
            }for (e = 0; e < i; e++) {
              this.immediateMode._curveVertex.shift();
            }
          }
        } else if (3 === i && (this.immediateMode._curveVertex.push(arguments[0]), this.immediateMode._curveVertex.push(arguments[1]), this.immediateMode._curveVertex.push(arguments[2]), 12 === this.immediateMode._curveVertex.length)) {
          for (this.isCurve = !0, f = this._bezierToCatmull([this.immediateMode._curveVertex[0], this.immediateMode._curveVertex[3], this.immediateMode._curveVertex[6], this.immediateMode._curveVertex[9]]), g = this._bezierToCatmull([this.immediateMode._curveVertex[1], this.immediateMode._curveVertex[4], this.immediateMode._curveVertex[7], this.immediateMode._curveVertex[10]]), h = this._bezierToCatmull([this.immediateMode._curveVertex[2], this.immediateMode._curveVertex[5], this.immediateMode._curveVertex[8], this.immediateMode._curveVertex[11]]), e = 0; e < n; e++) {
            b = f[0] * this._lookUpTableBezier[e][0] + f[1] * this._lookUpTableBezier[e][1] + f[2] * this._lookUpTableBezier[e][2] + f[3] * this._lookUpTableBezier[e][3], c = g[0] * this._lookUpTableBezier[e][0] + g[1] * this._lookUpTableBezier[e][1] + g[2] * this._lookUpTableBezier[e][2] + g[3] * this._lookUpTableBezier[e][3], d = h[0] * this._lookUpTableBezier[e][0] + h[1] * this._lookUpTableBezier[e][1] + h[2] * this._lookUpTableBezier[e][2] + h[3] * this._lookUpTableBezier[e][3], this.vertex(b, c, d);
          }for (e = 0; e < i; e++) {
            this.immediateMode._curveVertex.shift();
          }
        }
      }, b.exports = d;
    }, { "../core/constants": 18, "../core/main": 24, "./p5.Geometry": 70 }], 65: [function (a, b, c) {
      "use strict";
      var d = a("../core/main"),
          e = a("../core/constants");d.prototype.orbitControl = function (a, b) {
        if (this._assert3d("orbitControl"), d._validateParameters("orbitControl", arguments), this.mouseX < this.width && this.mouseX > 0 && this.mouseY < this.height && this.mouseY > 0) {
          var c = this._renderer._curCamera;void 0 === a && (a = 1), void 0 === b && (b = a), !0 !== this.contextMenuDisabled && (this.canvas.oncontextmenu = function () {
            return !1;
          }, this._setProperty("contextMenuDisabled", !0)), !0 !== this.wheelDefaultDisabled && (this.canvas.onwheel = function () {
            return !1;
          }, this._setProperty("wheelDefaultDisabled", !0));var e = this.height < this.width ? this.height : this.width;if (this._mouseWheelDeltaY !== this._pmouseWheelDeltaY && (this._mouseWheelDeltaY > 0 ? this._renderer._curCamera._orbit(0, 0, .5 * e) : this._renderer._curCamera._orbit(0, 0, -.5 * e)), this.mouseIsPressed) if (this.mouseButton === this.LEFT) {
            var f = -a * (this.mouseX - this.pmouseX) / e,
                g = b * (this.mouseY - this.pmouseY) / e;this._renderer._curCamera._orbit(f, g, 0);
          } else if (this.mouseButton === this.RIGHT) {
            var h = c._getLocalAxes(),
                i = Math.sqrt(h.x[0] * h.x[0] + h.x[2] * h.x[2]);0 !== i && (h.x[0] /= i, h.x[2] /= i);var j = Math.sqrt(h.y[0] * h.y[0] + h.y[2] * h.y[2]);0 !== j && (h.y[0] /= j, h.y[2] /= j);var k = -1 * a * (this.mouseX - this.pmouseX),
                l = -1 * b * (this.mouseY - this.pmouseY);c.setPosition(c.eyeX + k * h.x[0] + l * h.z[0], c.eyeY, c.eyeZ + k * h.x[2] + l * h.z[2]);
          }return this;
        }
      }, d.prototype.debugMode = function () {
        this._assert3d("debugMode"), d._validateParameters("debugMode", arguments);for (var a = this._registeredMethods.post.length - 1; a >= 0; a--) {
          this._registeredMethods.post[a].toString() !== this._grid().toString() && this._registeredMethods.post[a].toString() !== this._axesIcon().toString() || this._registeredMethods.post.splice(a, 1);
        }arguments[0] === e.GRID ? this.registerMethod("post", this._grid.call(this, arguments[1], arguments[2], arguments[3], arguments[4], arguments[5])) : arguments[0] === e.AXES ? this.registerMethod("post", this._axesIcon.call(this, arguments[1], arguments[2], arguments[3], arguments[4])) : (this.registerMethod("post", this._grid.call(this, arguments[0], arguments[1], arguments[2], arguments[3], arguments[4])), this.registerMethod("post", this._axesIcon.call(this, arguments[5], arguments[6], arguments[7], arguments[8])));
      }, d.prototype.noDebugMode = function () {
        this._assert3d("noDebugMode");for (var a = this._registeredMethods.post.length - 1; a >= 0; a--) {
          this._registeredMethods.post[a].toString() !== this._grid().toString() && this._registeredMethods.post[a].toString() !== this._axesIcon().toString() || this._registeredMethods.post.splice(a, 1);
        }
      }, d.prototype._grid = function (a, b, c, d, e) {
        void 0 === a && (a = this.width / 2), void 0 === b && (b = Math.round(a / 30) < 4 ? 4 : Math.round(a / 30)), void 0 === c && (c = 0), void 0 === d && (d = 0), void 0 === e && (e = 0);var f = a / b,
            g = a / 2;return function () {
          this.push(), this.stroke(255 * this._renderer.curStrokeColor[0], 255 * this._renderer.curStrokeColor[1], 255 * this._renderer.curStrokeColor[2]), this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0], this._renderer._curCamera.cameraMatrix.mat4[1], this._renderer._curCamera.cameraMatrix.mat4[2], this._renderer._curCamera.cameraMatrix.mat4[3], this._renderer._curCamera.cameraMatrix.mat4[4], this._renderer._curCamera.cameraMatrix.mat4[5], this._renderer._curCamera.cameraMatrix.mat4[6], this._renderer._curCamera.cameraMatrix.mat4[7], this._renderer._curCamera.cameraMatrix.mat4[8], this._renderer._curCamera.cameraMatrix.mat4[9], this._renderer._curCamera.cameraMatrix.mat4[10], this._renderer._curCamera.cameraMatrix.mat4[11], this._renderer._curCamera.cameraMatrix.mat4[12], this._renderer._curCamera.cameraMatrix.mat4[13], this._renderer._curCamera.cameraMatrix.mat4[14], this._renderer._curCamera.cameraMatrix.mat4[15]);for (var a = 0; a <= b; a++) {
            this.beginShape(this.LINES), this.vertex(-g + c, d, a * f - g + e), this.vertex(+g + c, d, a * f - g + e), this.endShape();
          }for (var h = 0; h <= b; h++) {
            this.beginShape(this.LINES), this.vertex(h * f - g + c, d, -g + e), this.vertex(h * f - g + c, d, +g + e), this.endShape();
          }this.pop();
        };
      }, d.prototype._axesIcon = function (a, b, c, d) {
        return void 0 === a && (a = this.width / 20 > 40 ? this.width / 20 : 40), void 0 === b && (b = -this.width / 4), void 0 === c && (c = b), void 0 === d && (d = b), function () {
          this.push(), this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0], this._renderer._curCamera.cameraMatrix.mat4[1], this._renderer._curCamera.cameraMatrix.mat4[2], this._renderer._curCamera.cameraMatrix.mat4[3], this._renderer._curCamera.cameraMatrix.mat4[4], this._renderer._curCamera.cameraMatrix.mat4[5], this._renderer._curCamera.cameraMatrix.mat4[6], this._renderer._curCamera.cameraMatrix.mat4[7], this._renderer._curCamera.cameraMatrix.mat4[8], this._renderer._curCamera.cameraMatrix.mat4[9], this._renderer._curCamera.cameraMatrix.mat4[10], this._renderer._curCamera.cameraMatrix.mat4[11], this._renderer._curCamera.cameraMatrix.mat4[12], this._renderer._curCamera.cameraMatrix.mat4[13], this._renderer._curCamera.cameraMatrix.mat4[14], this._renderer._curCamera.cameraMatrix.mat4[15]), this.strokeWeight(2), this.stroke(255, 0, 0), this.beginShape(this.LINES), this.vertex(b, c, d), this.vertex(b + a, c, d), this.endShape(), this.stroke(0, 255, 0), this.beginShape(this.LINES), this.vertex(b, c, d), this.vertex(b, c + a, d), this.endShape(), this.stroke(0, 0, 255), this.beginShape(this.LINES), this.vertex(b, c, d), this.vertex(b, c, d + a), this.endShape(), this.pop();
        };
      }, b.exports = d;
    }, { "../core/constants": 18, "../core/main": 24 }], 66: [function (a, b, c) {
      "use strict";
      var d = a("../core/main");d.prototype.ambientLight = function (a, b, c, e) {
        this._assert3d("ambientLight"), d._validateParameters("ambientLight", arguments);var f = this.color.apply(this, arguments),
            g = this._renderer._useLightShader();return g.setUniform("uUseLighting", !0), g.setUniform("uMaterialColor", this._renderer.curFillColor), this._renderer.ambientLightColors.push(f._array[0], f._array[1], f._array[2]), g.setUniform("uAmbientColor", this._renderer.ambientLightColors), g.setUniform("uAmbientLightCount", this._renderer.ambientLightColors.length / 3), this;
      }, d.prototype.directionalLight = function (a, b, c, e, f, g) {
        this._assert3d("directionalLight"), d._validateParameters("directionalLight", arguments);var h,
            i = this._renderer._useLightShader();h = a instanceof d.Color ? a : this.color(a, b, c);var j,
            k,
            l,
            m = arguments[arguments.length - 1];"number" == typeof m ? (j = arguments[arguments.length - 3], k = arguments[arguments.length - 2], l = arguments[arguments.length - 1]) : (j = m.x, k = m.y, l = m.z), i.setUniform("uUseLighting", !0), i.setUniform("uMaterialColor", this._renderer.curFillColor);var n = Math.sqrt(j * j + k * k + l * l);return this._renderer.directionalLightDirections.push(j / n, k / n, l / n), i.setUniform("uLightingDirection", this._renderer.directionalLightDirections), this._renderer.directionalLightColors.push(h._array[0], h._array[1], h._array[2]), i.setUniform("uDirectionalColor", this._renderer.directionalLightColors), i.setUniform("uDirectionalLightCount", this._renderer.directionalLightColors.length / 3), this;
      }, d.prototype.pointLight = function (a, b, c, e, f, g) {
        this._assert3d("pointLight"), d._validateParameters("pointLight", arguments);var h;h = a instanceof d.Color ? a : this.color(a, b, c);var i,
            j,
            k,
            l = arguments[arguments.length - 1];"number" == typeof l ? (i = arguments[arguments.length - 3], j = arguments[arguments.length - 2], k = arguments[arguments.length - 1]) : (i = l.x, j = l.y, k = l.z);var m = this._renderer._useLightShader();return m.setUniform("uUseLighting", !0), m.setUniform("uMaterialColor", this._renderer.curFillColor), this._renderer.pointLightPositions.push(i, j, k), m.setUniform("uPointLightLocation", this._renderer.pointLightPositions), this._renderer.pointLightColors.push(h._array[0], h._array[1], h._array[2]), m.setUniform("uPointLightColor", this._renderer.pointLightColors), m.setUniform("uPointLightCount", this._renderer.pointLightColors.length / 3), this;
      }, b.exports = d;
    }, { "../core/main": 24 }], 67: [function (a, b, c) {
      "use strict";
      function d(a, b) {
        for (var c = { v: [], vt: [], vn: [] }, d = {}, f = 0; f < b.length; ++f) {
          var g = b[f].trim().split(/\b\s+/);if (g.length > 0) if ("v" === g[0] || "vn" === g[0]) {
            var h = new e.Vector(parseFloat(g[1]), parseFloat(g[2]), parseFloat(g[3]));c[g[0]].push(h);
          } else if ("vt" === g[0]) {
            var i = [parseFloat(g[1]), parseFloat(g[2])];c[g[0]].push(i);
          } else if ("f" === g[0]) for (var j = 3; j < g.length; ++j) {
            for (var k = [], l = [1, j - 1, j], m = 0; m < l.length; ++m) {
              var n = g[l[m]],
                  o = 0;if (void 0 !== d[n]) o = d[n];else {
                for (var p = n.split("/"), q = 0; q < p.length; q++) {
                  p[q] = parseInt(p[q]) - 1;
                }o = d[n] = a.vertices.length, a.vertices.push(c.v[p[0]].copy()), c.vt[p[1]] ? a.uvs.push(c.vt[p[1]].slice()) : a.uvs.push([0, 0]), c.vn[p[2]] && a.vertexNormals.push(c.vn[p[2]].copy());
              }k.push(o);
            }k[0] !== k[1] && k[0] !== k[2] && k[1] !== k[2] && a.faces.push(k);
          }
        }return 0 === a.vertexNormals.length && a.computeNormals(), a;
      }var e = a("../core/main");a("./p5.Geometry"), e.prototype.loadModel = function (a) {
        e._validateParameters("loadModel", arguments);var b, c, f;"boolean" == typeof arguments[1] ? (b = arguments[1], c = arguments[2], f = arguments[3]) : (b = !1, c = arguments[1], f = arguments[2]);var g = new e.Geometry();g.gid = a + "|" + b;var h = this;return this.loadStrings(a, function (a) {
          d(g, a), b && g.normalize(), h._decrementPreload(), "function" == typeof c && c(g);
        }.bind(this), f), g;
      }, e.prototype.model = function (a) {
        this._assert3d("model"), e._validateParameters("model", arguments), a.vertices.length > 0 && (this._renderer.geometryInHash(a.gid) || (a._makeTriangleEdges()._edgesToVertices(), this._renderer.createBuffers(a.gid, a)), this._renderer.drawBuffers(a.gid));
      }, b.exports = e;
    }, { "../core/main": 24, "./p5.Geometry": 70 }], 68: [function (a, b, c) {
      "use strict";
      var d = a("../core/main"),
          e = a("../core/constants");a("./p5.Texture"), d.prototype.loadShader = function (a, b) {
        d._validateParameters("loadShader", arguments);var c = new d.Shader(),
            e = this,
            f = !1,
            g = !1;return this.loadStrings(b, function (a) {
          c._fragSrc = a.join("\n"), f = !0, g && e._decrementPreload();
        }), this.loadStrings(a, function (a) {
          c._vertSrc = a.join("\n"), g = !0, f && e._decrementPreload();
        }), c;
      }, d.prototype.createShader = function (a, b) {
        return this._assert3d("createShader"), d._validateParameters("createShader", arguments), new d.Shader(this._renderer, a, b);
      }, d.prototype.shader = function (a) {
        return this._assert3d("shader"), d._validateParameters("shader", arguments), void 0 === a._renderer && (a._renderer = this._renderer), a.isStrokeShader() ? this._renderer.setStrokeShader(a) : this._renderer.setFillShader(a), this;
      }, d.prototype.normalMaterial = function () {
        return this._assert3d("normalMaterial"), d._validateParameters("normalMaterial", arguments), this._renderer.drawMode = e.FILL, this._renderer.setFillShader(this._renderer._getNormalShader()), this._renderer.curFillColor = [1, 1, 1, 1], this.noStroke(), this;
      }, d.prototype.texture = function (a) {
        this._assert3d("texture"), d._validateParameters("texture", arguments), this._renderer.drawMode = e.TEXTURE;var b = this._renderer._useLightShader();return b.setUniform("uSpecular", !1), b.setUniform("isTexture", !0), b.setUniform("uSampler", a), this.noStroke(), this;
      }, d.prototype.ambientMaterial = function (a, b, c, e) {
        this._assert3d("ambientMaterial"), d._validateParameters("ambientMaterial", arguments);var f = d.prototype.color.apply(this, arguments);this._renderer.curFillColor = f._array;var g = this._renderer._useLightShader();return g.setUniform("uMaterialColor", this._renderer.curFillColor), g.setUniform("uSpecular", !1), g.setUniform("isTexture", !1), this;
      }, d.prototype.specularMaterial = function (a, b, c, e) {
        this._assert3d("specularMaterial"), d._validateParameters("specularMaterial", arguments);var f = d.prototype.color.apply(this, arguments);this._renderer.curFillColor = f._array;var g = this._renderer._useLightShader();return g.setUniform("uMaterialColor", this._renderer.curFillColor), g.setUniform("uSpecular", !0), g.setUniform("isTexture", !1), this;
      }, d.RendererGL.prototype._applyColorBlend = function (a) {
        var b = this.GL,
            c = this.drawMode === e.TEXTURE;return c || a[a.length - 1] < 1 ? (b.depthMask(c), b.enable(b.BLEND), b.blendEquation(b.FUNC_ADD), b.blendFunc(b.SRC_ALPHA, b.ONE_MINUS_SRC_ALPHA)) : (b.depthMask(!0), b.disable(b.BLEND)), a;
      }, b.exports = d;
    }, { "../core/constants": 18, "../core/main": 24, "./p5.Texture": 76 }], 69: [function (a, b, c) {
      "use strict";
      var d = a("../core/main");d.prototype.camera = function () {
        return this._assert3d("camera"), d._validateParameters("camera", arguments), this._renderer._curCamera.camera.apply(this._renderer._curCamera, arguments), this;
      }, d.prototype.perspective = function () {
        return this._assert3d("perspective"), d._validateParameters("perspective", arguments), this._renderer._curCamera.perspective.apply(this._renderer._curCamera, arguments), this;
      }, d.prototype.ortho = function () {
        return this._assert3d("ortho"), d._validateParameters("ortho", arguments), this._renderer._curCamera.ortho.apply(this._renderer._curCamera, arguments), this;
      }, d.prototype.createCamera = function () {
        this._assert3d("createCamera");var a = new d.Camera(this._renderer);return a._computeCameraDefaultSettings(), a._setDefaultCamera(), this._renderer._curCamera = a, a;
      }, d.Camera = function (a) {
        this._renderer = a, this.cameraType = "default", this.cameraMatrix = new d.Matrix(), this.projMatrix = new d.Matrix();
      }, d.Camera.prototype.perspective = function (a, b, c, e) {
        void 0 === a ? (a = this.defaultCameraFOV, this.cameraFOV = a) : this.cameraFOV = this._renderer._pInst._toRadians(a), void 0 === b && (b = this.defaultAspectRatio), void 0 === c && (c = this.defaultCameraNear), void 0 === e && (e = this.defaultCameraFar), c <= 1e-4 && (c = .01, console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")), e < c && console.log("Perspective far plane value is less than near plane value. Nothing will be shown."), this.cameraFOV = this._renderer._pInst._toRadians(a), this.aspectRatio = b, this.cameraNear = c, this.cameraFar = e, this.projMatrix = d.Matrix.identity();var f = 1 / Math.tan(this.cameraFOV / 2),
            g = 1 / (this.cameraNear - this.cameraFar);this.projMatrix.set(f / b, 0, 0, 0, 0, -f, 0, 0, 0, 0, (e + c) * g, -1, 0, 0, 2 * e * c * g, 0), this._isActive() && this._renderer.uPMatrix.set(this.projMatrix.mat4[0], this.projMatrix.mat4[1], this.projMatrix.mat4[2], this.projMatrix.mat4[3], this.projMatrix.mat4[4], this.projMatrix.mat4[5], this.projMatrix.mat4[6], this.projMatrix.mat4[7], this.projMatrix.mat4[8], this.projMatrix.mat4[9], this.projMatrix.mat4[10], this.projMatrix.mat4[11], this.projMatrix.mat4[12], this.projMatrix.mat4[13], this.projMatrix.mat4[14], this.projMatrix.mat4[15]), this.cameraType = "custom";
      }, d.Camera.prototype.ortho = function (a, b, c, e, f, g) {
        void 0 === a && (a = -this._renderer.width / 2), void 0 === b && (b = +this._renderer.width / 2), void 0 === c && (c = -this._renderer.height / 2), void 0 === e && (e = +this._renderer.height / 2), void 0 === f && (f = 0), void 0 === g && (g = Math.max(this._renderer.width, this._renderer.height));var h = b - a,
            i = e - c,
            j = g - f,
            k = 2 / h,
            l = 2 / i,
            m = -2 / j,
            n = -(b + a) / h,
            o = -(e + c) / i,
            p = -(g + f) / j;this.projMatrix = d.Matrix.identity(), this.projMatrix.set(k, 0, 0, 0, 0, -l, 0, 0, 0, 0, m, 0, n, o, p, 1), this._isActive() && this._renderer.uPMatrix.set(this.projMatrix.mat4[0], this.projMatrix.mat4[1], this.projMatrix.mat4[2], this.projMatrix.mat4[3], this.projMatrix.mat4[4], this.projMatrix.mat4[5], this.projMatrix.mat4[6], this.projMatrix.mat4[7], this.projMatrix.mat4[8], this.projMatrix.mat4[9], this.projMatrix.mat4[10], this.projMatrix.mat4[11], this.projMatrix.mat4[12], this.projMatrix.mat4[13], this.projMatrix.mat4[14], this.projMatrix.mat4[15]), this.cameraType = "custom";
      }, d.Camera.prototype._rotateView = function (a, b, c, e) {
        var f = this.centerX,
            g = this.centerY,
            h = this.centerZ;f -= this.eyeX, g -= this.eyeY, h -= this.eyeZ;var i = d.Matrix.identity(this._renderer._pInst);i.rotate(a, b, c, e);var j = [f * i.mat4[0] + g * i.mat4[4] + h * i.mat4[8], f * i.mat4[1] + g * i.mat4[5] + h * i.mat4[9], f * i.mat4[2] + g * i.mat4[6] + h * i.mat4[10]];j[0] += this.eyeX, j[1] += this.eyeY, j[2] += this.eyeZ, this.camera(this.eyeX, this.eyeY, this.eyeZ, j[0], j[1], j[2], this.upX, this.upY, this.upZ);
      }, d.Camera.prototype.pan = function (a) {
        var b = this._getLocalAxes();this._rotateView(a, b.y[0], b.y[1], b.y[2]);
      }, d.Camera.prototype.tilt = function (a) {
        var b = this._getLocalAxes();this._rotateView(a, b.x[0], b.x[1], b.x[2]);
      }, d.Camera.prototype.lookAt = function (a, b, c) {
        this.camera(this.eyeX, this.eyeY, this.eyeZ, a, b, c, this.upX, this.upY, this.upZ);
      }, d.Camera.prototype.camera = function (a, b, c, d, e, f, g, h, i) {
        void 0 === a && (a = this.defaultEyeX, b = this.defaultEyeY, c = this.defaultEyeZ, d = a, e = b, f = 0, g = 0, h = 1, i = 0), this.eyeX = a, this.eyeY = b, this.eyeZ = c, this.centerX = d, this.centerY = e, this.centerZ = f, this.upX = g, this.upY = h, this.upZ = i;var j = this._getLocalAxes();this.cameraMatrix.set(j.x[0], j.y[0], j.z[0], 0, j.x[1], j.y[1], j.z[1], 0, j.x[2], j.y[2], j.z[2], 0, 0, 0, 0, 1);var k = -a,
            l = -b,
            m = -c;return this.cameraMatrix.translate([k, l, m]), this._isActive() && this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0], this.cameraMatrix.mat4[1], this.cameraMatrix.mat4[2], this.cameraMatrix.mat4[3], this.cameraMatrix.mat4[4], this.cameraMatrix.mat4[5], this.cameraMatrix.mat4[6], this.cameraMatrix.mat4[7], this.cameraMatrix.mat4[8], this.cameraMatrix.mat4[9], this.cameraMatrix.mat4[10], this.cameraMatrix.mat4[11], this.cameraMatrix.mat4[12], this.cameraMatrix.mat4[13], this.cameraMatrix.mat4[14], this.cameraMatrix.mat4[15]), this;
      }, d.Camera.prototype.move = function (a, b, c) {
        var d = this._getLocalAxes(),
            e = [d.x[0] * a, d.x[1] * a, d.x[2] * a],
            f = [d.y[0] * b, d.y[1] * b, d.y[2] * b],
            g = [d.z[0] * c, d.z[1] * c, d.z[2] * c];this.camera(this.eyeX + e[0] + f[0] + g[0], this.eyeY + e[1] + f[1] + g[1], this.eyeZ + e[2] + f[2] + g[2], this.centerX + e[0] + f[0] + g[0], this.centerY + e[1] + f[1] + g[1], this.centerZ + e[2] + f[2] + g[2], 0, 1, 0);
      }, d.Camera.prototype.setPosition = function (a, b, c) {
        var d = a - this.eyeX,
            e = b - this.eyeY,
            f = c - this.eyeZ;this.camera(a, b, c, this.centerX + d, this.centerY + e, this.centerZ + f, 0, 1, 0);
      }, d.Camera.prototype._computeCameraDefaultSettings = function () {
        this.defaultCameraFOV = 60 / 180 * Math.PI, this.defaultAspectRatio = this._renderer.width / this._renderer.height, this.defaultEyeX = 0, this.defaultEyeY = 0, this.defaultEyeZ = this._renderer.height / 2 / Math.tan(this.defaultCameraFOV / 2), this.defaultCenterX = 0, this.defaultCenterY = 0, this.defaultCenterZ = 0, this.defaultCameraNear = .1 * this.defaultEyeZ, this.defaultCameraFar = 10 * this.defaultEyeZ;
      }, d.Camera.prototype._setDefaultCamera = function () {
        this.cameraFOV = this.defaultCameraFOV, this.aspectRatio = this.defaultAspectRatio, this.eyeX = this.defaultEyeX, this.eyeY = this.defaultEyeY, this.eyeZ = this.defaultEyeZ, this.centerX = this.defaultCenterX, this.centerY = this.defaultCenterY, this.centerZ = this.defaultCenterZ, this.upX = 0, this.upY = 1, this.upZ = 0, this.cameraNear = this.defaultCameraNear, this.cameraFar = this.defaultCameraFar, this.perspective(), this.camera(), this.cameraType = "default";
      }, d.Camera.prototype._resize = function () {
        "default" === this.cameraType ? (this._computeCameraDefaultSettings(), this._setDefaultCamera()) : this.perspective(this.cameraFOV, this._renderer.width / this._renderer.height);
      }, d.Camera.prototype.copy = function () {
        var a = new d.Camera(this._renderer);return a.cameraFOV = this.cameraFOV, a.aspectRatio = this.aspectRatio, a.eyeX = this.eyeX, a.eyeY = this.eyeY, a.eyeZ = this.eyeZ, a.centerX = this.centerX, a.centerY = this.centerY, a.centerZ = this.centerZ, a.cameraNear = this.cameraNear, a.cameraFar = this.cameraFar, a.cameraType = this.cameraType, a.cameraMatrix = this.cameraMatrix.copy(), a.projMatrix = this.projMatrix.copy(), a;
      }, d.Camera.prototype._getLocalAxes = function () {
        var a = this.eyeX - this.centerX,
            b = this.eyeY - this.centerY,
            c = this.eyeZ - this.centerZ,
            d = Math.sqrt(a * a + b * b + c * c);0 !== d && (a /= d, b /= d, c /= d);var e = this.upX,
            f = this.upY,
            g = this.upZ,
            h = f * c - g * b,
            i = -e * c + g * a,
            j = e * b - f * a;e = b * j - c * i, f = -a * j + c * h, g = a * i - b * h;var k = Math.sqrt(h * h + i * i + j * j);0 !== k && (h /= k, i /= k, j /= k);var l = Math.sqrt(e * e + f * f + g * g);return 0 !== l && (e /= l, f /= l, g /= l), { x: [h, i, j], y: [e, f, g], z: [a, b, c] };
      }, d.Camera.prototype._orbit = function (a, b, c) {
        var d = this.eyeX - this.centerX,
            e = this.eyeY - this.centerY,
            f = this.eyeZ - this.centerZ,
            g = Math.sqrt(d * d + e * e + f * f),
            h = Math.atan2(d, f),
            i = Math.acos(Math.max(-1, Math.min(1, e / g)));h += a, i += b, g += c, g < 0 && (g = .1), i > Math.PI ? i = Math.PI : i <= 0 && (i = .001);var j = Math.sin(i) * g * Math.sin(h),
            k = Math.cos(i) * g,
            l = Math.sin(i) * g * Math.cos(h);this.camera(j + this.centerX, k + this.centerY, l + this.centerZ, this.centerX, this.centerY, this.centerZ, 0, 1, 0);
      }, d.Camera.prototype._isActive = function () {
        return this === this._renderer._curCamera;
      }, d.prototype.setCamera = function (a) {
        this._renderer._curCamera = a, this._renderer.uPMatrix.set(a.projMatrix.mat4[0], a.projMatrix.mat4[1], a.projMatrix.mat4[2], a.projMatrix.mat4[3], a.projMatrix.mat4[4], a.projMatrix.mat4[5], a.projMatrix.mat4[6], a.projMatrix.mat4[7], a.projMatrix.mat4[8], a.projMatrix.mat4[9], a.projMatrix.mat4[10], a.projMatrix.mat4[11], a.projMatrix.mat4[12], a.projMatrix.mat4[13], a.projMatrix.mat4[14], a.projMatrix.mat4[15]);
      }, b.exports = d.Camera;
    }, { "../core/main": 24 }], 70: [function (a, b, c) {
      "use strict";
      var d = a("../core/main");d.Geometry = function (a, b, c) {
        return this.vertices = [], this.lineVertices = [], this.lineNormals = [], this.vertexNormals = [], this.faces = [], this.uvs = [], this.edges = [], this.detailX = void 0 !== a ? a : 1, this.detailY = void 0 !== b ? b : 1, c instanceof Function && c.call(this), this;
      }, d.Geometry.prototype.computeFaces = function () {
        this.faces.length = 0;for (var a, b, c, d, e = this.detailX + 1, f = 0; f < this.detailY; f++) {
          for (var g = 0; g < this.detailX; g++) {
            a = f * e + g, b = f * e + g + 1, c = (f + 1) * e + g + 1, d = (f + 1) * e + g, this.faces.push([a, b, d]), this.faces.push([d, b, c]);
          }
        }return this;
      }, d.Geometry.prototype._getFaceNormal = function (a) {
        var b = this.faces[a],
            c = this.vertices[b[0]],
            e = this.vertices[b[1]],
            f = this.vertices[b[2]],
            g = d.Vector.sub(e, c),
            h = d.Vector.sub(f, c),
            i = d.Vector.cross(g, h),
            j = d.Vector.mag(i),
            k = j / (d.Vector.mag(g) * d.Vector.mag(h));return 0 === k || isNaN(k) ? (console.warn("p5.Geometry.prototype._getFaceNormal:", "face has colinear sides or a repeated vertex"), i) : (k > 1 && (k = 1), i.mult(Math.asin(k) / j));
      }, d.Geometry.prototype.computeNormals = function () {
        var a,
            b = this.vertexNormals,
            c = this.vertices,
            e = this.faces;for (b.length = 0, a = 0; a < c.length; ++a) {
          b.push(new d.Vector());
        }for (var f = 0; f < e.length; ++f) {
          for (var g = e[f], h = this._getFaceNormal(f), i = 0; i < 3; ++i) {
            var j = g[i];b[j].add(h);
          }
        }for (a = 0; a < c.length; ++a) {
          b[a].normalize();
        }return this;
      }, d.Geometry.prototype.averageNormals = function () {
        for (var a = 0; a <= this.detailY; a++) {
          var b = this.detailX + 1,
              c = d.Vector.add(this.vertexNormals[a * b], this.vertexNormals[a * b + this.detailX]);c = d.Vector.div(c, 2), this.vertexNormals[a * b] = c, this.vertexNormals[a * b + this.detailX] = c;
        }return this;
      }, d.Geometry.prototype.averagePoleNormals = function () {
        for (var a = new d.Vector(0, 0, 0), b = 0; b < this.detailX; b++) {
          a.add(this.vertexNormals[b]);
        }for (a = d.Vector.div(a, this.detailX), b = 0; b < this.detailX; b++) {
          this.vertexNormals[b] = a;
        }for (a = new d.Vector(0, 0, 0), b = this.vertices.length - 1; b > this.vertices.length - 1 - this.detailX; b--) {
          a.add(this.vertexNormals[b]);
        }for (a = d.Vector.div(a, this.detailX), b = this.vertices.length - 1; b > this.vertices.length - 1 - this.detailX; b--) {
          this.vertexNormals[b] = a;
        }return this;
      }, d.Geometry.prototype._makeTriangleEdges = function () {
        if (this.edges.length = 0, Array.isArray(this.strokeIndices)) for (var a = 0, b = this.strokeIndices.length; a < b; a++) {
          this.edges.push(this.strokeIndices[a]);
        } else for (var c = 0; c < this.faces.length; c++) {
          this.edges.push([this.faces[c][0], this.faces[c][1]]), this.edges.push([this.faces[c][1], this.faces[c][2]]), this.edges.push([this.faces[c][2], this.faces[c][0]]);
        }return this;
      }, d.Geometry.prototype._edgesToVertices = function () {
        this.lineVertices.length = 0, this.lineNormals.length = 0;for (var a = 0; a < this.edges.length; a++) {
          var b = this.vertices[this.edges[a][0]],
              c = this.vertices[this.edges[a][1]],
              d = c.copy().sub(b).normalize(),
              e = b.array(),
              f = b.array(),
              g = c.array(),
              h = c.array(),
              i = d.array(),
              j = d.array();i.push(1), j.push(-1), this.lineNormals.push(i, j, i, i, j, j), this.lineVertices.push(e, f, g, g, f, h);
        }return this;
      }, d.Geometry.prototype.normalize = function () {
        if (this.vertices.length > 0) {
          for (var a = this.vertices[0].copy(), b = this.vertices[0].copy(), c = 0; c < this.vertices.length; c++) {
            a.x = Math.max(a.x, this.vertices[c].x), b.x = Math.min(b.x, this.vertices[c].x), a.y = Math.max(a.y, this.vertices[c].y), b.y = Math.min(b.y, this.vertices[c].y), a.z = Math.max(a.z, this.vertices[c].z), b.z = Math.min(b.z, this.vertices[c].z);
          }var e = d.Vector.lerp(a, b, .5),
              f = d.Vector.sub(a, b),
              g = Math.max(Math.max(f.x, f.y), f.z),
              h = 200 / g;for (c = 0; c < this.vertices.length; c++) {
            this.vertices[c].sub(e), this.vertices[c].mult(h);
          }
        }return this;
      }, b.exports = d.Geometry;
    }, { "../core/main": 24 }], 71: [function (a, b, c) {
      "use strict";
      var d = a("../core/main"),
          e = Array,
          f = function f(a) {
        return a instanceof Array;
      };"undefined" != typeof Float32Array && (e = Float32Array, f = function f(a) {
        return a instanceof Array || a instanceof Float32Array;
      }), d.Matrix = function () {
        for (var a = new Array(arguments.length), b = 0; b < a.length; ++b) {
          a[b] = arguments[b];
        }return a.length && a[a.length - 1] instanceof d && (this.p5 = a[a.length - 1]), "mat3" === a[0] ? this.mat3 = Array.isArray(a[1]) ? a[1] : new e([1, 0, 0, 0, 1, 0, 0, 0, 1]) : this.mat4 = Array.isArray(a[0]) ? a[0] : new e([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]), this;
      }, d.Matrix.prototype.set = function (a) {
        return a instanceof d.Matrix ? (this.mat4 = a.mat4, this) : f(a) ? (this.mat4 = a, this) : (16 === arguments.length && (this.mat4[0] = arguments[0], this.mat4[1] = arguments[1], this.mat4[2] = arguments[2], this.mat4[3] = arguments[3], this.mat4[4] = arguments[4], this.mat4[5] = arguments[5], this.mat4[6] = arguments[6], this.mat4[7] = arguments[7], this.mat4[8] = arguments[8], this.mat4[9] = arguments[9], this.mat4[10] = arguments[10], this.mat4[11] = arguments[11], this.mat4[12] = arguments[12], this.mat4[13] = arguments[13], this.mat4[14] = arguments[14], this.mat4[15] = arguments[15]), this);
      }, d.Matrix.prototype.get = function () {
        return new d.Matrix(this.mat4, this.p5);
      }, d.Matrix.prototype.copy = function () {
        var a = new d.Matrix(this.p5);return a.mat4[0] = this.mat4[0], a.mat4[1] = this.mat4[1], a.mat4[2] = this.mat4[2], a.mat4[3] = this.mat4[3], a.mat4[4] = this.mat4[4], a.mat4[5] = this.mat4[5], a.mat4[6] = this.mat4[6], a.mat4[7] = this.mat4[7], a.mat4[8] = this.mat4[8], a.mat4[9] = this.mat4[9], a.mat4[10] = this.mat4[10], a.mat4[11] = this.mat4[11], a.mat4[12] = this.mat4[12], a.mat4[13] = this.mat4[13], a.mat4[14] = this.mat4[14], a.mat4[15] = this.mat4[15], a;
      }, d.Matrix.identity = function (a) {
        return new d.Matrix(a);
      }, d.Matrix.prototype.transpose = function (a) {
        var b, c, e, g, h, i;return a instanceof d.Matrix ? (b = a.mat4[1], c = a.mat4[2], e = a.mat4[3], g = a.mat4[6], h = a.mat4[7], i = a.mat4[11], this.mat4[0] = a.mat4[0], this.mat4[1] = a.mat4[4], this.mat4[2] = a.mat4[8], this.mat4[3] = a.mat4[12], this.mat4[4] = b, this.mat4[5] = a.mat4[5], this.mat4[6] = a.mat4[9], this.mat4[7] = a.mat4[13], this.mat4[8] = c, this.mat4[9] = g, this.mat4[10] = a.mat4[10], this.mat4[11] = a.mat4[14], this.mat4[12] = e, this.mat4[13] = h, this.mat4[14] = i, this.mat4[15] = a.mat4[15]) : f(a) && (b = a[1], c = a[2], e = a[3], g = a[6], h = a[7], i = a[11], this.mat4[0] = a[0], this.mat4[1] = a[4], this.mat4[2] = a[8], this.mat4[3] = a[12], this.mat4[4] = b, this.mat4[5] = a[5], this.mat4[6] = a[9], this.mat4[7] = a[13], this.mat4[8] = c, this.mat4[9] = g, this.mat4[10] = a[10], this.mat4[11] = a[14], this.mat4[12] = e, this.mat4[13] = h, this.mat4[14] = i, this.mat4[15] = a[15]), this;
      }, d.Matrix.prototype.invert = function (a) {
        var b, c, e, g, h, i, j, k, l, m, n, o, p, q, r, s;a instanceof d.Matrix ? (b = a.mat4[0], c = a.mat4[1], e = a.mat4[2], g = a.mat4[3], h = a.mat4[4], i = a.mat4[5], j = a.mat4[6], k = a.mat4[7], l = a.mat4[8], m = a.mat4[9], n = a.mat4[10], o = a.mat4[11], p = a.mat4[12], q = a.mat4[13], r = a.mat4[14], s = a.mat4[15]) : f(a) && (b = a[0], c = a[1], e = a[2], g = a[3], h = a[4], i = a[5], j = a[6], k = a[7], l = a[8], m = a[9], n = a[10], o = a[11], p = a[12], q = a[13], r = a[14], s = a[15]);var t = b * i - c * h,
            u = b * j - e * h,
            v = b * k - g * h,
            w = c * j - e * i,
            x = c * k - g * i,
            y = e * k - g * j,
            z = l * q - m * p,
            A = l * r - n * p,
            B = l * s - o * p,
            C = m * r - n * q,
            D = m * s - o * q,
            E = n * s - o * r,
            F = t * E - u * D + v * C + w * B - x * A + y * z;return F ? (F = 1 / F, this.mat4[0] = (i * E - j * D + k * C) * F, this.mat4[1] = (e * D - c * E - g * C) * F, this.mat4[2] = (q * y - r * x + s * w) * F, this.mat4[3] = (n * x - m * y - o * w) * F, this.mat4[4] = (j * B - h * E - k * A) * F, this.mat4[5] = (b * E - e * B + g * A) * F, this.mat4[6] = (r * v - p * y - s * u) * F, this.mat4[7] = (l * y - n * v + o * u) * F, this.mat4[8] = (h * D - i * B + k * z) * F, this.mat4[9] = (c * B - b * D - g * z) * F, this.mat4[10] = (p * x - q * v + s * t) * F, this.mat4[11] = (m * v - l * x - o * t) * F, this.mat4[12] = (i * A - h * C - j * z) * F, this.mat4[13] = (b * C - c * A + e * z) * F, this.mat4[14] = (q * u - p * w - r * t) * F, this.mat4[15] = (l * w - m * u + n * t) * F, this) : null;
      }, d.Matrix.prototype.invert3x3 = function () {
        var a = this.mat3[0],
            b = this.mat3[1],
            c = this.mat3[2],
            d = this.mat3[3],
            e = this.mat3[4],
            f = this.mat3[5],
            g = this.mat3[6],
            h = this.mat3[7],
            i = this.mat3[8],
            j = i * e - f * h,
            k = -i * d + f * g,
            l = h * d - e * g,
            m = a * j + b * k + c * l;return m ? (m = 1 / m, this.mat3[0] = j * m, this.mat3[1] = (-i * b + c * h) * m, this.mat3[2] = (f * b - c * e) * m, this.mat3[3] = k * m, this.mat3[4] = (i * a - c * g) * m, this.mat3[5] = (-f * a + c * d) * m, this.mat3[6] = l * m, this.mat3[7] = (-h * a + b * g) * m, this.mat3[8] = (e * a - b * d) * m, this) : null;
      }, d.Matrix.prototype.transpose3x3 = function (a) {
        var b = a[1],
            c = a[2],
            d = a[5];return this.mat3[1] = a[3], this.mat3[2] = a[6], this.mat3[3] = b, this.mat3[5] = a[7], this.mat3[6] = c, this.mat3[7] = d, this;
      }, d.Matrix.prototype.inverseTranspose = function (a) {
        void 0 === this.mat3 ? console.error("sorry, this function only works with mat3") : (this.mat3[0] = a.mat4[0], this.mat3[1] = a.mat4[1], this.mat3[2] = a.mat4[2], this.mat3[3] = a.mat4[4], this.mat3[4] = a.mat4[5], this.mat3[5] = a.mat4[6], this.mat3[6] = a.mat4[8], this.mat3[7] = a.mat4[9], this.mat3[8] = a.mat4[10]);var b = this.invert3x3();if (b) b.transpose3x3(this.mat3);else for (var c = 0; c < 9; c++) {
          this.mat3[c] = 0;
        }return this;
      }, d.Matrix.prototype.determinant = function () {
        var a = this.mat4[0] * this.mat4[5] - this.mat4[1] * this.mat4[4],
            b = this.mat4[0] * this.mat4[6] - this.mat4[2] * this.mat4[4],
            c = this.mat4[0] * this.mat4[7] - this.mat4[3] * this.mat4[4],
            d = this.mat4[1] * this.mat4[6] - this.mat4[2] * this.mat4[5],
            e = this.mat4[1] * this.mat4[7] - this.mat4[3] * this.mat4[5],
            f = this.mat4[2] * this.mat4[7] - this.mat4[3] * this.mat4[6],
            g = this.mat4[8] * this.mat4[13] - this.mat4[9] * this.mat4[12],
            h = this.mat4[8] * this.mat4[14] - this.mat4[10] * this.mat4[12],
            i = this.mat4[8] * this.mat4[15] - this.mat4[11] * this.mat4[12],
            j = this.mat4[9] * this.mat4[14] - this.mat4[10] * this.mat4[13],
            k = this.mat4[9] * this.mat4[15] - this.mat4[11] * this.mat4[13];return a * (this.mat4[10] * this.mat4[15] - this.mat4[11] * this.mat4[14]) - b * k + c * j + d * i - e * h + f * g;
      }, d.Matrix.prototype.mult = function (a) {
        var b;if (a === this || a === this.mat4) b = this.copy().mat4;else if (a instanceof d.Matrix) b = a.mat4;else {
          if (!f(a)) return;b = a;
        }var c = this.mat4[0],
            e = this.mat4[1],
            g = this.mat4[2],
            h = this.mat4[3];return this.mat4[0] = c * b[0] + e * b[4] + g * b[8] + h * b[12], this.mat4[1] = c * b[1] + e * b[5] + g * b[9] + h * b[13], this.mat4[2] = c * b[2] + e * b[6] + g * b[10] + h * b[14], this.mat4[3] = c * b[3] + e * b[7] + g * b[11] + h * b[15], c = this.mat4[4], e = this.mat4[5], g = this.mat4[6], h = this.mat4[7], this.mat4[4] = c * b[0] + e * b[4] + g * b[8] + h * b[12], this.mat4[5] = c * b[1] + e * b[5] + g * b[9] + h * b[13], this.mat4[6] = c * b[2] + e * b[6] + g * b[10] + h * b[14], this.mat4[7] = c * b[3] + e * b[7] + g * b[11] + h * b[15], c = this.mat4[8], e = this.mat4[9], g = this.mat4[10], h = this.mat4[11], this.mat4[8] = c * b[0] + e * b[4] + g * b[8] + h * b[12], this.mat4[9] = c * b[1] + e * b[5] + g * b[9] + h * b[13], this.mat4[10] = c * b[2] + e * b[6] + g * b[10] + h * b[14], this.mat4[11] = c * b[3] + e * b[7] + g * b[11] + h * b[15], c = this.mat4[12], e = this.mat4[13], g = this.mat4[14], h = this.mat4[15], this.mat4[12] = c * b[0] + e * b[4] + g * b[8] + h * b[12], this.mat4[13] = c * b[1] + e * b[5] + g * b[9] + h * b[13], this.mat4[14] = c * b[2] + e * b[6] + g * b[10] + h * b[14], this.mat4[15] = c * b[3] + e * b[7] + g * b[11] + h * b[15], this;
      }, d.Matrix.prototype.scale = function (a, b, c) {
        return a instanceof d.Vector ? (b = a.y, c = a.z, a = a.x) : a instanceof Array && (b = a[1], c = a[2], a = a[0]), this.mat4[0] *= a, this.mat4[1] *= a, this.mat4[2] *= a, this.mat4[3] *= a, this.mat4[4] *= b, this.mat4[5] *= b, this.mat4[6] *= b, this.mat4[7] *= b, this.mat4[8] *= c, this.mat4[9] *= c, this.mat4[10] *= c, this.mat4[11] *= c, this;
      }, d.Matrix.prototype.rotate = function (a, b, c, e) {
        var f = this.p5 ? this.p5._toRadians(a) : a;b instanceof d.Vector ? (c = b.y, e = b.z, b = b.x) : b instanceof Array && (c = b[1], e = b[2], b = b[0]);var g = Math.sqrt(b * b + c * c + e * e);b *= 1 / g, c *= 1 / g, e *= 1 / g;var h = this.mat4[0],
            i = this.mat4[1],
            j = this.mat4[2],
            k = this.mat4[3],
            l = this.mat4[4],
            m = this.mat4[5],
            n = this.mat4[6],
            o = this.mat4[7],
            p = this.mat4[8],
            q = this.mat4[9],
            r = this.mat4[10],
            s = this.mat4[11],
            t = Math.sin(f),
            u = Math.cos(f),
            v = 1 - u,
            w = b * b * v + u,
            x = c * b * v + e * t,
            y = e * b * v - c * t,
            z = b * c * v - e * t,
            A = c * c * v + u,
            B = e * c * v + b * t,
            C = b * e * v + c * t,
            D = c * e * v - b * t,
            E = e * e * v + u;return this.mat4[0] = h * w + l * x + p * y, this.mat4[1] = i * w + m * x + q * y, this.mat4[2] = j * w + n * x + r * y, this.mat4[3] = k * w + o * x + s * y, this.mat4[4] = h * z + l * A + p * B, this.mat4[5] = i * z + m * A + q * B, this.mat4[6] = j * z + n * A + r * B, this.mat4[7] = k * z + o * A + s * B, this.mat4[8] = h * C + l * D + p * E, this.mat4[9] = i * C + m * D + q * E, this.mat4[10] = j * C + n * D + r * E, this.mat4[11] = k * C + o * D + s * E, this;
      }, d.Matrix.prototype.translate = function (a) {
        var b = a[0],
            c = a[1],
            d = a[2] || 0;this.mat4[12] += this.mat4[0] * b + this.mat4[4] * c + this.mat4[8] * d, this.mat4[13] += this.mat4[1] * b + this.mat4[5] * c + this.mat4[9] * d, this.mat4[14] += this.mat4[2] * b + this.mat4[6] * c + this.mat4[10] * d, this.mat4[15] += this.mat4[3] * b + this.mat4[7] * c + this.mat4[11] * d;
      }, d.Matrix.prototype.rotateX = function (a) {
        this.rotate(a, 1, 0, 0);
      }, d.Matrix.prototype.rotateY = function (a) {
        this.rotate(a, 0, 1, 0);
      }, d.Matrix.prototype.rotateZ = function (a) {
        this.rotate(a, 0, 0, 1);
      }, d.Matrix.prototype.perspective = function (a, b, c, d) {
        var e = 1 / Math.tan(a / 2),
            f = 1 / (c - d);return this.mat4[0] = e / b, this.mat4[1] = 0, this.mat4[2] = 0, this.mat4[3] = 0, this.mat4[4] = 0, this.mat4[5] = e, this.mat4[6] = 0, this.mat4[7] = 0, this.mat4[8] = 0, this.mat4[9] = 0, this.mat4[10] = (d + c) * f, this.mat4[11] = -1, this.mat4[12] = 0, this.mat4[13] = 0, this.mat4[14] = 2 * d * c * f, this.mat4[15] = 0, this;
      }, d.Matrix.prototype.ortho = function (a, b, c, d, e, f) {
        var g = 1 / (a - b),
            h = 1 / (c - d),
            i = 1 / (e - f);return this.mat4[0] = -2 * g, this.mat4[1] = 0, this.mat4[2] = 0, this.mat4[3] = 0, this.mat4[4] = 0, this.mat4[5] = -2 * h, this.mat4[6] = 0, this.mat4[7] = 0, this.mat4[8] = 0, this.mat4[9] = 0, this.mat4[10] = 2 * i, this.mat4[11] = 0, this.mat4[12] = (a + b) * g, this.mat4[13] = (d + c) * h, this.mat4[14] = (f + e) * i, this.mat4[15] = 1, this;
      }, b.exports = d.Matrix;
    }, { "../core/main": 24 }], 72: [function (a, b, c) {
      "use strict";
      var d = a("../core/main"),
          e = a("../core/constants");d.RendererGL.prototype.beginShape = function (a) {
        return this.immediateMode.shapeMode = void 0 !== a ? a : e.LINE_STRIP, void 0 === this.immediateMode.vertices ? (this.immediateMode.vertices = [], this.immediateMode.edges = [], this.immediateMode.lineVertices = [], this.immediateMode.vertexColors = [], this.immediateMode.lineNormals = [], this.immediateMode.uvCoords = [], this.immediateMode.vertexBuffer = this.GL.createBuffer(), this.immediateMode.colorBuffer = this.GL.createBuffer(), this.immediateMode.uvBuffer = this.GL.createBuffer(), this.immediateMode.lineVertexBuffer = this.GL.createBuffer(), this.immediateMode.lineNormalBuffer = this.GL.createBuffer(), this.immediateMode.pointVertexBuffer = this.GL.createBuffer(), this.immediateMode._bezierVertex = [], this.immediateMode._quadraticVertex = [], this.immediateMode._curveVertex = []) : (this.immediateMode.vertices.length = 0, this.immediateMode.edges.length = 0, this.immediateMode.lineVertices.length = 0, this.immediateMode.lineNormals.length = 0, this.immediateMode.vertexColors.length = 0, this.immediateMode.uvCoords.length = 0), this.isImmediateDrawing = !0, this;
      }, d.RendererGL.prototype.vertex = function (a, b) {
        var c, e, f;c = e = f = 0, 3 === arguments.length ? c = arguments[2] : 4 === arguments.length ? (e = arguments[2], f = arguments[3]) : 5 === arguments.length && (c = arguments[2], e = arguments[3], f = arguments[4]);var g = new d.Vector(a, b, c);this.immediateMode.vertices.push(g);var h = this.curFillColor || [.5, .5, .5, 1];return this.immediateMode.vertexColors.push(h[0], h[1], h[2], h[3]), this.immediateMode.uvCoords.push(e, f), this.immediateMode._bezierVertex[0] = a, this.immediateMode._bezierVertex[1] = b, this.immediateMode._bezierVertex[2] = c, this.immediateMode._quadraticVertex[0] = a, this.immediateMode._quadraticVertex[1] = b, this.immediateMode._quadraticVertex[2] = c, this;
      }, d.RendererGL.prototype.endShape = function (a, b, c, f, g, h) {
        if (this.immediateMode.shapeMode === e.POINTS) this._usePointShader(), this.curPointShader.bindShader(), this._drawPoints(this.immediateMode.vertices, this.immediateMode.pointVertexBuffer), this.curPointShader.unbindShader();else if (this.immediateMode.vertices.length > 1) {
          if (this._useImmediateModeShader(), this._doStroke && this.drawMode !== e.TEXTURE) {
            for (var i = 0; i < this.immediateMode.vertices.length - 1; i++) {
              this.immediateMode.edges.push([i, i + 1]);
            }a === e.CLOSE && this.immediateMode.edges.push([this.immediateMode.vertices.length - 1, 0]), d.Geometry.prototype._edgesToVertices.call(this.immediateMode), this._drawStrokeImmediateMode();
          }if (this._doFill) {
            if (this.isBezier || this.isQuadratic || this.isCurve) {
              var j = [new Float32Array(this._vToNArray(this.immediateMode.vertices))],
                  k = this._triangulate(j);this.immediateMode.vertices = [];for (var l = 0, m = k.length; l < m; l += 3) {
                this.vertex(k[l], k[l + 1], k[l + 2]);
              }
            }this._drawFillImmediateMode(a, b, c, f, g, h);
          }
        }return this.immediateMode.vertices.length = 0, this.immediateMode.vertexColors.length = 0, this.immediateMode.uvCoords.length = 0, this.isImmediateDrawing = !1, this.isBezier = !1, this.isQuadratic = !1, this.isCurve = !1, this.immediateMode._bezierVertex.length = 0, this.immediateMode._quadraticVertex.length = 0, this.immediateMode._curveVertex.length = 0, this;
      }, d.RendererGL.prototype._drawFillImmediateMode = function (a, b, c, d, f, g) {
        var h = this.GL;if (this.curFillShader.bindShader(), this.curFillShader.attributes.aPosition && (this._bindBuffer(this.immediateMode.vertexBuffer, h.ARRAY_BUFFER, this._vToNArray(this.immediateMode.vertices), Float32Array, h.DYNAMIC_DRAW), this.curFillShader.enableAttrib(this.curFillShader.attributes.aPosition.location, 3, h.FLOAT, !1, 0, 0)), this.drawMode === e.FILL && this.curFillShader.attributes.aVertexColor && (this._bindBuffer(this.immediateMode.colorBuffer, h.ARRAY_BUFFER, this.immediateMode.vertexColors, Float32Array, h.DYNAMIC_DRAW), this.curFillShader.enableAttrib(this.curFillShader.attributes.aVertexColor.location, 4, h.FLOAT, !1, 0, 0)), this.drawMode === e.TEXTURE && this.curFillShader.attributes.aTexCoord && (this._bindBuffer(this.immediateMode.uvBuffer, h.ARRAY_BUFFER, this.immediateMode.uvCoords, Float32Array, h.DYNAMIC_DRAW), this.curFillShader.enableAttrib(this.curFillShader.attributes.aTexCoord.location, 2, h.FLOAT, !1, 0, 0)), this.drawMode === e.FILL || this.drawMode === e.TEXTURE) switch (this.immediateMode.shapeMode) {case e.LINE_STRIP:case e.LINES:case e.TRIANGLES:
            this.immediateMode.shapeMode = this.isBezier || this.isQuadratic || this.isCurve ? e.TRIANGLES : e.TRIANGLE_FAN;} else switch (this.immediateMode.shapeMode) {case e.LINE_STRIP:case e.LINES:
            this.immediateMode.shapeMode = e.LINE_LOOP;}if (this.immediateMode.shapeMode === e.QUADS || this.immediateMode.shapeMode === e.QUAD_STRIP) throw new Error("sorry, " + this.immediateMode.shapeMode + " not yet implemented in webgl mode.");this._applyColorBlend(this.curFillColor), h.enable(h.BLEND), h.drawArrays(this.immediateMode.shapeMode, 0, this.immediateMode.vertices.length), this._pInst._pixelsDirty = !0, this.curFillShader.unbindShader();
      }, d.RendererGL.prototype._drawStrokeImmediateMode = function () {
        var a = this.GL;this.curStrokeShader.bindShader(), this.curStrokeShader.attributes.aPosition && (this._bindBuffer(this.immediateMode.lineVertexBuffer, a.ARRAY_BUFFER, this._flatten(this.immediateMode.lineVertices), Float32Array, a.STATIC_DRAW), this.curStrokeShader.enableAttrib(this.curStrokeShader.attributes.aPosition.location, 3, a.FLOAT, !1, 0, 0)), this.curStrokeShader.attributes.aDirection && (this._bindBuffer(this.immediateMode.lineNormalBuffer, a.ARRAY_BUFFER, this._flatten(this.immediateMode.lineNormals), Float32Array, a.STATIC_DRAW), this.curStrokeShader.enableAttrib(this.curStrokeShader.attributes.aDirection.location, 4, a.FLOAT, !1, 0, 0)), this._applyColorBlend(this.curStrokeColor), a.drawArrays(a.TRIANGLES, 0, this.immediateMode.lineVertices.length), this.curStrokeShader.unbindShader(), this._pInst._pixelsDirty = !0;
      }, b.exports = d.RendererGL;
    }, { "../core/constants": 18, "../core/main": 24 }], 73: [function (a, b, c) {
      "use strict";
      var d = a("../core/main"),
          e = 0;d.RendererGL.prototype._initBufferDefaults = function (a) {
        if (this._freeBuffers(a), ++e > 1e3) {
          var b = Object.keys(this.gHash)[0];delete this.gHash[b], e--;
        }this.gHash[a] = {};
      }, d.RendererGL.prototype._freeBuffers = function (a) {
        var b = this.gHash[a];if (b) {
          delete this.gHash[a], e--;var c = this.GL;b.vertexBuffer && c.deleteBuffer(b.vertexBuffer), b.normalBuffer && c.deleteBuffer(b.normalBuffer), b.lineNormalBuffer && c.deleteBuffer(b.lineNormalBuffer), b.uvBuffer && c.deleteBuffer(b.uvBuffer), b.indexBuffer && c.deleteBuffer(b.indexBuffer), b.lineVertexBuffer && c.deleteBuffer(b.lineVertexBuffer);
        }
      }, d.RendererGL.prototype.createBuffers = function (a, b) {
        var c = this.GL;this._initBufferDefaults(a);var d = this.gHash[a];return d.numberOfItems = 3 * b.faces.length, d.lineVertexCount = b.lineVertices.length, this._useColorShader(), this.curStrokeShader.attributes.aPosition && (d.lineVertexBuffer = c.createBuffer(), this._bindBuffer(d.lineVertexBuffer, c.ARRAY_BUFFER, this._flatten(b.lineVertices), Float32Array, c.STATIC_DRAW), this.curStrokeShader.enableAttrib(this.curStrokeShader.attributes.aPosition.location, 3, c.FLOAT, !1, 0, 0)), this.curStrokeShader.attributes.aDirection && (d.lineNormalBuffer = c.createBuffer(), this._bindBuffer(d.lineNormalBuffer, c.ARRAY_BUFFER, this._flatten(b.lineNormals), Float32Array, c.STATIC_DRAW), this.curStrokeShader.enableAttrib(this.curStrokeShader.attributes.aDirection.location, 4, c.FLOAT, !1, 0, 0)), this.curFillShader.attributes.aPosition && (d.vertexBuffer = c.createBuffer(), this._bindBuffer(d.vertexBuffer, c.ARRAY_BUFFER, this._vToNArray(b.vertices), Float32Array, c.STATIC_DRAW), this.curFillShader.enableAttrib(this.curFillShader.attributes.aPosition.location, 3, c.FLOAT, !1, 0, 0)), d.indexBuffer = c.createBuffer(), this._bindBuffer(d.indexBuffer, c.ELEMENT_ARRAY_BUFFER, this._flatten(b.faces), Uint16Array, c.STATIC_DRAW), this.curFillShader.attributes.aNormal && (d.normalBuffer = c.createBuffer(), this._bindBuffer(d.normalBuffer, c.ARRAY_BUFFER, this._vToNArray(b.vertexNormals), Float32Array, c.STATIC_DRAW), this.curFillShader.enableAttrib(this.curFillShader.attributes.aNormal.location, 3, c.FLOAT, !1, 0, 0)), this.curFillShader.attributes.aTexCoord && (d.uvBuffer = c.createBuffer(), this._bindBuffer(d.uvBuffer, c.ARRAY_BUFFER, this._flatten(b.uvs), Float32Array, c.STATIC_DRAW), this.curFillShader.enableAttrib(this.curFillShader.attributes.aTexCoord.location, 2, c.FLOAT, !1, 0, 0)), d;
      }, d.RendererGL.prototype.drawBuffers = function (a) {
        var b = this.GL;this._useColorShader();var c = this.gHash[a];return this._doStroke && c.lineVertexCount > 0 && (this.curStrokeShader.bindShader(), c.lineVertexBuffer && (this._bindBuffer(c.lineVertexBuffer, b.ARRAY_BUFFER), this.curStrokeShader.enableAttrib(this.curStrokeShader.attributes.aPosition.location, 3, b.FLOAT, !1, 0, 0)), c.lineNormalBuffer && (this._bindBuffer(c.lineNormalBuffer, b.ARRAY_BUFFER), this.curStrokeShader.enableAttrib(this.curStrokeShader.attributes.aDirection.location, 4, b.FLOAT, !1, 0, 0)), this._applyColorBlend(this.curStrokeColor), this._drawArrays(b.TRIANGLES, a), this.curStrokeShader.unbindShader()), !1 !== this._doFill && (this.curFillShader.bindShader(), c.vertexBuffer && (this._bindBuffer(c.vertexBuffer, b.ARRAY_BUFFER), this.curFillShader.enableAttrib(this.curFillShader.attributes.aPosition.location, 3, b.FLOAT, !1, 0, 0)), c.indexBuffer && this._bindBuffer(c.indexBuffer, b.ELEMENT_ARRAY_BUFFER), c.normalBuffer && (this._bindBuffer(c.normalBuffer, b.ARRAY_BUFFER), this.curFillShader.enableAttrib(this.curFillShader.attributes.aNormal.location, 3, b.FLOAT, !1, 0, 0)), c.uvBuffer && (this._bindBuffer(c.uvBuffer, b.ARRAY_BUFFER), this.curFillShader.enableAttrib(this.curFillShader.attributes.aTexCoord.location, 2, b.FLOAT, !1, 0, 0)), this._applyColorBlend(this.curFillColor), this._drawElements(b.TRIANGLES, a), this.curFillShader.unbindShader()), this;
      }, d.RendererGL.prototype.drawBuffersScaled = function (a, b, c, d) {
        var e = this.uMVMatrix.copy();try {
          this.uMVMatrix.scale(b, c, d), this.drawBuffers(a);
        } finally {
          this.uMVMatrix = e;
        }
      }, d.RendererGL.prototype._drawArrays = function (a, b) {
        return this.GL.drawArrays(a, 0, this.gHash[b].lineVertexCount), this._pInst._pixelsDirty = !0, this;
      }, d.RendererGL.prototype._drawElements = function (a, b) {
        this.GL.drawElements(a, this.gHash[b].numberOfItems, this.GL.UNSIGNED_SHORT, 0), this._pInst._pixelsDirty = !0;
      }, d.RendererGL.prototype._drawPoints = function (a, b) {
        var c = this.GL;this._bindBuffer(b, c.ARRAY_BUFFER, this._vToNArray(a), Float32Array, c.STATIC_DRAW), this.curPointShader.enableAttrib(this.curPointShader.attributes.aPosition.location, 3, c.FLOAT, !1, 0, 0), c.drawArrays(c.Points, 0, a.length);
      }, b.exports = d.RendererGL;
    }, { "../core/main": 24 }], 74: [function (a, b, c) {
      "use strict";
      var d = a("../core/main"),
          e = a("../core/constants"),
          f = a("libtess");a("./p5.Shader"), a("./p5.Camera"), a("../core/p5.Renderer"), a("./p5.Matrix");var g = { immediateVert: "attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nvarying vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n", vertexColorVert: "attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n", vertexColorFrag: "precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n  gl_FragColor = vColor;\n}", normalVert: "attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying vec3 vVertexNormal;\nvarying highp vec2 vVertTexCoord;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n}\n", normalFrag: "precision mediump float;\nvarying vec3 vVertexNormal;\nvoid main(void) {\n  gl_FragColor = vec4(vVertexNormal, 1.0);\n}", basicFrag: "precision mediump float;\nvarying vec3 vVertexNormal;\nuniform vec4 uMaterialColor;\nvoid main(void) {\n  gl_FragColor = uMaterialColor;\n}", lightVert: "attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uViewMatrix;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\nuniform int uDirectionalLightCount;\nuniform int uPointLightCount;\n\nuniform vec3 uAmbientColor[8];\nuniform vec3 uLightingDirection[8];\nuniform vec3 uDirectionalColor[8];\nuniform vec3 uPointLightLocation[8];\nuniform vec3 uPointLightColor[8];\nuniform bool uSpecular;\n\nvarying vec3 vVertexNormal;\nvarying vec2 vVertTexCoord;\nvarying vec3 vLightWeighting;\n\nvoid main(void){\n\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\n  vec3 vertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertexNormal = vertexNormal;\n  vVertTexCoord = aTexCoord;\n\n  vec4 mvPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  vec3 eyeDirection = normalize(-mvPosition.xyz);\n\n  float shininess = 32.0;\n  float specularFactor = 2.0;\n  float diffuseFactor = 0.3;\n\n  vec3 ambientLightFactor = vec3(0.0);\n\n  for (int i = 0; i < 8; i++) {\n    if (uAmbientLightCount == i) break;\n    ambientLightFactor += uAmbientColor[i];\n  }\n\n\n  vec3 directionalLightFactor = vec3(0.0);\n\n  for (int j = 0; j < 8; j++) {\n    if (uDirectionalLightCount == j) break;\n    vec3 dir = uLightingDirection[j];\n    float directionalLightWeighting = max(dot(vertexNormal, -dir), 0.0);\n    directionalLightFactor += uDirectionalColor[j] * directionalLightWeighting;\n  }\n\n\n  vec3 pointLightFactor = vec3(0.0);\n\n  for (int k = 0; k < 8; k++) {\n    if (uPointLightCount == k) break;\n    vec3 loc = (uViewMatrix * vec4(uPointLightLocation[k], 1.0)).xyz;\n    vec3 lightDirection = normalize(loc - mvPosition.xyz);\n\n    float directionalLightWeighting = max(dot(vertexNormal, lightDirection), 0.0);\n\n    float specularLightWeighting = 0.0;\n    if (uSpecular ){\n      vec3 reflectionDirection = reflect(-lightDirection, vertexNormal);\n      specularLightWeighting = pow(max(dot(reflectionDirection, eyeDirection), 0.0), shininess);\n    }\n\n    pointLightFactor += uPointLightColor[k] * (specularFactor * specularLightWeighting\n      + directionalLightWeighting * diffuseFactor);\n  }\n\n  vLightWeighting =  ambientLightFactor + directionalLightFactor + pointLightFactor;\n}\n", lightTextureFrag: "precision mediump float;\n\nuniform vec4 uMaterialColor;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uUseLighting;\n\nvarying vec3 vLightWeighting;\nvarying highp vec2 vVertTexCoord;\n\nvoid main(void) {\n  gl_FragColor = isTexture ? texture2D(uSampler, vVertTexCoord) : uMaterialColor;\n  if (uUseLighting)\n    gl_FragColor.rgb *= vLightWeighting;\n}", phongVert: "precision mediump float;\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform vec3 uAmbientColor[8];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvoid main(void){\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = normalize(uNormalMatrix * normalize(aNormal));\n  vTexCoord = aTexCoord;\n\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 8; i++) {\n    if (uAmbientLightCount == i) break;\n    vAmbientColor += uAmbientColor[i];\n  }\n}\n",
        phongFrag: "precision mediump float;\n\n//uniform mat4 uModelViewMatrix;\nuniform mat4 uViewMatrix;\n\nuniform vec4 uMaterialColor;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uUseLighting;\n\nuniform vec3 uLightingDirection[8];\nuniform vec3 uDirectionalColor[8];\nuniform vec3 uPointLightLocation[8];\nuniform vec3 uPointLightColor[8];\nuniform bool uSpecular;\n\nuniform int uDirectionalLightCount;\nuniform int uPointLightCount;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvec3 V;\nvec3 N;\n\nconst float shininess = 32.0;\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n\tfloat specular;\n\tfloat diffuse;\n};\n\nfloat phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = normalize(reflect(-lightDirection, surfaceNormal));  \n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat lambertDiffuse(\n  vec3 lightDirection,\n  vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult light(vec3 lightVector) {\n\n  vec3 L = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  if (uSpecular)\n    lr.specular = phongSpecular(L, V, N, shininess);\n  lr.diffuse = lambertDiffuse(L, N);\n  return lr;\n}\n\nvoid main(void) {\n\n  V = normalize(vViewPosition);\n  N = vNormal;\n\n  vec3 diffuse = vec3(0.0);\n  float specular = 0.0;\n\n  for (int j = 0; j < 8; j++) {\n    if (uDirectionalLightCount == j) break;\n\n    LightResult result = light(uLightingDirection[j]);\n    diffuse += result.diffuse * uDirectionalColor[j];\n    specular += result.specular;\n  }\n\n  for (int k = 0; k < 8; k++) {\n    if (uPointLightCount == k) break;\n\n    vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[k], 1.0)).xyz;\n    vec3 lightVector = vViewPosition - lightPosition;\n\t\n    //calculate attenuation\n    float lightDistance = length(lightVector);\n    float falloff = 500.0 / (lightDistance + 500.0);\n\n    LightResult result = light(lightVector);\n    diffuse += result.diffuse * falloff * uPointLightColor[k];\n    specular += result.specular * falloff;\n  }\n\n  gl_FragColor = isTexture ? texture2D(uSampler, vTexCoord) : uMaterialColor;\n  gl_FragColor.rgb = gl_FragColor.rgb * (diffuse * diffuseFactor + vAmbientColor) + specular * specularFactor;\n}", fontVert: "precision mediump float;\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nvarying vec2 vTexCoord;\nvarying float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord;\n  w = gl_Position.w;\n}\n", fontFrag: "#extension GL_OES_standard_derivatives : enable\nprecision mediump float;\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision mediump int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nvarying vec2 vTexCoord;\n\n// some helper functions\nint round(float v) { return ifloor(v + 0.5); }\nivec2 round(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = round(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  gl_FragColor = uMaterialColor;\n  gl_FragColor.a *= saturate(max(antialias, cover));\n}", lineVert: "/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform vec4 uViewport;\n\n// using a scale <1 moves the lines towards the camera\n// in order to prevent popping effects due to half of\n// the line disappearing behind the geometry faces.\nvec3 scale = vec3(0.9995);\n\nattribute vec4 aPosition;\nattribute vec4 aDirection;\n  \nvoid main() {\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posq = uModelViewMatrix * (aPosition + vec4(aDirection.xyz, 0));\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // Discussed here:\n  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  \n  posp.xyz = posp.xyz * scale;\n  posq.xyz = posq.xyz * scale;\n\n  vec4 p = uProjectionMatrix * posp;\n  vec4 q = uProjectionMatrix * posq;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangent = normalize((q.xy*p.w - p.xy*q.w) * uViewport.zw);\n\n  // flip tangent to normal (it's already normalized)\n  vec2 normal = vec2(-tangent.y, tangent.x);\n\n  float thickness = aDirection.w * uStrokeWeight;\n  vec2 offset = normal * thickness / 2.0;\n\n  // Perspective ---\n  // convert from world to clip by multiplying with projection scaling factor\n  // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n  // invert Y, projections in Processing invert Y\n  vec2 perspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;\n\n  // No Perspective ---\n  // multiply by W (to cancel out division by W later in the pipeline) and\n  // convert from screen to clip (derived from clip to screen above)\n  vec2 noPerspScale = p.w / (0.5 * uViewport.zw);\n\n  //gl_Position.xy = p.xy + offset.xy * mix(noPerspScale, perspScale, float(perspective > 0));\n  gl_Position.xy = p.xy + offset.xy * perspScale;\n  gl_Position.zw = p.zw;\n}\n", lineFrag: "precision mediump float;\nprecision mediump int;\n\nuniform vec4 uMaterialColor;\n\nvoid main() {\n  gl_FragColor = uMaterialColor;\n}", pointVert: "attribute vec3 aPosition;\nuniform float uPointSize;\nvarying float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}", pointFrag: "precision mediump float;\nprecision mediump int;\nuniform vec4 uMaterialColor;\nvarying float vStrokeWeight;\n\nvoid main(){\n\tfloat mask = 0.0;\n\n\t// make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n    // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n\tmask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n\t// if strokeWeight is 1 or less lets just draw a square\n\t// this prevents weird artifacting from carving circles when our points are really small\n\t// if strokeWeight is larger than 1, we just use it as is\n\n\tmask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n\t// throw away the borders of the mask\n    // otherwise we get weird alpha blending issues\n\n\tif(mask > 0.98){\n      discard;\n  \t}\n\n  \tgl_FragColor = vec4(uMaterialColor.rgb * (1.0 - mask), uMaterialColor.a) ;\n}" };d.RendererGL = function (a, b, c, e) {
        return d.Renderer.call(this, a, b, c), this.attributes = {}, e = e || {}, this.attributes.alpha = void 0 === e.alpha || e.alpha, this.attributes.depth = void 0 === e.depth || e.depth, this.attributes.stencil = void 0 === e.stencil || e.stencil, this.attributes.antialias = void 0 !== e.antialias && e.antialias, this.attributes.premultipliedAlpha = void 0 !== e.premultipliedAlpha && e.premultipliedAlpha, this.attributes.preserveDrawingBuffer = void 0 === e.preserveDrawingBuffer || e.preserveDrawingBuffer, this.attributes.perPixelLighting = void 0 !== e.perPixelLighting && e.perPixelLighting, this._initContext(), this.isP3D = !0, this.GL = this.drawingContext, this.ambientLightColors = [], this.directionalLightDirections = [], this.directionalLightColors = [], this.pointLightPositions = [], this.pointLightColors = [], this.uMVMatrix = new d.Matrix(), this.uPMatrix = new d.Matrix(), this.uNMatrix = new d.Matrix("mat3"), this._curCamera = new d.Camera(this), this._curCamera._computeCameraDefaultSettings(), this._curCamera._setDefaultCamera(), this.gHash = {}, this._defaultLightShader = void 0, this._defaultImmediateModeShader = void 0, this._defaultNormalShader = void 0, this._defaultColorShader = void 0, this._defaultPointShader = void 0, this.curFillShader = void 0, this.curStrokeShader = void 0, this.curPointShader = void 0, this._useColorShader(), this.setStrokeShader(this._getLineShader()), this._usePointShader(), this._pointVertexBuffer = this.GL.createBuffer(), this.isImmediateDrawing = !1, this.immediateMode = {}, this.fill(255, 255, 255, 255), this.pointSize = 5, this.strokeWeight(1), this.stroke(0, 0, 0), this.textures = [], this._curveTightness = 6, this._lookUpTableBezier = [], this._lookUpTableQuadratic = [], this._lutBezierDetail = 0, this._lutQuadraticDetail = 0, this._tessy = this._initTessy(), this.fontInfos = {}, this;
      }, d.RendererGL.prototype = Object.create(d.Renderer.prototype), d.RendererGL.prototype._initContext = function () {
        try {
          if (this.drawingContext = this.canvas.getContext("webgl", this.attributes) || this.canvas.getContext("experimental-webgl", this.attributes), null === this.drawingContext) throw new Error("Error creating webgl context");console.log("p5.RendererGL: enabled webgl context");var a = this.drawingContext;a.enable(a.DEPTH_TEST), a.depthFunc(a.LEQUAL), a.viewport(0, 0, a.drawingBufferWidth, a.drawingBufferHeight), this._viewport = this.drawingContext.getParameter(this.drawingContext.VIEWPORT);
        } catch (a) {
          throw a;
        }
      }, d.RendererGL.prototype._resetContext = function (a, b, c) {
        var e = this.width,
            f = this.height,
            g = this.canvas.id,
            h = this.canvas;h && h.parentNode.removeChild(h), h = document.createElement("canvas"), h.id = g, this._pInst._userNode ? this._pInst._userNode.appendChild(h) : document.body.appendChild(h), this._pInst.canvas = h;var i = new d.RendererGL(this._pInst.canvas, this._pInst, !0, a);this._pInst._setProperty("_renderer", i), i.resize(e, f), i._applyDefaults(), this._pInst._elements.push(i), "function" == typeof c && setTimeout(function () {
          c.apply(window._renderer, b);
        }, 0);
      }, d.prototype.setAttributes = function (a, b) {
        this._assert3d("setAttributes");var c;void 0 !== b ? (c = {}, c[a] = b) : a instanceof Object && (c = a), this.push(), this._renderer._resetContext(c), this.pop();
      }, d.RendererGL.prototype._update = function () {
        this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0], this._curCamera.cameraMatrix.mat4[1], this._curCamera.cameraMatrix.mat4[2], this._curCamera.cameraMatrix.mat4[3], this._curCamera.cameraMatrix.mat4[4], this._curCamera.cameraMatrix.mat4[5], this._curCamera.cameraMatrix.mat4[6], this._curCamera.cameraMatrix.mat4[7], this._curCamera.cameraMatrix.mat4[8], this._curCamera.cameraMatrix.mat4[9], this._curCamera.cameraMatrix.mat4[10], this._curCamera.cameraMatrix.mat4[11], this._curCamera.cameraMatrix.mat4[12], this._curCamera.cameraMatrix.mat4[13], this._curCamera.cameraMatrix.mat4[14], this._curCamera.cameraMatrix.mat4[15]), this.ambientLightColors.length = 0, this.directionalLightDirections.length = 0, this.directionalLightColors.length = 0, this.pointLightPositions.length = 0, this.pointLightColors.length = 0;
      }, d.RendererGL.prototype.background = function () {
        var a = this._pInst.color.apply(this._pInst, arguments),
            b = a.levels[0] / 255,
            c = a.levels[1] / 255,
            d = a.levels[2] / 255,
            e = a.levels[3] / 255;this.GL.clearColor(b, c, d, e), this.GL.depthMask(!0), this.GL.clear(this.GL.COLOR_BUFFER_BIT | this.GL.DEPTH_BUFFER_BIT);
      }, d.RendererGL.prototype.fill = function (a, b, c, f) {
        var g = d.prototype.color.apply(this._pInst, arguments);this.curFillColor = g._array, this.isImmediateDrawing ? this.setFillShader(this._getImmediateModeShader()) : this.setFillShader(this._getColorShader()), this.drawMode = e.FILL, this.curFillShader.setUniform("uMaterialColor", this.curFillColor);
      }, d.RendererGL.prototype.stroke = function (a, b, c, e) {
        arguments[3] = 255;var f = d.prototype.color.apply(this._pInst, arguments);this.curStrokeColor = f._array, this.curStrokeShader.setUniform("uMaterialColor", this.curStrokeColor), this.curPointShader.setUniform("uMaterialColor", f._array);
      }, d.RendererGL.prototype.strokeWeight = function (a) {
        this.curStrokeWeight !== a && (this.pointSize = a, this.curStrokeWeight = a, this.curStrokeShader.setUniform("uStrokeWeight", a), this.curPointShader.setUniform("uPointSize", a));
      }, d.RendererGL.prototype.get = function (a, b, c, e) {
        return d.Renderer2D.prototype.get.apply(this, [a, b, c, e]);
      }, d.RendererGL.prototype.loadPixels = function () {
        if (!0 !== this.attributes.preserveDrawingBuffer) return void console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true.");var a = this._pInst._pixelDensity,
            b = this.width,
            c = this.height;b *= a, c *= a, void 0 === this.pixels && (this.pixels = new Uint8Array(this.GL.drawingBufferWidth * this.GL.drawingBufferHeight * 4)), this.GL.readPixels(0, 0, b, c, this.GL.RGBA, this.GL.UNSIGNED_BYTE, this.pixels), this._pInst._setProperty("pixels", this.pixels);
      }, d.RendererGL.prototype.geometryInHash = function (a) {
        return void 0 !== this.gHash[a];
      }, d.RendererGL.prototype.resize = function (a, b) {
        d.Renderer.prototype.resize.call(this, a, b), this.GL.viewport(0, 0, this.GL.drawingBufferWidth, this.GL.drawingBufferHeight), this._viewport = this.GL.getParameter(this.GL.VIEWPORT), this._curCamera._resize(), void 0 !== this.pixels && (this.pixels = new Uint8Array(this.GL.drawingBufferWidth * this.GL.drawingBufferHeight * 4));
      }, d.RendererGL.prototype.clear = function () {
        var a = arguments[0] || 0,
            b = arguments[1] || 0,
            c = arguments[2] || 0,
            d = arguments[3] || 0;this.GL.clearColor(a, b, c, d), this.GL.clear(this.GL.COLOR_BUFFER_BIT | this.GL.DEPTH_BUFFER_BIT);
      }, d.RendererGL.prototype.translate = function (a, b, c) {
        return a instanceof d.Vector && (c = a.z, b = a.y, a = a.x), this.uMVMatrix.translate([a, b, c]), this;
      }, d.RendererGL.prototype.scale = function (a, b, c) {
        return this.uMVMatrix.scale(a, b, c), this;
      }, d.RendererGL.prototype.rotate = function (a, b) {
        return void 0 === b ? this.rotateZ(a) : (arguments[0] = this._pInst._fromRadians(a), d.Matrix.prototype.rotate.apply(this.uMVMatrix, arguments), this);
      }, d.RendererGL.prototype.rotateX = function (a) {
        return this.rotate(a, 1, 0, 0), this;
      }, d.RendererGL.prototype.rotateY = function (a) {
        return this.rotate(a, 0, 1, 0), this;
      }, d.RendererGL.prototype.rotateZ = function (a) {
        return this.rotate(a, 0, 0, 1), this;
      }, d.RendererGL.prototype.push = function () {
        var a = d.Renderer.prototype.push.apply(this),
            b = a.properties;return b.uMVMatrix = this.uMVMatrix.copy(), b.uPMatrix = this.uPMatrix.copy(), b._curCamera = this._curCamera, this._curCamera = this._curCamera.copy(), a;
      }, d.RendererGL.prototype.resetMatrix = function () {
        return this.uMVMatrix = d.Matrix.identity(this._pInst), this;
      }, d.RendererGL.prototype.setFillShader = function (a) {
        return this.curFillShader !== a && (this.curFillShader = a, this.curFillShader.init()), this.curFillShader;
      }, d.RendererGL.prototype.setPointShader = function (a) {
        return this.curPointShader !== a && (this.curPointShader = a, this.curPointShader.init()), this.curPointShader;
      }, d.RendererGL.prototype.setStrokeShader = function (a) {
        return this.curStrokeShader !== a && (this.curStrokeShader = a, this.curStrokeShader.init()), this.curStrokeShader;
      }, d.RendererGL.prototype._useLightShader = function () {
        return this.curFillShader && this.curFillShader.isLightShader() || this.setFillShader(this._getLightShader()), this.curFillShader;
      }, d.RendererGL.prototype._useColorShader = function () {
        return this.curFillShader && this.curFillShader !== this._defaultImmediateModeShader || this.setFillShader(this._getColorShader()), this.curFillShader;
      }, d.RendererGL.prototype._usePointShader = function () {
        return this.curPointShader || this.setPointShader(this._getPointShader()), this.curPointShader;
      }, d.RendererGL.prototype._useImmediateModeShader = function () {
        return this.curFillShader && this.curFillShader !== this._defaultColorShader || this.setFillShader(this._getImmediateModeShader()), this.curFillShader;
      }, d.RendererGL.prototype._getLightShader = function () {
        return this._defaultLightShader || (this.attributes.perPixelLighting ? this._defaultLightShader = new d.Shader(this, g.phongVert, g.phongFrag) : this._defaultLightShader = new d.Shader(this, g.lightVert, g.lightTextureFrag)), this._defaultLightShader;
      }, d.RendererGL.prototype._getImmediateModeShader = function () {
        return this._defaultImmediateModeShader || (this._defaultImmediateModeShader = new d.Shader(this, g.immediateVert, g.vertexColorFrag)), this._defaultImmediateModeShader;
      }, d.RendererGL.prototype._getNormalShader = function () {
        return this._defaultNormalShader || (this._defaultNormalShader = new d.Shader(this, g.normalVert, g.normalFrag)), this._defaultNormalShader;
      }, d.RendererGL.prototype._getColorShader = function () {
        return this._defaultColorShader || (this._defaultColorShader = new d.Shader(this, g.normalVert, g.basicFrag)), this._defaultColorShader;
      }, d.RendererGL.prototype._getPointShader = function () {
        return this._defaultPointShader || (this._defaultPointShader = new d.Shader(this, g.pointVert, g.pointFrag)), this._defaultPointShader;
      }, d.RendererGL.prototype._getLineShader = function () {
        return this._defaultLineShader || (this._defaultLineShader = new d.Shader(this, g.lineVert, g.lineFrag)), this._defaultLineShader;
      }, d.RendererGL.prototype._getFontShader = function () {
        return this._defaultFontShader || (this.GL.getExtension("OES_standard_derivatives"), this._defaultFontShader = new d.Shader(this, g.fontVert, g.fontFrag)), this._defaultFontShader;
      }, d.RendererGL.prototype._getEmptyTexture = function () {
        if (!this._emptyTexture) {
          var a = new d.Image(1, 1);a.set(0, 0, 255), this._emptyTexture = new d.Texture(this, a);
        }return this._emptyTexture;
      }, d.RendererGL.prototype.getTexture = function (a) {
        for (var b = this.textures, c = 0; c < b.length; ++c) {
          var e = b[c];if (e.src === a) return e;
        }var f = new d.Texture(this, a);return this.textures.push(f), f;
      }, d.RendererGL.prototype._bindBuffer = function (a, b, c, d, e) {
        if (this.GL.bindBuffer(b, a), void 0 !== c) {
          var f = new d(c);this.GL.bufferData(b, f, e);
        }
      }, d.RendererGL.prototype.smooth = function () {
        !1 === this.attributes.antialias && this._pInst.setAttributes("antialias", !0);
      }, d.RendererGL.prototype.noSmooth = function () {
        !0 === this.attributes.antialias && this._pInst.setAttributes("antialias", !1);
      }, d.RendererGL.prototype._flatten = function (a) {
        if (0 === a.length) return [];if (a.length > 2e4) {
          var b,
              c = Object.prototype.toString,
              d = "[object Array]",
              e = [],
              f = a.slice();b = f.pop();do {
            c.call(b) === d ? f.push.apply(f, b) : e.push(b);
          } while (f.length && void 0 !== (b = f.pop()));return e.reverse(), e;
        }return [].concat.apply([], a);
      }, d.RendererGL.prototype._vToNArray = function (a) {
        return this._flatten(a.map(function (a) {
          return [a.x, a.y, a.z];
        }));
      }, d.prototype._assert3d = function (a) {
        if (!this._renderer.isP3D) throw new Error(a + "() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information.");
      }, d.RendererGL.prototype._initTessy = function () {
        function a(a, b) {
          b[b.length] = a[0], b[b.length] = a[1], b[b.length] = a[2];
        }function b(a) {
          a !== f.primitiveType.GL_TRIANGLES && console.log("expected TRIANGLES but got type: " + a);
        }function c(a) {
          console.log("error callback"), console.log("error number: " + a);
        }function d(a, b, c) {
          return [a[0], a[1], a[2]];
        }function e(a) {}var g = new f.GluTesselator();return g.gluTessCallback(f.gluEnum.GLU_TESS_VERTEX_DATA, a), g.gluTessCallback(f.gluEnum.GLU_TESS_BEGIN, b), g.gluTessCallback(f.gluEnum.GLU_TESS_ERROR, c), g.gluTessCallback(f.gluEnum.GLU_TESS_COMBINE, d), g.gluTessCallback(f.gluEnum.GLU_TESS_EDGE_FLAG, e), g;
      }, d.RendererGL.prototype._triangulate = function (a) {
        this._tessy.gluTessNormal(0, 0, 1);var b = [];this._tessy.gluTessBeginPolygon(b);for (var c = 0; c < a.length; c++) {
          this._tessy.gluTessBeginContour();for (var d = a[c], e = 0; e < d.length; e += 3) {
            var f = [d[e], d[e + 1], d[e + 2]];this._tessy.gluTessVertex(f, f);
          }this._tessy.gluTessEndContour();
        }return this._tessy.gluTessEndPolygon(), b;
      }, d.RendererGL.prototype._bezierCoefficients = function (a) {
        var b = a * a,
            c = b * a,
            d = 1 - a,
            e = d * d;return [e * d, 3 * e * a, 3 * d * b, c];
      }, d.RendererGL.prototype._quadraticCoefficients = function (a) {
        var b = a * a,
            c = 1 - a;return [c * c, 2 * c * a, b];
      }, d.RendererGL.prototype._bezierToCatmull = function (a) {
        return [a[1], a[1] + (a[2] - a[0]) / this._curveTightness, a[2] - (a[3] - a[1]) / this._curveTightness, a[2]];
      }, b.exports = d.RendererGL;
    }, { "../core/constants": 18, "../core/main": 24, "../core/p5.Renderer": 27, "./p5.Camera": 69, "./p5.Matrix": 71, "./p5.Shader": 75, libtess: 9 }], 75: [function (a, b, c) {
      "use strict";
      var d = a("../core/main");d.Shader = function (a, b, c) {
        this._renderer = a, this._vertSrc = b, this._fragSrc = c, this._vertShader = -1, this._fragShader = -1, this._glProgram = 0, this._loadedAttributes = !1, this.attributes = {}, this._loadedUniforms = !1, this.uniforms = {}, this._bound = !1, this.samplers = [];
      }, d.Shader.prototype.init = function () {
        if (0 === this._glProgram) {
          var a = this._renderer.GL;if (this._vertShader = a.createShader(a.VERTEX_SHADER), a.shaderSource(this._vertShader, this._vertSrc), a.compileShader(this._vertShader), !a.getShaderParameter(this._vertShader, a.COMPILE_STATUS)) return console.error("Yikes! An error occurred compiling the vertex shader:" + a.getShaderInfoLog(this._vertShader)), null;if (this._fragShader = a.createShader(a.FRAGMENT_SHADER), a.shaderSource(this._fragShader, this._fragSrc), a.compileShader(this._fragShader), !a.getShaderParameter(this._fragShader, a.COMPILE_STATUS)) return console.error("Darn! An error occurred compiling the fragment shader:" + a.getShaderInfoLog(this._fragShader)), null;this._glProgram = a.createProgram(), a.attachShader(this._glProgram, this._vertShader), a.attachShader(this._glProgram, this._fragShader), a.linkProgram(this._glProgram), a.getProgramParameter(this._glProgram, a.LINK_STATUS) || console.error("Snap! Error linking shader program: " + a.getProgramInfoLog(this._glProgram)), this._loadAttributes(), this._loadUniforms();
        }return this;
      }, d.Shader.prototype._loadAttributes = function () {
        if (!this._loadedAttributes) {
          this.attributes = {};for (var a = this._renderer.GL, b = a.getProgramParameter(this._glProgram, a.ACTIVE_ATTRIBUTES), c = 0; c < b; ++c) {
            var d = a.getActiveAttrib(this._glProgram, c),
                e = d.name,
                f = a.getAttribLocation(this._glProgram, e),
                g = {};g.name = e, g.location = f, g.type = d.type, g.size = d.size, this.attributes[e] = g;
          }this._loadedAttributes = !0;
        }
      }, d.Shader.prototype._loadUniforms = function () {
        if (!this._loadedUniforms) {
          for (var a = this._renderer.GL, b = a.getProgramParameter(this._glProgram, a.ACTIVE_UNIFORMS), c = 0, d = 0; d < b; ++d) {
            var e = a.getActiveUniform(this._glProgram, d),
                f = {};f.location = a.getUniformLocation(this._glProgram, e.name), f.size = e.size;var g = e.name;e.size > 1 && (g = g.substring(0, g.indexOf("[0]"))), f.name = g, f.type = e.type, f.type === a.SAMPLER_2D && (f.samplerIndex = c, c++, this.samplers.push(f)), this.uniforms[g] = f;
          }this._loadedUniforms = !0;
        }
      }, d.Shader.prototype.compile = function () {}, d.Shader.prototype.bindShader = function () {
        this.init(), this._bound || (this.useProgram(), this._bound = !0, this.bindTextures(), this._setMatrixUniforms(), this === this._renderer.curStrokeShader && this._setViewportUniform());
      }, d.Shader.prototype.unbindShader = function () {
        return this._bound && (this.unbindTextures(), this._bound = !1), this;
      }, d.Shader.prototype.bindTextures = function () {
        for (var a = this._renderer.GL, b = 0; b < this.samplers.length; b++) {
          var c = this.samplers[b],
              d = c.texture;void 0 === d && (d = this._renderer._getEmptyTexture()), a.activeTexture(a.TEXTURE0 + c.samplerIndex), d.bindTexture(), d.update(), a.uniform1i(c.location, c.samplerIndex);
        }
      }, d.Shader.prototype.updateTextures = function () {
        for (var a = 0; a < this.samplers.length; a++) {
          var b = this.samplers[a],
              c = b.texture;c && c.update();
        }
      }, d.Shader.prototype.unbindTextures = function () {}, d.Shader.prototype._setMatrixUniforms = function () {
        this.setUniform("uProjectionMatrix", this._renderer.uPMatrix.mat4), this.setUniform("uModelViewMatrix", this._renderer.uMVMatrix.mat4), this.setUniform("uViewMatrix", this._renderer._curCamera.cameraMatrix.mat4), this === this._renderer.curFillShader && (this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix), this.setUniform("uNormalMatrix", this._renderer.uNMatrix.mat3));
      }, d.Shader.prototype._setViewportUniform = function () {
        this.setUniform("uViewport", this._renderer._viewport);
      }, d.Shader.prototype.useProgram = function () {
        return this._renderer.GL.useProgram(this._glProgram), this;
      }, d.Shader.prototype.setUniform = function (a, b) {
        var c = this.uniforms[a];if (c) {
          var d = c.location,
              e = this._renderer.GL;switch (this.useProgram(), c.type) {case e.BOOL:
              !0 === b ? e.uniform1i(d, 1) : e.uniform1i(d, 0);break;case e.INT:
              c.size > 1 ? b.length && e.uniform1iv(d, b) : e.uniform1i(d, b);break;case e.FLOAT:
              c.size > 1 ? b.length && e.uniform1fv(d, b) : e.uniform1f(d, b);break;case e.FLOAT_MAT3:
              e.uniformMatrix3fv(d, !1, b);break;case e.FLOAT_MAT4:
              e.uniformMatrix4fv(d, !1, b);break;case e.FLOAT_VEC2:
              c.size > 1 ? b.length && e.uniform2fv(d, b) : e.uniform2f(d, b[0], b[1]);break;case e.FLOAT_VEC3:
              c.size > 1 ? b.length && e.uniform3fv(d, b) : e.uniform3f(d, b[0], b[1], b[2]);break;case e.FLOAT_VEC4:
              c.size > 1 ? b.length && e.uniform4fv(d, b) : e.uniform4f(d, b[0], b[1], b[2], b[3]);break;case e.INT_VEC2:
              c.size > 1 ? b.length && e.uniform2iv(d, b) : e.uniform2i(d, b[0], b[1]);break;case e.INT_VEC3:
              c.size > 1 ? b.length && e.uniform3iv(d, b) : e.uniform3i(d, b[0], b[1], b[2]);break;case e.INT_VEC4:
              c.size > 1 ? b.length && e.uniform4iv(d, b) : e.uniform4i(d, b[0], b[1], b[2], b[3]);break;case e.SAMPLER_2D:
              e.activeTexture(e.TEXTURE0 + c.samplerIndex), c.texture = this._renderer.getTexture(b), e.uniform1i(c.location, c.samplerIndex);}return this;
        }
      }, d.Shader.prototype.isLightShader = function () {
        return void 0 !== this.uniforms.uUseLighting || void 0 !== this.uniforms.uAmbientLightCount || void 0 !== this.uniforms.uDirectionalLightCount || void 0 !== this.uniforms.uPointLightCount || void 0 !== this.uniforms.uAmbientColor || void 0 !== this.uniforms.uDirectionalColor || void 0 !== this.uniforms.uPointLightLocation || void 0 !== this.uniforms.uPointLightColor || void 0 !== this.uniforms.uLightingDirection || void 0 !== this.uniforms.uSpecular;
      }, d.Shader.prototype.isTextureShader = function () {
        return this.samplerIndex > 0;
      }, d.Shader.prototype.isColorShader = function () {
        return void 0 !== this.attributes.aVertexColor || void 0 !== this.uniforms.uMaterialColor;
      }, d.Shader.prototype.isTexLightShader = function () {
        return this.isLightShader() && this.isTextureShader();
      }, d.Shader.prototype.isStrokeShader = function () {
        return void 0 !== this.uniforms.uStrokeWeight;
      }, d.Shader.prototype.enableAttrib = function (a, b, c, d, e, f) {
        var g = this._renderer.GL;return -1 !== a && (g.enableVertexAttribArray(a), g.vertexAttribPointer(a, b, c, d, e, f)), this;
      }, b.exports = d.Shader;
    }, { "../core/main": 24 }], 76: [function (a, b, c) {
      "use strict";
      var d = a("../core/main"),
          e = a("../core/constants");d.Texture = function (a, b) {
        this._renderer = a;var c = this._renderer.GL;this.src = b, this.glTex = void 0, this.glTarget = c.TEXTURE_2D, this.glFormat = c.RGBA, this.mipmaps = !1, this.glMinFilter = c.LINEAR, this.glMagFilter = c.LINEAR, this.glWrapS = c.CLAMP_TO_EDGE, this.glWrapT = c.CLAMP_TO_EDGE, this.isSrcMediaElement = void 0 !== d.MediaElement && b instanceof d.MediaElement, this._videoPrevUpdateTime = 0, this.isSrcHTMLElement = void 0 !== d.Element && b instanceof d.Element && !(b instanceof d.Graphics), this.isSrcP5Image = b instanceof d.Image, this.isSrcP5Graphics = b instanceof d.Graphics, this.isImageData = "undefined" != typeof ImageData && b instanceof ImageData;var e = this._getTextureDataFromSource();return this.width = e.width, this.height = e.height, this.init(e), this;
      }, d.Texture.prototype._getTextureDataFromSource = function () {
        var a;return this.isSrcP5Image ? a = this.src.canvas : this.isSrcMediaElement || this.isSrcP5Graphics || this.isSrcHTMLElement ? a = this.src.elt : this.isImageData && (a = this.src), a;
      }, d.Texture.prototype.init = function (a) {
        var b = this._renderer.GL;if (this.glTex = b.createTexture(), this.bindTexture(), b.texParameteri(b.TEXTURE_2D, b.TEXTURE_MAG_FILTER, this.glMagFilter), b.texParameteri(b.TEXTURE_2D, b.TEXTURE_MIN_FILTER, this.glMinFilter), b.texParameteri(b.TEXTURE_2D, b.TEXTURE_WRAP_S, this.glWrapS), b.texParameteri(b.TEXTURE_2D, b.TEXTURE_WRAP_T, this.glWrapT), 0 === this.width || 0 === this.height || this.isSrcMediaElement && !this.src.loadedmetadata) {
          var c = new Uint8Array([1, 1, 1, 1]);b.texImage2D(this.glTarget, 0, b.RGBA, 1, 1, 0, this.glFormat, b.UNSIGNED_BYTE, c);
        } else b.texImage2D(this.glTarget, 0, this.glFormat, this.glFormat, b.UNSIGNED_BYTE, a);
      }, d.Texture.prototype.update = function () {
        var a = this.src;if (0 === a.width || 0 === a.height) return !1;var b = this._getTextureDataFromSource(),
            c = !1,
            d = this._renderer.GL;return b.width !== this.width || b.height !== this.height ? (c = !0, this.width = b.width, this.height = b.height, this.isSrcP5Image ? a.setModified(!1) : (this.isSrcMediaElement || this.isSrcHTMLElement) && a.setModified(!0)) : this.isSrcP5Image ? a.isModified() && (c = !0, a.setModified(!1)) : this.isSrcMediaElement ? a.isModified() ? (c = !0, a.setModified(!1)) : a.loadedmetadata && this._videoPrevUpdateTime !== a.time() && (this._videoPrevUpdateTime = a.time(), c = !0) : this.isImageData ? a._dirty && (a._dirty = !1, c = !0) : c = !0, c && (this.bindTexture(), d.texImage2D(this.glTarget, 0, this.glFormat, this.glFormat, d.UNSIGNED_BYTE, b)), c;
      }, d.Texture.prototype.bindTexture = function () {
        return this._renderer.GL.bindTexture(this.glTarget, this.glTex), this;
      }, d.Texture.prototype.unbindTexture = function () {
        this._renderer.GL.bindTexture(this.glTarget, null);
      }, d.Texture.prototype.setInterpolation = function (a, b) {
        var c = this._renderer.GL;a === e.NEAREST ? this.glMinFilter = c.NEAREST : this.glMinFilter = c.LINEAR, b === e.NEAREST ? this.glMagFilter = c.NEAREST : this.glMagFilter = c.LINEAR, this.bindTexture(), c.texParameteri(c.TEXTURE_2D, c.TEXTURE_MIN_FILTER, this.glMinFilter), c.texParameteri(c.TEXTURE_2D, c.TEXTURE_MAG_FILTER, this.glMagFilter), this.unbindTexture();
      }, d.Texture.prototype.setWrapMode = function (a, b) {
        var c = this._renderer.GL,
            d = function d(a) {
          return 0 == (a & a - 1);
        },
            f = d(this.width),
            g = d(this.width);a === e.REPEAT ? f && g ? this.glWrapS = c.REPEAT : (console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"), this.glWrapS = c.CLAMP_TO_EDGE) : a === e.MIRROR ? f && g ? this.glWrapS = c.MIRRORED_REPEAT : (console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"), this.glWrapS = c.CLAMP_TO_EDGE) : this.glWrapS = c.CLAMP_TO_EDGE, b === e.REPEAT ? f && g ? this.glWrapT = c.REPEAT : (console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"), this.glWrapT = c.CLAMP_TO_EDGE) : b === e.MIRROR ? f && g ? this.glWrapT = c.MIRRORED_REPEAT : (console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"), this.glWrapT = c.CLAMP_TO_EDGE) : this.glWrapT = c.CLAMP_TO_EDGE, this.bindTexture(), c.texParameteri(c.TEXTURE_2D, c.TEXTURE_WRAP_S, this.glWrapS), c.texParameteri(c.TEXTURE_2D, c.TEXTURE_WRAP_T, this.glWrapT), this.unbindTexture();
      }, b.exports = d.Texture;
    }, { "../core/constants": 18, "../core/main": 24 }], 77: [function (a, b, c) {
      "use strict";
      function d(a, b) {
        this.width = a, this.height = b, this.infos = [], this.findImage = function (a) {
          var b = this.width * this.height;if (a > b) throw new Error("font is too complex to render in 3D");for (var c, d, e = this.infos.length - 1; e >= 0; --e) {
            var f = this.infos[e];if (f.index + a < b) {
              c = f, d = f.imageData;break;
            }
          }if (!c) {
            try {
              d = new ImageData(this.width, this.height);
            } catch (a) {
              var g = document.getElementsByTagName("canvas")[0],
                  h = !g;g || (g = document.createElement("canvas"), g.style.display = "none", document.body.appendChild(g));var i = g.getContext("2d");i && (d = i.createImageData(this.width, this.height)), h && document.body.removeChild(g);
            }c = { index: 0, imageData: d }, this.infos.push(c);
          }var j = c.index;return c.index += a, d._dirty = !0, { imageData: d, index: j };
        };
      }function e(a, b, c, d, e) {
        var f = a.imageData,
            g = f.data,
            h = 4 * a.index++;g[h++] = b, g[h++] = c, g[h++] = d, g[h++] = e;
      }var f = a("../core/main"),
          g = a("../core/constants");a("./p5.Shader"), a("./p5.RendererGL"), f.RendererGL.prototype._applyTextProperties = function () {}, f.RendererGL.prototype.textWidth = function (a) {
        return this._isOpenType() ? this._textFont._textWidth(a, this._textSize) : 0;
      };var h = 9,
          i = h,
          j = 64,
          k = 64,
          l = 64,
          m = 64,
          n = 64,
          o = 64,
          p = Math.sqrt(3),
          q = function q(a) {
        this.font = a, this.strokeImageInfos = new d(j, k), this.colDimImageInfos = new d(l, m), this.rowDimImageInfos = new d(l, m), this.colCellImageInfos = new d(n, o), this.rowCellImageInfos = new d(n, o), this.glyphInfos = {}, this.getGlyphInfo = function (a) {
          function b(a, b, c) {
            function d(a, b, c) {
              for (var d = a.length; d-- > 0;) {
                var e = a[d];b > e && (b = e), c < e && (c = e);
              }return { min: b, max: c };
            }var e = w.length;w.push(c);for (var f = d(a, 1, 0), g = Math.max(Math.floor(f.min * h), 0), j = Math.min(Math.ceil(f.max * h), h), k = g; k < j; ++k) {
              y[k].push(e);
            }for (var l = d(b, 1, 0), m = Math.max(Math.floor(l.min * i), 0), n = Math.min(Math.ceil(l.max * i), i), o = m; o < n; ++o) {
              x[o].push(e);
            }
          }function c(a, b, c) {
            return a < b ? b : a > c ? c : a;
          }function d(a) {
            return c(255 * a, 0, 255);
          }function g(a, b, c, d) {
            this.p0 = a, this.c0 = b, this.c1 = c, this.p1 = d, this.toQuadratic = function () {
              return { x: this.p0.x, y: this.p0.y, x1: this.p1.x, y1: this.p1.y, cx: (3 * (this.c0.x + this.c1.x) - (this.p0.x + this.p1.x)) / 4, cy: (3 * (this.c0.y + this.c1.y) - (this.p0.y + this.p1.y)) / 4 };
            }, this.quadError = function () {
              return f.Vector.sub(f.Vector.sub(this.p1, this.p0), f.Vector.mult(f.Vector.sub(this.c1, this.c0), 3)).mag() / 2;
            }, this.split = function (a) {
              var b = f.Vector.lerp(this.p0, this.c0, a),
                  c = f.Vector.lerp(this.c0, this.c1, a),
                  d = f.Vector.lerp(b, c, a);this.c1 = f.Vector.lerp(this.c1, this.p1, a), this.c0 = f.Vector.lerp(c, this.c1, a);var e = f.Vector.lerp(d, this.c0, a),
                  h = new g(this.p0, b, d, e);return this.p0 = e, h;
            }, this.splitInflections = function () {
              var a = f.Vector.sub(this.c0, this.p0),
                  b = f.Vector.sub(f.Vector.sub(this.c1, this.c0), a),
                  c = f.Vector.sub(f.Vector.sub(f.Vector.sub(this.p1, this.c1), a), f.Vector.mult(b, 2)),
                  d = [],
                  e = b.x * c.y - b.y * c.x;if (0 !== e) {
                var g = a.x * c.y - a.y * c.x,
                    h = a.x * b.y - a.y * b.x,
                    i = g * g - 4 * e * h;if (i >= 0) {
                  e < 0 && (e = -e, g = -g, h = -h);var j = Math.sqrt(i),
                      k = (-g - j) / (2 * e),
                      l = (-g + j) / (2 * e);k > 0 && k < 1 && (d.push(this.split(k)), l = 1 - (1 - l) / (1 - k)), l > 0 && l < 1 && d.push(this.split(l));
                }
              }return d.push(this), d;
            };
          }function j(a, b, c, d, e, h, i, j) {
            for (var k = new g(new f.Vector(a, b), new f.Vector(c, d), new f.Vector(e, h), new f.Vector(i, j)).splitInflections(), l = [], m = 30 / p, n = 0; n < k.length; n++) {
              for (var o, q = k[n], r = []; !((o = m / q.quadError()) >= .125);) {
                var s = Math.pow(o, 1 / 3),
                    t = q.split(s),
                    u = q.split(1 - s / (1 - s));l.push(t), r.push(q), q = u;
              }o < 1 && l.push(q.split(.5)), l.push(q), Array.prototype.push.apply(l, r.reverse());
            }return l;
          }function k(a, c, d, e) {
            b([a, d], [c, e], { x: a, y: c, cx: (a + d) / 2, cy: (c + e) / 2 });
          }function l(a, b, c, d) {
            return Math.abs(c - a) < 1e-5 && Math.abs(d - b) < 1e-5;
          }function m(a, b, c) {
            for (var d = a.length, f = b.findImage(d), g = f.index, h = 0, i = 0; i < d; ++i) {
              h += a[i].length;
            }for (var j = c.findImage(h), k = 0; k < d; ++k) {
              var l = a[k],
                  m = l.length,
                  n = j.index;e(f, n >> 7, 127 & n, m >> 7, 127 & m);for (var o = 0; o < m; ++o) {
                var p = l[o] + S;e(j, p >> 7, 127 & p, 0, 0);
              }
            }return { cellImageInfo: j, dimOffset: g, dimImageInfo: f };
          }var n = this.glyphInfos[a.index];if (n) return n;var o = a.getBoundingBox(),
              q = o.x1,
              r = o.y1,
              s = o.x2 - q,
              t = o.y2 - r,
              u = a.path.commands;if (0 === s || 0 === t || !u.length) return this.glyphInfos[a.index] = {};var v,
              w = [],
              x = [],
              y = [];for (v = h - 1; v >= 0; --v) {
            y.push([]);
          }for (v = i - 1; v >= 0; --v) {
            x.push([]);
          }for (var z, A, B, C, D = 0; D < u.length; ++D) {
            var E = u[D],
                F = (E.x - q) / s,
                G = (E.y - r) / t;if (!l(z, A, F, G)) {
              switch (E.type) {case "M":
                  B = F, C = G;break;case "L":
                  k(z, A, F, G);break;case "Q":
                  var H = (E.x1 - q) / s,
                      I = (E.y1 - r) / t;b([z, F, H], [A, G, I], { x: z, y: A, cx: H, cy: I });break;case "Z":
                  l(z, A, B, C) ? w.push({ x: z, y: A }) : (k(z, A, B, C), w.push({ x: B, y: C }));break;case "C":
                  for (var J = (E.x1 - q) / s, K = (E.y1 - r) / t, L = (E.x2 - q) / s, M = (E.y2 - r) / t, N = j(z, A, J, K, L, M, F, G), O = 0; O < N.length; O++) {
                    var P = N[O].toQuadratic();b([P.x, P.x1, P.cx], [P.y, P.y1, P.cy], P);
                  }break;default:
                  throw new Error("unknown command type: " + E.type);}z = F, A = G;
            }
          }for (var Q = w.length, R = this.strokeImageInfos.findImage(Q), S = R.index, T = 0; T < Q; ++T) {
            var U = w[T];e(R, d(U.x), d(U.y), d(U.cx), d(U.cy));
          }return n = this.glyphInfos[a.index] = { glyph: a, uGlyphRect: [o.x1, -o.y1, o.x2, -o.y2], strokeImageInfo: R, strokes: w, colInfo: m(y, this.colDimImageInfos, this.colCellImageInfos), rowInfo: m(x, this.rowDimImageInfos, this.rowCellImageInfos) }, n.uGridOffset = [n.colInfo.dimOffset, n.rowInfo.dimOffset], n;
        };
      };f.RendererGL.prototype._renderText = function (a, b, c, d, e) {
        if (!(d >= e) && this._doFill) {
          if (!this._isOpenType()) return console.log("WEBGL: only opentype fonts are supported"), a;a.push();var p = this.curFillShader,
              r = this._doStroke,
              s = this.drawMode;this.curFillShader = null, this._doStroke = !1, this.drawMode = g.TEXTURE;var t = this._textFont.font,
              u = this._textFont._fontInfo;u || (u = this._textFont._fontInfo = new q(t));var v = this._textFont._handleAlignment(this, b, c, d),
              w = this._textSize,
              x = w / t.unitsPerEm;this.translate(v.x, v.y, 0), this.scale(x, x, 1);var y = this.GL,
              z = !this._defaultFontShader,
              A = this.setFillShader(this._getFontShader());z && (A.setUniform("uGridImageSize", [l, m]), A.setUniform("uCellsImageSize", [n, o]), A.setUniform("uStrokeImageSize", [j, k]), A.setUniform("uGridSize", [h, i])), this._applyColorBlend(this.curFillColor);var B = this.gHash.glyph;if (!B) {
            var C = this._textGeom = new f.Geometry(1, 1, function () {
              for (var a = 0; a <= 1; a++) {
                for (var b = 0; b <= 1; b++) {
                  this.vertices.push(new f.Vector(b, a, 0)), this.uvs.push(b, a);
                }
              }
            });C.computeFaces().computeNormals(), B = this.createBuffers("glyph", C);
          }this._bindBuffer(B.vertexBuffer, y.ARRAY_BUFFER), A.enableAttrib(A.attributes.aPosition.location, 3, y.FLOAT, !1, 0, 0), this._bindBuffer(B.indexBuffer, y.ELEMENT_ARRAY_BUFFER), this._bindBuffer(B.uvBuffer, y.ARRAY_BUFFER), A.enableAttrib(A.attributes.aTexCoord.location, 2, y.FLOAT, !1, 0, 0), A.setUniform("uMaterialColor", this.curFillColor);try {
            for (var D = 0, E = null, F = !1, G = t.stringToGlyphs(b), H = 0; H < G.length; ++H) {
              var I = G[H];E && (D += t.getKerningValue(E, I));var J = u.getGlyphInfo(I);if (J.uGlyphRect) {
                var K = J.rowInfo,
                    L = J.colInfo;A.setUniform("uSamplerStrokes", J.strokeImageInfo.imageData), A.setUniform("uSamplerRowStrokes", K.cellImageInfo.imageData), A.setUniform("uSamplerRows", K.dimImageInfo.imageData), A.setUniform("uSamplerColStrokes", L.cellImageInfo.imageData), A.setUniform("uSamplerCols", L.dimImageInfo.imageData), A.setUniform("uGridOffset", J.uGridOffset), A.setUniform("uGlyphRect", J.uGlyphRect), A.setUniform("uGlyphOffset", D), F ? A.bindTextures() : (F = !0, A.bindShader()), y.drawElements(y.TRIANGLES, 6, this.GL.UNSIGNED_SHORT, 0);
              }D += I.advanceWidth, E = I;
            }
          } finally {
            A.unbindShader(), this.curFillShader = p, this._doStroke = r, this.drawMode = s, a.pop();
          }return this._pInst._pixelsDirty = !0, a;
        }
      };
    }, { "../core/constants": 18, "../core/main": 24, "./p5.RendererGL": 74, "./p5.Shader": 75 }] }, {}, [13])(13);
});
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var g;

// This works in non-strict mode
g = function () {
	return this;
}();

try {
	// This works if eval is allowed (see CSP)
	g = g || Function("return this")() || (1, eval)("this");
} catch (e) {
	// This works if the window reference is available
	if ((typeof window === "undefined" ? "undefined" : _typeof(window)) === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ml = __webpack_require__(4);

var ML5 = _interopRequireWildcard(_ml);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var SIZE = 256;

var sketch = function sketch(p5) {
  var pix2pix = void 0;
  var modelReady = false;
  var isTransfering = false;

  // Draw the input image to the canvas
  var drawImage = function drawImage(img) {
    p5.image(img, 0, 0);
  };

  var transfer = function transfer() {
    // Set isTransfering to true
    isTransfering = true;

    // Update status message
    var statusMessage = document.querySelector('#status');
    var message = 'Crete a drawing in the left box and the computer<br>will respond with its own drawing';
    statusMessage.innerHTML = message;

    // Select canvas DOM element
    var canvasElement = document.querySelector('canvas'); // .elt;

    // Apply pix2pix transformation
    pix2pix.transfer(canvasElement, function (err, result) {
      if (err) {
        console.error('error:', err);
        return;
      }

      if (result && result.src) {
        // Set isTransfering back to false
        isTransfering = false;
        // Update the output img src
        var img = document.querySelector('#output img');
        img.src = result.src;
        // Show 'Done!' message
        statusMessage.innerHTML = message;
      }
    });
  };

  // Clear the canvas
  var clearCanvas = function clearCanvas(event) {
    p5.background(255);
    transfer();
    event.target.blur();
  };

  // A function to be called when the models have loaded
  var modelLoaded = function modelLoaded() {
    // Update status message
    var statusMessage = document.querySelector('#status');
    statusMessage.innerHTML = 'Model Loaded';

    // Set modelReady to true
    modelReady = true;

    // Call transfer function after the model is loaded
    transfer();

    // Enable and set click event to clearButton
    var clearButton = document.querySelector('#clearButton');
    clearButton.removeAttribute('disabled');
    clearButton.addEventListener('click', clearCanvas);

    // Enable radio buttons
    var radioButtons = document.querySelectorAll('#container .mdc-radio');
    radioButtons.forEach(function (rb) {
      rb.classList.remove('mdc-radio--disabled');
      var i = rb.querySelector('input');
      i.removeAttribute('disabled');
    });

    // Transfer the drawing using the newly loaded model
    transfer();
  };

  // When mouse is released, transfer the current image if the model is loaded and it's not in the
  // process of another transformation
  p5.mouseReleased = function () {
    if (modelReady && !isTransfering) {
      transfer();
    }
  };

  //
  // Setup and Draw functions
  //

  p5.setup = function () {
    // Create a canvas
    var inputCanvas = p5.createCanvas(SIZE, SIZE);
    inputCanvas.class('border-box').parent('canvasContainer');

    // Display initial input image
    // TODO: Use my own default image
    p5.loadImage('images/pikachu1.png', drawImage);

    // Set stroke to black
    p5.stroke(0);
    p5.pixelDensity(1);

    // Set up radio buttons to switch models
    var radioButtons = document.querySelectorAll('#container .mdc-radio');
    radioButtons.forEach(function (radioButton) {
      var input = radioButton.querySelector('input');
      input.addEventListener('change', function (event) {
        // Disable radio buttons
        radioButtons.forEach(function (rb) {
          rb.classList.add('mdc-radio--disabled');
          var i = rb.querySelector('input');
          i.setAttribute('disabled', null);
        });

        // Update status message
        var statusMessage = document.querySelector('#status');
        statusMessage.innerHTML = 'Downloading model...';

        // Create a pix2pix method with a pre-trained model
        var modelName = event.target.id;
        var modelPath = './models/' + modelName + '.pict';
        pix2pix = ML5.pix2pix(modelPath, modelLoaded);
      });
    });

    // Update status message
    var statusMessage = document.querySelector('#status');
    statusMessage.innerHTML = 'Downloading model...';

    // Create a pix2pix method with a pre-trained model
    var modelPath = './models/edges2pikachu.pict';
    pix2pix = ML5.pix2pix(modelPath, modelLoaded);
  };

  p5.draw = function () {
    if (p5.mouseIsPressed && modelLoaded && !isTransfering &&
    // Ensure mouse is within canvas
    p5.mouseX >= 0 && p5.mouseY >= 0 && p5.mouseX < p5.width && p5.mouseY < p5.height) {
      p5.line(p5.mouseX, p5.mouseY, p5.pmouseX, p5.pmouseY);
    }
  };
};

exports.default = sketch;

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};!function(e,t){"object"==( false?"undefined":_typeof(exports))&&"object"==( false?"undefined":_typeof(module))?module.exports=t(): true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (t),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?exports.ml5=t():e.ml5=t();}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports;}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r});},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0});},n.n=function(e){var t=e&&e.__esModule?function(){return e.default;}:function(){return e;};return n.d(t,"a",t),t;},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t);},n.p="/",n(n.s=555);}([function(e,t,n){"use strict";n.r(t),n.d(t,"assertArgumentsAreTensors",function(){return i;}),n.d(t,"shuffle",function(){return o;}),n.d(t,"clamp",function(){return s;}),n.d(t,"randUniform",function(){return u;}),n.d(t,"distSquared",function(){return c;}),n.d(t,"assert",function(){return l;}),n.d(t,"assertShapesMatch",function(){return f;}),n.d(t,"assertTypesMatch",function(){return p;}),n.d(t,"flatten",function(){return h;}),n.d(t,"inferShape",function(){return d;}),n.d(t,"sizeFromShape",function(){return m;}),n.d(t,"isScalarShape",function(){return g;}),n.d(t,"arraysEqual",function(){return y;}),n.d(t,"isInt",function(){return v;}),n.d(t,"tanh",function(){return b;}),n.d(t,"sizeToSquarishShape",function(){return w;}),n.d(t,"createShuffledIndices",function(){return x;}),n.d(t,"rightPad",function(){return k;}),n.d(t,"repeatedTry",function(){return O;}),n.d(t,"getQueryParams",function(){return S;}),n.d(t,"inferFromImplicitShape",function(){return N;}),n.d(t,"squeezeShape",function(){return E;}),n.d(t,"getTypedArrayFromDType",function(){return I;}),n.d(t,"isTensorInList",function(){return T;}),n.d(t,"checkForNaN",function(){return A;}),n.d(t,"flattenNameArrayMap",function(){return C;}),n.d(t,"unflattenToNameArrayMap",function(){return P;}),n.d(t,"hasEncodingLoss",function(){return _;}),n.d(t,"copyTypedArray",function(){return R;}),n.d(t,"isTypedArray",function(){return M;}),n.d(t,"bytesPerElement",function(){return j;}),n.d(t,"isFunction",function(){return D;}),n.d(t,"extractTensorsFromContainer",function(){return L;}),n.d(t,"extractTensorsFromAny",function(){return z;});var r=n(6);function a(e,t,n){l(e instanceof r.a,"Argument '"+t+"' passed to '"+n+"' must be a Tensor, but got "+(typeof e==="undefined"?"undefined":_typeof(e))+".");}function i(e,t){var n=function n(_n2){var r=e[_n2];Array.isArray(r)?r.forEach(function(e,r){a(e,_n2+"["+r+"]",t);}):a(r,_n2,t);};for(var r in e){n(r);}}function o(e){for(var t=e.length,n=0,r=0;t>0;){r=Math.random()*t|0,n=e[--t],e[t]=e[r],e[r]=n;}}function s(e,t,n){return Math.max(e,Math.min(t,n));}function u(e,t){return Math.random()*(t-e)+e;}function c(e,t){for(var n=0,r=0;r<e.length;r++){var a=Number(e[r])-Number(t[r]);n+=a*a;}return n;}function l(e,t){if(!e)throw new Error(t);}function f(e,t,n){void 0===n&&(n=""),l(y(e,t),n+" Shapes "+e+" and "+t+" must match");}function p(e,t){l(e.dtype===t.dtype," The dtypes of the first("+e.dtype+") and second("+t.dtype+") input must match");}function h(e,t){if(void 0===t&&(t=[]),Array.isArray(e))for(var n=0;n<e.length;++n){h(e[n],t);}else t.push(e);return t;}function d(e){if(M(e))return[e.length];if(!Array.isArray(e))return[];for(var t=[];e instanceof Array;){t.push(e.length),e=e[0];}return t;}function m(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++){t*=e[n];}return t;}function g(e){return 0===e.length;}function y(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){if(e[n]!==t[n])return!1;}return!0;}function v(e){return e%1==0;}function b(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1);}function w(e){for(var t=Math.floor(Math.sqrt(e));t>1;--t){if(e%t==0)return[t,e/t];}return[1,e];}function x(e){for(var t=new Uint32Array(e),n=0;n<e;++n){t[n]=n;}return o(t),t;}function k(e,t){return t<=e.length?e:e+" ".repeat(t-e.length);}function O(e,t,n){return void 0===t&&(t=function t(e){return 0;}),new Promise(function(r,a){var i=0,o=function o(){if(e())r();else{var s=t(++i);null!=n&&i>=n?a():setTimeout(o,s);}};setTimeout(o,0);});}function S(e){var t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(e){for(var n=[],r=1;r<arguments.length;r++){n[r-1]=arguments[r];}return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"");}(t,n[0],n[1]),n.join("=");}),t;}function N(e,t){for(var n=1,r=-1,a=0;a<e.length;++a){if(e[a]>0)n*=e[a];else if(-1===e[a]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. Found - 1 at dim "+r+" and dim "+a);r=a;}else if(e[a]<=0)throw Error("Shapes can not be <= 0. Found "+e[a]+" at dim "+a);}if(-1===r){if(t>0&&t!==n)throw Error("Size("+t+") must match the product of shape "+e);return e;}if(t%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+t+" / "+n);var i=e.slice();return i[r]=t/n,i;}function E(e,t){for(var n=[],r=[],a=0,i=0;i<e.length;++i){if(null!=t){if(t[a]===i&&e[i]>1)throw new Error("Can't squeeze axis "+i+" since its dim '"+e[i]+"' is not 1");(null==t[a]||t[a]>i)&&1===e[i]&&(n.push(e[i]),r.push(i)),t[a]<=i&&a++;}e[i]>1&&(n.push(e[i]),r.push(i));}return{newShape:n,keptDims:r};}function I(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type "+e);n=new Uint8Array(t);}return n;}function T(e,t){for(var n=0;n<t.length;n++){if(t[n].id===e.id)return!0;}return!1;}function A(e,t,n){if("float32"===t)for(var r=0;r<e.length;r++){if(isNaN(e[r]))throw Error("The result of the '"+n+"' has NaNs.");}}function C(e,t){var n=[];if(e instanceof r.a)n.push(e);else for(var a=e,i=0;i<t.length;i++){n.push(a[t[i]]);}return n;}function P(e,t){if(e.length!==t.length)throw new Error("Cannot unflatten Tensor[], keys and arrays are not of same length.");for(var n={},r=0;r<e.length;r++){n[e[r]]=t[r];}return n;}function _(e,t){return!("float32"===t||"int32"===t&&"float32"!==e||"bool"===t&&"bool"===e);}function R(e,t){if(null==t||"float32"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var n=new Uint8Array(e.length),r=0;r<n.length;++r){0!==Math.round(e[r])&&(n[r]=1);}return n;}throw new Error("Unknown data type "+t);}function M(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array;}function j(e){if("float32"===e||"int32"===e)return 4;if("bool"===e)return 1;throw new Error("Unknown dtype "+e);}function D(e){return!!(e&&e.constructor&&e.call&&e.apply);}function L(e){return z(e);}function z(e){if(null==e)return[];if(e instanceof r.a)return[e];var t=[],n=e;if(!function(e){return Array.isArray(e)||"object"==(typeof e==="undefined"?"undefined":_typeof(e));}(n))return[];for(var a in n){var i=h(n[a]).filter(function(e){return e instanceof r.a;});t.push.apply(t,i);}return t;}},function(e,t,n){"use strict";var r=n(9),a=n(2),i=n(3),o=n(0),s=n(11),u=n(4),c=function c(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;},l=function(){function e(){}return e.batchNormalization2d=function(t,n,r,a,i,s){return void 0===a&&(a=.001),o.assert(2===t.rank,"Error in batchNormalization3D: x must be rank 3 but got rank "+t.rank+"."),o.assert(2===n.rank||1===n.rank,"Error in batchNormalization2D: mean must be rank 2 or rank 1 but got rank "+n.rank+"."),o.assert(2===r.rank||1===r.rank,"Error in batchNormalization2D: variance must be rank 2 or rank 1 but got rank "+r.rank+"."),null!=i&&o.assert(2===i.rank||1===i.rank,"Error in batchNormalization2D: scale must be rank 2 or rank 1 but got rank "+i.rank+"."),null!=s&&o.assert(2===s.rank||1===s.rank,"Error in batchNormalization2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."),e.batchNormalization(t,n,r,a,i,s);},e.batchNormalization3d=function(t,n,r,a,i,s){return void 0===a&&(a=.001),o.assert(3===t.rank,"Error in batchNormalization3D: x must be rank 3 but got rank "+t.rank+"."),o.assert(3===n.rank||1===n.rank,"Error in batchNormalization3D: mean must be rank 3 or rank 1 but got rank "+n.rank+"."),o.assert(3===r.rank||1===r.rank,"Error in batchNormalization3D: variance must be rank 3 or rank 1 but got rank "+r.rank+"."),null!=i&&o.assert(3===i.rank||1===i.rank,"Error in batchNormalization3D: scale must be rank 3 or rank 1 but got rank "+i.rank+"."),null!=s&&o.assert(3===s.rank||1===s.rank,"Error in batchNormalization3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."),e.batchNormalization(t,n,r,a,i,s);},e.batchNormalization4d=function(t,n,r,a,i,s){return void 0===a&&(a=.001),o.assert(4===t.rank,"Error in batchNormalization4D: x must be rank 4 but got rank "+t.rank+"."),o.assert(4===n.rank||1===n.rank,"Error in batchNormalization4D: mean must be rank 4 or rank 1 but got rank "+n.rank+"."),o.assert(4===r.rank||1===r.rank,"Error in batchNormalization4D: variance must be rank 4 or rank 1 but got rank "+r.rank+"."),null!=i&&o.assert(4===i.rank||1===i.rank,"Error in batchNormalization4D: scale must be rank 4 or rank 1 but got rank "+i.rank+"."),null!=s&&o.assert(4===s.rank||1===s.rank,"Error in batchNormalization4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."),e.batchNormalization(t,n,r,a,i,s);},e.batchNormalization=function(e,t,n,a,u,c){var l;return void 0===a&&(a=.001),o.assertArgumentsAreTensors({x:e,mean:t,variance:n},"batchNormalization"),null!=u&&o.assertArgumentsAreTensors({scale:u},"batchNormalization"),null!=c&&o.assertArgumentsAreTensors({offset:c},"batchNormalization"),o.assert(t.rank===n.rank,"Batch normalization gradient requires mean and variance to have equal ranks."),o.assert(null==c||t.rank===c.rank,"Batch normalization gradient requires mean and offset to have equal ranks."),o.assert(null==u||t.rank===u.rank,"Batch normalization gradient requires mean and scale to have equal ranks."),l=0===e.rank||1===e.rank?e.as4D(1,1,1,e.size):2===e.rank?e.as4D(1,1,e.shape[0],e.shape[1]):3===e.rank?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e,i.ENV.engine.runKernel(function(e){return e.batchNormalization(l,f(t),f(n),a,f(u),f(c));},{x:e,mean:t,variance:n,scale:u,offset:c},function(i){var o=null==u?r.a.scalar(1):u,c=Object(s.d)(t.shape,l.shape),f=[];if(1===t.rank){for(var p=0;p<l.shape.length-1;++p){f.push(l.shape[p]);}f.push(1);}var h=e.sub(t),d=i.mul(o),m=Ft(n.add(r.a.scalar(a))),g=m.mul(m).mul(m).mul(r.a.scalar(-.5));return{x:function x(){return 1===t.rank?i.mul(r.a.tile(m.as4D(1,1,1,t.shape[0]),f)).mul(o).reshape(e.shape):i.mul(m).mul(o).reshape(e.shape);},mean:function mean(){var e=m.mul(r.a.scalar(-1)).mul(d);return 1===t.rank&&(e=e.sum(c)),e.reshape(t.shape);},variance:function variance(){var e=g.mul(h).mul(d);return 1===t.rank&&(e=e.sum(c)),e.reshape(t.shape);},scale:function scale(){var e=h.mul(m),n=i.mul(e);return 1===t.rank&&(n=n.sum(c)),n.reshape(t.shape);},offset:function offset(){var e=i;return 1===t.rank&&(e=e.sum(c)),e.reshape(t.shape);}};}).reshape(e.shape);},c([u.a],e,"batchNormalization2d",null),c([u.a],e,"batchNormalization3d",null),c([u.a],e,"batchNormalization4d",null),c([Object(a.a)({heading:"Operations",subheading:"Normalization"})],e,"batchNormalization",null),e;}();function f(e){return null==e?null:0===e.rank?e.as1D():1===e.rank?e:2===e.rank?e.as4D(1,1,e.shape[0],e.shape[1]):3===e.rank?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e;}var p=n(20),h=function h(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;},d=function(){function e(){}return e.add=function(e,t){o.assertArgumentsAreTensors({a:e,b:t},"add"),o.assertTypesMatch(e,t);var n=s.a(e.shape,t.shape);return i.ENV.engine.runKernel(function(n){return n.add(e,t);},{a:e,b:t},function(r){return{a:function a(){var t=r,a=s.d(e.shape,n);return a.length>0&&(t=t.sum(a)),t.reshape(e.shape);},b:function b(){var e=r,a=s.d(t.shape,n);return a.length>0&&(e=e.sum(a)),e.reshape(t.shape);}};});},e.addStrict=function(e,t){return o.assertShapesMatch(e.shape,t.shape,"Error in addStrict: "),e.add(t);},e.sub=function(e,t){o.assertArgumentsAreTensors({a:e,b:t},"sub"),o.assertTypesMatch(e,t);var n=s.a(e.shape,t.shape);return i.ENV.engine.runKernel(function(n){return n.subtract(e,t);},{a:e,b:t},function(r){return{a:function a(){var t=r,a=s.d(e.shape,n);return a.length>0&&(t=t.sum(a)),t.reshape(e.shape);},b:function b(){var e=r,a=s.d(t.shape,n);return a.length>0&&(e=e.sum(a)),e.neg().reshape(t.shape);}};});},e.subStrict=function(e,t){return o.assertShapesMatch(e.shape,t.shape,"Error in subStrict: "),e.sub(t);},e.pow=function(e,t){o.assertArgumentsAreTensors({base:e,exp:t},"pow");var n=s.a(e.shape,t.shape);return e=e.cast(Object(p.c)(e.dtype,t.dtype)),t=t.cast(Object(p.c)(e.dtype,t.dtype)),i.ENV.engine.runKernel(function(n,r){return r(n.pow(e,t));},{base:e,exp:t},function(r,a){var i=a[0];return{base:function base(){var a=r.mul(t.toFloat().mul(i.div(e))),o=s.d(e.shape,n);return o.length>0&&(a=a.sum(o)),a.reshape(e.shape);},exp:function exp(){var a=r.mul(i.mul(e.log()).toFloat()),o=s.d(t.shape,n);return o.length>0&&(a=a.sum(o)),a.reshape(t.shape);}};});},e.powStrict=function(e,t){return o.assertShapesMatch(e.shape,t.shape,"Error in powStrict: "),e.pow(t);},e.mul=function(e,t){o.assertArgumentsAreTensors({a:e,b:t},"mul"),o.assertTypesMatch(e,t);var n=s.a(e.shape,t.shape);return i.ENV.engine.runKernel(function(n){return n.multiply(e,t);},{a:e,b:t},function(r){return{a:function a(){var a=r.mul(t.toFloat()),i=s.d(e.shape,n);return i.length>0?a.sum(i).reshape(e.shape):a;},b:function b(){var a=r.mul(e.toFloat()),i=s.d(t.shape,n);return i.length>0?a.sum(i).reshape(t.shape):a;}};});},e.mulStrict=function(e,t){return o.assertShapesMatch(e.shape,t.shape,"Error in multiplyStrict: "),e.mul(t);},e.div=function(e,t){o.assertArgumentsAreTensors({a:e,b:t},"div"),o.assertTypesMatch(e,t);var n=s.a(e.shape,t.shape);return i.ENV.engine.runKernel(function(n){return n.divide(e,t);},{a:e,b:t},function(r){return{a:function a(){var a=r.div(t.toFloat()),i=s.d(e.shape,n);return i.length>0?a.sum(i).reshape(e.shape):a;},b:function b(){var a=r.mul(e.toFloat()),i=s.d(t.shape,n);i.length>0&&(a=a.sum(i).reshape(t.shape));var o=t.square();return a.div(o.toFloat()).neg();}};});},e.divStrict=function(e,t){return o.assertShapesMatch(e.shape,t.shape,"Error in divideStrict: "),e.div(t);},e.mod=function(e,t){o.assertArgumentsAreTensors({a:e,b:t},"mod"),o.assertTypesMatch(e,t);var n=s.a(e.shape,t.shape);return i.ENV.engine.runKernel(function(n){return n.mod(e,t);},{a:e,b:t},function(r){return{a:function a(){var t=s.d(e.shape,n);return t.length>0?r.sum(t).reshape(e.shape):r;},b:function b(){var a=r.mul(e.div(t).floor().neg()),i=s.d(t.shape,n);return i.length>0?a.sum(i).reshape(t.shape):a;}};});},e.modStrict=function(e,t){return o.assertShapesMatch(e.shape,t.shape,"Error in modStrict: "),e.mod(t);},e.minimum=function(e,t){return o.assertArgumentsAreTensors({a:e,b:t},"minimum"),o.assertTypesMatch(e,t),"bool"===e.dtype&&(e=e.toInt()),"bool"===t.dtype&&(t=t.toInt()),s.a(e.shape,t.shape),i.ENV.engine.runKernel(function(n){return n.minimum(e,t);},{a:e,b:t},function(n){return{a:function a(){return n.mul(e.lessEqual(t).toFloat());},b:function b(){return n.mul(e.greater(t).toFloat());}};});},e.minimumStrict=function(e,t){return o.assertShapesMatch(e.shape,t.shape,"Error in minimumStrict: "),e.minimum(t);},e.maximum=function(e,t){return o.assertArgumentsAreTensors({a:e,b:t},"maximum"),o.assertTypesMatch(e,t),"bool"===e.dtype&&(e=e.toInt()),"bool"===t.dtype&&(t=t.toInt()),s.a(e.shape,t.shape),i.ENV.engine.runKernel(function(n){return n.maximum(e,t);},{a:e,b:t},function(n){return{a:function a(){return n.mul(e.greaterEqual(t).toFloat());},b:function b(){return n.mul(e.less(t).toFloat());}};});},e.maximumStrict=function(e,t){return o.assertShapesMatch(e.shape,t.shape,"Error in minimumStrict: "),e.maximum(t);},e.squaredDifference=function(e,t){return o.assertArgumentsAreTensors({a:e,b:t},"squaredDifference"),o.assertTypesMatch(e,t),s.a(e.shape,t.shape),i.ENV.engine.runKernel(function(n){return n.squaredDifference(e,t);},{a:e,b:t},function(n){var r=Dn(2);return{a:function a(){return n.mul(e.sub(t).mul(r));},b:function b(){return n.mul(t.sub(e).mul(r));}};});},e.squaredDifferenceStrict=function(e,t){return o.assertShapesMatch(e.shape,t.shape,"Error in squaredDifferenceStrict: "),e.squaredDifference(t);},e.atan2=function(t,n){o.assertArgumentsAreTensors({a:t,b:n},"atan2"),o.assertTypesMatch(t,n);var r=s.a(t.shape,n.shape);return i.ENV.engine.runKernel(function(e){return e.atan2(t,n);},{a:t,b:n},function(_a2){return{a:function a(){var i=e.add(Bt(t),Bt(n)),o=_a2.mul(n.div(i)),u=s.d(t.shape,r);return u.length>0&&(o=o.sum(u)),o.reshape(t.shape);},b:function b(){var i=e.add(Bt(t),Bt(n)),o=Tt(_a2.mul(t.div(i))),u=s.d(n.shape,r);return u.length>0&&(o=o.sum(u)),o.reshape(n.shape);}};});},h([Object(a.a)({heading:"Operations",subheading:"Arithmetic"}),u.a],e,"add",null),h([u.a],e,"addStrict",null),h([Object(a.a)({heading:"Operations",subheading:"Arithmetic"}),u.a],e,"sub",null),h([u.a],e,"subStrict",null),h([Object(a.a)({heading:"Operations",subheading:"Arithmetic"}),u.a],e,"pow",null),h([u.a],e,"powStrict",null),h([Object(a.a)({heading:"Operations",subheading:"Arithmetic"}),u.a],e,"mul",null),h([u.a],e,"mulStrict",null),h([Object(a.a)({heading:"Operations",subheading:"Arithmetic"}),u.a],e,"div",null),h([u.a],e,"divStrict",null),h([Object(a.a)({heading:"Operations",subheading:"Arithmetic"}),u.a],e,"mod",null),h([u.a],e,"modStrict",null),h([Object(a.a)({heading:"Operations",subheading:"Arithmetic"}),u.a],e,"minimum",null),h([u.a],e,"minimumStrict",null),h([Object(a.a)({heading:"Operations",subheading:"Arithmetic"}),u.a],e,"maximum",null),h([u.a],e,"maximumStrict",null),h([Object(a.a)({heading:"Operations",subheading:"Arithmetic"}),u.a],e,"squaredDifference",null),h([u.a],e,"squaredDifferenceStrict",null),h([u.a],e,"atan2",null),e;}(),m=function m(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;},g=function(){function e(){}return e.notEqual=function(e,t){return o.assertArgumentsAreTensors({a:e,b:t},"notEqual"),o.assertTypesMatch(e,t),s.a(e.shape,t.shape),i.ENV.engine.runKernel(function(n){return n.notEqual(e,t);},{a:e,b:t});},e.notEqualStrict=function(e,t){return o.assertShapesMatch(e.shape,t.shape,"Error in notEqualStrict: "),e.notEqual(t);},e.less=function(e,t){return o.assertArgumentsAreTensors({a:e,b:t},"less"),o.assertTypesMatch(e,t),s.a(e.shape,t.shape),i.ENV.engine.runKernel(function(n){return n.less(e,t);},{a:e,b:t});},e.lessStrict=function(e,t){return o.assertShapesMatch(e.shape,t.shape,"Error in lessStrict: "),e.less(t);},e.equal=function(e,t){return o.assertArgumentsAreTensors({a:e,b:t},"equal"),o.assertTypesMatch(e,t),s.a(e.shape,t.shape),i.ENV.engine.runKernel(function(n){return n.equal(e,t);},{a:e,b:t});},e.equalStrict=function(e,t){return o.assertShapesMatch(e.shape,t.shape,"Error in equalStrict: "),e.equal(t);},e.lessEqual=function(e,t){return o.assertArgumentsAreTensors({a:e,b:t},"lessEqual"),o.assertTypesMatch(e,t),s.a(e.shape,t.shape),i.ENV.engine.runKernel(function(n){return n.lessEqual(e,t);},{a:e,b:t});},e.lessEqualStrict=function(e,t){return o.assertShapesMatch(e.shape,t.shape,"Error in lessEqualStrict: "),e.lessEqual(t);},e.greater=function(e,t){return o.assertArgumentsAreTensors({a:e,b:t},"greater"),o.assertTypesMatch(e,t),s.a(e.shape,t.shape),i.ENV.engine.runKernel(function(n){return n.greater(e,t);},{a:e,b:t});},e.greaterStrict=function(e,t){return o.assertShapesMatch(e.shape,t.shape,"Error in greaterStrict: "),e.greater(t);},e.greaterEqual=function(e,t){return o.assertArgumentsAreTensors({a:e,b:t},"greaterEqual"),o.assertTypesMatch(e,t),s.a(e.shape,t.shape),i.ENV.engine.runKernel(function(n){return n.greaterEqual(e,t);},{a:e,b:t});},e.greaterEqualStrict=function(e,t){return o.assertShapesMatch(e.shape,t.shape,"Error in greaterEqualStrict: "),e.greaterEqual(t);},m([Object(a.a)({heading:"Operations",subheading:"Logical"}),u.a],e,"notEqual",null),m([u.a],e,"notEqualStrict",null),m([Object(a.a)({heading:"Operations",subheading:"Logical"}),u.a],e,"less",null),m([u.a],e,"lessStrict",null),m([Object(a.a)({heading:"Operations",subheading:"Logical"}),u.a],e,"equal",null),m([u.a],e,"equalStrict",null),m([Object(a.a)({heading:"Operations",subheading:"Logical"}),u.a],e,"lessEqual",null),m([u.a],e,"lessEqualStrict",null),m([Object(a.a)({heading:"Operations",subheading:"Logical"}),u.a],e,"greater",null),m([u.a],e,"greaterStrict",null),m([Object(a.a)({heading:"Operations",subheading:"Logical"}),u.a],e,"greaterEqual",null),m([u.a],e,"greaterEqualStrict",null),e;}(),y=n(63);function v(e,t,n,r,a,i){void 0===i&&(i="channelsLast");var o,s=w(t),u=s[0],c=s[1];if("channelsLast"===i)o=[u,c,e[3],e[3]];else{if("channelsFirst"!==i)throw new Error("Unknown dataFormat "+i);o=[u,c,e[1],e[1]];}return b(e,o,n,1,r,a,!1,i);}function b(e,t,n,r,a,i,s,u){void 0===s&&(s=!1),void 0===u&&(u="channelsLast");var c=[-1,-1,-1,-1],l=c[0],f=c[1],p=c[2],h=c[3];if("channelsLast"===u)l=e[0],f=e[1],p=e[2],h=e[3];else{if("channelsFirst"!==u)throw new Error("Unknown dataFormat "+u);l=e[0],h=e[1],f=e[2],p=e[3];}var d,m=t[0],g=t[1],y=t[3],v=w(n),b=v[0],O=v[1],S=w(r),N=S[0],E=S[1],I=function(e,t,n,r,a,i,s,u){var c,l,f;if("number"==typeof e){c={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var p=function(e,t,n,r,a,i){null==a&&(a=function(e,t,n,r){void 0===r&&(r=1);var a=x(t,r);return Math.floor((e[0]*(n-1)-n+a)/2);}(e,t,r));var s=e[1],u=k((e[0]-t+2*a)/r+1,i);o.assert(o.isInt(u),"The output # of rows ("+u+") must be an integer. Change the stride and/or zero pad parameters");var c=k((s-t+2*a)/r+1,i);return o.assert(o.isInt(c),"The output # of columns ("+c+") must be an integer. Change the stride and/or zero pad parameters"),[u,c,1];}([t,n,1],i,0,r,e,u);l=p[0],f=p[1];}else if("same"===e){var h=((l=Math.ceil(t/r))-1)*r+i-t,d=((f=Math.ceil(n/a))-1)*a+s-n,m=Math.floor(h/2),g=h-m,y=Math.floor(d/2);c={top:m,bottom:g,left:y,right:d-y,type:"SAME"};}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);c={top:0,bottom:0,left:0,right:0,type:"VALID"},l=Math.ceil((t-i+1)/r),f=Math.ceil((n-s+1)/a);}return{padInfo:c,outHeight:l,outWidth:f};}(a,f,p,b,O,x(m,N),x(g,E),i),T=I.padInfo,A=I.outHeight,C=I.outWidth,P=s?y*h:y;return"channelsFirst"===u?d=[l,P,A,C]:"channelsLast"===u&&(d=[l,A,C,P]),{batchSize:l,dataFormat:u,inHeight:f,inWidth:p,inChannels:h,outHeight:A,outWidth:C,outChannels:P,padInfo:T,strideHeight:b,strideWidth:O,filterHeight:m,filterWidth:g,dilationHeight:N,dilationWidth:E,inShape:e,outShape:d,filterShape:t};}function w(e){return"number"==typeof e?[e,e]:e;}function x(e,t){return t<=1?e:e+(e-1)*(t-1);}function k(e,t){if(!t)return e;switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode "+t);}}var O=function O(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;},S=function(){function e(){}return e.conv1d=function(t,n,r,a,i,s,u){void 0===i&&(i="NWC"),void 0===s&&(s=1),o.assertArgumentsAreTensors({x:t,filter:n},"conv1d");var c=t,l=!1;2===t.rank&&(l=!0,c=t.as3D(1,t.shape[0],t.shape[1])),o.assert(3===c.rank,"Error in conv1d: input must be rank 3, but got rank "+c.rank+"."),o.assert(3===n.rank,"Error in conv1d: filter must be rank 3, but got rank "+n.rank+"."),null!=u&&o.assert(o.isInt(a),"Error in conv1d: pad must be an integer when using, dimRoundingMode "+u+" but got pad "+a+"."),o.assert(c.shape[2]===n.shape[1],"Error in conv1d: depth of input ("+c.shape[2]+") must match input depth for filter "+n.shape[1]+"."),o.assert(E(r,s),"Error in conv1D: Either stride or dilation must be 1. Got stride "+r+" and dilation '"+s+"'"),o.assert("NWC"===i,"Error in conv1d: got dataFormat of "+i+" but only NWC is currently supported.");var f=n.as4D(1,n.shape[0],n.shape[1],n.shape[2]),p=c.as4D(c.shape[0],1,c.shape[1],c.shape[2]),h=[1,r],d=[1,s],m=e.conv2d(p,f,h,a,"NHWC",d,u);return l?m.as2D(m.shape[2],m.shape[3]):m.as3D(m.shape[0],m.shape[2],m.shape[3]);},e.conv2d=function(t,n,r,a,s,u,c){void 0===s&&(s="NHWC"),void 0===u&&(u=[1,1]),o.assertArgumentsAreTensors({x:t,filter:n},"conv2d");var l=t,f=!1;3===t.rank&&(f=!0,l=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),o.assert(4===l.rank,"Error in conv2d: input must be rank 4, but got rank "+l.rank+"."),o.assert(4===n.rank,"Error in conv2d: filter must be rank 4, but got rank "+n.rank+"."),null!=c&&o.assert(o.isInt(a),"Error in conv2d: pad must be an integer when using, dimRoundingMode "+c+" but got pad "+a+"."),o.assert(l.shape[3]===n.shape[2],"Error in conv2d: depth of input ("+l.shape[3]+") must match input depth for filter "+n.shape[2]+"."),o.assert(E(r,u),"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"),o.assert("NHWC"===s,"Error in conv2d: got dataFormat of "+s+" but only NHWC is currently supported.");var p=b(l.shape,n.shape,r,u,a,c),h=i.ENV.engine.runKernel(function(e){return e.conv2d(l,n,p);},{x:l,filter:n},function(t){return o.assert(N(u),"Error in gradient of conv2D: dilation rates greater than 1 are notyet supported in gradients. Got dilations '"+u+"'"),{x:function x(){return e.conv2dDerInput(l.shape,t,n,r,a);},filter:function filter(){return e.conv2dDerFilter(l,t,n.shape,r,a);}};});return f?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h;},e.conv2dDerInput=function(e,t,n,r,a,s){o.assertArgumentsAreTensors({dy:t,filter:n},"conv2dDerInput"),o.assert(e.length===t.rank,"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match");var u=e,c=t,l=!1;3===t.rank&&(l=!0,c=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),u=[1,e[0],e[1],e[2]]);var f=u[3],p=c.shape[3];o.assert(4===u.length,"Error in conv2dDerInput: inShape must be length 4, but got length "+u.length+"."),o.assert(4===c.rank,"Error in conv2dDerInput: dy must be rank 4, but got rank "+c.rank),o.assert(4===n.rank,"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank),o.assert(f===n.shape[2],"Error in conv2dDerInput: depth of input ("+f+") must match input depth for filter "+n.shape[2]+"."),o.assert(p===n.shape[3],"Error in conv2dDerInput: depth of output ("+p+") must match output depth for filter "+n.shape[3]+"."),null!=s&&o.assert(o.isInt(a),"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+a+".");var h=b(u,n.shape,r,1,a,s),d=i.ENV.engine.runKernel(function(e){return e.conv2dDerInput(c,n,h);},{dy4D:c});return l?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d;},e.conv2dDerFilter=function(e,t,n,r,a,s){o.assertArgumentsAreTensors({x:e,dy:t},"conv2dDerFilter");var u=e;3===e.rank&&(u=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var c=t;3===c.rank&&(c=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),o.assert(4===u.rank,"Error in conv2dDerFilter: input must be rank 4, but got shape "+u.shape+"."),o.assert(4===c.rank,"Error in conv2dDerFilter: dy must be rank 4, but got shape "+c.shape+"."),o.assert(4===n.length,"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."),o.assert(u.shape[3]===n[2],"Error in conv2dDerFilter: depth of input "+u.shape[3]+") must match input depth in filter ("+n[2]+"."),o.assert(c.shape[3]===n[3],"Error in conv2dDerFilter: depth of dy ("+c.shape[3]+") must match output depth for filter ("+n[3]+")."),null!=s&&o.assert(o.isInt(a),"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+a+".");var l=b(u.shape,n,r,1,a,s);return i.ENV.engine.runKernel(function(e){return e.conv2dDerFilter(u,c,l);},{x4D:u,dy4D:c});},e.conv2dTranspose=function(t,n,r,a,i,s){return o.assertArgumentsAreTensors({x:t,filter:n},"conv2dTranspose"),e.conv2dDerInput(r,t,n,a,i,s);},e.depthwiseConv2d=function(e,t,n,r,a,s,u){void 0===a&&(a="NHWC"),void 0===s&&(s=[1,1]),o.assertArgumentsAreTensors({x:e,filter:t},"depthwiseConv2d");var c=e,l=!1;3===e.rank&&(l=!0,c=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),o.assert(4===c.rank,"Error in depthwiseConv2d: input must be rank 4, but got rank "+c.rank+"."),o.assert(4===t.rank,"Error in depthwiseConv2d: filter must be rank 4, but got rank "+t.rank+"."),o.assert(c.shape[3]===t.shape[2],"Error in depthwiseConv2d: number of input channels ("+c.shape[3]+") must match the inChannels dimension in filter "+t.shape[2]+"."),null==s&&(s=[1,1]),o.assert(E(n,s),"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+s+"'"),null!=u&&o.assert(o.isInt(r),"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+u+" but got pad "+r+".");var f=b(c.shape,t.shape,n,s,r,u,!0),p=i.ENV.engine.runKernel(function(e){return e.depthwiseConv2D(c,t,f);},{x:c,filter:t},function(e){return o.assert(N(s),"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+s+"'"),{x:function x(){return function(e,t,n,r){var a=t,o=!1;3===t.rank&&(o=!0,a=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var s=i.ENV.engine.runKernel(function(e){return e.depthwiseConv2DDerInput(a,n,r);},{dy4D:a});return o?s.as3D(s.shape[1],s.shape[2],s.shape[3]):s;}(c.shape,e,t,f);},filter:function filter(){return function(e,t,n,r){var a=e;3===e.rank&&(a=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var o=t;return 3===o.rank&&(o=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),i.ENV.engine.runKernel(function(e){return e.depthwiseConv2DDerFilter(a,o,r);},{x4D:a,dy4D:o});}(c,e,t.shape,f);}};});return l?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p;},e.separableConv2d=function(t,n,r,a,i,s,u){void 0===s&&(s=[1,1]),void 0===u&&(u="NHWC"),o.assertArgumentsAreTensors({x:t,depthwiseFilter:n,pointwiseFilter:r},"separableConv2d");var c=t,l=!1;if(3===t.rank&&(l=!0,c=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),"NCHW"===u)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");o.assert(4===c.rank,"Error in separableConv2d: input must be rank 4, but got rank "+c.rank+"."),o.assert(4===n.rank,"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+n.rank+"."),o.assert(4===r.rank,"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+n.rank+"."),o.assert(1===r.shape[0],"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+r.shape[0]+"."),o.assert(1===r.shape[1],"Error in separableConv2d: the second dimension of pointwise filter  must be 1, but got "+r.shape[1]+".");var f=n.shape[2],p=n.shape[3];o.assert(r.shape[2]===f*p,"Error in separableConv2d: the third dimension of pointwise filter must be "+f*p+", but got "+r.shape[2]+".");var h=e.depthwiseConv2d(c,n,a,i,u,s),d=e.conv2d(h,r,1,"valid",u);return l?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d;},O([Object(a.a)({heading:"Operations",subheading:"Convolution"}),u.a],e,"conv1d",null),O([Object(a.a)({heading:"Operations",subheading:"Convolution"}),u.a],e,"conv2d",null),O([u.a],e,"conv2dDerInput",null),O([u.a],e,"conv2dDerFilter",null),O([Object(a.a)({heading:"Operations",subheading:"Convolution"}),u.a],e,"conv2dTranspose",null),O([Object(a.a)({heading:"Operations",subheading:"Convolution"}),u.a],e,"depthwiseConv2d",null),O([Object(a.a)({heading:"Operations",subheading:"Convolution"}),u.a],e,"separableConv2d",null),e;}();function N(e){var t=function(e){return"number"==typeof e?[e,e]:e;}(e),n=t[0],r=t[1];return 1===n&&1===r;}function E(e,t){return N(e)||N(t);}var I=function I(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;},T=function(){function e(){}return e.resizeBilinear=function(e,t,n){void 0===n&&(n=!1),o.assertArgumentsAreTensors({images:e},"resizeBilinear"),o.assert(3===e.rank||4===e.rank,"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+e.rank+"."),o.assert(2===t.length,"Error in resizeBilinear: new shape must 2D, but got shape "+t+".");var r=e,a=!1;3===e.rank&&(a=!0,r=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var s=t[0],u=t[1],c=i.ENV.engine.runKernel(function(e,t){return e.resizeBilinear(r,s,u,n);},{batchImages:r},function(e,t){return{batchImages:function batchImages(){return i.ENV.engine.runKernel(function(t){return t.resizeBilinearBackprop(e,r,n);},{});}};});return a?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c;},e.resizeNearestNeighbor=function(e,t,n){void 0===n&&(n=!1),o.assertArgumentsAreTensors({images:e},"resizeNearestNeighbor"),o.assert(3===e.rank||4===e.rank,"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+e.rank+"."),o.assert(2===t.length,"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+t+"."),o.assert("float32"===e.dtype||"int32"===e.dtype,"`images` must have `int32` or `float32` as dtype");var r=e,a=!1;3===e.rank&&(a=!0,r=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var s=t[0],u=t[1],c=i.ENV.engine.runKernel(function(e){return e.resizeNearestNeighbor(r,s,u,n);},{batchImages:r});return a?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c;},I([Object(a.a)({heading:"Operations",subheading:"Images",namespace:"image"}),u.a],e,"resizeBilinear",null),I([Object(a.a)({heading:"Operations",subheading:"Images",namespace:"image"}),u.a],e,"resizeNearestNeighbor",null),e;}(),A=n(80),C=function(){function e(){}return e.gramSchmidt=function(e){var t;if(Array.isArray(e)){t=!1,Object(o.assert)(null!=e&&e.length>0,"Gram-Schmidt process: input must not be null, undefined, or empty");for(var n=e[0].shape[0],r=1;r<e.length;++r){Object(o.assert)(e[r].shape[0]===n,"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+e[r].shape[0]+" vs. "+n+")");}}else t=!0,e=qn(e,e.shape[0],0).map(function(e){return In(e,[0]);});Object(o.assert)(e.length<=e[0].shape[0],"Gram-Schmidt: Number of vectors ("+e.length+") exceeds number of dimensions ("+e[0].shape[0]+").");var a=[],i=e,s=function s(e){a.push(A.a.tidy(function(){var t=i[e];if(e>0)for(var n=0;n<e;++n){var r=We(a[n].mulStrict(t)).mul(a[n]);t=t.sub(r);}return t.div(fn(t,"euclidean"));}));};for(r=0;r<e.length;++r){s(r);}return t?Wn(a,0):a;},function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}i>3&&o&&Object.defineProperty(t,n,o);}([Object(a.a)({heading:"Operations",subheading:"Linear Algebra"}),u.a],e,"gramSchmidt",null),e;}(),P=function P(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;},_=function(){function e(){}return e.logicalNot=function(e){return o.assertArgumentsAreTensors({x:e},"logicalNot"),o.assert("bool"===e.dtype,"Error Array must be of type bool."),i.ENV.engine.runKernel(function(t){return t.logicalNot(e);},{x:e});},e.logicalAnd=function(e,t){return o.assertArgumentsAreTensors({a:e,b:t},"logicalAnd"),o.assert("bool"===e.dtype&&"bool"===t.dtype,"Error Array must be of type bool."),s.a(e.shape,t.shape),i.ENV.engine.runKernel(function(n){return n.logicalAnd(e,t);},{a:e,b:t});},e.logicalOr=function(e,t){return o.assertArgumentsAreTensors({a:e,b:t},"logicalOr"),o.assert("bool"===e.dtype&&"bool"===t.dtype,"Error Array must be of type bool."),s.a(e.shape,t.shape),i.ENV.engine.runKernel(function(n){return n.logicalOr(e,t);},{a:e,b:t});},e.logicalXor=function(t,n){return o.assertArgumentsAreTensors({a:t,b:n},"logicalXor"),o.assert("bool"===t.dtype&&"bool"===n.dtype,"Error Array must be of type bool."),s.a(t.shape,n.shape),e.logicalOr(t,n).logicalAnd(e.logicalAnd(t,n).logicalNot());},e.where=function(e,t,n){o.assertArgumentsAreTensors({condition:e,a:t,b:n},"where"),o.assert("bool"===e.dtype,"Error Condition must be of type bool."),o.assertShapesMatch(t.shape,n.shape,"Error in where: "),1===e.rank?o.assert(e.shape[0]===t.shape[0],"The first dimension of `a` must match the size of `condition`."):o.assertShapesMatch(e.shape,n.shape,"Error in where: ");var r=p.c(t.dtype,n.dtype);return i.ENV.engine.runKernel(function(a){return a.where(e,t,n,r);},{condition:e,a:t,b:n});},P([Object(a.a)({heading:"Operations",subheading:"Logical"}),u.a],e,"logicalNot",null),P([Object(a.a)({heading:"Operations",subheading:"Logical"}),u.a],e,"logicalAnd",null),P([Object(a.a)({heading:"Operations",subheading:"Logical"}),u.a],e,"logicalOr",null),P([Object(a.a)({heading:"Operations",subheading:"Logical"}),u.a],e,"logicalXor",null),P([Object(a.a)({heading:"Operations",subheading:"Logical"}),u.a],e,"where",null),e;}(),R=n(44),M=function(){function e(){}return e.localResponseNormalization=function(e,t,n,r,a){void 0===t&&(t=5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===a&&(a=.5),o.assertArgumentsAreTensors({x:e},"localResponseNormalization"),o.assert(4===e.rank||3===e.rank,"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+e.rank+"."),o.assert(o.isInt(t),"Error in localResponseNormalization3D: radius must be an integer\n                     but got radius "+t+".");var s=e,u=!1;3===e.rank&&(u=!0,s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var c=i.ENV.engine.runKernel(function(e){return e.localResponseNormalization4D(s,t,n,r,a);},{x4D:s});return u?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c;},function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}i>3&&o&&Object.defineProperty(t,n,o);}([Object(a.a)({heading:"Operations",subheading:"Normalization"}),u.a],e,"localResponseNormalization",null),e;}(),j=function j(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;},D=function(){function e(){}return e.multiRNNCell=function(e,t,n,r){o.assertArgumentsAreTensors({data:t,c:n,h:r},"multiRNNCell");for(var a=t,i=[],s=0;s<e.length;s++){var u=e[s](a,n[s],r[s]);i.push(u[0]),i.push(u[1]),a=u[1];}var c=[],l=[];for(s=0;s<i.length;s+=2){c.push(i[s]),l.push(i[s+1]);}return[c,l];},e.basicLSTMCell=function(e,t,n,r,a,i){o.assertArgumentsAreTensors({forgetBias:e,lstmKernel:t,lstmBias:n,data:r,c:a,h:i},"basicLSTMCell");var s=r.concat(i,1).matMul(t).add(n),u=s.shape[0],c=s.shape[1]/4,l=[u,c],f=s.slice([0,0],l),p=s.slice([0,c],l),h=s.slice([0,2*c],l),d=s.slice([0,3*c],l),m=f.sigmoid().mulStrict(p.tanh()).addStrict(a.mulStrict(e.add(h).sigmoid()));return[m,m.tanh().mulStrict(d.sigmoid())];},j([Object(a.a)({heading:"Operations",subheading:"RNN"}),u.a],e,"multiRNNCell",null),j([Object(a.a)({heading:"Operations",subheading:"RNN"}),u.a],e,"basicLSTMCell",null),e;}(),L=function L(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;},z=function(){function e(){}return e.matMul=function(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1),o.assertArgumentsAreTensors({a:e,b:t},"matMul");var a=n?e.shape[0]:e.shape[1],s=r?t.shape[1]:t.shape[0];return o.assert(2===e.rank&&2===t.rank,"Error in matMul: inputs must be rank 2, got ranks "+e.rank+" and "+t.rank+"."),o.assert(a===s,"Error in matMul: inner shapes ("+a+") and ("+s+") of Tensors with shapes "+e.shape+" and "+t.shape+" and transposeA="+n+" and transposeB="+r+" must match."),i.ENV.engine.runKernel(function(a){return a.matMul(e,t,n,r);},{a:e,b:t},function(_a3){return n||r?!n&&r?{a:function a(){return _a3.matMul(t.toFloat(),!1,!1);},b:function b(){return _a3.matMul(e.toFloat(),!0,!1);}}:n&&!r?{a:function a(){return t.toFloat().matMul(_a3,!1,!0);},b:function b(){return e.toFloat().matMul(_a3,!1,!1);}}:{a:function a(){return t.toFloat().matMul(_a3,!0,!0);},b:function b(){return _a3.matMul(e.toFloat(),!0,!0);}}:{a:function a(){return _a3.matMul(t.toFloat(),!1,!0);},b:function b(){return e.toFloat().matMul(_a3,!0,!1);}};});},e.vectorTimesMatrix=function(e,t){return o.assert(1===e.rank,"Error in vectorTimesMatrix: first input must be rank 1, but got rank "+e.rank+"."),o.assert(2===t.rank,"Error in vectorTimesMatrix: second input must be rank 2, but got rank "+t.rank+"."),o.assert(e.size===t.shape[0],"Error in vectorTimesMatrix: size of vector ("+e.size+") must match first dimension of matrix ("+t.shape[0]+")"),e.as2D(1,-1).matMul(t).as1D();},e.matrixTimesVector=function(e,t){return o.assert(1===t.rank,"Error in matrixTimesVector: second input must rank 1, but got rank "+t.rank+"."),o.assert(2===e.rank,"Error in matrixTimesVector: first input must be a rank 2, but got rank "+e.rank+"."),o.assert(t.size===e.shape[1],"Error in matrixTimesVector: size of first rank 1 input "+t.size+" must match inner dimension of second rank 2 input, but got shape "+e.shape+"."),e.matMul(t.as2D(-1,1)).as1D();},e.dotProduct=function(e,t){return o.assert(1===e.rank&&1===t.rank,"Error in dotProduct: inputs must be rank 1, but got ranks "+e.rank+" and "+t.rank+"."),o.assert(e.size===t.size,"Error in dotProduct: size of inputs ("+e.size+") and ("+t.size+") must match."),e.as2D(1,-1).matMul(t.as2D(-1,1)).asScalar();},e.outerProduct=function(e,t){return o.assert(1===e.rank&&1===t.rank,"Error in outerProduct: inputs must be rank 1, but got ranks "+e.rank+" and "+t.rank+"."),e.as2D(-1,1).matMul(t.as2D(1,-1));},e.dot=function(e,t){o.assert(!(1!==e.rank&&2!==e.rank||1!==t.rank&&2!==t.rank),"Error in dot: inputs must all be rank 1 or 2, but got ranks "+e.rank+" and "+t.rank+".");var n=1===e.rank?e.size:e.shape[1],r=1===t.rank?t.size:t.shape[0];return o.assert(n===r,"Error in dot: inner dimensions of inputs must match, but got "+n+" and "+r+"."),1===e.rank&&1===t.rank?e.as2D(1,-1).matMul(t.as2D(-1,1)).asScalar():1===e.rank&&2===t.rank?e.as2D(1,-1).matMul(t.as2D(t.shape[0],t.shape[1])).as1D():2===e.rank&&1===t.rank?e.matMul(t.as2D(-1,1)).as1D():e.matMul(t.as2D(t.shape[0],t.shape[1]));},L([Object(a.a)({heading:"Operations",subheading:"Matrices"}),u.a],e,"matMul",null),L([u.a],e,"vectorTimesMatrix",null),L([u.a],e,"matrixTimesVector",null),L([u.a],e,"dotProduct",null),L([Object(a.a)({heading:"Operations",subheading:"Matrices"}),u.a],e,"outerProduct",null),L([Object(a.a)({heading:"Operations",subheading:"Matrices"}),u.a],e,"dot",null),e;}(),F=function(){function e(){}return e.movingAverage=function(e,t,n,a,i){void 0===i&&(i=!0),o.assertArgumentsAreTensors({v:e,x:t},"movingAverage"),o.assertTypesMatch(e,t),o.assert(o.arraysEqual(e.shape,t.shape),"Shape mismatch in v and x");var s=r.a.scalar(1);n="number"==typeof n?r.a.scalar(n):n;var u=s.sub(n),c=t.sub(e).mul(u);return i&&(o.assert(null!=a,"When using zeroDebias: true, step is required."),a="number"==typeof a?r.a.scalar(a):a,c=c.div(s.sub(d.pow(n,a)))),e.add(c);},function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}i>3&&o&&Object.defineProperty(t,n,o);}([Object(a.a)({heading:"Operations",subheading:"Moving Average"}),u.a],e,"movingAverage",null),e;}(),B=n(8),V=function(){function e(){}return e.norm=function(e,t,n,r){void 0===t&&(t="euclidean"),void 0===n&&(n=null),void 0===r&&(r=!1),o.assertArgumentsAreTensors({x:e},"norm");var a=function e(t,n,r){if(void 0===r&&(r=null),0===t.rank)return t.abs();if(1!==t.rank&&null===r)return e(t.reshape([-1]),n,r);if(1===t.rank||"number"==typeof r||r instanceof Array&&1===r.length){if(1===n)return t.abs().sum(r);if(n===1/0)return t.abs().max(r);if(n===-1/0)return t.abs().min(r);if("euclidean"===n||2===n)return t.abs().pow(Dn(2,"int32")).sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n);}if(r instanceof Array&&2===r.length){if(1===n)return t.abs().sum(r[0]).max(r[1]-1);if(n===1/0)return t.abs().sum(r[1]).max(r[0]);if(n===-1/0)return t.abs().sum(r[1]).min(r[0]);if("fro"===n||"euclidean"===n)return t.square().sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n);}throw new Error("Error in norm: invalid axis: "+r);}(e,t,n),i=a.shape;if(r){var s=B.g(n,e.shape);i=B.c(a.shape,s);}return a.reshape(i);},function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}i>3&&o&&Object.defineProperty(t,n,o);}([Object(a.a)({heading:"Operations",subheading:"Matrices"}),u.a],e,"norm",null),e;}(),U=function U(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;},W=function(){function e(){}return e.maxPool=function(t,n,r,a,s){o.assertArgumentsAreTensors({x:t},"maxPool");var u=t,c=!1;3===t.rank&&(c=!0,u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),o.assert(4===u.rank,"Error in maxPool: input must be rank 4 but got rank "+u.rank+"."),null!=s&&o.assert(o.isInt(a),"Error in maxPool: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+a+".");var l=v(u.shape,n,r,a,s),f=i.ENV.engine.runKernel(function(e,t){return t(e.maxPool(u,l));},{x:u},function(t,i){var o=i[0];return{x:function x(){return e.maxPoolBackprop(t,u,o,n,r,a);}};});return c?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f;},e.maxPoolBackprop=function(e,t,n,r,a,s,u){o.assertArgumentsAreTensors({dy:e,input:t,output:n},"maxPoolBackprop"),o.assert(t.rank===e.rank,"Rank of input ("+t.rank+") does not match rank of dy ("+e.rank+")"),o.assert(4===e.rank,"Error in maxPoolBackprop: dy must be rank 4 but got rank "+e.rank+"."),o.assert(4===t.rank,"Error in maxPoolBackprop: input must be rank 4 but got rank "+t.rank+"."),null!=u&&o.assert(o.isInt(s),"Error in maxPoolBackprop: pad must be an integer when using, dimRoundingMode "+u+" but got pad "+s+".");var c=v(t.shape,r,a,s,u);return i.ENV.engine.runKernel(function(r){return r.maxPoolBackprop(e,t,n,c);},{dy:e,input:t});},e.avgPool=function(t,n,r,a,s){o.assertArgumentsAreTensors({x:t},"avgPool"),o.assert("float32"===t.dtype,"The input dtype to avgPool must be float32");var u=t,c=!1;3===t.rank&&(c=!0,u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),o.assert(4===u.rank,"Error in avgPool: x must be rank 4 but got rank "+u.rank+"."),null!=s&&o.assert(o.isInt(a),"Error in avgPool: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+a+".");var l=v(u.shape,n,r,a),f=i.ENV.engine.runKernel(function(e){return e.avgPool(u,l);},{x:u},function(t){return{x:function x(){return e.avgPoolBackprop(t,u,n,r,a);}};});return f=f.cast(t.dtype),c?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f;},e.avgPoolBackprop=function(e,t,n,r,a){o.assertArgumentsAreTensors({dy:e,input:t},"avgPoolBackprop"),o.assert(t.rank===e.rank,"Rank of input ("+t.rank+") does not match rank of dy ("+e.rank+")");var s=t,u=e,c=!1;3===t.rank&&(c=!0,s=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),u=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),o.assert(4===u.rank,"Error in avgPoolBackprop: dy must be rank 4 but got rank "+u.rank+"."),o.assert(4===s.rank,"Error in avgPoolBackprop: input must be rank 4 but got rank "+s.rank+".");var l=v(s.shape,n,r,a),f=i.ENV.engine.runKernel(function(e){return e.avgPoolBackprop(u,s,l);},{dy4D:u,input4D:s});return c?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f;},U([Object(a.a)({heading:"Operations",subheading:"Convolution"}),u.a],e,"maxPool",null),U([u.a],e,"maxPoolBackprop",null),U([Object(a.a)({heading:"Operations",subheading:"Convolution"}),u.a],e,"avgPool",null),U([u.a],e,"avgPoolBackprop",null),e;}(),G=n(39),q=function(){function e(){}return e.reverse1d=function(t){return o.assert(1===t.rank,"Error in reverse1D: x must be rank 1 but got\n             rank "+t.rank+"."),e.reverse(t,0);},e.reverse2d=function(t,n){return o.assert(2===t.rank,"Error in reverse2D: x must be rank 2 but got\n             rank "+t.rank+"."),e.reverse(t,n);},e.reverse3d=function(t,n){return o.assert(3===t.rank,"Error in reverse3D: x must be rank 3 but got\n             rank "+t.rank+"."),e.reverse(t,n);},e.reverse4d=function(t,n){return o.assert(4===t.rank,"Error in reverse4D: x must be rank 4 but got\n             rank "+t.rank+"."),e.reverse(t,n);},e.reverse=function(e,t){if(o.assertArgumentsAreTensors({x:e},"reverse"),0===e.rank)return e.clone();var n=Object(B.g)(t,e.shape);return i.ENV.engine.runKernel(function(t){return t.reverse(e,n);},{x:e},function(e){return{x:function x(){return e.reverse(n);}};}).reshapeAs(e);},function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}i>3&&o&&Object.defineProperty(t,n,o);}([Object(a.a)({heading:"Tensors",subheading:"Slicing and Joining"}),u.a],e,"reverse",null),e;}(),H=n(90),K=function(){function e(){}return e.slice1d=function(t,n,r){return o.assert(1===t.rank,"slice1d expects a rank-1 tensor, but got a rank-"+t.rank+" tensor"),e.slice(t,[n],[r]);},e.slice2d=function(t,n,r){return o.assert(2===t.rank,"slice1d expects a rank-2 tensor, but got a rank-"+t.rank+" tensor"),e.slice(t,n,r);},e.slice3d=function(t,n,r){return o.assert(3===t.rank,"slice1d expects a rank-3 tensor, but got a rank-"+t.rank+" tensor"),e.slice(t,n,r);},e.slice4d=function(t,n,r){return o.assert(4===t.rank,"slice1d expects a rank-4 tensor, but got a rank-"+t.rank+" tensor"),e.slice(t,n,r);},e.slice=function(e,t,n){if(o.assertArgumentsAreTensors({x:e},"slice"),0===e.rank)throw new Error("Slicing scalar is not possible");var r,a;r="number"==typeof t?[t].concat(new Array(e.rank-1).fill(0)):t.length<e.rank?t.concat(new Array(e.rank-t.length).fill(0)):t,a=(a=null==n?new Array(e.rank).fill(-1):"number"==typeof n?[n].concat(new Array(e.rank-1).fill(-1)):n.length<e.rank?n.concat(new Array(e.rank-n.length).fill(-1)):n).map(function(t,n){return t>=0?t:(o.assert(-1===t,"Bad value in size"),e.shape[n]-r[n]);}),H.a(e,r,a);var s=e.shape;return i.ENV.engine.runKernel(function(t){return t.slice(e,r,a);},{x:e},function(e){for(var t=[],n=0;n<e.rank;n++){t.push([r[n],s[n]-r[n]-a[n]]);}return{x:function x(){return e.pad(t);}};});},function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}i>3&&o&&Object.defineProperty(t,n,o);}([Object(a.a)({heading:"Tensors",subheading:"Slicing and Joining"}),u.a],e,"slice",null),e;}(),X=n(7),J=function J(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;},Y=function(){function e(){}return e.softmax=function(e,t){if(void 0===t&&(t=-1),o.assertArgumentsAreTensors({logits:e},"softmax"),-1===t&&(t=e.rank-1),t!==e.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+e.rank+" and dim was "+t);return Object(X.a)(function(e){var n=e.logSumExp([t],!0),r=e.toFloat().sub(n).exp();return{value:r,gradFunc:function gradFunc(e){var n=e.mul(r);return n.sub(n.sum([t],!0).mul(r));}};})(e);},e.softmaxCrossEntropy=function(e,t,n){if(void 0===n&&(n=-1),o.assertArgumentsAreTensors({labels:e,logits:t},"softmaxCrossEntropy"),o.assertShapesMatch(e.shape,t.shape,"Error in softmaxCrossEntropy: "),-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+t.rank+" and dim was "+n);return Object(X.a)(function(e,t){var r=t.softmax(n);return{value:Dn(1e-5).add(r).log().mul(e).neg().sum([n]),gradFunc:function gradFunc(t){var a=B.c(t.shape,[n]);return[t.reshape(a).mul(e.toFloat().sub(r)),t.reshape(a).mul(r.sub(e.toFloat()))];}};})(e,t);},J([Object(a.a)({heading:"Operations",subheading:"Normalization"}),u.a],e,"softmax",null),J([Object(a.a)({heading:"Training",subheading:"Losses",namespace:"losses"}),u.a],e,"softmaxCrossEntropy",null),e;}(),Q=function(){function e(){}return e.stridedSlice=function(e,t,n,r,a,s){return void 0===a&&(a=0),void 0===s&&(s=0),o.assertArgumentsAreTensors({x:e},"stridedSlice"),i.ENV.engine.runKernel(function(i){return i.stridedSlice(e,t,n,r,a,s);},{x:e});},function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}i>3&&o&&Object.defineProperty(t,n,o);}([Object(a.a)({heading:"Operations",subheading:"Slicing and Joining"}),u.a],e,"stridedSlice",null),e;}(),Z=function(){function e(){}return e.transpose=function(e,t){return o.assertArgumentsAreTensors({x:e},"transpose"),null==t&&(t=e.shape.map(function(e,t){return t;}).reverse()),o.assert(e.rank===t.length,"Error in transpose: rank of input "+e.rank+" must match length of perm "+t+"."),t.forEach(function(n){o.assert(n>=0&&n<e.rank,"All entries in 'perm' must be between 0 and "+(e.rank-1)+" but got "+t);}),e.rank<=1?e.clone():i.ENV.engine.runKernel(function(n){return n.transpose(e,t);},{x:e},function(e){var n=B.f(t);return{x:function x(){return e.transpose(n);}};});},function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}i>3&&o&&Object.defineProperty(t,n,o);}([Object(a.a)({heading:"Operations",subheading:"Matrices"}),u.a],e,"transpose",null),e;}(),$=n(55),ee=function ee(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;},te=function(){function e(){}return e.neg=function(e){return o.assertArgumentsAreTensors({x:e},"neg"),i.ENV.engine.runKernel(function(t){return t.neg(e);},{x:e},function(e){return{x:function x(){return e.neg();}};});},e.ceil=function(e){return o.assertArgumentsAreTensors({x:e},"ceil"),i.ENV.engine.runKernel(function(t){return t.ceil(e);},{x:e},function(e){return{x:function x(){return bn(e);}};});},e.floor=function(e){return o.assertArgumentsAreTensors({x:e},"floor"),i.ENV.engine.runKernel(function(t){return t.floor(e);},{x:e},function(e){return{x:function x(){return bn(e);}};});},e.sign=function(e){return o.assertArgumentsAreTensors({x:e},"sign"),i.ENV.engine.runKernel(function(t){return t.sign(e);},{x:e},function(e){return{x:function x(){return bn(e);}};});},e.round=function(e){return o.assertArgumentsAreTensors({x:e},"round"),i.ENV.engine.runKernel(function(t){return t.round(e);},{x:e},function(e){return{x:function x(){return bn(e);}};});},e.exp=function(e){return o.assertArgumentsAreTensors({x:e},"exp"),i.ENV.engine.runKernel(function(t,n){return n(t.exp(e));},{x:e},function(e,t){var n=t[0];return{x:function x(){return e.mulStrict(n);}};});},e.expm1=function(e){return o.assertArgumentsAreTensors({x:e},"expm1"),i.ENV.engine.runKernel(function(t){return t.expm1(e);},{x:e},function(t){return{x:function x(){return t.mulStrict(e.exp());}};});},e.log=function(e){return o.assertArgumentsAreTensors({x:e},"log"),i.ENV.engine.runKernel(function(t){return t.log(e);},{x:e},function(t){return{x:function x(){return t.divStrict(e.toFloat());}};});},e.log1p=function(e){return o.assertArgumentsAreTensors({x:e},"log1p"),i.ENV.engine.runKernel(function(t){return t.log1p(e);},{x:e},function(t){return{x:function x(){return t.divStrict(e.add(Dn(1)));}};});},e.sqrt=function(e){return o.assertArgumentsAreTensors({x:e},"sqrt"),i.ENV.engine.runKernel(function(t){return t.sqrt(e);},{x:e},function(t){return{x:function x(){return t.divStrict(e.toFloat().sqrt().mul(Dn(2)));}};});},e.rsqrt=function(e){return o.assertArgumentsAreTensors({x:e},"rsqrt"),i.ENV.engine.runKernel(function(t){return t.rsqrt(e);},{x:e},function(t){return{x:function x(){return t.divStrict(e.pow(Dn(1.5)).mul(Dn(2))).neg();}};});},e.square=function(e){return o.assertArgumentsAreTensors({x:e},"square"),i.ENV.engine.runKernel(function(t){return t.square(e);},{x:e},function(t){return{x:function x(){return t.mulStrict(e.toFloat().mul(Dn(2)));}};});},e.reciprocal=function(e){return o.assertArgumentsAreTensors({x:e},"reciprocal"),i.ENV.engine.runKernel(function(t){return t.reciprocal(e);},{x:e},function(t){return{x:function x(){return t.divStrict(e.square().neg());}};});},e.abs=function(e){return o.assertArgumentsAreTensors({x:e},"abs"),i.ENV.engine.runKernel(function(t){return t.abs(e);},{x:e},function(t){return{x:function x(){return t.mulStrict(e.toFloat().step(-1));}};});},e.clipByValue=function(e,t,n){return o.assertArgumentsAreTensors({x:e},"clipByValue"),o.assert(t<=n,"Error in clip: min ("+t+") must be less than or equal to max ("+n+")."),i.ENV.engine.runKernel(function(r){return r.clip(e,t,n);},{x:e},function(r){return{x:function x(){return r.where(e.greater(Dn(t)).logicalAnd(e.less(Dn(n))),bn(r));}};});},e.relu=function(e){return o.assertArgumentsAreTensors({x:e},"relu"),"bool"===e.dtype?e.toInt():i.ENV.engine.runKernel(function(t){return t.relu(e);},{x:e},function(t){var n=e.step();return{x:function x(){return t.mulStrict(n.toFloat());}};});},e.elu=function(e){return o.assertArgumentsAreTensors({x:e},"elu"),i.ENV.engine.runKernel(function(t,n){return n(t.elu(e));},{x:e},function(e,t){var n=t[0];return{x:function x(){return i.ENV.engine.runKernel(function(t){return t.eluDer(e,n);},{dy:e,y:n});}};});},e.selu=function(e){return o.assertArgumentsAreTensors({x:e},"selu"),i.ENV.engine.runKernel(function(t){return t.selu(e);},{x:e},function(t){return{x:function x(){var n=e.greater(Dn(0)),r=Dn($.b),a=Dn($.a),i=t.mul(a),o=t.mul(r).mul(e.toFloat().exp());return st(n,i,o);}};});},e.leakyRelu=function(e,t){return void 0===t&&(t=.2),o.assertArgumentsAreTensors({x:e},"leakyRelu"),Yt(Dn(t).mul(e),e);},e.prelu=function(e,t){o.assertArgumentsAreTensors({x:e,alpha:t},"prelu");var n=Dn(0);return Yt(n,e).add(t.mul(Zt(n,e)));},e.sigmoid=function(e){return o.assertArgumentsAreTensors({x:e},"sigmoid"),i.ENV.engine.runKernel(function(t,n){return n(t.sigmoid(e));},{x:e},function(e,t){var n=t[0];return{x:function x(){return e.mulStrict(n.mul(Dn(1).sub(n)));}};});},e.logSigmoid=function(e){return o.assertArgumentsAreTensors({x:e},"logSigmoid"),i.ENV.engine.runKernel(function(t){return t.softplus(e.neg()).neg();},{x:e},function(t){return{x:function x(){return t.mulStrict(e.neg().sigmoid());}};});},e.softplus=function(e){return o.assertArgumentsAreTensors({x:e},"softplus"),i.ENV.engine.runKernel(function(t){return t.softplus(e);},{x:e},function(t){return{x:function x(){return t.mulStrict(e.sigmoid());}};});},e.sin=function(e){return o.assertArgumentsAreTensors({x:e},"sin"),i.ENV.engine.runKernel(function(t){return t.sin(e);},{x:e},function(t){return{x:function x(){return e.toFloat().cos().mulStrict(t);}};});},e.cos=function(e){return o.assertArgumentsAreTensors({x:e},"cos"),i.ENV.engine.runKernel(function(t){return t.cos(e);},{x:e},function(t){return{x:function x(){return e.toFloat().sin().neg().mulStrict(t);}};});},e.tan=function(e){return o.assertArgumentsAreTensors({x:e},"tan"),i.ENV.engine.runKernel(function(t){return t.tan(e);},{x:e},function(t){return{x:function x(){return t.divStrict(e.cos().square());}};});},e.asin=function(t){return o.assertArgumentsAreTensors({x:t},"asin"),i.ENV.engine.runKernel(function(e){return e.asin(t);},{x:t},function(n){return{x:function x(){return n.divStrict(e.sqrt(Dn(1).sub(t.toFloat().square())));}};});},e.acos=function(t){return o.assertArgumentsAreTensors({x:t},"acos"),i.ENV.engine.runKernel(function(e){return e.acos(t);},{x:t},function(n){return{x:function x(){return n.divStrict(e.sqrt(Dn(1).sub(t.toFloat().square()))).neg();}};});},e.atan=function(e){return o.assertArgumentsAreTensors({x:e},"atan"),i.ENV.engine.runKernel(function(t){return t.atan(e);},{x:e},function(t){return{x:function x(){return t.divStrict(Dn(1).add(e.toFloat().square()));}};});},e.sinh=function(e){return o.assertArgumentsAreTensors({x:e},"sinh"),i.ENV.engine.runKernel(function(t){return t.sinh(e);},{x:e},function(t){return{x:function x(){return e.toFloat().cosh().mulStrict(t);}};});},e.cosh=function(e){return o.assertArgumentsAreTensors({x:e},"cosh"),i.ENV.engine.runKernel(function(t){return t.cosh(e);},{x:e},function(t){return{x:function x(){return e.toFloat().sinh().mulStrict(t);}};});},e.tanh=function(e){return o.assertArgumentsAreTensors({x:e},"tanh"),i.ENV.engine.runKernel(function(t,n){return n(t.tanh(e));},{x:e},function(e,t){var n=t[0];return{x:function x(){return Dn(1).sub(n.square()).mulStrict(e);}};});},e.asinh=function(t){return o.assertArgumentsAreTensors({x:t},"asinh"),i.ENV.engine.runKernel(function(e){return e.asinh(t);},{x:t},function(n){return{x:function x(){return n.divStrict(e.sqrt(Dn(1).add(t.toFloat().square())));}};});},e.acosh=function(t){return o.assertArgumentsAreTensors({x:t},"acosh"),i.ENV.engine.runKernel(function(e){return e.acosh(t);},{x:t},function(n){return{x:function x(){return n.divStrict(e.sqrt(t.toFloat().square().sub(Dn(1))));}};});},e.atanh=function(e){return o.assertArgumentsAreTensors({x:e},"atanh"),i.ENV.engine.runKernel(function(t){return t.atanh(e);},{x:e},function(t){return{x:function x(){return t.divStrict(Dn(1).sub(e.toFloat().square()));}};});},e.erf=function(e){return o.assert("int32"===e.dtype||"float32"===e.dtype,"Input dtype must be `int32` or `float32`."),"int32"===e.dtype&&(e=e.toFloat()),i.ENV.engine.runKernel(function(t){return t.erf(e);},{x:e},function(t){return{x:function x(){return t.mulStrict(Dn(2/Math.sqrt(Math.PI)).mul(e.square().neg().exp()));}};});},e.step=function(e,t){return void 0===t&&(t=0),o.assertArgumentsAreTensors({x:e},"step"),i.ENV.engine.runKernel(function(n){return n.step(e,t);},{x:e},function(e){return{x:function x(){return bn(e);}};});},ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"neg",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"ceil",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"floor",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"sign",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"round",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"exp",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"expm1",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"log",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"log1p",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"sqrt",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"rsqrt",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"square",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"reciprocal",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"abs",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"clipByValue",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"relu",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"elu",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"selu",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"leakyRelu",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"prelu",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"sigmoid",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"logSigmoid",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"softplus",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"sin",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"cos",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"tan",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"asin",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"acos",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"atan",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"sinh",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"cosh",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"tanh",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"asinh",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"acosh",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"atanh",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"erf",null),ee([Object(a.a)({heading:"Operations",subheading:"Basic math"}),u.a],e,"step",null),e;}(),ne=n(6);n.d(t,"o",function(){return re;}),n.d(t,"p",function(){return ae;}),n.d(t,"q",function(){return ie;}),n.d(t,"r",function(){return oe;}),n.d(t,"x",function(){return se;}),n.d(t,"y",function(){return ue;}),n.d(t,"z",function(){return ce;}),n.d(t,"A",function(){return le;}),n.d(t,"B",function(){return fe;}),n.d(t,"C",function(){return pe;}),n.d(t,"D",function(){return he;}),n.d(t,"E",function(){return de;}),n.d(t,"I",function(){return me;}),n.d(t,"Ub",function(){return ge;}),n.d(t,"Ua",function(){return ye;}),n.d(t,"Va",function(){return ve;}),n.d(t,"ub",function(){return be;}),n.d(t,"Fc",function(){return we;}),n.d(t,"L",function(){return xe;}),n.d(t,"m",function(){return ke;}),n.d(t,"Xa",function(){return Oe;}),n.d(t,"Bc",function(){return Se;}),n.d(t,"Lb",function(){return Ne;}),n.d(t,"Mb",function(){return Ee;}),n.d(t,"Nb",function(){return Ie;}),n.d(t,"Ob",function(){return Te;}),n.d(t,"Pb",function(){return Ae;}),n.d(t,"Zb",function(){return Ce;}),n.d(t,"ac",function(){return Pe;}),n.d(t,"bc",function(){return _e;}),n.d(t,"cc",function(){return Re;}),n.d(t,"dc",function(){return Me;}),n.d(t,"oc",function(){return je;}),n.d(t,"f",function(){return De;}),n.d(t,"g",function(){return Le;}),n.d(t,"Oa",function(){return ze;}),n.d(t,"Wa",function(){return Fe;}),n.d(t,"ab",function(){return Be;}),n.d(t,"bb",function(){return Ve;}),n.d(t,"gb",function(){return Ue;}),n.d(t,"rc",function(){return We;}),n.d(t,"Dc",function(){return Ge;}),n.d(t,"N",function(){return qe;}),n.d(t,"O",function(){return He;}),n.d(t,"Y",function(){return Ke;}),n.d(t,"Ba",function(){return Xe;}),n.d(t,"Z",function(){return Je;}),n.d(t,"Aa",function(){return Ye;}),n.d(t,"Ea",function(){return Qe;}),n.d(t,"Ha",function(){return Ze;}),n.d(t,"Fa",function(){return $e;}),n.d(t,"Ga",function(){return et;}),n.d(t,"ob",function(){return tt;}),n.d(t,"pb",function(){return nt;}),n.d(t,"Qa",function(){return rt;}),n.d(t,"Pa",function(){return at;}),n.d(t,"Ra",function(){return it;}),n.d(t,"Sa",function(){return ot;}),n.d(t,"Gc",function(){return st;}),n.d(t,"a",function(){return ut;}),n.d(t,"b",function(){return ct;}),n.d(t,"c",function(){return lt;}),n.d(t,"h",function(){return ft;}),n.d(t,"i",function(){return pt;}),n.d(t,"j",function(){return ht;}),n.d(t,"l",function(){return dt;}),n.d(t,"u",function(){return mt;}),n.d(t,"v",function(){return gt;}),n.d(t,"F",function(){return yt;}),n.d(t,"G",function(){return vt;}),n.d(t,"M",function(){return bt;}),n.d(t,"Q",function(){return wt;}),n.d(t,"S",function(){return xt;}),n.d(t,"V",function(){return kt;}),n.d(t,"Wb",function(){return Ot;}),n.d(t,"Da",function(){return St;}),n.d(t,"La",function(){return Nt;}),n.d(t,"Ma",function(){return Et;}),n.d(t,"Na",function(){return It;}),n.d(t,"mb",function(){return Tt;}),n.d(t,"Cb",function(){return At;}),n.d(t,"Jb",function(){return Ct;}),n.d(t,"Ib",function(){return Pt;}),n.d(t,"Qb",function(){return _t;}),n.d(t,"Tb",function(){return Rt;}),n.d(t,"Vb",function(){return Mt;}),n.d(t,"Xb",function(){return jt;}),n.d(t,"Yb",function(){return Dt;}),n.d(t,"fc",function(){return Lt;}),n.d(t,"hc",function(){return zt;}),n.d(t,"Rb",function(){return Ft;}),n.d(t,"ic",function(){return Bt;}),n.d(t,"nc",function(){return Vt;}),n.d(t,"sc",function(){return Ut;}),n.d(t,"tc",function(){return Wt;}),n.d(t,"P",function(){return Gt;}),n.d(t,"d",function(){return qt;}),n.d(t,"e",function(){return Ht;}),n.d(t,"k",function(){return Kt;}),n.d(t,"J",function(){return Xt;}),n.d(t,"K",function(){return Jt;}),n.d(t,"Ya",function(){return Yt;}),n.d(t,"Za",function(){return Qt;}),n.d(t,"cb",function(){return Zt;}),n.d(t,"db",function(){return $t;}),n.d(t,"eb",function(){return en;}),n.d(t,"fb",function(){return tn;}),n.d(t,"ib",function(){return nn;}),n.d(t,"jb",function(){return rn;}),n.d(t,"Ab",function(){return an;}),n.d(t,"Bb",function(){return on;}),n.d(t,"pc",function(){return sn;}),n.d(t,"qc",function(){return un;}),n.d(t,"jc",function(){return cn;}),n.d(t,"kc",function(){return ln;}),n.d(t,"nb",function(){return fn;}),n.d(t,"t",function(){return pn;}),n.d(t,"w",function(){return hn;}),n.d(t,"W",function(){return dn;}),n.d(t,"Ac",function(){return mn;}),n.d(t,"rb",function(){return gn;}),n.d(t,"sb",function(){return yn;}),n.d(t,"Hc",function(){return vn;}),n.d(t,"Ic",function(){return bn;}),n.d(t,"T",function(){return wn;}),n.d(t,"Eb",function(){return xn;}),n.d(t,"Fb",function(){return kn;}),n.d(t,"Cc",function(){return On;}),n.d(t,"Gb",function(){return Sn;}),n.d(t,"lb",function(){return Nn;}),n.d(t,"Kb",function(){return En;}),n.d(t,"lc",function(){return In;}),n.d(t,"zc",function(){return Tn;}),n.d(t,"X",function(){return An;}),n.d(t,"qb",function(){return Cn;}),n.d(t,"Ja",function(){return Pn;}),n.d(t,"Hb",function(){return _n;}),n.d(t,"s",function(){return Rn;}),n.d(t,"U",function(){return Mn;}),n.d(t,"uc",function(){return jn;}),n.d(t,"Sb",function(){return Dn;}),n.d(t,"vc",function(){return Ln;}),n.d(t,"wc",function(){return zn;}),n.d(t,"xc",function(){return Fn;}),n.d(t,"yc",function(){return Bn;}),n.d(t,"Db",function(){return Vn;}),n.d(t,"R",function(){return Un;}),n.d(t,"mc",function(){return Wn;}),n.d(t,"Ec",function(){return Gn;}),n.d(t,"gc",function(){return qn;}),n.d(t,"H",function(){return Hn;}),n.d(t,"vb",function(){return Kn;}),n.d(t,"wb",function(){return Xn;}),n.d(t,"xb",function(){return Jn;}),n.d(t,"yb",function(){return Yn;}),n.d(t,"zb",function(){return Qn;}),n.d(t,"hb",function(){return Zn;}),n.d(t,"n",function(){return $n;}),n.d(t,"kb",function(){return er;}),n.d(t,"ec",function(){return tr;}),n.d(t,"Ka",function(){return nr;}),n.d(t,"Ia",function(){return rr;}),n.d(t,"Ta",function(){return ar;}),n.d(t,"Ca",function(){return ir;}),n.d(t,"tb",function(){return u.a;});var re=l.batchNormalization,ae=l.batchNormalization2d,ie=l.batchNormalization3d,oe=l.batchNormalization4d,se=y.a.concat,ue=y.a.concat1d,ce=y.a.concat2d,le=y.a.concat3d,fe=y.a.concat4d,pe=S.conv1d,he=S.conv2d,de=S.conv2dTranspose,me=S.depthwiseConv2d,ge=S.separableConv2d,ye=z.matMul,ve=z.matrixTimesVector,be=z.outerProduct,we=z.vectorTimesMatrix,xe=z.dot,ke=W.avgPool,Oe=W.maxPool,Se=Z.transpose,Ne=q.reverse,Ee=q.reverse1d,Ie=q.reverse2d,Te=q.reverse3d,Ae=q.reverse4d,Ce=K.slice,Pe=K.slice1d,_e=K.slice2d,Re=K.slice3d,Me=K.slice4d,je=Q.stridedSlice,De=G.a.argMax,Le=G.a.argMin,ze=G.a.logSumExp,Fe=G.a.max,Be=G.a.mean,Ve=G.a.min,Ue=G.a.moments,We=G.a.sum,Ge=G.a.unsortedSegmentSum,qe=g.equal,He=g.equalStrict,Ke=g.greater,Xe=g.greaterStrict,Je=g.greaterEqual,Ye=g.greaterEqualStrict,Qe=g.less,Ze=g.lessStrict,$e=g.lessEqual,et=g.lessEqualStrict,tt=g.notEqual,nt=g.notEqualStrict,rt=_.logicalNot,at=_.logicalAnd,it=_.logicalOr,ot=_.logicalXor,st=_.where,ut=te.abs,ct=te.acos,lt=te.acosh,ft=te.asin,pt=te.asinh,ht=te.atan,dt=te.atanh,mt=te.ceil,gt=te.clipByValue,yt=te.cos,vt=te.cosh,bt=te.elu,wt=te.exp,xt=te.expm1,kt=te.floor,Ot=te.sign,St=te.leakyRelu,Nt=te.log,Et=te.log1p,It=te.logSigmoid,Tt=te.neg,At=te.prelu,Ct=te.relu,Pt=te.reciprocal,_t=te.round,Rt=te.selu,Mt=te.sigmoid,jt=te.sin,Dt=te.sinh,Lt=te.softplus,zt=te.sqrt,Ft=te.rsqrt,Bt=te.square,Vt=te.step,Ut=te.tan,Wt=te.tanh,Gt=te.erf,qt=d.add,Ht=d.addStrict,Kt=d.atan2,Xt=d.div,Jt=d.divStrict,Yt=d.maximum,Qt=d.maximumStrict,Zt=d.minimum,$t=d.minimumStrict,en=d.mod,tn=d.modStrict,nn=d.mul,rn=d.mulStrict,an=d.pow,on=d.powStrict,sn=d.sub,un=d.subStrict,cn=d.squaredDifference,ln=d.squaredDifferenceStrict,fn=V.norm,pn=r.a.cast,hn=r.a.clone,dn=r.a.fromPixels,mn=r.a.toPixels,gn=r.a.ones,yn=r.a.onesLike,vn=r.a.zeros,bn=r.a.zerosLike,wn=r.a.eye,xn=r.a.rand,kn=r.a.randomNormal,On=r.a.truncatedNormal,Sn=r.a.randomUniform,Nn=r.a.multinomial,En=r.a.reshape,In=r.a.squeeze,Tn=r.a.tile,An=r.a.gather,Cn=r.a.oneHot,Pn=r.a.linspace,_n=r.a.range,Rn=r.a.buffer,Mn=r.a.fill,jn=r.a.tensor,Dn=r.a.scalar,Ln=r.a.tensor1d,zn=r.a.tensor2d,Fn=r.a.tensor3d,Bn=r.a.tensor4d,Vn=r.a.print,Un=r.a.expandDims,Wn=r.a.stack,Gn=r.a.unstack,qn=r.a.split,Hn=r.a.cumsum,Kn=r.a.pad,Xn=r.a.pad1d,Jn=r.a.pad2d,Yn=r.a.pad3d,Qn=r.a.pad4d,Zn=F.movingAverage,$n=D.basicLSTMCell,er=D.multiRNNCell,tr=Y.softmax,nr=M.localResponseNormalization,rr=C;ne.a,p.a,R.b;var ar={absoluteDifference:R.a.absoluteDifference,computeWeightedLoss:R.a.computeWeightedLoss,cosineDistance:R.a.cosineDistance,hingeLoss:R.a.hingeLoss,huberLoss:R.a.huberLoss,logLoss:R.a.logLoss,meanSquaredError:R.a.meanSquaredError,softmaxCrossEntropy:Y.softmaxCrossEntropy},ir={resizeBilinear:T.resizeBilinear,resizeNearestNeighbor:T.resizeNearestNeighbor};},function(e,t,n){"use strict";function r(e){return function(){for(var e=[],t=0;t<arguments.length;t++){e[t]=arguments[t];}};}n.d(t,"a",function(){return r;});},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"Type",function(){return r;}),n.d(t,"URL_PROPERTIES",function(){return c;}),n.d(t,"Environment",function(){return d;}),n.d(t,"ENV",function(){return y;});var r,a=n(241),i=n(2),o=n(227),s=n(0),u=function u(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;};!function(e){e[e.NUMBER=0]="NUMBER",e[e.BOOLEAN=1]="BOOLEAN",e[e.STRING=2]="STRING";}(r||(r={}));var c=[{name:"DEBUG",type:r.BOOLEAN},{name:"IS_BROWSER",type:r.BOOLEAN},{name:"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",type:r.NUMBER},{name:"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",type:r.BOOLEAN},{name:"WEBGL_VERSION",type:r.NUMBER},{name:"WEBGL_FLOAT_TEXTURE_ENABLED",type:r.BOOLEAN},{name:"WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED",type:r.BOOLEAN},{name:"BACKEND",type:r.STRING}];function l(e,t){return null!=e.getExtension(t);}function f(e){if(0===e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var t=document.createElement("canvas");return 1===e?t.getContext("webgl")||t.getContext("experimental-webgl"):t.getContext("webgl2");}function p(e){if(null!=e){var t=e.getExtension("WEBGL_lose_context");if(null==t)throw new Error("Extension WEBGL_lose_context not supported on this browser.");t.loseContext();}}function h(e){var t=f(e);return null!=t&&(p(t),!0);}var d=function(){function e(e){this.features={},this.registry={},null!=e&&(this.features=e),this.get("DEBUG")&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.");}return e.setBackend=function(e,t){if(void 0===t&&(t=!1),!(e in y.registry))throw new Error("Backend type '"+e+"' not found in registry");y.initBackend(e,t);},e.getBackend=function(){return y.initDefaultBackend(),y.currentBackend;},e.disposeVariables=function(){y.engine.disposeVariables();},e.memory=function(){return y.engine.memory();},e.prototype.get=function(e){return e in this.features?this.features[e]:(this.features[e]=this.evaluateFeature(e),this.features[e]);},e.prototype.set=function(e,t){this.features[e]=t;},e.prototype.getBestBackendType=function(){var e=this;if(0===Object.keys(this.registry).length)throw new Error("No backend found in registry.");return Object.keys(this.registry).map(function(t){return{name:t,entry:e.registry[t]};}).sort(function(e,t){return t.entry.priority-e.entry.priority;})[0].name;},e.prototype.evaluateFeature=function(e){if("DEBUG"===e)return!1;if("IS_BROWSER"===e)return"undefined"!=typeof window;if("BACKEND"===e)return this.getBestBackendType();if("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"===e){var t=this.get("WEBGL_VERSION");return 0===t?0:function(e){if(0===e)return 0;var t,n=f(e);return t=l(n,"EXT_disjoint_timer_query_webgl2")&&2===e?2:l(n,"EXT_disjoint_timer_query")?1:0,null!=n&&p(n),t;}(t);}if("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE"===e)return this.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!a.a();if("WEBGL_VERSION"===e)return h(2)?2:h(1)?1:0;if("WEBGL_FLOAT_TEXTURE_ENABLED"===e)return function(e){if(0===e)return!1;var t=f(e);if(1===e){if(!l(t,"OES_texture_float"))return!1;}else if(!l(t,"EXT_color_buffer_float"))return!1;var n=t.createFramebuffer(),r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);var a=2===e?t.RGBA32F:t.RGBA;t.texImage2D(t.TEXTURE_2D,0,a,1,1,0,t.RGBA,t.FLOAT,null),t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0);var i=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;t.readPixels(0,0,1,1,t.RGBA,t.FLOAT,new Float32Array(4));var o=t.getError()===t.NO_ERROR;return p(t),i&&o;}(this.get("WEBGL_VERSION"));if("WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED"===e)return function(e){if(e>0)return!1;if(2!==e)return!1;var t=f(e),n=l(t,"WEBGL_get_buffer_sub_data_async");return p(t),n;}(this.get("WEBGL_VERSION"));throw new Error("Unknown feature "+e+".");},e.prototype.setFeatures=function(e){this.features=e;},e.prototype.reset=function(){this.features=g(),null!=this.globalEngine&&(this.globalEngine.dispose(),this.globalEngine=null);},e.prototype.initBackend=function(e,t){void 0===t&&(t=!1),this.currentBackend=e,null!=this.globalEngine&&this.globalEngine.dispose();var n=y.findBackend(e);this.globalEngine=new o.a(n,t);},e.prototype.findBackend=function(e){return e in this.registry?this.registry[e].backend:null;},e.prototype.registerBackend=function(e,t,n){void 0===n&&(n=1),e in this.registry&&console.warn(e+" backend was already registered");try{var r=t();return this.registry[e]={backend:r,priority:n},!0;}catch(e){return console.warn(e.message),!1;}},e.prototype.removeBackend=function(e){if(!(e in this.registry))throw new Error(e+" backend not found in registry");this.registry[e].backend.dispose(),delete this.registry[e];},Object.defineProperty(e.prototype,"engine",{get:function get(){return this.initDefaultBackend(),this.globalEngine;},enumerable:!0,configurable:!0}),e.prototype.initDefaultBackend=function(){null==this.globalEngine&&this.initBackend(y.get("BACKEND"),!1);},u([Object(i.a)({heading:"Environment"})],e,"setBackend",null),u([Object(i.a)({heading:"Environment"})],e,"getBackend",null),u([Object(i.a)({heading:"Environment"})],e,"disposeVariables",null),u([Object(i.a)({heading:"Performance",subheading:"Memory"})],e,"memory",null),e;}(),m="tfjsflags";function g(){var e={};if("undefined"==typeof window||void 0===window.location)return e;var t=s.getQueryParams(window.location.search);if(m in t){var n={};t[m].split(",").forEach(function(e){var t=e.split(":"),r=t[0],a=t[1];n[r]=a;}),c.forEach(function(t){t.name in n&&(console.log("Setting feature override from URL "+t.name+": "+n[t.name]),t.type===r.NUMBER?e[t.name]=+n[t.name]:t.type===r.BOOLEAN?e[t.name]="true"===n[t.name]:t.type===r.STRING?e[t.name]=n[t.name]:console.warn("Unknown URL param: "+t.name+"."));});}return e;}var y=function(){var t=function(){var t;if("undefined"!=typeof window)t=window;else{if(void 0===e)throw new Error("Could not find a global object");t=e;}return t;}();return t.ENV=t.ENV||new d(g()),t.ENV;}();}.call(this,n(101));},function(e,t,n){"use strict";n.d(t,"a",function(){return a;});var r=n(7);function a(e,t,n){var a=n.value;return n.value=function(){for(var e=[],n=0;n<arguments.length;n++){e[n]=arguments[n];}return Object(r.f)(t,function(){return a.apply(void 0,e);});},n;}},function(e,t,n){var r=n(13),a=n(43),i=n(28),o=n(27),s=n(42),u=function u(e,t,n){var c,l,f,p,h=e&u.F,d=e&u.G,m=e&u.S,g=e&u.P,y=e&u.B,v=d?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,b=d?a:a[t]||(a[t]={}),w=b.prototype||(b.prototype={});for(c in d&&(n=t),n){f=((l=!h&&v&&void 0!==v[c])?v:n)[c],p=y&&l?s(f,r):g&&"function"==typeof f?s(Function.call,f):f,v&&o(v,c,f,e&u.U),b[c]!=f&&i(b,c,p),g&&w[c]!=f&&(w[c]=f);}};r.core=a,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u;},function(e,t,n){"use strict";n.d(t,"b",function(){return l;}),n.d(t,"a",function(){return f;}),n.d(t,"c",function(){return p;}),n.d(t,"d",function(){return h;});var r=n(2),a=n(3),i=n(1),o=n(123),s=n(0),u=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}(),c=function c(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;},l=function(){function e(e,t,n){if(this.dtype=t,null!=n){var r=n.length,a=s.sizeFromShape(e);s.assert(r===a,"Length of values '"+r+"' does not match the size inferred by the shape '"+a+"'");}this.shape=e.slice(),this.values=n||s.getTypedArrayFromDType(t,s.sizeFromShape(e)),this.strides=d(e),this.size=s.sizeFromShape(e);}return e.prototype.set=function(e){for(var t=[],n=1;n<arguments.length;n++){t[n-1]=arguments[n];}0===t.length&&(t=[0]),s.assert(t.length===this.rank,"The number of provided coordinates ("+t.length+") must match the rank ("+this.rank+")");var r=this.locToIndex(t);this.values[r]=e;},e.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++){e[t]=arguments[t];}0===e.length&&(e=[0]);for(var n=e[e.length-1],r=0;r<e.length-1;++r){n+=this.strides[r]*e[r];}return this.values[n];},e.prototype.locToIndex=function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n){t+=this.strides[n]*e[n];}return t;},e.prototype.indexToLoc=function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n){t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];}return t[t.length-1]=e,t;},Object.defineProperty(e.prototype,"rank",{get:function get(){return this.shape.length;},enumerable:!0,configurable:!0}),e.prototype.toTensor=function(){return f.make(this.shape,{values:this.values},this.dtype);},c([Object(r.a)({heading:"Tensors",subheading:"Creation"})],e.prototype,"set",null),c([Object(r.a)({heading:"Tensors",subheading:"Creation"})],e.prototype,"get",null),c([Object(r.a)({heading:"Tensors",subheading:"Creation"})],e.prototype,"toTensor",null),c([Object(r.a)({heading:"Tensors",subheading:"Classes"})],e);}(),f=function(){function e(e,n,r,i){this.isDisposed=!1,this.size=s.sizeFromShape(e),null!=r&&s.assert(this.size===r.length,"Constructing tensor of shape ("+this.size+") should match the length of values ("+r.length+")"),this.shape=e.slice(),this.dtype=n||"float32",this.strides=d(e),this.dataId=null!=i?i:{},this.id=t.nextId++,this.rankType=this.rank<5?this.rank.toString():"higher",a.ENV.engine.registerTensor(this),null!=r&&a.ENV.engine.write(this.dataId,r);}return t=e,e.make=function(e,n,r){return new t(e,r,n.values,n.dataId);},e.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D();},e.prototype.asScalar=function(){return this.throwIfDisposed(),s.assert(1===this.size,"The array must have only 1 element."),this.reshape([]);},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size]);},e.prototype.as2D=function(e,t){return this.throwIfDisposed(),this.reshape([e,t]);},e.prototype.as3D=function(e,t,n){return this.throwIfDisposed(),this.reshape([e,t,n]);},e.prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),this.reshape([e,t,n,r]);},e.prototype.asType=function(e){return this.throwIfDisposed(),i.t(this,e);},Object.defineProperty(e.prototype,"rank",{get:function get(){return this.shape.length;},enumerable:!0,configurable:!0}),e.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++){e[t]=arguments[t];}s.assert(e.length===this.rank,"Number of coordinates in get() must match the rank of the tensor"),this.throwIfDisposed(),0===e.length&&(e=[0]);for(var n=e[e.length-1],r=0;r<e.length-1;++r){n+=this.strides[r]*e[r];}return this.dataSync()[n];},e.prototype.buffer=function(){return i.s(this.shape,this.dtype,this.dataSync());},e.prototype.data=function(){return function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{u(r.next(e));}catch(e){i(e);}}function s(e){try{u(r.throw(e));}catch(e){i(e);}}function u(e){e.done?a(e.value):new n(function(t){t(e.value);}).then(o,s);}u((r=r.apply(e,t||[])).next());});}(this,void 0,void 0,function(){return function(e,t){var n,r,a,i,o={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1];},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this;}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;){try{if(n=1,r&&(a=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[0,a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue;}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break;}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break;}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break;}a[2]&&o.ops.pop(),o.trys.pop();continue;}i=t.call(e,o);}catch(e){i=[6,e],r=0;}finally{n=a=0;}}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0};}([i,s]);};}}(this,function(e){return this.throwIfDisposed(),[2,a.ENV.engine.read(this.dataId)];});});},e.prototype.dataSync=function(){return this.throwIfDisposed(),a.ENV.engine.readSync(this.dataId);},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,a.ENV.engine.disposeTensor(this));},e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.");},e.prototype.toFloat=function(){return this.asType("float32");},e.prototype.toInt=function(){return this.asType("int32");},e.prototype.toBool=function(){return this.asType("bool");},e.prototype.print=function(e){return void 0===e&&(e=!1),i.Db(this,e);},e.prototype.reshape=function(e){return this.throwIfDisposed(),i.Kb(this,e);},e.prototype.reshapeAs=function(e){return this.throwIfDisposed(),this.reshape(e.shape);},e.prototype.expandDims=function(e){return void 0===e&&(e=0),i.R(this,e);},e.prototype.cumsum=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=!1),void 0===n&&(n=!1),i.H(this,e,t,n);},e.prototype.squeeze=function(e){return this.throwIfDisposed(),i.lc(this,e);},e.prototype.clone=function(){return this.throwIfDisposed(),i.w(this);},e.prototype.toString=function(e){return void 0===e&&(e=!1),o.a(this,e);},e.prototype.tile=function(e){return this.throwIfDisposed(),i.zc(this,e);},e.prototype.gather=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),i.X(this,e,t);},e.prototype.matMul=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),this.throwIfDisposed(),i.Ua(this,e,t,n);},e.prototype.dot=function(e){return this.throwIfDisposed(),i.L(this,e);},e.prototype.norm=function(e,t,n){return void 0===e&&(e="euclidean"),void 0===t&&(t=null),void 0===n&&(n=!1),this.throwIfDisposed(),i.nb(this,e,t,n);},e.prototype.slice=function(e,t){return this.throwIfDisposed(),i.Zb(this,e,t);},e.prototype.reverse=function(e){return this.throwIfDisposed(),i.Lb(this,e);},e.prototype.concat=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),i.x([this,e],t);},e.prototype.stack=function(e,t){return void 0===t&&(t=0),i.mc([this,e],t);},e.prototype.unstack=function(e,t){return void 0===t&&(t=0),i.Ec(this,t);},e.prototype.pad=function(e,t){return void 0===t&&(t=0),i.vb(this,e,t);},e.prototype.batchNormalization=function(e,t,n,r,a){return void 0===n&&(n=.001),this.throwIfDisposed(),i.o(this,e,t,n,r,a);},e.prototype.logSumExp=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),i.Oa(this,e,t);},e.prototype.sum=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),i.rc(this,e,t);},e.prototype.mean=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),i.ab(this,e,t);},e.prototype.min=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),i.bb(this,e,t);},e.prototype.max=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),i.Wa(this,e,t);},e.prototype.argMin=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),i.g(this,e);},e.prototype.argMax=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),i.f(this,e);},e.prototype.cast=function(e){return this.throwIfDisposed(),i.t(this,e);},e.prototype.add=function(e){return this.throwIfDisposed(),i.d(this,e);},e.prototype.addStrict=function(e){return this.throwIfDisposed(),i.e(this,e);},e.prototype.sub=function(e){return this.throwIfDisposed(),i.pc(this,e);},e.prototype.subStrict=function(e){return this.throwIfDisposed(),i.qc(this,e);},e.prototype.pow=function(e){return this.throwIfDisposed(),i.Ab(this,e);},e.prototype.powStrict=function(e){return this.throwIfDisposed(),i.Bb(this,e);},e.prototype.mul=function(e){return this.throwIfDisposed(),i.ib(this,e);},e.prototype.mulStrict=function(e){return this.throwIfDisposed(),i.jb(this,e);},e.prototype.div=function(e){return this.throwIfDisposed(),i.J(this,e);},e.prototype.divStrict=function(e){return this.throwIfDisposed(),i.K(this,e);},e.prototype.minimum=function(e){return this.throwIfDisposed(),i.cb(this,e);},e.prototype.minimumStrict=function(e){return this.throwIfDisposed(),i.db(this,e);},e.prototype.maximum=function(e){return this.throwIfDisposed(),i.Ya(this,e);},e.prototype.maximumStrict=function(e){return this.throwIfDisposed(),i.Za(this,e);},e.prototype.mod=function(e){return this.throwIfDisposed(),i.eb(this,e);},e.prototype.modStrict=function(e){return this.throwIfDisposed(),i.fb(this,e);},e.prototype.squaredDifference=function(e){return this.throwIfDisposed(),i.jc(this,e);},e.prototype.squaredDifferenceStrict=function(e){return this.throwIfDisposed(),i.kc(this,e);},e.prototype.transpose=function(e){return this.throwIfDisposed(),i.Bc(this,e);},e.prototype.notEqual=function(e){return this.throwIfDisposed(),i.ob(this,e);},e.prototype.notEqualStrict=function(e){return this.throwIfDisposed(),i.pb(this,e);},e.prototype.less=function(e){return this.throwIfDisposed(),i.Ea(this,e);},e.prototype.lessStrict=function(e){return this.throwIfDisposed(),i.Ha(this,e);},e.prototype.equal=function(e){return this.throwIfDisposed(),i.N(this,e);},e.prototype.equalStrict=function(e){return this.throwIfDisposed(),i.O(this,e);},e.prototype.lessEqual=function(e){return this.throwIfDisposed(),i.Fa(this,e);},e.prototype.lessEqualStrict=function(e){return this.throwIfDisposed(),i.Ga(this,e);},e.prototype.greater=function(e){return this.throwIfDisposed(),i.Y(this,e);},e.prototype.greaterStrict=function(e){return this.throwIfDisposed(),i.Ba(this,e);},e.prototype.greaterEqual=function(e){return this.throwIfDisposed(),i.Z(this,e);},e.prototype.greaterEqualStrict=function(e){return this.throwIfDisposed(),i.Aa(this,e);},e.prototype.logicalAnd=function(e){return this.throwIfDisposed(),i.Pa(this,e);},e.prototype.logicalOr=function(e){return this.throwIfDisposed(),i.Ra(this,e);},e.prototype.logicalNot=function(){return this.throwIfDisposed(),i.Qa(this);},e.prototype.logicalXor=function(e){return this.throwIfDisposed(),i.Sa(this,e);},e.prototype.where=function(e,t){return this.throwIfDisposed(),i.Gc(e,this,t);},e.prototype.neg=function(){return this.throwIfDisposed(),i.mb(this);},e.prototype.ceil=function(){return this.throwIfDisposed(),i.u(this);},e.prototype.floor=function(){return this.throwIfDisposed(),i.V(this);},e.prototype.sign=function(){return this.throwIfDisposed(),i.Wb(this);},e.prototype.exp=function(){return this.throwIfDisposed(),i.Q(this);},e.prototype.expm1=function(){return this.throwIfDisposed(),i.S(this);},e.prototype.log=function(){return this.throwIfDisposed(),i.La(this);},e.prototype.log1p=function(){return this.throwIfDisposed(),i.Ma(this);},e.prototype.sqrt=function(){return this.throwIfDisposed(),i.hc(this);},e.prototype.rsqrt=function(){return this.throwIfDisposed(),i.Rb(this);},e.prototype.square=function(){return this.throwIfDisposed(),i.ic(this);},e.prototype.reciprocal=function(){return this.throwIfDisposed(),i.Ib(this);},e.prototype.abs=function(){return this.throwIfDisposed(),i.a(this);},e.prototype.clipByValue=function(e,t){return this.throwIfDisposed(),i.v(this,e,t);},e.prototype.relu=function(){return this.throwIfDisposed(),i.Jb(this);},e.prototype.elu=function(){return this.throwIfDisposed(),i.M(this);},e.prototype.selu=function(){return this.throwIfDisposed(),i.Tb(this);},e.prototype.leakyRelu=function(e){return void 0===e&&(e=.2),this.throwIfDisposed(),i.Da(this,e);},e.prototype.prelu=function(e){return this.throwIfDisposed(),i.Cb(this,e);},e.prototype.sigmoid=function(){return this.throwIfDisposed(),i.Vb(this);},e.prototype.logSigmoid=function(){return this.throwIfDisposed(),i.Na(this);},e.prototype.softplus=function(){return this.throwIfDisposed(),i.fc(this);},e.prototype.sin=function(){return this.throwIfDisposed(),i.Xb(this);},e.prototype.cos=function(){return this.throwIfDisposed(),i.F(this);},e.prototype.tan=function(){return this.throwIfDisposed(),i.sc(this);},e.prototype.asin=function(){return this.throwIfDisposed(),i.h(this);},e.prototype.acos=function(){return this.throwIfDisposed(),i.b(this);},e.prototype.atan=function(){return this.throwIfDisposed(),i.j(this);},e.prototype.sinh=function(){return this.throwIfDisposed(),i.Yb(this);},e.prototype.cosh=function(){return this.throwIfDisposed(),i.G(this);},e.prototype.tanh=function(){return this.throwIfDisposed(),i.tc(this);},e.prototype.asinh=function(){return this.throwIfDisposed(),i.i(this);},e.prototype.acosh=function(){return this.throwIfDisposed(),i.c(this);},e.prototype.atanh=function(){return this.throwIfDisposed(),i.l(this);},e.prototype.erf=function(){return this.throwIfDisposed(),i.P(this);},e.prototype.round=function(){return this.throwIfDisposed(),i.Qb(this);},e.prototype.step=function(e){return void 0===e&&(e=0),this.throwIfDisposed(),i.nc(this,e);},e.prototype.softmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),i.ec(this,e);},e.prototype.resizeBilinear=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),i.Ca.resizeBilinear(this,e,t);},e.prototype.resizeNearestNeighbor=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),i.Ca.resizeNearestNeighbor(this,e,t);},e.prototype.conv1d=function(e,t,n,r,a,o){return void 0===r&&(r="NWC"),void 0===a&&(a=1),this.throwIfDisposed(),i.C(this,e,t,n,r,a,o);},e.prototype.conv2d=function(e,t,n,r,a,o){return void 0===r&&(r="NHWC"),void 0===a&&(a=[1,1]),this.throwIfDisposed(),i.D(this,e,t,n,r,a,o);},e.prototype.conv2dTranspose=function(e,t,n,r,a){return this.throwIfDisposed(),i.E(this,e,t,n,r,a);},e.prototype.depthwiseConv2D=function(e,t,n,r,a,o){return void 0===r&&(r="NHWC"),void 0===a&&(a=[1,1]),this.throwIfDisposed(),i.I(this,e,t,n,r,a,o);},e.prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),i.m(this,e,t,n,r);},e.prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),i.Xa(this,e,t,n,r);},e.prototype.localResponseNormalization=function(e,t,n,r){return void 0===e&&(e=5),void 0===t&&(t=1),void 0===n&&(n=1),void 0===r&&(r=.5),i.Ka(this,e,t,n,r);},e.prototype.variable=function(e,t,n){return void 0===e&&(e=!0),this.throwIfDisposed(),p.variable(this,e,t,n);},e.prototype.unsortedSegmentSum=function(e,t,n){return void 0===n&&(n=0),this.throwIfDisposed(),i.Dc(this,e,t,n);},e.nextId=0,c([Object(r.a)({heading:"Tensors",subheading:"Classes"})],e.prototype,"flatten",null),c([Object(r.a)({heading:"Tensors",subheading:"Classes"})],e.prototype,"asScalar",null),c([Object(r.a)({heading:"Tensors",subheading:"Classes"})],e.prototype,"as1D",null),c([Object(r.a)({heading:"Tensors",subheading:"Classes"})],e.prototype,"as2D",null),c([Object(r.a)({heading:"Tensors",subheading:"Classes"})],e.prototype,"as3D",null),c([Object(r.a)({heading:"Tensors",subheading:"Classes"})],e.prototype,"as4D",null),c([Object(r.a)({heading:"Tensors",subheading:"Classes"})],e.prototype,"asType",null),c([Object(r.a)({heading:"Tensors",subheading:"Classes"})],e.prototype,"buffer",null),c([Object(r.a)({heading:"Tensors",subheading:"Classes"})],e.prototype,"data",null),c([Object(r.a)({heading:"Tensors",subheading:"Classes"})],e.prototype,"dataSync",null),c([Object(r.a)({heading:"Tensors",subheading:"Classes"})],e.prototype,"dispose",null),c([Object(r.a)({heading:"Tensors",subheading:"Classes"})],e.prototype,"toFloat",null),c([Object(r.a)({heading:"Tensors",subheading:"Classes"})],e.prototype,"toInt",null),c([Object(r.a)({heading:"Tensors",subheading:"Classes"})],e.prototype,"toBool",null),c([Object(r.a)({heading:"Tensors",subheading:"Classes"})],e.prototype,"print",null),c([Object(r.a)({heading:"Tensors",subheading:"Classes"})],e.prototype,"reshape",null),c([Object(r.a)({heading:"Tensors",subheading:"Classes"})],e.prototype,"reshapeAs",null),c([Object(r.a)({heading:"Tensors",subheading:"Classes"})],e.prototype,"expandDims",null),c([Object(r.a)({heading:"Tensors",subheading:"Classes"})],e.prototype,"cumsum",null),c([Object(r.a)({heading:"Tensors",subheading:"Classes"})],e.prototype,"squeeze",null),c([Object(r.a)({heading:"Tensors",subheading:"Classes"})],e.prototype,"clone",null),c([Object(r.a)({heading:"Tensors",subheading:"Classes"})],e.prototype,"toString",null),t=c([Object(r.a)({heading:"Tensors",subheading:"Classes"})],e);var t;}(),p=function(e){function t(t,r,i){void 0===r&&(r=!0);var o=e.call(this,t.shape,t.dtype,null,t.dataId)||this;return o.trainable=r,o.name=i,null==o.name&&(o.name=n.nextVarId.toString(),n.nextVarId++),a.ENV.engine.registerVariable(o),o;}return u(t,e),n=t,t.variable=function(e,t,r,a){return void 0===t&&(t=!0),null!=a&&a!==e.dtype&&(e=e.asType(a)),new n(e,t,r);},t.prototype.assign=function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value ("+e.dtype+") and previous value ("+this.dtype+") must match");if(!s.arraysEqual(e.shape,this.shape))throw new Error("shape of the new value ("+e.shape+") and previous value ("+this.shape+") must match");a.ENV.engine.disposeTensor(this),this.dataId=e.dataId,a.ENV.engine.registerTensor(this);},t.nextVarId=0,c([Object(r.a)({heading:"Tensors",subheading:"Classes"})],t.prototype,"assign",null),c([Object(r.a)({heading:"Tensors",subheading:"Creation"})],t,"variable",null),n=c([Object(r.a)({heading:"Tensors",subheading:"Classes"})],t);var n;}(f),h=p.variable;function d(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r){n[r]=n[r+1]*e[r+1];}return n;}},function(e,t,n){"use strict";var r=n(2),a=n(3),i=n(6),o=n(0),s=function s(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;},u=function(){function e(){}return e.gradScope=function(e,t){return f(e,t,!0);},e.grad=function(e){return o.assert(o.isFunction(e),"The f passed in grad(f) must be a function"),function(t,n){return o.assert(t instanceof i.a,"The x passed in grad(f)(x) must be a tensor"),o.assert(null==n||n instanceof i.a,"The dy passed in grad(f)(x, dy) must be a tensor"),f(function(){var r=a.ENV.engine.gradients(function(){return e(t);},[t],n),i=r.value,s=r.grads;return null!=n&&o.assertShapesMatch(i.shape,n.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),c(s),s[0];});};},e.grads=function(e){return o.assert(o.isFunction(e),"The f passed in grads(f) must be a function"),function(t,n){return o.assert(Array.isArray(t)&&t.every(function(e){return e instanceof i.a;}),"The args passed in grads(f)(args) must be an array of tensors"),o.assert(null==n||n instanceof i.a,"The dy passed in grads(f)(args, dy) must be a tensor"),f(function(){var r=a.ENV.engine.gradients(function(){return e.apply(void 0,t);},t,n),i=r.value,s=r.grads;return null!=n&&o.assertShapesMatch(i.shape,n.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),c(s),s;});};},e.valueAndGrad=function(e){return o.assert(o.isFunction(e),"The f passed in valueAndGrad(f) must be a function"),function(t,n){o.assert(t instanceof i.a,"The x passed in valueAndGrad(f)(x) must be a tensor"),o.assert(null==n||n instanceof i.a,"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");var r=a.ENV.engine.gradients(function(){return e(t);},[t],n),s=r.grads,u=r.value;return c(s),{grad:s[0],value:u};};},e.valueAndGrads=function(e){return o.assert(o.isFunction(e),"The f passed in valueAndGrads(f) must be a function"),function(t,n){o.assert(Array.isArray(t)&&t.every(function(e){return e instanceof i.a;}),"The args passed in valueAndGrads(f)(args) must be array of tensors"),o.assert(null==n||n instanceof i.a,"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");var r=a.ENV.engine.gradients(function(){return e.apply(void 0,t);},t,n);return null!=n&&o.assertShapesMatch(r.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),c(r.grads),r;};},e.variableGrads=function(e,t){if(o.assert(o.isFunction(e),"The f passed in variableGrads(f) must be a function"),o.assert(null==t||Array.isArray(t)&&t.every(function(e){return e instanceof i.c;}),"The varList passed in variableGrads(f, varList) must be an array of variables"),null==t)for(var n in t=[],a.ENV.engine.registeredVariables){t.push(a.ENV.engine.registeredVariables[n]);}var r=t.length;t=t.filter(function(e){return e.trainable;}),o.assert(t.length>0,"variableGrads() expects at least one of the input variables to be trainable, but none of the "+r+" variables is trainable.");var s=a.ENV.engine.gradients(e,t,null,!0),u=s.value,c=s.grads;o.assert(c.some(function(e){return null!=e;}),"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),o.assert(0===u.rank,"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+u.rank+" tensor");var l={};return t.forEach(function(e,t){null!=c[t]&&(l[e.name]=c[t]);}),{value:u,grads:l};},e.customGrad=function(e){return a.ENV.engine.customGrad(e);},s([Object(r.a)({heading:"Training",subheading:"Gradients"})],e,"grad",null),s([Object(r.a)({heading:"Training",subheading:"Gradients"})],e,"grads",null),s([Object(r.a)({heading:"Training",subheading:"Gradients"})],e,"valueAndGrad",null),s([Object(r.a)({heading:"Training",subheading:"Gradients"})],e,"valueAndGrads",null),s([Object(r.a)({heading:"Training",subheading:"Gradients"})],e,"variableGrads",null),s([Object(r.a)({heading:"Training",subheading:"Gradients"})],e,"customGrad",null),e;}();function c(e){if(e.filter(function(e){return null==e;}).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.");}var l=n(80);n.d(t,"f",function(){return f;}),n.d(t,"e",function(){return p;}),n.d(t,"b",function(){return h;}),n.d(t,"g",function(){return d;}),n.d(t,"c",function(){return m;}),n.d(t,"h",function(){return g;}),n.d(t,"d",function(){return y;}),n.d(t,"i",function(){return v;}),n.d(t,"j",function(){return b;}),n.d(t,"a",function(){return w;});var f=l.a.tidy,p=l.a.keep,h=l.a.dispose,d=l.a.time,m=u.grad,g=u.valueAndGrad,y=u.grads,v=u.valueAndGrads,b=u.variableGrads,w=u.customGrad;},function(e,t,n){"use strict";n.d(t,"b",function(){return i;}),n.d(t,"c",function(){return o;}),n.d(t,"g",function(){return s;}),n.d(t,"a",function(){return u;}),n.d(t,"d",function(){return c;}),n.d(t,"f",function(){return l;}),n.d(t,"e",function(){return f;});var r=n(0);function a(e,t){for(var n=0;n<e.length;++n){if(e[e.length-n-1]!==t-1-n)return!1;}return!0;}function i(e,t){for(var n=[],r=e.length,a=0;a<r;a++){-1===t.indexOf(a)&&n.push(e[a]);}return[n,t.map(function(t){return e[t];})];}function o(e,t){return function(e,t,n){for(var r=e.length+t.length,a=[],i=0,o=0,s=0;s<r;s++){-1===n.indexOf(s)?a.push(e[i++]):a.push(t[o++]);}return a;}(e,t.map(function(e){return 1;}),t);}function s(e,t){var n=t.length;return e=null==e?t.map(function(e,t){return t;}):[].concat(e),r.assert(e.every(function(e){return e>=-n&&e<n;}),"All values in axis param must be in range [-"+n+", "+n+") but got axis "+e),r.assert(e.every(function(e){return r.isInt(e);}),"All values in axis param must be integers but got axis "+e),e.map(function(e){return e<0?n+e:e;});}function u(e,t,n){r.assert(a(t,n),e+" supports only inner-most axes for now. Got axes "+t+" and rank-"+n+" input.");}function c(e,t){if(a(e,t))return null;for(var n=[],r=0;r<t;++r){-1===e.indexOf(r)&&n.push(r);}return e.forEach(function(e){return n.push(e);}),n;}function l(e){return e.map(function(e,t){return[t,e];}).sort(function(e,t){return e[1]-t[1];}).map(function(e){return e[0];});}function f(e,t){for(var n=[],r=t-e;r<t;++r){n.push(r);}return n;}},function(e,t,n){"use strict";var r=n(2),a=n(3),i=n(6),o=n(123),s=n(0),u=n(8),c=n(63),l=n(4),f=n(122),p=function(){function e(e,t,n,r,a){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var i=a||Math.random();this.random=f.alea(i.toString());}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e;}for(var t,n,r=!1;!r;){var a=void 0,i=void 0,o=void 0;do{o=(a=2*this.random()-1)*a+(i=2*this.random()-1)*i;}while(o>=1||0===o);var s=Math.sqrt(-2*Math.log(o)/o);t=this.mean+this.stdDev*a*s,n=this.mean+this.stdDev*i*s,this.truncated&&!this.isValidTruncated(t)||(r=!0);}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t);},e.prototype.convertValue=function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e);},e.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower;},e;}(),h=n(39);n.d(t,"a",function(){return m;});var d=function d(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;},m=function(){function e(){}return e.tensor=function(e,t,n){void 0===n&&(n="float32");var r=s.inferShape(e);return null!=t&&1!==r.length&&s.assertShapesMatch(t,r,"Error creating a new Tensor. Inferred shape ("+r+") does not match the provided shape ("+t+"). "),s.isTypedArray(e)||Array.isArray(e)||(e=[e]),t=t||r,i.a.make(t,{values:function(e,t){return function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t;}(e,t)?e:(Array.isArray(e)&&(e=s.flatten(e)),s.copyTypedArray(e,t));}(e,n)},n);},e.scalar=function(t,n){if(void 0===n&&(n="float32"),s.isTypedArray(t)||Array.isArray(t))throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean)");return e.tensor(t,[],n);},e.tensor1d=function(t,n){void 0===n&&(n="float32");var r=s.inferShape(t);if(1!==r.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return e.tensor(t,r,n);},e.tensor2d=function(t,n,r){if(void 0===r&&(r="float32"),null!=n&&2!==n.length)throw new Error("tensor2d() requires shape to have two numbers");var a=s.inferShape(t);if(2!==a.length&&1!==a.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===a.length&&null==n)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return n=n||a,e.tensor(t,n,r);},e.tensor3d=function(t,n,r){if(void 0===r&&(r="float32"),null!=n&&3!==n.length)throw new Error("tensor3d() requires shape to have three numbers");var a=s.inferShape(t);if(3!==a.length&&1!==a.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===a.length&&null==n)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return n=n||a,e.tensor(t,n,r);},e.tensor4d=function(t,n,r){if(void 0===r&&(r="float32"),null!=n&&4!==n.length)throw new Error("tensor4d() requires shape to have four numbers");var a=s.inferShape(t);if(4!==a.length&&1!==a.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===a.length&&null==n)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return n=n||a,e.tensor(t,n,r);},e.ones=function(e,t){void 0===t&&(t="float32");var n=function(e,t){for(var n=g(e,t),r=0;r<n.length;r++){n[r]=1;}return n;}(s.sizeFromShape(e),t);return i.a.make(e,{values:n},t);},e.zeros=function(e,t){void 0===t&&(t="float32");var n=g(s.sizeFromShape(e),t);return i.a.make(e,{values:n},t);},e.fill=function(e,t,n){void 0===n&&(n="float32");var r=s.getTypedArrayFromDType(n,s.sizeFromShape(e));return r.fill(t),i.a.make(e,{values:r},n);},e.onesLike=function(t){return s.assertArgumentsAreTensors({x:t},"onesLike"),e.ones(t.shape,t.dtype);},e.zerosLike=function(t){return s.assertArgumentsAreTensors({x:t},"zerosLike"),e.zeros(t.shape,t.dtype);},e.clone=function(e){return s.assertArgumentsAreTensors({x:e},"clone"),a.ENV.engine.runKernel(function(t){return i.a.make(e.shape,{dataId:e.dataId},e.dtype);},{x:e},function(e){return{x:function x(){return e.toFloat();}};});},e.eye=function(t,n,r,a){void 0===a&&(a="float32"),null==n&&(n=t);for(var i=e.buffer([t,n],a),o=t<=n?t:n,s=0;s<o;++s){i.set(1,s,s);}var u=i.toTensor().as2D(t,n);if(null==r)return u;if(1===r.length)return e.tile(e.expandDims(u,0),[r[0],1,1]);if(2===r.length)return e.tile(e.expandDims(e.expandDims(u,0),0),[r[0],r[1],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+r.length+"D.");},e.randomNormal=function(t,n,r,a,i){if(void 0===n&&(n=0),void 0===r&&(r=1),null!=a&&"bool"===a)throw new Error("Unsupported data type "+a);for(var o=new p(n,r,a,!1,i),s=e.buffer(t,a),u=0;u<s.values.length;u++){s.values[u]=o.nextValue();}return s.toTensor();},e.truncatedNormal=function(t,n,r,a,i){if(void 0===n&&(n=0),void 0===r&&(r=1),null!=a&&"bool"===a)throw new Error("Unsupported data type "+a);for(var o=new p(n,r,a,!0,i),s=e.buffer(t,a),u=0;u<s.values.length;u++){s.values[u]=o.nextValue();}return s.toTensor();},e.randomUniform=function(t,n,r,a){void 0===n&&(n=0),void 0===r&&(r=1),void 0===a&&(a="float32");for(var i=e.buffer(t,a),o=0;o<i.values.length;o++){i.values[o]=s.randUniform(n,r);}return i.toTensor();},e.rand=function(e,t,n){var r=s.sizeFromShape(e),a=null;if(null==n||"float32"===n)a=new Float32Array(r);else if("int32"===n)a=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type "+n);a=new Uint8Array(r);}for(var o=0;o<r;o++){a[o]=t();}return i.a.make(e,{values:a},n);},e.multinomial=function(e,t,n,r){void 0===r&&(r=!1),s.assertArgumentsAreTensors({logits:e},"multinomial");var i=e.size,o=e.rank;if(i<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+i+".");if(o>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+o);n=n||Math.random();var u=1===o?e.as2D(1,-1):e,c=a.ENV.engine.runKernel(function(e){return e.multinomial(u,r,t,n);},{logits2D:u});return 1===o?c.as1D():c;},e.oneHot=function(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r=0),s.assert("int32"===e.dtype,"Indices must be of dtype `int32`"),t<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+t);return a.ENV.engine.runKernel(function(a){return a.oneHot(e,t,n,r);},{indices:e});},e.fromPixels=function(e,t){if(void 0===t&&(t=3),t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");return a.ENV.engine.fromPixels(e,t);},e.toPixels=function(e,t){return function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{u(r.next(e));}catch(e){i(e);}}function s(e){try{u(r.throw(e));}catch(e){i(e);}}function u(e){e.done?a(e.value):new n(function(t){t(e.value);}).then(o,s);}u((r=r.apply(e,t||[])).next());});}(this,void 0,void 0,function(){var n,r,a,i,o,u,c,l,f,p,h,d,m,g,y,v,b,w,x;return function(e,t){var n,r,a,i,o={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1];},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this;}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;){try{if(n=1,r&&(a=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[0,a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue;}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break;}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break;}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break;}a[2]&&o.ops.pop(),o.trys.pop();continue;}i=t.call(e,o);}catch(e){i=[6,e],r=0;}finally{n=a=0;}}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0};}([i,s]);};}}(this,function(k){switch(k.label){case 0:if(s.assertArgumentsAreTensors({img:e},"toPixels"),2!==e.rank&&3!==e.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+e.rank+".");if(n=e.shape.slice(0,2),r=n[0],a=n[1],(i=2===e.rank?1:e.shape[2])>4||2===i)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+i);return o=e.min(),u=e.max(),[4,o.data()];case 1:return c=k.sent()[0],[4,u.data()];case 2:if(l=k.sent()[0],o.dispose(),u.dispose(),"float32"===e.dtype){if(c<0||l>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+c+" - "+l+"].");}else{if("int32"!==e.dtype)throw new Error("Unsupported type for toPixels: "+e.dtype+". Please use float32 or int32 tensors.");if(c<0||l>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+c+" - "+l+"].");}return[4,e.data()];case 3:for(f=k.sent(),p="float32"===e.dtype?255:1,h=new Uint8ClampedArray(a*r*4),d=0;d<r*a;++d){m=void 0,g=void 0,y=void 0,v=void 0,1===i?(m=f[d]*p,g=f[d]*p,y=f[d]*p,v=255):3===i?(m=f[3*d]*p,g=f[3*d+1]*p,y=f[3*d+2]*p,v=255):4===i&&(m=f[4*d]*p,g=f[4*d+1]*p,y=f[4*d+2]*p,v=f[4*d+3]*p),h[0+(b=4*d)]=Math.round(m),h[b+1]=Math.round(g),h[b+2]=Math.round(y),h[b+3]=Math.round(v);}return null!=t&&(t.width=a,t.height=r,w=t.getContext("2d"),x=new ImageData(h,a,r),w.putImageData(x,0,0)),[2,h];}});});},e.reshape=function(e,t){return s.assertArgumentsAreTensors({x:e},"reshape"),t=s.inferFromImplicitShape(t,e.size),s.assert(e.size===s.sizeFromShape(t),"new shape and old shape must have the same number of elements."),a.ENV.engine.runKernel(function(n){return n.reshape(e,t);},{x:e},function(t){return{x:function x(){return t.reshape(e.shape);}};});},e.squeeze=function(t,n){return s.assertArgumentsAreTensors({x:t},"squeeze"),e.reshape(t,s.squeezeShape(t.shape,n).newShape);},e.cast=function(e,t){return s.assertArgumentsAreTensors({x:e},"cast"),a.ENV.engine.runKernel(function(n){return n.cast(e,t);},{x:e},function(e){return{x:function x(){return e.clone();}};});},e.tile=function(t,n){return s.assertArgumentsAreTensors({x:t},"tile"),s.assert(t.rank===n.length,"Error in transpose: rank of input "+t.rank+" must match length of reps "+n+"."),a.ENV.engine.runKernel(function(e){return e.tile(t,n);},{x:t},function(r){return{x:function x(){var a=e.zerosLike(t);if(1===t.rank)for(var i=0;i<n[0];++i){a=a.add(r.slice([i*t.shape[0]],[t.shape[0]]));}else if(2===t.rank)for(i=0;i<n[0];++i){for(var o=0;o<n[1];++o){a=a.add(r.slice([i*t.shape[0],o*t.shape[1]],[t.shape[0],t.shape[1]]));}}else if(3===t.rank)for(i=0;i<n[0];++i){for(o=0;o<n[1];++o){for(var s=0;s<n[2];++s){a=a.add(r.slice([i*t.shape[0],o*t.shape[1],s*t.shape[2]],[t.shape[0],t.shape[1],t.shape[2]]));}}}else{if(4!==t.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+t.rank+" tensors yet.");for(i=0;i<n[0];++i){for(o=0;o<n[1];++o){for(s=0;s<n[2];++s){for(var u=0;u<n[3];++u){a=a.add(r.slice([i*t.shape[0],o*t.shape[1],s*t.shape[2],u*t.shape[3]],[t.shape[0],t.shape[1],t.shape[2],t.shape[3]]));}}}}}return a;}};});},e.gather=function(e,t,n){return void 0===n&&(n=0),s.assertArgumentsAreTensors({x:e,indices:t},"gather"),s.assert("int32"===t.dtype,"Indices must be of dtype `int32`"),n=Object(u.g)(n,e.shape)[0],a.ENV.engine.runKernel(function(r){return r.gather(e,t,n);},{x:e},function(r){return{x:function x(){return h.a.unsortedSegmentSum(r,t,e.shape[n],n);}};});},e.pad1d=function(t,n,r){return void 0===r&&(r=0),s.assert(2===n.length,"Invalid number of paddings. Must be length of 2."),e.pad(t,[n],r);},e.pad2d=function(t,n,r){return void 0===r&&(r=0),s.assert(2===n.length&&2===n[0].length&&2===n[1].length,"Invalid number of paddings. Must be length of 2 each."),e.pad(t,n,r);},e.pad3d=function(t,n,r){return void 0===r&&(r=0),s.assert(3===n.length&&2===n[0].length&&2===n[1].length&&2===n[2].length,"Invalid number of paddings. Must be length of 2 each."),e.pad(t,n,r);},e.pad4d=function(t,n,r){return void 0===r&&(r=0),s.assert(4===n.length&&2===n[0].length&&2===n[1].length&&2===n[2].length&&2===n[3].length,"Invalid number of paddings. Must be length of 2 each."),e.pad(t,n,r);},e.pad=function(e,t,n){if(void 0===n&&(n=0),s.assertArgumentsAreTensors({x:e},"pad"),0===e.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var r=t.map(function(e){return e[0];});return a.ENV.engine.runKernel(function(r){return r.pad(e,t,n);},{x:e},function(t){return{x:function x(){return t.slice(r,e.shape);}};});},e.stack=function(e,t){if(void 0===t&&(t=0),s.assertArgumentsAreTensors({tensors:e},"stack"),s.assert(e.length>=1,"Pass at least one tensor to tf.stack"),1===e.length)return e[0].expandDims(t);var n=e[0].rank,r=e[0].shape,a=e[0].dtype;s.assert(t<=n,"Axis must be <= rank of the tensor"),e.forEach(function(e){s.assertShapesMatch(r,e.shape,"All tensors passed to stack must have matching shapes");}),e.forEach(function(e){s.assert(a===e.dtype,"All tensors passed to stack must have matching dtypes");});var i=e.map(function(e){return e.expandDims(t);});return c.a.concat(i,t);},e.unstack=function(e,t){void 0===t&&(t=0);for(var n,r=e.shape[t],a=Array(e.rank-1).fill(0),i=0,o=0;o<e.rank;o++){o!==t&&(a[i]=e.shape[o],i++);}n=Array(r).fill(1);var s=Array(e.rank).fill(0),u=e.shape.slice();return n.map(function(n){u[t]=n;var r=e.slice(s,u);return s[t]+=n,r.reshape(a);});},e.split=function(e,t,n){var r;void 0===n&&(n=0),s.assertArgumentsAreTensors({x:e},"split"),n=Object(u.g)(n,e.shape)[0],"number"==typeof t?(s.assert(e.shape[n]%t==0,"Number of splits must evenly divide the axis."),r=Array(t).fill(e.shape[n]/t)):(s.assert(e.shape[n]===t.reduce(function(e,t){return e+t;}),"The sum of sizes must match the size of the axis dimension."),r=t);var a=Array(e.rank).fill(0),i=e.shape.slice();return r.map(function(t){i[n]=t;var r=e.slice(a,i);return a[n]+=t,r;});},e.cumsum=function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===r&&(r=!1),s.assertArgumentsAreTensors({x:e},"cumsum"),t|=0;var i=Object(u.d)([t],e.rank),o=e;null!=i&&(o=e.transpose(i));var c=Object(u.e)(1,e.rank)[0],l=a.ENV.engine.runKernel(function(e){return e.cumsum(o,c,n,r);},{permutedX:o},function(e){return{permutedX:function permutedX(){return e.cumsum(t,n,!r);}};});return null!=i&&(l=l.transpose(i)),l;},e.expandDims=function(t,n){void 0===n&&(n=0),s.assertArgumentsAreTensors({x:t},"expandDims"),s.assert(n<=t.rank,"Axis must be <= rank of the tensor");var r=t.shape.slice();return r.splice(n,0,1),e.reshape(t,r);},e.linspace=function(t,n,r){if(0===r)throw new Error("Cannot request zero samples");var a=(n-t)/(r-1),i=g(r,"float32");i[0]=t;for(var o=1;o<i.length;o++){i[o]=i[o-1]+a;}return e.tensor1d(i,"float32");},e.range=function(t,n,r,a){if(void 0===r&&(r=1),void 0===a&&(a="float32"),0===r)throw new Error("Cannot have a step of zero");if(t===n||t<n&&r<0||n<t&&r>1)return e.zeros([0],a);var i=g(Math.abs(Math.ceil((n-t)/r)),a);n<t&&1===r&&(r=-1),i[0]=t;for(var o=1;o<i.length;o++){i[o]=i[o-1]+r;}return e.tensor1d(i,a);},e.buffer=function(e,t,n){return void 0===t&&(t="float32"),new i.b(e,t,n);},e.print=function(e,t){void 0===t&&(t=!1),console.log(o.a(e,t));},d([Object(r.a)({heading:"Tensors",subheading:"Creation"})],e,"tensor",null),d([Object(r.a)({heading:"Tensors",subheading:"Creation"})],e,"scalar",null),d([Object(r.a)({heading:"Tensors",subheading:"Creation"})],e,"tensor1d",null),d([Object(r.a)({heading:"Tensors",subheading:"Creation"})],e,"tensor2d",null),d([Object(r.a)({heading:"Tensors",subheading:"Creation"})],e,"tensor3d",null),d([Object(r.a)({heading:"Tensors",subheading:"Creation"})],e,"tensor4d",null),d([Object(r.a)({heading:"Tensors",subheading:"Creation"}),l.a],e,"ones",null),d([Object(r.a)({heading:"Tensors",subheading:"Creation"}),l.a],e,"zeros",null),d([Object(r.a)({heading:"Tensors",subheading:"Creation"}),l.a],e,"fill",null),d([Object(r.a)({heading:"Tensors",subheading:"Creation"}),l.a],e,"onesLike",null),d([Object(r.a)({heading:"Tensors",subheading:"Creation"}),l.a],e,"zerosLike",null),d([Object(r.a)({heading:"Tensors",subheading:"Creation"}),l.a],e,"clone",null),d([Object(r.a)({heading:"Tensors",subheading:"Creation"}),l.a],e,"eye",null),d([Object(r.a)({heading:"Tensors",subheading:"Creation"}),l.a],e,"randomNormal",null),d([Object(r.a)({heading:"Tensors",subheading:"Creation"}),l.a],e,"truncatedNormal",null),d([Object(r.a)({heading:"Tensors",subheading:"Creation"}),l.a],e,"randomUniform",null),d([l.a],e,"rand",null),d([l.a],e,"multinomial",null),d([Object(r.a)({heading:"Tensors",subheading:"Creation"}),l.a],e,"oneHot",null),d([Object(r.a)({heading:"Tensors",subheading:"Creation"}),l.a],e,"fromPixels",null),d([Object(r.a)({heading:"Visualization"})],e,"toPixels",null),d([Object(r.a)({heading:"Tensors",subheading:"Transformations"}),l.a],e,"reshape",null),d([Object(r.a)({heading:"Tensors",subheading:"Transformations"})],e,"squeeze",null),d([Object(r.a)({heading:"Tensors",subheading:"Transformations"}),l.a],e,"cast",null),d([Object(r.a)({heading:"Tensors",subheading:"Slicing and Joining"}),l.a],e,"tile",null),d([Object(r.a)({heading:"Tensors",subheading:"Slicing and Joining"}),l.a],e,"gather",null),d([Object(r.a)({heading:"Tensors",subheading:"Transformations"}),l.a],e,"pad",null),d([Object(r.a)({heading:"Tensors",subheading:"Slicing and Joining"}),l.a],e,"stack",null),d([Object(r.a)({heading:"Tensors",subheading:"Slicing and Joining"}),l.a],e,"unstack",null),d([Object(r.a)({heading:"Tensors",subheading:"Slicing and Joining"}),l.a],e,"split",null),d([Object(r.a)({heading:"Operations",subheading:"Scan"})],e,"cumsum",null),d([Object(r.a)({heading:"Tensors",subheading:"Transformations"}),l.a],e,"expandDims",null),d([l.a,Object(r.a)({heading:"Tensors",subheading:"Creation"})],e,"linspace",null),d([l.a,Object(r.a)({heading:"Tensors",subheading:"Creation"})],e,"range",null),d([Object(r.a)({heading:"Tensors",subheading:"Creation"})],e,"buffer",null),d([Object(r.a)({heading:"Tensors",subheading:"Creation"})],e,"print",null),e;}();function g(e,t){if(null==t||"float32"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type $ {dtype}");}},function(e,t,n){"use strict";n.r(t);var r={};n.d(r,"createWebGLRenderingContext",function(){return ie;}),n.d(r,"createWebGLRenderingContextFromCanvas",function(){return oe;}),n.d(r,"callAndCheck",function(){return se;}),n.d(r,"enableDebugWebGLErrorChecking",function(){return ce;}),n.d(r,"checkWebGLError",function(){return le;}),n.d(r,"getWebGLErrorMessage",function(){return fe;}),n.d(r,"getExtensionOrThrow",function(){return pe;}),n.d(r,"createVertexShader",function(){return he;}),n.d(r,"createFragmentShader",function(){return de;}),n.d(r,"createProgram",function(){return ge;}),n.d(r,"linkProgram",function(){return ye;}),n.d(r,"validateProgram",function(){return ve;}),n.d(r,"createStaticVertexBuffer",function(){return be;}),n.d(r,"createStaticIndexBuffer",function(){return we;}),n.d(r,"queryMaxTextureSize",function(){return xe;}),n.d(r,"getChannelsPerTexture",function(){return ke;}),n.d(r,"createTexture",function(){return Oe;}),n.d(r,"validateTextureSize",function(){return Se;}),n.d(r,"createFramebuffer",function(){return Ne;}),n.d(r,"bindVertexBufferToProgramAttribute",function(){return Ee;}),n.d(r,"bindTextureUnit",function(){return Ie;}),n.d(r,"unbindTextureUnit",function(){return Te;}),n.d(r,"getProgramUniformLocationOrThrow",function(){return Ae;}),n.d(r,"getProgramUniformLocation",function(){return Ce;}),n.d(r,"bindTextureToProgramUniformSampler",function(){return Pe;}),n.d(r,"bindCanvasToFramebuffer",function(){return _e;}),n.d(r,"bindColorTextureToFramebuffer",function(){return Re;}),n.d(r,"unbindColorTextureFromFramebuffer",function(){return Me;}),n.d(r,"validateFramebuffer",function(){return je;}),n.d(r,"getFramebufferErrorMessage",function(){return De;}),n.d(r,"getTextureShapeFromLogicalShape",function(){return Fe;});var a={};n.d(a,"getWebGLContextAttributes",function(){return Ue;}),n.d(a,"createWebGLContext",function(){return We;}),n.d(a,"createVertexShader",function(){return Ge;}),n.d(a,"createVertexBuffer",function(){return qe;}),n.d(a,"createIndexBuffer",function(){return He;}),n.d(a,"createMatrixTexture",function(){return Ye;}),n.d(a,"createColorMatrixTexture",function(){return Qe;}),n.d(a,"createPackedMatrixTexture",function(){return Ze;}),n.d(a,"bindVertexProgramAttributeStreams",function(){return $e;}),n.d(a,"uploadPixelDataToTexture",function(){return et;}),n.d(a,"uploadMatrixToTexture",function(){return nt;}),n.d(a,"uploadMatrixToPackedTexture",function(){return rt;}),n.d(a,"downloadMatrixFromOutputTextureAsync",function(){return ot;}),n.d(a,"downloadMatrixFromOutputTexture",function(){return st;}),n.d(a,"downloadMatrixFromRGBAColorTexture",function(){return ut;}),n.d(a,"downloadMatrixFromPackedOutputTexture",function(){return ct;});var i={};n.d(i,"browserFiles",function(){return Un;}),n.d(i,"browserHTTPRequest",function(){return Yn;}),n.d(i,"copyModel",function(){return tr;}),n.d(i,"decodeWeights",function(){return Qt;}),n.d(i,"encodeWeights",function(){return Yt;}),n.d(i,"getLoadHandlers",function(){return er;}),n.d(i,"getModelArtifactsInfoForJSON",function(){return tn;}),n.d(i,"getSaveHandlers",function(){return $n;}),n.d(i,"listModels",function(){return nr;}),n.d(i,"loadWeights",function(){return Hn;}),n.d(i,"moveModel",function(){return rr;}),n.d(i,"registerLoadRouter",function(){return Zn;}),n.d(i,"registerSaveRouter",function(){return Qn;}),n.d(i,"removeModel",function(){return ar;});var o={};n.d(o,"Serializable",function(){return ir;}),n.d(o,"SerializationMap",function(){return or;});var s={};n.d(s,"WEBGL_ENVS",function(){return sr;}),n.d(s,"CPU_ENVS",function(){return ur;}),n.d(s,"ALL_ENVS",function(){return cr;}),n.d(s,"TEST_EPSILON",function(){return lr;}),n.d(s,"expectArraysClose",function(){return fr;}),n.d(s,"expectPromiseToFail",function(){return pr;}),n.d(s,"expectArraysEqual",function(){return hr;}),n.d(s,"expectNumbersClose",function(){return dr;}),n.d(s,"expectValuesInRange",function(){return gr;});var u={};n.d(u,"MathBackendWebGL",function(){return Bt;}),n.d(u,"GPGPUContext",function(){return pt;}),n.d(u,"gpgpu_util",function(){return a;}),n.d(u,"webgl_util",function(){return r;});var c=n(3),l=n(8),f=n(1),p=30;function h(e){return e<=p?e:function(e,t){for(var n=t;n<e;++n){if(e%n==0)return n;}return e;}(e,Math.floor(Math.sqrt(e)));}var d=n(90),m=n(6),g=n(20),y=n(0),v=n(9);function b(e,t,n){if(!y.hasEncodingLoss(e.dtype,t))return m.a.make(e.shape,{dataId:e.dataId},t);if("int32"===t)return n.int(e);if("bool"===t)return n.notEqual(e,v.a.scalar(0,e.dtype));throw new Error("Error in Cast: unknown dtype argument ("+t+")");}function w(e,t){return m.a.make(t,{dataId:e.dataId},e.dtype);}var x,k=function k(e,t,n){this.variableNames=["A"];var r=e.windowSize,a=e.batchSize,i=e.inSize,o=Math.ceil(i/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[a,o];var s="max"===t?">":"<",u=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = 0;\n        float bestValue = getA(batch, inOffset);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+u+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+s+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    ";},O=function O(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,i=t-1-e.padInfo.top,o=n-1-e.padInfo.left,s=1/(t*n);this.userCode="\n      const ivec2 pads = ivec2("+i+", "+o+");\n      const float avgMultiplier = float("+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+a+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ";},S=n(11),N=function N(e,t,n,r,a,i){this.outputShape=[],this.supportsBroadcasting=!0,this.variableNames=["x","mean","variance"],S.a(e,t),S.a(e,n);var o="0.0";null!=r&&(S.a(e,r),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");var s="1.0";null!=a&&(S.a(e,a),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+o+";\n        float scale = "+s+";\n        float inv = scale * inversesqrt(variance + float("+i+"));\n        setOutput((x - mean) * inv + offset);\n      }\n    ";},E=function E(e,t,n){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.outputShape=S.a(t,n),this.userCode="\n      float binaryOperation(float a, float b) {\n        "+e+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    ";},I=function I(e,t,n){this.variableNames=["A"],this.outputShape=e;var r=t.toFixed(20),a=n.toFixed(20);this.userCode="\n      void main() {\n        float value = getAAtOutCoords();\n        if (isNaN(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, "+r+", "+a+"));\n      }\n    ";},T=n(62),A=function A(e,t){this.variableNames=["A","B"],this.outputShape=[],this.outputShape=T.c(e,t,1),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        float value = 0.0;\n        if (yC < "+e[1]+") {\n          value = getA(yR, yC);\n        } else {\n          yC -= "+e[1]+";\n          value = getB(yR, yC);\n        }\n\n        setOutput(value);\n      }\n    ";},C=function C(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,a=e.padInfo.left;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+a+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ";},P=function P(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,i=t-1-e.padInfo.top,o=n-1-e.padInfo.left;this.userCode="\n      const ivec2 pads = ivec2("+i+", "+o+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+a+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, d2);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ";},_=function _(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,a=e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+i+" + dm;\n\n        float dotProd = 0.0;\n\n        // TODO: Vec4 over the batch size\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+a+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ";},R=function R(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,i=t-1-e.padInfo.top,o=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+i+", "+o+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+a+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            // TODO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+s+"; dm++) {\n              int d2 = d1 * "+s+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ";},M=function M(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.padInfo.top,n=e.padInfo.left,r=e.strideHeight,a=e.strideWidth,i=e.dilationHeight,o=e.dilationWidth,s=e.filterHeight,u=e.filterWidth,c=4*Math.floor(e.inChannels/4),l=e.inChannels%4;this.userCode="\n      const ivec2 strides = ivec2("+r+", "+a+");\n      const ivec2 pads = ivec2("+t+", "+n+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+"; wR++) {\n          int xR = xRCorner + wR * "+i+";\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+u+"; wC++) {\n            int xC = xCCorner + wC * "+o+";\n\n            if (xC < 0 || xC >= "+e.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+c+"; d1 += 4) {\n              vec4 xValues = vec4(\n                getX(batch, xR, xC, d1),\n                getX(batch, xR, xC, d1 + 1),\n                getX(batch, xR, xC, d1 + 2),\n                getX(batch, xR, xC, d1 + 3)\n              );\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              dotProd += dot(xValues, wValues);\n            }\n\n            if ("+(1===l)+") {\n              dotProd +=\n                getX(batch, xR, xC, "+c+") *\n                getW(wR, wC, "+c+", d2);\n            } else if ("+(2===l)+") {\n              vec2 xValues = vec2(\n                getX(batch, xR, xC, "+c+"),\n                getX(batch, xR, xC, "+c+" + 1)\n              );\n              vec2 wValues = vec2(\n                getW(wR, wC, "+c+", d2),\n                getW(wR, wC, "+c+" + 1, d2)\n              );\n              dotProd += dot(xValues, wValues);\n            } else if ("+(3===l)+") {\n              vec3 xValues = vec3(\n                getX(batch, xR, xC, "+c+"),\n                getX(batch, xR, xC, "+c+" + 1),\n                getX(batch, xR, xC, "+c+" + 2)\n              );\n              vec3 wValues = vec3(\n                getW(wR, wC, "+c+", d2),\n                getW(wR, wC, "+c+" + 1, d2),\n                getW(wR, wC, "+c+" + 2, d2)\n              );\n              dotProd += dot(xValues, wValues);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ";},j=function j(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.inHeight,n=e.inWidth,r=e.padInfo.top,a=e.padInfo.left,i=e.strideHeight,o=e.strideWidth,s=e.dilationHeight,u=e.dilationWidth,c=e.filterHeight,l=e.filterWidth,f=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 strides = ivec2("+i+", "+o+");\n      const ivec2 pads = ivec2("+r+", "+a+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+f+";\n        int q = d2 - d1 * "+f+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TODO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+c+"; wR++) {\n          int xR = xRCorner + wR * "+s+";\n\n          if (xR < 0 || xR >= "+t+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+l+"; wC++) {\n            int xC = xCCorner + wC * "+u+";\n\n            if (xC < 0 || xC >= "+n+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ";};function D(e,t){return[t,e];}function L(e,t){return e*t;}!function(e){e[e.FLOAT=0]="FLOAT",e[e.UNSIGNED_BYTE=1]="UNSIGNED_BYTE";}(x||(x={}));var z=-2e4,F=(2e4-z)/255,B=[1,1/255,1/65025,1/16581375],V=[1,255,65025],U=0;function W(e,t){return[Math.ceil(t/2),Math.ceil(e/2)];}function G(e,t){var n=W(e,t);return n[0]*n[1]*4;}function q(e,t,n,r){var a=c.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")?X:H,i=c.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")?J:K,o=e.map(function(e){return"uniform sampler2D "+e.name+";";}).join("\n"),s=e.map(function(e){return function(e,t,n){var r=function(e){var t=e.name,n=e.shapeInfo.texShape,r="get"+t.charAt(0).toUpperCase()+t.slice(1)+"Flat",a=n[0],i=n[1];return 1===i&&1===a?"\n      float "+r+"(int index) {\n        return sampleTexture("+t+", halfCR);\n      }\n    ":1===i?"\n      float "+r+"(int index) {\n        vec2 uv = vec2(0.5, (float(index) + 0.5) / "+a+".0);\n        return sampleTexture("+t+", uv);\n      }\n    ":1===a?"\n      float "+r+"(int index) {\n        vec2 uv = vec2((float(index) + 0.5) / "+i+".0, 0.5);\n        return sampleTexture("+t+", uv);\n      }\n    ":"\n    float "+r+"(int index) {\n      vec2 uv = UVfrom1D("+a+", "+i+", index);\n      return sampleTexture("+t+", uv);\n    }\n  ";}(e);return r+=function e(t){var n=t.shapeInfo.logicalShape;switch(n.length){case 0:return function(e){var t=e.name;return"\n    float get"+t.charAt(0).toUpperCase()+t.slice(1)+"() {\n      return sampleTexture("+t+", halfCR);\n    }\n  ";}(t);case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);return"\n    float "+n+"(int index) {\n      return "+n+"Flat(index);\n    }\n  ";}(t);case 2:return function(t){var n=t.shapeInfo.logicalShape,r=t.shapeInfo.texShape,a=t.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),o=r[0],s=r[1];if(y.arraysEqual(n,r))return"\n    float "+i+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+s+".0, "+o+".0);\n      return sampleTexture("+a+", uv);\n    }\n  ";var u=y.squeezeShape(n),c=u.newShape,l=u.keptDims,f=c;if(f.length<n.length){var p=Z(t,f);return"\n      "+e(p)+"\n      float "+i+"(int row, int col) {\n        return "+i+"("+$(["row","col"],l)+");\n      }\n    ";}return 1===s?"\n    float "+i+"(int row, int col) {\n      int index = row * "+n[1]+" + col;\n      vec2 uv = vec2(0.5, (float(index) + 0.5) / "+o+".0);\n      return sampleTexture("+a+", uv);\n    }\n  ":1===o?"\n    float "+i+"(int row, int col) {\n      int index = row * "+n[1]+" + col;\n      vec2 uv = vec2((float(index) + 0.5) / "+s+".0, 0.5);\n      return sampleTexture("+a+", uv);\n    }\n  ":"\n  float "+i+"(int row, int col) {\n    vec2 uv = UVfrom2D("+o+", "+s+", "+n[1]+", row, col);\n    return sampleTexture("+a+", uv);\n  }\n";}(t);case 3:return function(t){var n=t.shapeInfo.texShape,r=t.shapeInfo.logicalShape,a=t.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),o=n[0],s=n[1],u=r[1]*r[2],c=r[2],l=y.squeezeShape(r),f=l.newShape,p=l.keptDims,h=f;if(h.length<r.length){var d=Z(t,h);return"\n        "+e(d)+"\n        float "+i+"(int row, int col, int depth) {\n          return "+i+"("+$(["row","col","depth"],p)+");\n        }\n      ";}return s===u?"\n        float "+i+"(int row, int col, int depth) {\n          int texR = row;\n          int texC = col * "+c+" + depth;\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+s+".0, "+o+".0);\n          return sampleTexture("+a+", uv);\n        }\n      ":s===c?"\n    float "+i+"(int row, int col, int depth) {\n      int texR = row * "+r[1]+" + col;\n      int texC = depth;\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+s+".0, "+o+".0);\n      return sampleTexture("+a+", uv);\n    }\n  ":"\n      float "+i+"(int row, int col, int depth) {\n        vec2 uv = UVfrom3D(\n            "+o+", "+s+", "+u+", "+c+", row, col, depth);\n        return sampleTexture("+a+", uv);\n      }\n  ";}(t);case 4:return function(t){var n=t.shapeInfo.logicalShape,r=t.shapeInfo.texShape,a=t.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),o=r[0],s=r[1],u=n[3],c=n[2]*u,l=n[1]*c,f=y.squeezeShape(n),p=f.newShape,h=f.keptDims;if(p.length<n.length){var d=Z(t,p);return"\n      "+e(d)+"\n      float "+i+"(int row, int col, int depth, int depth2) {\n        return "+i+"("+$(["row","col","depth","depth2"],h)+");\n      }\n    ";}return s===l?"\n      float "+i+"(int row, int col, int depth, int depth2) {\n        int texR = row;\n        int texC = col * "+c+" + depth * "+u+" + depth2;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+s+".0, "+o+".0);\n        return sampleTexture("+a+", uv);\n      }\n    ":s===u?"\n      float "+i+"(int row, int col, int depth, int depth2) {\n        int texR = row * "+n[1]*n[2]+" + col * "+n[2]+" + depth;\n        int texC = depth2;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+s+".0, "+o+".0);\n        return sampleTexture("+a+", uv);\n      }\n    ":"\n    float "+i+"(int row, int col, int depth, int depth2) {\n      vec2 uv = UVfrom4D("+o+", "+s+", "+l+", "+c+",\n          "+u+", row, col, depth, depth2);\n      return sampleTexture("+a+", uv);\n    }\n  ";}(t);default:throw new Error(n.length+"-D input sampling is not yet supported");}}(e),(n||y.arraysEqual(e.shapeInfo.logicalShape,t.logicalShape))&&(r+=function(e,t,n){var r=e.shapeInfo.texShape,a=e.name,i=a.charAt(0).toUpperCase()+a.slice(1),o="get"+i+"AtOutCoords",s=S.c(e.shapeInfo.logicalShape,t.logicalShape),u=e.shapeInfo.logicalShape.length,c=t.logicalShape.length,l=n&&(c>u||s.length>0),f=S.b(s);if(l&&!f)return function(e,t,n,r){var a=e.shapeInfo.logicalShape.length,i=t.logicalShape.length,o="int";2===i?o="ivec2":3===i?o="ivec3":4===i&&(o="ivec4");var s=S.c(e.shapeInfo.logicalShape,t.logicalShape),u=i-a;return"\n    float "+r+"() {\n      "+o+" coords = getOutputCoords();\n      "+(0===a?"":i<2&&s.length>=1?"coords = 0;":s.map(function(e){return"coords["+(e+u)+"] = 0;";}).join("\n"))+"\n      return get"+n+"("+(i<2&&a>0?"coords":e.shapeInfo.logicalShape.map(function(e,t){return"coords["+(t+u)+"]";}).join(", "))+");\n    }\n  ";}(e,t,i,o);var p=t.texShape;if(y.arraysEqual(r,p))return"\n      float "+o+"() {\n        return sampleTexture("+a+", resultUV);\n      }\n    ";var h=y.sizeFromShape(r),d="";return l&&f&&(d="\n        int mainPart = index / "+h+";\n        index -= mainPart * "+h+";\n      "),"\n    float "+o+"() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+p[0]+", "+p[1]+"));\n      int index = resTexRC.x * "+p[1]+" + resTexRC.y;\n      "+d+"\n      int texR = index / "+r[1]+";\n      int texC = index - texR * "+r[1]+";\n      vec2 uv = (vec2(texC, texR) + halfCR) /\n                 vec2("+r[1]+".0, "+r[0]+".0);\n\n      return sampleTexture("+a+", uv);\n    }\n  ";}(e,t,n)),r;}(e,t,r);}).join("\n"),u=t.texShape,l=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){return 1===t[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+t[1]+".0);\n      }\n    ":1===t[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+t[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      return resTexRC.x * "+t[1]+" + resTexRC.y;\n    }\n  ";}(0,t);case 2:return function(e,t){return y.arraysEqual(e,t)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+t[0]+", "+t[1]+"));\n      }\n    ":1===e[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===e[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      int r = index / "+e[1]+";\n      int c = index - r * "+e[1]+";\n      return ivec2(r, c);\n    }\n  ";}(e,t);case 3:return function(e,t){var n=e[1]*e[2],r=e[2];return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      int r = index / "+n+";\n      index -= r * "+n+";\n      int c = index / "+r+";\n      int d = index - c * "+r+";\n      return ivec3(r, c, d);\n    }\n  ";}(e,t);case 4:return function(e,t){var n=e[3],r=e[2]*n,a=e[1]*r;return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      int r = index / "+a+";\n      index -= r * "+a+";\n\n      int c = index / "+r+";\n      index -= c * "+r+";\n\n      int d = index / "+n+";\n      int d2 = index - d * "+n+";\n\n      return ivec4(r, c, d, d2);\n    }\n  ";}(e,t);default:throw new Error(e.length+"-D output sampling is not yet supported");}}(t.logicalShape,u);return[Y,a,i,o,l,s,n].join("\n");}var H="\n  uniform float NaN;\n\n  const vec4 floatDeltas = vec4(\n      1.0,\n      1.0 / 255.0,\n      1.0 / (255.0 * 255.0),\n      1.0 / (255.0 * 255.0 * 255.0)\n  );\n  const float minValue = "+z+".0;\n  const float maxValue = 20000.0;\n  const float range = (maxValue - minValue) / 255.0;\n  const vec2 dotRange = vec2(1.0, range);\n\n  float sampleTexture(sampler2D textureSampler, vec2 uv) {\n    vec4 sampleValue = texture2D(textureSampler, uv);\n    if (all(equal(sampleValue, vec4("+U+")))) {\n      return NaN;\n    }\n\n    vec4 encValue = floor(sampleValue * 255.0 + 0.5);\n    float decodedValue = dot(encValue, floatDeltas);\n    return dot(vec2(minValue, decodedValue), dotRange);\n  }\n",K="\n  const vec4 floatPowers = vec4(\n    1.0,\n    255.0,\n    255.0 * 255.0,\n    255.0 * 255.0 * 255.0\n  );\n  const vec2 recipRange = vec2(1.0/range);\n  const vec2 recipRange255 = vec2(1.0/(maxValue - minValue));\n\n  void setOutput(float decodedValue) {\n    if (isNaN(decodedValue)) {\n      gl_FragColor = vec4("+U+");\n      return;\n    }\n\n    float a = dot(vec2(decodedValue, -minValue), recipRange);\n    float b = fract(a) * 255.0;\n    float c = fract(b) * 255.0;\n    float d = fract(c) * 255.0;\n    gl_FragColor = floor(vec4(a, b, c, d)) / 255.0;\n\n    // TODO(dsmilkov): Version above gets better accuracy but probably slower\n    // than the version below. Benchmark to determine if the accuracy is worth\n    // the cost.\n\n    // float normValue = dot(vec2(decodedValue, -minValue), recipRange255);\n    // vec4 f = normValue * floatPowers;\n    // gl_FragColor = floor(fract(f) * 255.0) / 255.0;\n  }\n",X="\n  float sampleTexture(sampler2D textureSampler, vec2 uv) {\n    return texture2D(textureSampler, uv).r;\n  }\n",J="\n  void setOutput(float val) {\n    gl_FragColor = vec4(val, 0, 0, 0);\n  }\n",Y="\n  precision highp float;\n  precision highp int;\n  varying vec2 resultUV;\n  const vec2 halfCR = vec2(0.5, 0.5);\n\n  bool isNaN(float val) {\n    float v1 = val * val;\n    float v2 = val * val;\n    return v1 == v2 ? false : true;\n  }\n\n  bool hasNaN(vec4 values) {\n    vec4 v1 = values * values;\n    vec4 v2 = values * values;\n    return any(notEqual(v1, v2));\n  }\n\n  float getNaN(vec4 values) {\n    return dot(vec4(1), values);\n  }\n\n  int round(float value) {\n    return int(floor(value + 0.5));\n  }\n\n  int imod(int x, int y) {\n    return x - y * (x / y);\n  }\n\n  //Based on the work of Dave Hoskins\n  //https://www.shadertoy.com/view/4djSRW\n  #define HASHSCALE1 443.8975\n  float random(float seed){\n    vec2 p = resultUV * seed;\n    vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n    p3 += dot(p3, p3.yzx + 19.19);\n    return fract((p3.x + p3.y) * p3.z);\n  }\n\n  \nvec2 UVfrom1D(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom2D(int texNumR, int texNumC, int numC, int row, int col) {\n  int index = row * numC + col;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom3D(int texNumR, int texNumC, int stride0,\n    int stride1, int row, int col, int depth) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom4D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int row, int col, int depth,\n    int depth2) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth * stride2 + depth2;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n";function Q(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";throw Error("GPU for rank "+e+" is not yet supported");}function Z(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n;}function $(e,t){return t.map(function(t){return e[t];}).join(", ");}var ee=function ee(e,t,n){this.variableNames=["x"],this.outputShape=e;var r=e.length,a=e[e.length-1],i=n?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(n?"return "+a+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+Q(r)+" coords = getOutputCoords();\n        int end = "+te(r,"coords")+";\n        float val = 0.0;\n        for (int i = "+a+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+i+" end) {\n            continue;\n          }\n          if (idx == end && "+t+") {\n            continue;\n          }\n          "+te(r,"coords")+" = idx;\n          val += getX("+function(e,t){if(1===e)return""+t;if(2===e)return t+".x, "+t+".y";if(3===e)return t+".x, "+t+".y, "+t+".z";if(4===e)return t+".x, "+t+".y, "+t+".z, "+t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported");}(r,"coords")+");\n        }\n        setOutput(val);\n      }\n    ";};function te(e,t){if(1===e)return""+t;if(2===e)return t+".y";if(3===e)return t+".z";if(4===e)return t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported");}var ne=function ne(e){this.variableNames=["A"];var t=e[0],n=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+n+".0, "+t+".0);\n\n        vec4 values = texture2D(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    ";},re=function re(e,t,n){this.variableNames=["A","indices"];var r=e.slice();r[n]=t,this.outputShape=r,this.rank=r.length;var a=Q(this.rank),i=function(e,t){var n=e.length;if(n>4)throw Error("Gather for rank "+n+" is not yet supported");if(1===n)return"int(getIndices(resRC))";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[],i=0;i<e.length;i++){i===t?a.push("int(getIndices("+r[i]+"))"):a.push(""+r[i]);}return a.join();}(e,n);this.userCode="\n      void main() {\n        "+a+" resRC = getOutputCoords();\n        setOutput(getA("+i+"));\n      }\n    ";},ae=null;function ie(e){var t=document.createElement("canvas");return t.width=1,t.height=1,oe(t,e);}function oe(e,t){var n,r=c.ENV.get("WEBGL_VERSION");if(2===r?n=e.getContext("webgl2",t):1===r&&(n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)),0===r||null==n)throw new Error("This browser does not support WebGL.");return n;}function se(e,t){var n=t();return le(e),n;}var ue=!1;function ce(e){ue=e;}function le(e){if(ue){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+fe(e,t));}}function fe(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+t;}}function pe(e,t){return Le(e,function(){return e.getExtension(t);},'Extension "'+t+'" not supported on this browser.');}function he(e,t){var n=Le(e,function(){return e.createShader(e.VERTEX_SHADER);},"Unable to create vertex WebGLShader.");if(se(e,function(){return e.shaderSource(n,t);}),se(e,function(){return e.compileShader(n);}),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n;}function de(e,t){var n=Le(e,function(){return e.createShader(e.FRAGMENT_SHADER);},"Unable to create fragment WebGLShader.");if(se(e,function(){return e.shaderSource(n,t);}),se(e,function(){return e.compileShader(n);}),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw function(e,t){var n=me.exec(t);if(null==n)return console.log("Couldn't parse line number in error: "+t),void console.log(e);for(var r=+n[1],a=e.split("\n"),i=a.length.toString().length+2,o=a.map(function(e,t){return y.rightPad((t+1).toString(),i)+e;}),s=0,u=0;u<o.length;u++){s=Math.max(o[u].length,s);}var c=o.slice(0,r-1),l=o.slice(r-1,r),f=o.slice(r);console.log(c.join("\n")),console.log(t.split("\n")[0]),console.log("%c "+y.rightPad(l[0],s),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(f.join("\n"));}(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n;}var me=/ERROR: [0-9]+:([0-9]+):/g;function ge(e){return Le(e,function(){return e.createProgram();},"Unable to create WebGLProgram.");}function ye(e,t){if(se(e,function(){return e.linkProgram(t);}),!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.");}function ve(e,t){if(se(e,function(){return e.validateProgram(t);}),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.");}function be(e,t){var n=Le(e,function(){return e.createBuffer();},"Unable to create WebGLBuffer");return se(e,function(){return e.bindBuffer(e.ARRAY_BUFFER,n);}),se(e,function(){return e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW);}),n;}function we(e,t){var n=Le(e,function(){return e.createBuffer();},"Unable to create WebGLBuffer");return se(e,function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n);}),se(e,function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW);}),n;}function xe(e){return null!=ae?ae:ae=se(e,function(){return e.getParameter(e.MAX_TEXTURE_SIZE);});}function ke(){return c.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")&&2===c.ENV.get("WEBGL_VERSION")?1:4;}function Oe(e){return Le(e,function(){return e.createTexture();},"Unable to create WebGLTexture.");}function Se(e,t,n){var r=xe(e);if(t<=0||n<=0){var a="["+t+"x"+n+"]";throw new Error("Requested texture size "+a+" is invalid.");}if(t>r||n>r)throw a="["+t+"x"+n+"]",new Error("Requested texture size "+a+" greater than WebGL maximum on this browser / GPU ["+r+"x"+r+"].");}function Ne(e){return Le(e,function(){return e.createFramebuffer();},"Unable to create WebGLFramebuffer.");}function Ee(e,t,n,r,a,i,o){var s=e.getAttribLocation(t,n);return-1!==s&&(se(e,function(){return e.bindBuffer(e.ARRAY_BUFFER,r);}),se(e,function(){return e.vertexAttribPointer(s,a,e.FLOAT,!1,i,o);}),se(e,function(){return e.enableVertexAttribArray(s);}),!0);}function Ie(e,t,n){ze(e,n),se(e,function(){return e.activeTexture(e.TEXTURE0+n);}),se(e,function(){return e.bindTexture(e.TEXTURE_2D,t);});}function Te(e,t){ze(e,t),se(e,function(){return e.activeTexture(e.TEXTURE0+t);}),se(e,function(){return e.bindTexture(e.TEXTURE_2D,null);});}function Ae(e,t,n){return Le(e,function(){return e.getUniformLocation(t,n);},'uniform "'+n+'" not present in program.');}function Ce(e,t,n){return e.getUniformLocation(t,n);}function Pe(e,t,n,r,a){se(e,function(){return Ie(e,n,a);}),se(e,function(){return e.uniform1i(r,a);});}function _e(e){se(e,function(){return e.bindFramebuffer(e.FRAMEBUFFER,null);}),se(e,function(){return e.viewport(0,0,e.canvas.width,e.canvas.height);}),se(e,function(){return e.scissor(0,0,e.canvas.width,e.canvas.height);});}function Re(e,t,n){se(e,function(){return e.bindFramebuffer(e.FRAMEBUFFER,n);}),se(e,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0);});}function Me(e,t){se(e,function(){return e.bindFramebuffer(e.FRAMEBUFFER,t);}),se(e,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0);});}function je(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+De(e,t));}function De(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+t;}}function Le(e,t,n){var r=se(e,function(){return t();});if(null==r)throw new Error(n);return r;}function ze(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n)throw new Error("textureUnit must be in [gl.TEXTURE0, gl.TEXTURE"+n+"].");}function Fe(e,t){2!==t.length&&(t=y.squeezeShape(t).newShape);var n=xe(e),r=y.sizeFromShape(t);return t.length<=1&&r<=n?[r,1]:2===t.length&&t[0]<=n&&t[1]<=n?t:3===t.length&&t[0]<=n&&t[1]*t[2]<=n?[t[0],t[1]*t[2]]:4===t.length&&t[0]<=n&&t[1]*t[2]*t[3]<=n?[t[0],t[1]*t[2]*t[3]]:y.sizeToSquarishShape(r);}var Be=function Be(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{u(r.next(e));}catch(e){i(e);}}function s(e){try{u(r.throw(e));}catch(e){i(e);}}function u(e){e.done?a(e.value):new n(function(t){t(e.value);}).then(o,s);}u((r=r.apply(e,t||[])).next());});},Ve=function Ve(e,t){var n,r,a,i,o={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1];},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this;}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;){try{if(n=1,r&&(a=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[0,a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue;}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break;}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break;}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break;}a[2]&&o.ops.pop(),o.trys.pop();continue;}i=t.call(e,o);}catch(e){i=[6,e],r=0;}finally{n=a=0;}}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0};}([i,s]);};}};function Ue(){return{alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};}function We(e){var t,n={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};return se(t=null!=e?oe(e,n):ie(n),function(){return t.disable(t.DEPTH_TEST);}),se(t,function(){return t.disable(t.STENCIL_TEST);}),se(t,function(){return t.disable(t.BLEND);}),se(t,function(){return t.disable(t.DITHER);}),se(t,function(){return t.disable(t.POLYGON_OFFSET_FILL);}),se(t,function(){return t.disable(t.SAMPLE_COVERAGE);}),se(t,function(){return t.enable(t.SCISSOR_TEST);}),se(t,function(){return t.enable(t.CULL_FACE);}),se(t,function(){return t.cullFace(t.BACK);}),t;}function Ge(e){return he(e,"\n    precision highp float;\n    attribute vec3 clipSpacePos;\n    attribute vec2 uv;\n    varying vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }");}function qe(e){return be(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]));}function He(e){return we(e,new Uint16Array([0,1,2,2,1,3]));}function Ke(e,t){return c.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")&&2===c.ENV.get("WEBGL_VERSION")?4===t?e.RGBA:e.RED:e.RGBA;}function Xe(e){return c.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")?e.FLOAT:e.UNSIGNED_BYTE;}function Je(e,t,n,r){Se(e,t,n);var a=Oe(e),i=e.TEXTURE_2D,o=function(e,t){return c.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")&&2===c.ENV.get("WEBGL_VERSION")?4===t?e.RGBA32F:e.R32F:e.RGBA;}(e,r),s=Ke(e,r);return se(e,function(){return e.bindTexture(i,a);}),se(e,function(){return e.texParameteri(i,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);}),se(e,function(){return e.texParameteri(i,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);}),se(e,function(){return e.texParameteri(i,e.TEXTURE_MIN_FILTER,e.NEAREST);}),se(e,function(){return e.texParameteri(i,e.TEXTURE_MAG_FILTER,e.NEAREST);}),se(e,function(){return e.texImage2D(i,0,o,t,n,0,s,Xe(e),null);}),se(e,function(){return e.bindTexture(e.TEXTURE_2D,null);}),a;}function Ye(e,t,n){var r=D(t,n);return Je(e,r[0],r[1],1);}function Qe(e,t,n){var r=function(e,t){return[4*n,e];}(t);return Je(e,r[0],r[1],4);}function Ze(e,t,n){var r=W(t,n);return Je(e,r[0],r[1],4);}function $e(e,t,n){return se(e,function(){return e.bindBuffer(e.ARRAY_BUFFER,n);}),Ee(e,t,"clipSpacePos",n,3,20,0)&&Ee(e,t,"uv",n,2,20,12);}function et(e,t,n){se(e,function(){return e.bindTexture(e.TEXTURE_2D,t);}),se(e,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n);}),se(e,function(){return e.bindTexture(e.TEXTURE_2D,null);});}function tt(e,t,n,r,a,i){var o=Ke(e,i);Se(e,n,r),se(e,function(){return e.bindTexture(e.TEXTURE_2D,t);}),se(e,function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,o,Xe(e),a);}),se(e,function(){return e.bindTexture(e.TEXTURE_2D,null);});}function nt(e,t,n,r,a,i){var o,s=D(n,r),u=s[0],l=s[1];if(c.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")){var f=1===i?ke():i;1===f?o=a:function(e,t,n){var r=L(e.length,n);if(t.length<r)throw new Error("unpackedArray length ("+t.length+") must be >= "+r);for(var a=0,i=0;i<e.length;++i){t[a]=e[i],a+=n;}}(a,o=new Float32Array(L(a.length,f)),f);}else o=function(e){for(var t=new Uint8Array(4*e.length),n=function n(_n3){var r=e[_n3/4];if(isNaN(r))return t[_n3]=U,t[_n3+1]=U,t[_n3+2]=U,t[_n3+3]=U,"continue";var a=(r-z)/F,i=V.map(function(e){return e*a;}).map(function(e){return Math.floor(e%1*255);});t[_n3]=Math.floor(a),t[_n3+1]=i[0],t[_n3+2]=i[1],t[_n3+3]=i[2];},r=0;r<t.length;r+=4){n(r);}return t;}(a);tt(e,t,u,l,o,i);}function rt(e,t,n,r,a){var i=W(n,r),o=i[0],s=i[1],u=new Float32Array(G(n,r));!function(e,t,n,r){var a=G(t,n);if(r.length<a)throw new Error("packedRGBA length ("+r.length+") must be >= "+a);for(var i=W(t,n),o=i[0],s=i[1],u=n%2==1,c=t%2==1,l=Math.floor(n/2),f=Math.floor(t/2),p=u?4:0,h=n,d=0,m=0;m<f;++m){for(var g=2*m*n,y=0;y<l;++y){var v=g+2*y;r[d]=e[v],r[d+1]=e[v+1],r[d+2]=e[v+h],r[d+3]=e[v+h+1],d+=4;}d+=p;}if(u){v=n-1,d=4*(o-1);var b=2*n;for(p=4*o,m=0;m<f;++m){r[d]=e[v],r[d+2]=e[v+n],v+=b,d+=p;}}if(c)for(v=(t-1)*n,d=(s-1)*o*4,y=0;y<l;++y){r[d++]=e[v++],r[d++]=e[v++],d+=2;}u&&c&&(r[r.length-4]=e[e.length-1]);}(a,n,r,u),tt(e,t,o,s,u,4);}function at(e,t,n){return c.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")?new Float32Array(L(e*t,n)):new Uint8Array(e*t*n);}function it(e,t,n,r){if(c.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")){var a=new Float32Array(t*n);return function(e,t,n){var r=function(e,t){if(e%t!=0)throw new Error("unpackedSize ("+e+") must be a multiple of "+t);return e/t;}(e.length,n);if(t.length<r)throw new Error("matrix length ("+t.length+") must be >= "+r);for(var a=0,i=0;i<e.length;i+=n){t[a++]=e[i];}}(e,a,r),a;}return function(e){for(var t=new Float32Array(e.length/4),n=function n(_n4){if(e[_n4]===U&&e[_n4+1]===U&&e[_n4+2]===U&&e[_n4+3]===U)return t[_n4/4]=NaN,"continue";var r=0;B.forEach(function(t,a){r+=t*e[_n4+a];});var a=r*F+z;t[_n4/4]=a;},r=0;r<e.length;r+=4){n(r);}return t;}(e);}function ot(e,t,n,r){return Be(this,void 0,void 0,function(){var a,i,o,s,u;return Ve(this,function(c){switch(c.label){case 0:return a=e,o=at(n,r,i=4),s=o instanceof Float32Array?4*o.length:o,u=e.createBuffer(),se(e,function(){return e.bindBuffer(a.PIXEL_PACK_BUFFER,u);}),se(e,function(){return e.bufferData(a.PIXEL_PACK_BUFFER,s,e.STATIC_DRAW);}),se(e,function(){return a.readPixels(0,0,r,n,e.RGBA,Xe(e),0);}),[4,t.getBufferSubDataAsync(a.PIXEL_PACK_BUFFER,0,o)];case 1:return c.sent(),[2,it(o,n,r,i)];}});});}function st(e,t,n){var r=D(t,n),a=r[0],i=r[1],o=at(t,n,4);return se(e,function(){return e.readPixels(0,0,a,i,e.RGBA,Xe(e),o);}),it(o,t,n,4);}function ut(e,t,n,r){var a=t*n*4,i=new Uint8Array(a);se(e,function(){return e.readPixels(0,0,n,t,e.RGBA,e.UNSIGNED_BYTE,i);});for(var o=new Float32Array(a),s=0;s<i.length;s++){o[s]=i[s];}var u=new Float32Array(t*n*r);return function(e,t,n){var r=e.length*n/4;if(t.length<r)throw new Error("matrix length ("+t.length+") must be >= "+r);for(var a=0,i=0;i<e.length;i+=4){for(var o=0;o<n;o++){t[a++]=e[i+o];}}}(o,u,r),u;}function ct(e,t,n){var r=W(t,n),a=r[0],i=r[1],o=new Float32Array(G(t,n));se(e,function(){return e.readPixels(0,0,a,i,e.RGBA,Xe(e),o);});var s=new Float32Array(t*n);return function(e,t,n,r){var a=t*n;if(a<r.length)throw new Error("matrix length ("+r.length+") must be >= "+a);for(var i=n%2==1,o=t%2==1,s=Math.floor(n/2),u=Math.floor(t/2),c=W(t,n),l=c[0],f=c[1],p=i?4:0,h=n+(i?1:0),d=0,m=0,g=n,y=0;y<u;++y){for(var v=0;v<s;++v){r[m++]=e[d++],r[m++]=e[d++],r[g++]=e[d++],r[g++]=e[d++];}d+=p,m+=h,g+=h;}if(i){d=4*(l-1);var b=n-1;for(p=4*l,h=2*n,y=0;y<u;++y){r[b]=e[d],r[b+n]=e[d+2],d+=p,b+=h;}}if(o)for(d=(f-1)*l*4,b=(t-1)*n,v=0;v<s;++v){r[b++]=e[d++],r[b++]=e[d++],d+=2;}return i&&o&&(r[r.length-1]=e[e.length-4]),r;}(o,t,n,s);}var lt=function lt(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{u(r.next(e));}catch(e){i(e);}}function s(e){try{u(r.throw(e));}catch(e){i(e);}}function u(e){e.done?a(e.value):new n(function(t){t(e.value);}).then(o,s);}u((r=r.apply(e,t||[])).next());});},ft=function ft(e,t){var n,r,a,i,o={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1];},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this;}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;){try{if(n=1,r&&(a=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[0,a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue;}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break;}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break;}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break;}a[2]&&o.ops.pop(),o.trys.pop();continue;}i=t.call(e,o);}catch(e){i=[6,e],r=0;}finally{n=a=0;}}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0};}([i,s]);};}},pt=function(){function e(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.autoDebugValidate=!1,this.vertexAttrsAreBound=!1,this.gl=null!=e?e:We(),1===c.ENV.get("WEBGL_VERSION")?(this.textureFloatExtension=pe(this.gl,"OES_texture_float"),this.colorBufferFloatExtension=this.gl.getExtension("WEBGL_color_buffer_float")):this.colorBufferFloatExtension=pe(this.gl,"EXT_color_buffer_float"),this.loseContextExtension=pe(this.gl,"WEBGL_lose_context"),c.ENV.get("WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED")&&(this.getBufferSubDataAsyncExtension=this.gl.getExtension("WEBGL_get_buffer_sub_data_async")),this.vertexBuffer=qe(this.gl),this.indexBuffer=He(this.gl),this.framebuffer=Ne(this.gl);}return e.prototype.dispose=function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;se(t,function(){return t.finish();}),se(t,function(){return t.bindFramebuffer(t.FRAMEBUFFER,null);}),se(t,function(){return t.deleteFramebuffer(e.framebuffer);}),se(t,function(){return t.bindBuffer(t.ARRAY_BUFFER,null);}),se(t,function(){return t.deleteBuffer(e.vertexBuffer);}),se(t,function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);}),se(t,function(){return t.deleteBuffer(e.indexBuffer);}),this.loseContextExtension.loseContext(),this.disposed=!0;}},e.prototype.enableAutomaticDebugValidation=function(e){this.autoDebugValidate=e,ce(e);},e.prototype.createMatrixTexture=function(e,t){return this.throwIfDisposed(),Ye(this.gl,e,t);},e.prototype.uploadPixelDataToTexture=function(e,t){this.throwIfDisposed(),et(this.gl,e,t);},e.prototype.createPackedMatrixTexture=function(e,t){return this.throwIfDisposed(),Ze(this.gl,e,t);},e.prototype.deleteMatrixTexture=function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(Me(this.gl,this.framebuffer),this.outputTexture=null),se(this.gl,function(){return t.gl.deleteTexture(e);});},e.prototype.uploadMatrixToTexture=function(e,t,n,r){return this.throwIfDisposed(),nt(this.gl,e,t,n,r,1);},e.prototype.uploadMatrixToPackedTexture=function(e,t,n,r){return this.throwIfDisposed(),rt(this.gl,e,t,n,r);},e.prototype.downloadMatrixFromTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,function(){return st(r.gl,t,n);});},e.prototype.downloadMatrixFromTextureAsync=function(e,t,n){return lt(this,void 0,void 0,function(){var r=this;return ft(this,function(a){if(null==this.getBufferSubDataAsyncExtension)throw new Error("Cannot download matrix from output texture asynchronously, WEBGL_get_buffer_sub_data_async is not enabled.");return[2,this.downloadMatrixDriverAsync(e,function(){return ot(r.gl,r.getBufferSubDataAsyncExtension,t,n);})];});});},e.prototype.downloadMatrixFromRGBAColorTexture=function(e,t,n,r){var a=this;return this.downloadMatrixDriver(e,function(){return ut(a.gl,t,n,r);});},e.prototype.downloadMatrixFromPackedTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,function(){return ct(r.gl,t,n);});},e.prototype.createProgram=function(e){this.throwIfDisposed();var t=this.gl,n=de(t,e),r=Ge(t),a=ge(t);return se(t,function(){return t.attachShader(a,r);}),se(t,function(){return t.attachShader(a,n);}),ye(t,a),this.autoDebugValidate&&ve(t,a),this.vertexAttrsAreBound||(this.setProgram(a),this.vertexAttrsAreBound=$e(t,this.program,this.vertexBuffer)),a;},e.prototype.deleteProgram=function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&se(this.gl,function(){return t.gl.deleteProgram(e);});},e.prototype.setProgram=function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.autoDebugValidate&&ve(this.gl,this.program),se(this.gl,function(){return t.gl.useProgram(e);});},e.prototype.getUniformLocation=function(e,t,n){return void 0===n&&(n=!0),this.throwIfDisposed(),n?Ae(this.gl,e,t):Ce(this.gl,e,t);},e.prototype.getAttributeLocation=function(e,t){var n=this;return this.throwIfDisposed(),se(this.gl,function(){return n.gl.getAttribLocation(e,t);});},e.prototype.getUniformLocationNoThrow=function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t);},e.prototype.setInputMatrixTexture=function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),Pe(this.gl,this.program,e,t,n);},e.prototype.setOutputMatrixTexture=function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t);},e.prototype.setOutputPackedMatrixTexture=function(e,t,n){this.throwIfDisposed();var r=W(t,n),a=r[0],i=r[1];this.setOutputMatrixTextureDriver(e,a,i);},e.prototype.setOutputMatrixWriteRegion=function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t);},e.prototype.setOutputPackedMatrixWriteRegion=function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.");},e.prototype.debugValidate=function(){null!=this.program&&ve(this.gl,this.program),je(this.gl);},e.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.autoDebugValidate&&this.debugValidate(),se(e,function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0);});},e.prototype.blockUntilAllProgramsCompleted=function(){var e=this;this.throwIfDisposed(),se(this.gl,function(){return e.gl.finish();});},e.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=pe(this.gl,2===c.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension;},e.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension();},e.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension();},e.prototype.runQuery=function(e){var t=this.beginQuery();return e(),this.endQuery(),this.pollQueryTime(t);},e.prototype.beginQuery=function(){if(2===c.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n;}var r=this.getQueryTimerExtensionWebGL1(),a=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,a),a;},e.prototype.endQuery=function(){if(2!==c.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT);}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT);}},e.prototype.isQueryAvailable=function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),a=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE),i=this.gl.getParameter(r.GPU_DISJOINT_EXT);return a&&!i;}return a=(r=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT),i=this.gl.getParameter(r.GPU_DISJOINT_EXT),a&&!i;},e.prototype.pollQueryTime=function(e){var t=this;return new Promise(function(n,r){var a=c.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION");y.repeatedTry(function(){return t.isQueryAvailable(e,a);}).then(function(){return n(t.getQueryTime(e,a));}).catch(function(){console.warn("Disjoint query timer never available."),n(-1);});});},e.prototype.getQueryTime=function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6;}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6;},e.prototype.downloadMatrixDriverSetup=function(e){this.throwIfDisposed(),Re(this.gl,e,this.framebuffer),this.autoDebugValidate&&je(this.gl);},e.prototype.downloadMatrixDriverTeardown=function(){null!=this.outputTexture?(Re(this.gl,this.outputTexture,this.framebuffer),this.autoDebugValidate&&je(this.gl)):Me(this.gl,this.framebuffer);},e.prototype.downloadMatrixDriver=function(e,t){this.downloadMatrixDriverSetup(e);var n=t();return this.downloadMatrixDriverTeardown(),n;},e.prototype.downloadMatrixDriverAsync=function(e,t){return lt(this,void 0,void 0,function(){var n;return ft(this,function(r){switch(r.label){case 0:return this.downloadMatrixDriverSetup(e),[4,t()];case 1:return n=r.sent(),this.downloadMatrixDriverTeardown(),[2,n];}});});},e.prototype.setOutputMatrixTextureDriver=function(e,t,n){this.throwIfDisposed();var r=this.gl;Re(r,e,this.framebuffer),this.autoDebugValidate&&je(r),this.outputTexture=e,se(r,function(){return r.viewport(0,0,t,n);}),se(r,function(){return r.scissor(0,0,t,n);});},e.prototype.setOutputMatrixWriteRegionDriver=function(e,t,n,r){var a=this;this.throwIfDisposed(),se(this.gl,function(){return a.gl.scissor(e,t,n,r);});},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.");},e.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.");},e;}();function ht(){return!c.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED");}function dt(e,t){if(e.length!==t.length)throw Error("Binary was compiled with "+e.length+" inputs, but was executed with "+t.length+" inputs");e.forEach(function(e,n){var r=e.logicalShape,a=e.texShape,i=t[n].tensor.shape,o=t[n].texData.texShape;if(!y.arraysEqual(r,i))throw Error("Binary was compiled with different shapes than the current args. Shapes "+r+" and "+i+" must match");if(!y.arraysEqual(a,o))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+a+" and "+o+" must match");});}var mt=function mt(e,t,n){var r,a;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error("Where for rank "+n+" is not yet supported");if(1===n)a="resRC",r="resRC";else{for(var i=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],s=[],u=0;u<t.length;u++){s.push(""+i[u]),u<e&&o.push(""+i[u]);}r=o.join(),a=s.join();}var c=Q(n);this.userCode="\n      void main() {\n        "+c+" resRC = getOutputCoords();\n        float cVal = getC("+r+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+a+"));\n        } else {\n          setOutput(getB("+a+"));\n        }\n      }\n    ";},gt=function gt(e,t,n,r,a){this.variableNames=["x"],this.outputShape=[];var i,o=t,s=e[3]-1;this.outputShape=e;var u="float("+n+") + float("+r+") * sum";i=.5===a?"inversesqrt("+u+")":1===a?"1.0/("+u+")":"exp(log("+u+") * float(-"+a+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+o+"; j <= "+o+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+s+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+i+";\n        setOutput(val);\n      }\n    ";},yt=function yt(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,i=t-1-e.padInfo.top,o=n-1-e.padInfo.left,s=t*n-1;this.userCode="\n      const ivec2 pads = ivec2("+i+", "+o+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+a+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+s+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+n+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ";},vt=function vt(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1),this.variableNames=["matrixA","matrixB"];var a=n?e[1]:e[0],i=r?t[0]:t[1],o=n?e[0]:e[1];this.outputShape=[a,i];var s=function s(e,t){return n?t+" + "+e+", aRow":"aRow, "+t+" + "+e;},u=function u(e,t){return r?"bCol, "+t+" + "+e:t+" + "+e+", bCol";},c=4*Math.floor(o/4),l=o%4;this.userCode=" float dotARowBCol(int aRow, int bCol) {\n      float result = 0.0;\n      for (int i = 0; i < "+c+"; i += 4) {\n        vec4 a = vec4(\n          getMatrixA("+s(0,"i")+"),\n          getMatrixA("+s(1,"i")+"),\n          getMatrixA("+s(2,"i")+"),\n          getMatrixA("+s(3,"i")+")\n        );\n        vec4 b = vec4(\n          getMatrixB("+u(0,"i")+"),\n          getMatrixB("+u(1,"i")+"),\n          getMatrixB("+u(2,"i")+"),\n          getMatrixB("+u(3,"i")+")\n        );\n\n        result += dot(a, b);\n      }\n\n      if ("+(1===l)+") {\n        result += getMatrixA("+s(0,c)+") *\n          getMatrixB("+u(0,c)+");\n      } else if ("+(2===l)+") {\n        vec2 a = vec2(\n          getMatrixA("+s(0,c)+"),\n          getMatrixA("+s(1,c)+")\n        );\n        vec2 b = vec2(\n          getMatrixB("+u(0,c)+"),\n          getMatrixB("+u(1,c)+")\n        );\n        result += dot(a, b);\n      } else if ("+(3===l)+") {\n        vec3 a = vec3(\n          getMatrixA("+s(0,c)+"),\n          getMatrixA("+s(1,c)+"),\n          getMatrixA("+s(2,c)+")\n        );\n        vec3 b = vec3(\n          getMatrixB("+u(0,c)+"),\n          getMatrixB("+u(1,c)+"),\n          getMatrixB("+u(2,c)+")\n        );\n        result += dot(a, b);\n      }\n\n      return result;\n    }\n\n    void main() {\n      ivec2 resRC = getOutputCoords();\n      setOutput(dotARowBCol(resRC.x, resRC.y));\n    }\n    ";},bt=function(){function e(e,t,n){this.variableNames=["probs"],this.outputShape=[e,n],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(t-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(t-1)+"));\n      }\n    ";}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.seedLoc&&(t.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(t.seedLoc,e);};},e;}(),wt=function wt(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+n+"),\n                      float(index == coords.y)));\n      }\n    ";},xt=function xt(e,t,n){this.variableNames=["x"],this.outputShape=t.map(function(t,n){return t[0]+e[n]+t[1];});var r=e.length,a=Q(r),i=t.map(function(e){return e[0];}).join(","),o=t.map(function(t,n){return t[0]+e[n];}).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?"\n      "+a+" start = "+a+"("+i+");\n      "+a+" end = "+a+"("+o+");\n\n      void main() {\n        "+a+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+n+"));\n        } else {\n          "+a+" coords = outC - start;\n          setOutput(getX("+s+"));\n        }\n      }\n    ":"\n        int start = "+i+";\n        int end = "+o+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+n+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      ";},kt=function kt(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterHeight,a=e.filterWidth,i=e.strideHeight,o=e.strideWidth,s=e.padInfo.top,u=e.padInfo.left;this.outputShape=e.outShape;var c="avg"===t,l="0.0";if(c||(l="-1.0 / 0.0"),n)this.userCode="\n        const ivec2 strides = ivec2("+i+", "+o+");\n        const ivec2 pads = ivec2("+s+", "+u+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+r+"; wR++) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+a+"; wC++) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+a+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var f=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(f="avgValue / count");var p=4*Math.floor(a/4),h=a%4,d="\n      if ("+c+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+i+", "+o+");\n      const ivec2 pads = ivec2("+s+", "+u+");\n      const float initializationValue = "+l+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+l+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+r+"; wR++) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+p+"; wC += 4) {\n            int xC = xCCorner + wC;\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + 1, d),\n              getValue(batch, xR, xC + 2, d),\n              getValue(batch, xR, xC + 3, d)\n            );\n\n            "+d+"\n          }\n\n          int xC = xCCorner + "+p+";\n          if ("+(1===h)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+d+"\n          } else if ("+(2===h)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + 1, d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+d+"\n          } else if ("+(3===h)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + 1, d),\n              getValue(batch, xR, xC + 2, d),\n              initializationValue\n            );\n\n            "+d+"\n          }\n        }\n        setOutput("+f+");\n      }\n    ";}},Ot=function Ot(e,t){this.variableNames=["x"];var n=e.windowSize,r=e.batchSize,a=e.inSize,i=Math.ceil(a/n);this.outputShape=[r,i];var o="sum"===t,s="0.0";o||(s="min"===t?"1.0 / 0.0":"-1.0 / 0.0");var u="min"===t?"min":"max",c=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===t&&(c="sumValue");var l=4*Math.floor(n/4),f=n%4,p="\n      if ("+o+") {\n        sumValue += dot(values, ones);\n      } else {\n        minMaxValue = "+u+"(values, minMaxValue);\n      }\n    ",h="";a%n>0&&(h="\n        if (inIdx < 0 || inIdx >= "+a+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+s+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+h+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+n+";\n\n        vec4 minMaxValue = vec4("+s+");\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+l+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+p+"\n        }\n\n        int inIdx = inOffset + "+l+";\n        if ("+(1===f)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n          "+p+"\n        } else if ("+(2===f)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n          "+p+"\n        } else if ("+(3===f)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n          "+p+"\n        }\n        setOutput("+c+");\n      }\n    ";},St=function St(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,a=r[1],i=r[2],o=e.shape,s=o[1],u=o[2],c=[n&&s>1?a-1:a,n&&u>1?i-1:i],l=[n&&s>1?s-1:s,n&&u>1?u-1:u],f=c[0]/l[0],p=c[1]/l[1],h=1/f,d=1/p,m=2*Math.ceil(h)+2,g=2*Math.ceil(d)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+f+");\n        const float widthScale = float("+p+");\n\n        const float invHeightScale = float("+h+");\n        const float invWidthScale = float("+d+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(a-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(i-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ";},Nt=function Nt(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var a=e[0],i=e[1],o=e[2],s=e[3];this.outputShape=[a,t,n,s];var u=[r&&t>1?i-1:i,r&&n>1?o-1:o],c=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/c[0]+",\n          "+u[1]/c[1]+");\n      const vec2 inputShapeRC = vec2("+i+".0, "+o+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    ";},Et=function Et(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var a=e[0],i=e[1],o=e[2],s=e[3];this.outputShape=[a,t,n,s];var u=r?[i-1,o-1]:[i,o],c=r?[t-1,n-1]:[t,n],l=r?"0.5":"0.0";this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/c[0]+",\n          "+u[1]/c[1]+");\n      const vec2 inputShapeRC = vec2("+i+".0, "+o+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+l+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    ";},It=function It(e,t){this.variableNames=["x"];var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=e,1!==n){var r=e.map(function(n,r){return function(n){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - coords["+n+"] - 1":"coords["+n+"]";}(r);}).join(","),a=Q(n);this.userCode="\n      void main() {\n        "+a+" coords = getOutputCoords();\n        setOutput(getX("+r+"));\n      }\n    ";}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+e[0]+" - coord - 1));\n        }\n      ";},Tt=function(){function e(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;var t=Q(this.rank),n=function(e){if(1===e)return"sourceLoc";if(2===e)return"sourceLoc.x, sourceLoc.y";if(3===e)return"sourceLoc.x, sourceLoc.y, sourceLoc.z";if(4===e)return"sourceLoc.x, sourceLoc.y, sourceLoc.z, sourceLoc.w";throw Error("Slicing for rank "+e+" is not yet supported");}(this.rank);this.userCode="\n      uniform "+t+" start;\n\n      void main() {\n        "+t+" sourceLoc = start + getOutputCoords();\n        setOutput(getSource("+n+"));\n      }\n    ";}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){if(null!=t.startLoc||(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null!=t.startLoc))if(1===t.rank)n.gl.uniform1i(t.startLoc,e[0]);else if(2===t.rank)n.gl.uniform2i(t.startLoc,e[0],e[1]);else if(3===t.rank)n.gl.uniform3i(t.startLoc,e[0],e[1],e[2]);else{if(4!==t.rank)throw Error("Slicing for rank "+t.rank+" is not yet supported");n.gl.uniform4i(t.startLoc,e[0],e[1],e[2],e[3]);}};},e;}(),At=function At(e,t,n){this.variableNames=["x"],this.outputShape=n,this.rank=n.length;var r,a=Q(this.rank);r=1===this.rank?"coords * strides + begin":n.map(function(e,t){return"coords["+t+"] * strides["+t+"] + begin["+t+"]";}).join(","),this.userCode="\n      "+a+" begin = "+a+"("+e+");\n      "+a+" strides = "+a+"("+t+");\n\n      void main() {\n        "+a+" coords = getOutputCoords();\n        setOutput(getX("+r+"));\n      }\n    ";},Ct=function(){function e(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.allocatedTextures=[],this.usedTextureCount={};}return e.prototype.acquireTexture=function(e,t){void 0===t&&(t=x.FLOAT);var n=Pt(e,t);if(n in this.freeTextures||(this.freeTextures[n]=[]),n in this.usedTextureCount||(this.usedTextureCount[n]=0),this.usedTextureCount[n]++,this.freeTextures[n].length>0)return this.numFreeTextures--,this.numUsedTextures++,this.log(),this.freeTextures[n].shift();this.numUsedTextures++,this.log();var r=this.gpgpu.createMatrixTexture(e[0],e[1]);return this.allocatedTextures.push(r),r;},e.prototype.releaseTexture=function(e,t,n){void 0===n&&(n=x.FLOAT);var r=Pt(t,n);r in this.freeTextures||(this.freeTextures[r]=[]),this.freeTextures[r].push(e),this.numFreeTextures++,this.numUsedTextures--,this.usedTextureCount[r]--,this.log();},e.prototype.log=function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+e+")");}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures;},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures;},e.prototype.dispose=function(){var e=this;null!=this.allocatedTextures&&(this.allocatedTextures.forEach(function(t){e.gpgpu.deleteMatrixTexture(t);}),this.freeTextures=null,this.allocatedTextures=null,this.usedTextureCount=null,this.numUsedTextures=0,this.numFreeTextures=0);},e;}();function Pt(e,t){return e[0]+"_"+e[1]+"_"+t;}var _t=function _t(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++){n[r]=e[r]*t[r];}this.outputShape=n,this.rank=n.length;var a=Q(this.rank),i=function(e){var t=e.length;if(t>4)throw Error("Tile for rank "+t+" is not yet supported");if(1===t)return"imod(resRC, "+e[0]+")";for(var n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[],a=0;a<e.length;a++){r.push("imod("+n[a]+", "+e[a]+")");}return r.join();}(e);this.userCode="\n      void main() {\n        "+a+" resRC = getOutputCoords();\n        setOutput(getA("+i+"));\n      }\n    ";},Rt=function Rt(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++){n[r]=e[t[r]];}this.outputShape=n,this.rank=n.length;var a=Q(this.rank),i=function(e){var t=e.length;if(t>4)throw Error("Transpose for rank "+t+" is not yet supported");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=new Array(t),a=0;a<e.length;a++){r[e[a]]=n[a];}return r.join();}(t);this.userCode="\n    void main() {\n      "+a+" resRC = getOutputCoords();\n      setOutput(getA("+i+"));\n    }\n    ";},Mt=n(55),jt=function jt(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      float unaryOperation(float x) {\n        "+t+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ";},Dt="if (isNaN(x)) return x;",Lt="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = "+Mt.b+";\n  float scale = "+Mt.a+";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n",zt=function zt(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{u(r.next(e));}catch(e){i(e);}}function s(e){try{u(r.throw(e));}catch(e){i(e);}}function u(e){e.done?a(e.value):new n(function(t){t(e.value);}).then(o,s);}u((r=r.apply(e,t||[])).next());});},Ft=function Ft(e,t){var n,r,a,i,o={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1];},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this;}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;){try{if(n=1,r&&(a=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[0,a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue;}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break;}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break;}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break;}a[2]&&o.ops.pop(),o.trys.pop();continue;}i=t.call(e,o);}catch(e){i=[6,e],r=0;}finally{n=a=0;}}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0};}([i,s]);};}},Bt=function(){function e(e,t){if(void 0===t&&(t=!0),this.gpgpu=e,this.delayedStorage=t,this.texData=new WeakMap(),this.uploadWaitMs=0,this.downloadWaitMs=0,this.binaryCache={},this.disposed=!1,c.ENV.get("WEBGL_VERSION")<1)throw new Error("WebGL is not supported on this device");"undefined"!=typeof document&&(this.canvas=document.createElement("canvas")),null==e?(this.gpgpu=new pt(We(this.canvas)),this.gpgpuCreatedLocally=!0):this.gpgpuCreatedLocally=!1,this.textureManager=new Ct(this.gpgpu);}return e.prototype.register=function(e,t,n){if(this.texData.has(e))throw new Error("Data buffer is already registered");this.texData.set(e,{shape:t,dtype:n,values:null,texture:null,texShape:null,texType:x.FLOAT});},e.prototype.fromPixels=function(e,t){if(null==e)throw new Error("MathBackendWebGL.writePixels(): pixels can not be null");var n=[e.height,e.width],r=[e.height,e.width,t];if(e instanceof HTMLVideoElement){if(null==this.fromPixelsCanvas){if("undefined"==typeof document)throw new Error("Can't read pixels from HTMLImageElement outside the browser.");if("complete"!==document.readyState)throw new Error("The DOM is not ready yet. Please call tf.fromPixels() once the DOM is ready. One way to do that is to add an event listener for `DOMContentLoaded` on the document object");this.fromPixelsCanvas=document.createElement("canvas");}this.fromPixelsCanvas.width=e.width,this.fromPixelsCanvas.height=e.height,this.fromPixelsCanvas.getContext("2d").drawImage(e,0,0,e.width,e.height),e=this.fromPixelsCanvas;}var a=m.a.make(n,{},"int32");this.texData.get(a.dataId).texType=x.UNSIGNED_BYTE,this.gpgpu.uploadPixelDataToTexture(this.getTexture(a.dataId),e);var i=new ne(r),o=this.compileAndRun(i,[a]);return a.dispose(),o;},e.prototype.write=function(e,t){if(null==t)throw new Error("MathBackendWebGL.write(): values can not be null");this.throwIfNoData(e);var n=this.texData.get(e),r=n.texture,a=n.texShape,i=n.texType;null!=r&&(this.textureManager.releaseTexture(r,a,i),n.texture=null,n.texShape=null),n.values=t,this.delayedStorage||this.uploadToGPU(e);},e.prototype.readSync=function(e){this.throwIfNoData(e);var t=this.texData.get(e),n=t.texture,r=t.values,a=t.texShape;if(null!=r)return this.cacheOnCPU(e),r;var i,o=null!=this.activeTimers;o&&(i=performance.now());var s=this.gpgpu.downloadMatrixFromTexture(n,a[0],a[1]);return o&&(this.downloadWaitMs+=performance.now()-i),this.cacheOnCPU(e,s),t.values;},e.prototype.read=function(e){return zt(this,void 0,void 0,function(){var t,n,r,a,i;return Ft(this,function(o){switch(o.label){case 0:return this.throwIfNoData(e),t=this.texData.get(e),n=t.texture,r=t.values,a=t.texShape,null!=r?(this.cacheOnCPU(e),[2,r]):c.ENV.get("WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED")?[4,this.gpgpu.downloadMatrixFromTextureAsync(n,a[0],a[1])]:[3,2];case 1:return i=o.sent(),this.cacheOnCPU(e,i),[2,t.values];case 2:return 0===c.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?[2,this.readSync(e)]:[4,this.gpgpu.runQuery(function(){})];case 3:return o.sent(),[2,this.readSync(e)];}});});},e.prototype.time=function(e){return zt(this,void 0,void 0,function(){var t,n,r,a,i,o;return Ft(this,function(s){switch(s.label){case 0:return t=this.activeTimers,n=[],r=!1,null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e(),a=y.flatten(this.activeTimers),this.activeTimers=t,r&&(this.programTimersStack=null),[4,Promise.all(a).then(function(e){var t=0;return e.forEach(function(e){return t+=e;}),t;})];case 1:return i=s.sent(),o={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:i,wallMs:null},this.uploadWaitMs=0,this.downloadWaitMs=0,[2,o];}});});},e.prototype.memory=function(){return{unreliable:!1};},e.prototype.startTimer=function(){return c.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?this.gpgpu.beginQuery():{startMs:performance.now(),endMs:null};},e.prototype.endTimer=function(e){return c.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(this.gpgpu.endQuery(),e):(e.endMs=performance.now(),e);},e.prototype.getQueryTime=function(e){return zt(this,void 0,void 0,function(){var t;return Ft(this,function(n){return c.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?[2,this.gpgpu.pollQueryTime(e)]:[2,(t=e).endMs-t.startMs];});});},e.prototype.disposeData=function(e){if(this.texData.has(e)){var t=this.texData.get(e),n=t.texture,r=t.texShape,a=t.texType;null!=n&&this.textureManager.releaseTexture(n,r,a),this.texData.delete(e);}},e.prototype.getTexture=function(e){return this.uploadToGPU(e),this.texData.get(e).texture;},e.prototype.getTextureData=function(e){return this.uploadToGPU(e),this.texData.get(e);},e.prototype.getGPGPUContext=function(){return this.gpgpu;},e.prototype.getCanvas=function(){return this.canvas;},e.prototype.slice=function(e,t,n){var r=new Tt(n),a=r.getCustomSetupFunc(t);return this.compileAndRun(r,[e],null,a);},e.prototype.stridedSlice=function(e,t,n,r,a,i){var o=Object(d.b)(e.shape,t,n,r,a,i),s=o[0],u=o[1];if(u.some(function(e){return 0===e;}))return f.uc([],u);var c=new At(s,r,u);return this.compileAndRun(c,[e]);},e.prototype.reverse=function(e,t){var n=new It(e.shape,t);return this.compileAndRun(n,[e]);},e.prototype.concat=function(e,t){var n=new A(e.shape,t.shape);return this.compileAndRun(n,[e,t]);},e.prototype.neg=function(e){var t=new jt(e.shape,"return -x;");return this.compileAndRun(t,[e]);},e.prototype.matMul=function(e,t,n,r){var a=new vt(e.shape,t.shape,n,r);return this.compileAndRun(a,[e,t]);},e.prototype.multiply=function(e,t){var n=new E("return a * b;",e.shape,t.shape),r=this.makeOutputArray(n.outputShape,g.c(e.dtype,t.dtype));return this.compileAndRun(n,[e,t],r);},e.prototype.batchNormalization=function(e,t,n,r,a,i){var o=[e,t,n],s=null;null!=i&&(s=i.shape,o.push(i));var u=null;null!=a&&(u=a.shape,o.push(a));var c=new N(e.shape,t.shape,n.shape,s,u,r);return this.compileAndRun(c,o);},e.prototype.localResponseNormalization4D=function(e,t,n,r,a){var i=new gt(e.shape,t,n,r,a);return this.compileAndRun(i,[e]);},e.prototype.tile=function(e,t){var n=new _t(e.shape,t);return this.compileAndRun(n,[e]);},e.prototype.pad=function(e,t,n){var r=new xt(e.shape,t,n);return this.compileAndRun(r,[e]);},e.prototype.transpose=function(e,t){var n=new Rt(e.shape,t);return this.compileAndRun(n,[e]);},e.prototype.gather=function(e,t,n){var r=new re(e.shape,t.size,n);return this.compileAndRun(r,[e,t]);},e.prototype.reduce=function(e,t,n){var r=e.shape[0],a=e.shape[1],i=h(a),o=new Ot({windowSize:i,inSize:a,batchSize:r},t),s=o.outputShape,u=s[0],c=s[1],l=this.makeOutputArray([u,c],n);return this.compileAndRun(o,[e],l),1===l.shape[1]?l:this.reduce(l,t,n);},e.prototype.argReduce=function(e,t,n){void 0===n&&(n=null);var r=e.shape[0],a=e.shape[1];null!=n&&(r=n.shape[0],a=n.shape[1]);var i=h(a),o=new k({windowSize:i,inSize:a,batchSize:r},t,null==n),s=o.outputShape,u=s[0],c=s[1],l=this.makeOutputArray([u,c],"int32"),f=[e];return null!=n&&f.push(n),this.compileAndRun(o,f,l),1===l.shape[1]?l:this.argReduce(e,t,l);},e.prototype.sum=function(e,t){l.a("sum",t,e.rank);var n=l.b(e.shape,t),r=n[0],a=n[1],i=y.sizeFromShape(a),o=e.as2D(-1,i),s=g.b(e.dtype);return this.reduce(o,"sum",s).reshape(r);},e.prototype.argMin=function(e,t){var n=[t];l.a("argMin",n,e.rank);var r=l.b(e.shape,n),a=r[0],i=r[1],o=y.sizeFromShape(i),s=e.as2D(-1,o);return this.argReduce(s,"min").reshape(a);},e.prototype.argMax=function(e,t){var n=[t];l.a("argMax",n,e.rank);var r=l.b(e.shape,n),a=r[0],i=r[1],o=y.sizeFromShape(i),s=e.as2D(-1,o);return this.argReduce(s,"max").reshape(a);},e.prototype.cumsum=function(e,t,n,r){if(t!==e.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(e.rank-1)+" but got axis="+t);var a=new ee(e.shape,n,r);return this.compileAndRun(a,[e]);},e.prototype.equal=function(e,t){var n=new E("return float(a == b);",e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[e,t],r);},e.prototype.notEqual=function(e,t){var n=new E("return float(a != b);",e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[e,t],r);},e.prototype.less=function(e,t){var n=new E("return float(a < b);",e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[e,t],r);},e.prototype.lessEqual=function(e,t){var n=new E("return float(a <= b);",e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[e,t],r);},e.prototype.greater=function(e,t){var n=new E("return float(a > b);",e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[e,t],r);},e.prototype.greaterEqual=function(e,t){var n=new E("return float(a >= b);",e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[e,t],r);},e.prototype.logicalNot=function(e){var t=new jt(e.shape,"return float(!(x >= 1.0));");return this.compileAndRun(t,[e]);},e.prototype.logicalAnd=function(e,t){var n=new E("return float(a >= 1.0 && b >= 1.0);",e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[e,t],r);},e.prototype.logicalOr=function(e,t){var n=new E("return float(a >= 1.0 || b >= 1.0);",e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[e,t],r);},e.prototype.where=function(e,t,n,r){var a=new mt(e.rank,t.shape,t.rank),i=this.makeOutputArray(a.outputShape,r);return this.compileAndRun(a,[e,t,n],i);},e.prototype.topKValues=function(e,t){throw new Error("topKValues GPU not yet implemented!");},e.prototype.topKIndices=function(e,t){throw new Error("topKIndices GPU not yet implemented!");},e.prototype.min=function(e,t){l.a("min",t,e.rank);var n=l.b(e.shape,t),r=n[0],a=n[1],i=y.sizeFromShape(a),o=e.as2D(-1,i);return this.reduce(o,"min",o.dtype).reshape(r);},e.prototype.minimum=function(e,t){var n=new E("\n  if (isNaN(a)) return a;\n  if (isNaN(b)) return b;\n\n  return min(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t]);},e.prototype.mod=function(e,t){var n=new E("return mod(a, b);",e.shape,t.shape);return this.compileAndRun(n,[e,t]);},e.prototype.max=function(e,t){l.a("max",t,e.rank);var n=l.b(e.shape,t),r=n[0],a=n[1],i=y.sizeFromShape(a),o=e.as2D(-1,i);return this.reduce(o,"max",o.dtype).reshape(r);},e.prototype.maximum=function(e,t){var n=new E("\n  if (isNaN(a)) return a;\n  if (isNaN(b)) return b;\n\n  return max(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t]);},e.prototype.squaredDifference=function(e,t){var n=new E("return (a - b) * (a - b);",e.shape,t.shape);return this.compileAndRun(n,[e,t]);},e.prototype.divide=function(e,t){var n,r;"int32"===e.dtype&&"int32"===t.dtype?(n="\n  float resultSign = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  int result = ia / ib;\n  int amodb = ia - ib * result;\n\n  if (resultSign < 0.0 && amodb != 0) {\n    result -= 1;\n  }\n  return float(result);\n",r="int32"):(n="return a / b;",r="float32");var a=new E(n,e.shape,t.shape),i=this.makeOutputArray(a.outputShape,r);return this.compileAndRun(a,[e,t],i);},e.prototype.add=function(e,t){var n=new E("return a + b;",e.shape,t.shape),r=this.makeOutputArray(n.outputShape,g.c(e.dtype,t.dtype));return this.compileAndRun(n,[e,t],r);},e.prototype.subtract=function(e,t){var n=new E("return a - b;",e.shape,t.shape),r=this.makeOutputArray(n.outputShape,g.c(e.dtype,t.dtype));return this.compileAndRun(n,[e,t],r);},e.prototype.pow=function(e,t){var n=new E("\n  return (round(mod(b, 2.0)) == 0 || round(mod(b, 2.0)) == 2) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",e.shape,t.shape),r=this.makeOutputArray(n.outputShape,g.c(e.dtype,t.dtype));return this.compileAndRun(n,[e,t],r);},e.prototype.ceil=function(e){var t=new jt(e.shape,"return ceil(x);");return this.compileAndRun(t,[e]);},e.prototype.floor=function(e){var t=new jt(e.shape,"return floor(x);");return this.compileAndRun(t,[e]);},e.prototype.sign=function(e){var t=new jt(e.shape,"\n  if (isNaN(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(t,[e]);},e.prototype.round=function(e){var t=new jt(e.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(t,[e]);},e.prototype.exp=function(e){var t=new jt(e.shape,"return exp(x);");return this.compileAndRun(t,[e]);},e.prototype.expm1=function(e){var t=new jt(e.shape,"return exp(x) - 1.0;");return this.compileAndRun(t,[e]);},e.prototype.log=function(e){var t=new jt(e.shape,"return log(x);");return this.compileAndRun(t,[e]);},e.prototype.log1p=function(e){var t=new jt(e.shape,"return log(1.0 + x);");return this.compileAndRun(t,[e]);},e.prototype.sqrt=function(e){var t=new jt(e.shape,"return sqrt(x);");return this.compileAndRun(t,[e]);},e.prototype.rsqrt=function(e){var t=new jt(e.shape,"return inversesqrt(x);");return this.compileAndRun(t,[e]);},e.prototype.square=function(e){var t=new jt(e.shape,"return x * x;");return this.compileAndRun(t,[e]);},e.prototype.reciprocal=function(e){var t=new jt(e.shape,"return 1.0 / x;");return this.compileAndRun(t,[e]);},e.prototype.relu=function(e){var t=new jt(e.shape,"if (isNaN(x)) return x;\n  return (x < 0.0) ? 0.0 : x;\n");return this.compileAndRun(t,[e]);},e.prototype.elu=function(e){var t=new jt(e.shape,"return (x >= 0.0) ? x : (exp(x) - 1.0);");return this.compileAndRun(t,[e]);},e.prototype.eluDer=function(e,t){var n=new E("return (b >= 1.0) ? a : a * (b + 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t]);},e.prototype.selu=function(e){var t=new jt(e.shape,Lt);return this.compileAndRun(t,[e]);},e.prototype.int=function(e){var t=new jt(e.shape,"return float(int(x));"),n=this.makeOutputArray(t.outputShape,"int32");return this.compileAndRun(t,[e],n);},e.prototype.clip=function(e,t,n){var r=new I(e.shape,t,n);return this.compileAndRun(r,[e]);},e.prototype.abs=function(e){var t=new jt(e.shape,"return abs(x);");return this.compileAndRun(t,[e]);},e.prototype.sigmoid=function(e){var t=new jt(e.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(t,[e]);},e.prototype.softplus=function(e){var t=new jt(e.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(t,[e]);},e.prototype.sin=function(e){var t=new jt(e.shape,"return sin(x);");return this.compileAndRun(t,[e]);},e.prototype.cos=function(e){var t=new jt(e.shape,"return cos(x);");return this.compileAndRun(t,[e]);},e.prototype.tan=function(e){var t=new jt(e.shape,"return tan(x);");return this.compileAndRun(t,[e]);},e.prototype.asin=function(e){var t=new jt(e.shape,"return asin(x);");return this.compileAndRun(t,[e]);},e.prototype.acos=function(e){var t=new jt(e.shape,"return acos(x);");return this.compileAndRun(t,[e]);},e.prototype.atan=function(e){var t=new jt(e.shape,"if (isNaN(x)) return x;\n  return atan(x);\n");return this.compileAndRun(t,[e]);},e.prototype.atan2=function(e,t){var n=new E("\n  if (isNaN(a)) return a;\n  if (isNaN(b)) return b;\n\n  return atan(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t]);},e.prototype.sinh=function(e){var t=new jt(e.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e]);},e.prototype.cosh=function(e){var t=new jt(e.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e]);},e.prototype.tanh=function(e){var t=new jt(e.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(t,[e]);},e.prototype.asinh=function(e){var t=new jt(e.shape,"return log(x + sqrt(x * x + 1.0));");return this.compileAndRun(t,[e]);},e.prototype.acosh=function(e){var t=new jt(e.shape,"return log(x + sqrt(x * x - 1.0));");return this.compileAndRun(t,[e]);},e.prototype.atanh=function(e){var t=new jt(e.shape,"return (log(1.0 + x) - log(1.0 - x)) / 2.0;");return this.compileAndRun(t,[e]);},e.prototype.erf=function(e){var t=new jt(e.shape,'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float t = 1.0 / (1.0 + p * x);\n  return 1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x);\n');return this.compileAndRun(t,[e]);},e.prototype.step=function(e,t){var n=new jt(e.shape,function(e){return void 0===e&&(e=0),Dt+"\n    return x > 0.0 ? 1.0 : float("+e+");\n  ";}(t));return this.compileAndRun(n,[e]);},e.prototype.conv2d=function(e,t,n){var r=new M(n);return this.compileAndRun(r,[e,t]);},e.prototype.conv2dDerInput=function(e,t,n){var r=new P(n);return this.compileAndRun(r,[e,t]);},e.prototype.conv2dDerFilter=function(e,t,n){var r=new C(n);return this.compileAndRun(r,[e,t]);},e.prototype.depthwiseConv2D=function(e,t,n){var r=new j(n);return this.compileAndRun(r,[e,t]);},e.prototype.depthwiseConv2DDerInput=function(e,t,n){var r=new R(n);return this.compileAndRun(r,[e,t]);},e.prototype.depthwiseConv2DDerFilter=function(e,t,n){var r=new _(n);return this.compileAndRun(r,[e,t]);},e.prototype.maxPool=function(e,t){var n=new kt(t,"max",!1),r=this.makeOutputArray(n.outputShape,e.dtype);return this.compileAndRun(n,[e],r);},e.prototype.avgPool=function(e,t){var n=new kt(t,"avg",!1),r=this.makeOutputArray(n.outputShape,"float32");return this.compileAndRun(n,[e],r);},e.prototype.maxPoolBackprop=function(e,t,n,r){var a=new kt(r,"max",!0),i=this.compileAndRun(a,[t]),o=new yt(r),s=this.makeOutputArray(o.outputShape,t.dtype),u=this.compileAndRun(o,[e,i],s);return i.dispose(),u;},e.prototype.avgPoolBackprop=function(e,t,n){var r=new O(n),a=this.makeOutputArray(r.outputShape,t.dtype);return this.compileAndRun(r,[e],a);},e.prototype.cast=function(e,t){return b(e,t,this);},e.prototype.reshape=function(e,t){return w(e,t);},e.prototype.resizeBilinear=function(e,t,n,r){var a=new Nt(e.shape,t,n,r);return this.compileAndRun(a,[e]);},e.prototype.resizeBilinearBackprop=function(e,t,n){var r=new St(e,t,n);return this.compileAndRun(r,[e]);},e.prototype.resizeNearestNeighbor=function(e,t,n,r){var a=new Et(e.shape,t,n,r);return this.compileAndRun(a,[e]);},e.prototype.multinomial=function(e,t,n,r){var a=t?e:f.ec(e),i=a.shape[0],o=a.shape[1],s=new bt(i,o,n),u=this.makeOutputArray(s.outputShape,"int32"),c=s.getCustomSetupFunc(r);return this.compileAndRun(s,[a],u,c);},e.prototype.oneHot=function(e,t,n,r){var a=new wt(e.size,t,n,r);return this.compileAndRun(a,[e]);},e.prototype.makeOutputArray=function(e,t){return m.a.make(e,{},t);},e.prototype.compileAndRun=function(e,t,n,r){var a=this;null==n&&(n=this.makeOutputArray(e.outputShape,t[0].dtype));var i=t.map(function(e){return a.uploadToGPU(e.dataId),{tensor:e,texData:a.texData.get(e.dataId)};});this.uploadToGPU(n.dataId);var o,s={tensor:n,texData:this.texData.get(n.dataId)},u=function(e,t,n){var r="";t.concat(n).forEach(function(e){r+=e.tensor.shape+"_"+e.texData.texShape;});var a=e.userCode,i=(!0===e.supportsBroadcasting).toString();return e.constructor.name+"_"+i+"_"+r+"_"+a;}(e,i,s),c=this.getAndSaveBinary(u,function(){return function(e,t,n,r){for(var a=t.userCode,i=n.map(function(e,n){var r={logicalShape:e.tensor.shape,texShape:e.texData.texShape};return{name:t.variableNames[n],shapeInfo:r};}),o=i.map(function(e){return e.shapeInfo;}),s={logicalShape:r.tensor.shape,texShape:r.texData.texShape},u=q(i,s,a,!0===t.supportsBroadcasting),c=e.createProgram(u),l={},f=0;f<t.variableNames.length;f++){var p=t.variableNames[f];l[p]=e.getUniformLocation(c,p);}return ht()&&(l.NaN=e.getUniformLocation(c,"NaN",!1)),{program:t,source:u,webGLProgram:c,uniformLocations:l,gpgpu:e,inShapeInfos:o,outShapeInfo:s};}(a.gpgpu,e,i,s);}),l=null!=this.activeTimers;return l&&(o=this.startTimer()),function(e,t,n,r){dt(e.inShapeInfos,t),dt([e.outShapeInfo],[n]);var a=n.texData.texture,i=n.texData.texShape,o=e.gpgpu;o.setOutputMatrixTexture(a,i[0],i[1]),o.setProgram(e.webGLProgram),t.forEach(function(t,n){var r=t.texData.texture,a=e.program.variableNames[n],i=e.uniformLocations[a];o.setInputMatrixTexture(r,i,n);}),ht()&&o.gl.uniform1f(e.uniformLocations.NaN,NaN),null!=r&&r(o,e.webGLProgram),o.executeProgram();}(c,i,s,r),l&&(o=this.endTimer(o),this.activeTimers.push(this.getQueryTime(o))),n;},e.prototype.getAndSaveBinary=function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e];},e.prototype.getTextureManager=function(){return this.textureManager;},e.prototype.dispose=function(){if(!this.disposed){for(var e in this.binaryCache){this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram);}this.textureManager.dispose(),this.canvas.remove(),null!=this.fromPixelsCanvas&&this.fromPixelsCanvas.remove(),this.gpgpuCreatedLocally&&this.gpgpu.dispose(),this.disposed=!0;}},e.prototype.throwIfNoData=function(e){if(!this.texData.has(e))throw new Error("WebGL backend: No data found for this tensor. Did you change your backend in the middle of the program? New backends can't use Tensors created with previous backends");},e.prototype.uploadToGPU=function(e){this.throwIfNoData(e);var t=this.texData.get(e),n=t.shape,r=t.values,a=t.texture,i=(t.dtype,t.texType);if(null==a){var o,s=null!=this.activeTimers;s&&(o=performance.now());var u=Fe(this.gpgpu.gl,n);t.texShape=u;var c=this.textureManager.acquireTexture(u,i);t.texture=c,null!=r&&(this.gpgpu.uploadMatrixToTexture(c,u[0],u[1],r instanceof Float32Array?r:new Float32Array(r)),t.values=null,s&&(this.uploadWaitMs+=performance.now()-o));}},e.prototype.cacheOnCPU=function(e,t){var n=this.delayedStorage,r=this.texData.get(e),a=r.texture,i=r.texShape,o=r.dtype,s=r.texType;n&&null!=a&&(this.textureManager.releaseTexture(a,i,s),r.texture=null,r.texShape=null),null!=t&&(r.values=function(e,t){if("float32"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r){n[r]=Math.round(e[r]);}return n;}throw new Error("Unknown dtype "+t);}(t,o));},e;}();c.ENV.registerBackend("webgl",function(){return new Bt();},2);var Vt=n(122),Ut=function Ut(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{u(r.next(e));}catch(e){i(e);}}function s(e){try{u(r.throw(e));}catch(e){i(e);}}function u(e){e.done?a(e.value):new n(function(t){t(e.value);}).then(o,s);}u((r=r.apply(e,t||[])).next());});},Wt=function Wt(e,t){var n,r,a,i,o={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1];},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this;}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;){try{if(n=1,r&&(a=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[0,a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue;}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break;}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break;}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break;}a[2]&&o.ops.pop(),o.trys.pop();continue;}i=t.call(e,o);}catch(e){i=[6,e],r=0;}finally{n=a=0;}}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0};}([i,s]);};}},Gt=function(){function e(){this.data=new WeakMap(),"undefined"!=typeof document&&(this.canvas=document.createElement("canvas"));}return e.prototype.register=function(e,t,n){if(this.data.has(e))throw new Error("Data buffer is already registered");this.data.set(e,null);},e.prototype.write=function(e,t){if(null==t)throw new Error("MathBackendCPU.write(): values can not be null");this.throwIfNoData(e),this.data.set(e,t);},e.prototype.fromPixels=function(e,t){if(null==e)throw new Error("MathBackendCPU.writePixels(): pixels can not be null");var n,r;if(e instanceof ImageData)n=e.data;else if(e instanceof HTMLCanvasElement)n=e.getContext("2d").getImageData(0,0,e.width,e.height).data;else{if(!(e instanceof HTMLImageElement||e instanceof HTMLVideoElement))throw new Error("pixels is of unknown type: "+e.constructor.name);if(null==this.canvas)throw new Error("Can't read pixels from HTMLImageElement outside the browser.");this.canvas.width=e.width,this.canvas.height=e.height,this.canvas.getContext("2d").drawImage(e,0,0,e.width,e.height),n=this.canvas.getContext("2d").getImageData(0,0,e.width,e.height).data;}if(4===t)r=new Int32Array(n);else{var a=e.width*e.height;r=new Int32Array(a*t);for(var i=0;i<a;i++){for(var o=0;o<t;++o){r[i*t+o]=n[4*i+o];}}}var s=[e.height,e.width,t];return Object(f.xc)(r,s,"int32");},e.prototype.read=function(e){return Ut(this,void 0,void 0,function(){return Wt(this,function(t){return[2,this.readSync(e)];});});},e.prototype.readSync=function(e){return this.throwIfNoData(e),this.data.get(e);},e.prototype.disposeData=function(e){this.data.has(e)&&this.data.delete(e);},e.prototype.time=function(e){return Ut(this,void 0,void 0,function(){var t;return Wt(this,function(n){return t=performance.now(),e(),[2,{kernelMs:performance.now()-t}];});});},e.prototype.memory=function(){return{unreliable:!0};},e.prototype.throwIfNoData=function(e){if(!this.data.has(e))throw new Error("CPU backend: No data found for this tensor. Did you change your backend in the middle of the program? New backends can't use Tensors created with previous backends");},e.prototype.slice=function(e,t,n){for(var r=f.s(n,e.dtype),a=0;a<r.size;++a){var i=r.indexToLoc(a),o=i.map(function(e,n){return e+t[n];});r.set.apply(r,[e.get.apply(e,o)].concat(i));}return r.toTensor();},e.prototype.stridedSlice=function(e,t,n,r,a,i){var o=Object(d.b)(e.shape,t,n,r,a,i),s=o[0],u=o[1];if(u.some(function(e){return 0===e;}))return f.uc([],u);for(var c=f.s(u,e.dtype),l=0;l<c.size;l++){for(var p=c.indexToLoc(l),h=new Array(p.length),m=0;m<h.length;m++){h[m]=p[m]*r[m]+s[m];}c.set.apply(c,[e.get.apply(e,h)].concat(p));}return c.toTensor();},e.prototype.reverse=function(e,t){for(var n=f.s(e.shape,e.dtype),r=e.buffer(),a=function a(_a4){var i=n.indexToLoc(_a4),o=i.slice();t.forEach(function(t){return o[t]=e.shape[t]-1-o[t];}),n.set.apply(n,[r.get.apply(r,o)].concat(i));},i=0;i<n.size;i++){a(i);}return n.toTensor();},e.prototype.concat=function(e,t){var n=T.c(e.shape,t.shape,1),r=f.s(n,e.dtype);if(1===e.shape[0]&&1===t.shape[0]){var a=e.dataSync(),i=t.dataSync(),o=r.values;return o.set(a,0),o.set(i,e.size),r.toTensor();}for(var s=0;s<n[0];++s){for(var u=0;u<e.shape[1];++u){r.set(e.get(s,u),s,u);}for(u=0;u<t.shape[1];++u){r.set(t.get(s,u),s,u+e.shape[1]);}}return r.toTensor();},e.prototype.neg=function(e){return this.multiply(f.Sb(-1),e);},e.prototype.add=function(e,t){return this.broadcastedBinaryOp(e,t,g.c(e.dtype,t.dtype),function(e,t){return e+t;});},e.prototype.subtract=function(e,t){return this.broadcastedBinaryOp(e,t,g.c(e.dtype,t.dtype),function(e,t){return e-t;});},e.prototype.pow=function(e,t){return this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.pow(e,t);});},e.prototype.matMul=function(e,t,n,r){for(var a=n?e.shape[0]:e.shape[1],i=n?e.shape[1]:e.shape[0],o=r?t.shape[0]:t.shape[1],s=e.dataSync(),u=t.dataSync(),c=n?[1,e.strides[0]]:[e.strides[0],1],l=c[0],p=c[1],h=r?[t.strides[0],1]:[1,t.strides[0]],d=h[0],m=h[1],g=i*l,y=o*d,v=new Float32Array(i*o),b=0,w=0;w<g;w+=l){for(var x=0;x<y;x+=d){for(var k=w,O=x,S=0,N=0;N<a;++N){S+=s[k]*u[O],k+=p,O+=m;}v[b++]=S;}}return f.wc(v,[i,o]);},e.prototype.multiply=function(e,t){return this.broadcastedBinaryOp(e,t,g.c(e.dtype,t.dtype),function(e,t){return e*t;});},e.prototype.divide=function(e,t){var n,r;return"int32"===e.dtype&&"int32"===t.dtype?(r="int32",n=function n(e,t){return Math.floor(e/t);}):(r="float32",n=function n(e,t){return e/t;}),this.broadcastedBinaryOp(e,t,r,n);},e.prototype.sum=function(e,t){l.a("sum",t,e.rank);for(var n=l.b(e.shape,t),r=n[0],a=n[1],i=g.c(e.dtype,"int32"),o=f.Hc(r,i),s=y.sizeFromShape(a),u=o.dataSync(),c=e.dataSync(),p=0;p<u.length;++p){for(var h=p*s,d=0,m=0;m<s;++m){d+=c[h+m];}u[p]=d;}return o;},e.prototype.argMin=function(e,t){var n=[t];l.a("argMin",n,e.rank);for(var r=l.b(e.shape,n),a=r[0],i=r[1],o=f.Hc(a,"int32"),s=y.sizeFromShape(i),u=o.dataSync(),c=e.dataSync(),p=0;p<u.length;++p){for(var h=p*s,d=c[h],m=0,g=0;g<s;++g){var v=c[h+g];v<d&&(d=v,m=g);}u[p]=m;}return o;},e.prototype.argMax=function(e,t){var n=[t];l.a("argMax",n,e.rank);for(var r=l.b(e.shape,n),a=r[0],i=r[1],o=f.Hc(a,"int32"),s=y.sizeFromShape(i),u=o.dataSync(),c=e.dataSync(),p=0;p<u.length;++p){for(var h=p*s,d=c[h],m=0,g=0;g<s;++g){var v=c[h+g];v>d&&(d=v,m=g);}u[p]=m;}return o;},e.prototype.cumsum=function(e,t,n,r){if(t!==e.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(e.rank-1)+" but got axis="+t);for(var a=g.c(e.dtype,"int32"),i=f.Hc(e.shape,a),o=i.dataSync(),s=e.dataSync(),u=e.shape[e.rank-1],c=r?function(e,t){return e+u-t-1;}:function(e,t){return e+t;},l=0;l<s.length;l+=u){for(var p=0;p<u;p++){var h=c(l,p);if(0===p)o[h]=n?0:s[h];else{var d=c(l,p-1);o[h]=n?s[d]+o[d]:s[h]+o[d];}}}return i;},e.prototype.equal=function(e,t){return this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e===t?1:0;});},e.prototype.notEqual=function(e,t){return this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e!==t?1:0;});},e.prototype.less=function(e,t){return this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e<t?1:0;});},e.prototype.lessEqual=function(e,t){return this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e<=t?1:0;});},e.prototype.greater=function(e,t){return this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e>t?1:0;});},e.prototype.greaterEqual=function(e,t){return this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e>=t?1:0;});},e.prototype.logicalNot=function(e){for(var t=e.dataSync(),n=new Int32Array(t.length),r=0;r<t.length;++r){n[r]=t[r]?0:1;}return m.a.make(e.shape,{values:n},"bool");},e.prototype.logicalAnd=function(e,t){return this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e&&t;});},e.prototype.logicalOr=function(e,t){return this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e||t;});},e.prototype.where=function(e,t,n,r){for(var a=e.dataSync(),i=t.dataSync(),o=n.dataSync(),s=f.Hc(t.shape,r),u=s.dataSync(),c=0,l=0===e.rank||e.rank>1||1===t.rank?1:t.shape[1],p=0;p<a.length;p++){for(var h=0;h<l;h++){1===a[p]?u[c++]=i[p]:u[c++]=o[p];}}return s;},e.prototype.topKValues=function(e,t){return this.topK(e,t).values;},e.prototype.topKIndices=function(e,t){return this.topK(e,t).indices;},e.prototype.topK=function(e,t){for(var n=e.dataSync(),r=[],a=0;a<n.length;a++){r.push({value:n[a],index:a});}r.sort(function(e,t){return t.value-e.value;});var i=y.getTypedArrayFromDType(e.dtype,t),o=new Int32Array(t);for(a=0;a<t;a++){i[a]=r[a].value,o[a]=r[a].index;}return{values:f.vc(i,e.dtype),indices:f.vc(o,"int32")};},e.prototype.min=function(e,t){l.a("min",t,e.rank);for(var n=l.b(e.shape,t),r=n[0],a=n[1],i=f.Hc(r,e.dtype),o=y.sizeFromShape(a),s=i.dataSync(),u=e.dataSync(),c=0;c<s.length;++c){for(var p=c*o,h=u[0],d=0;d<o;++d){var m=u[p+d];m<h&&(h=m);}s[c]=h;}return i;},e.prototype.minimum=function(e,t){return this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.min(e,t);});},e.prototype.mod=function(e,t){return this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t;});},e.prototype.max=function(e,t){l.a("max",t,e.rank);for(var n=l.b(e.shape,t),r=n[0],a=n[1],i=f.Hc(r,e.dtype),o=y.sizeFromShape(a),s=i.dataSync(),u=e.dataSync(),c=0;c<s.length;++c){for(var p=c*o,h=u[p],d=0;d<o;++d){var m=u[p+d];m>h&&(h=m);}s[c]=h;}return i;},e.prototype.maximum=function(e,t){return this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.max(e,t);});},e.prototype.squaredDifference=function(e,t){return this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){var n=e-t;return n*n;});},e.prototype.ceil=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r){n[r]=Math.ceil(t[r]);}return m.a.make(e.shape,{values:n});},e.prototype.floor=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r){n[r]=Math.floor(t[r]);}return m.a.make(e.shape,{values:n});},e.prototype.sign=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r){t[r]<0?n[r]=-1:t[r]>0?n[r]=1:n[r]=0;}return m.a.make(e.shape,{values:n});},e.prototype.round=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r){var a=Math.floor(t[r]);t[r]-a<.5?n[r]=Math.floor(t[r]):t[r]-a>.5?n[r]=Math.ceil(t[r]):n[r]=a%2==0?a:a+1;}return m.a.make(e.shape,{values:n});},e.prototype.exp=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r){n[r]=Math.exp(t[r]);}return m.a.make(e.shape,{values:n});},e.prototype.expm1=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r){n[r]=Math.expm1(t[r]);}return m.a.make(e.shape,{values:n});},e.prototype.log=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r){var a=t[r];n[r]=Math.log(a);}return m.a.make(e.shape,{values:n});},e.prototype.log1p=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r){var a=t[r];n[r]=Math.log1p(a);}return m.a.make(e.shape,{values:n});},e.prototype.sqrt=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r){var a=t[r];n[r]=Math.sqrt(a);}return m.a.make(e.shape,{values:n});},e.prototype.rsqrt=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r){var a=t[r];n[r]=1/Math.sqrt(a);}return m.a.make(e.shape,{values:n});},e.prototype.square=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r){var a=t[r];n[r]=a*a;}return m.a.make(e.shape,{values:n});},e.prototype.reciprocal=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r){n[r]=1/t[r];}return m.a.make(e.shape,{values:n});},e.prototype.relu=function(e){for(var t=f.Hc(e.shape,e.dtype),n=t.dataSync(),r=e.dataSync(),a=0;a<r.length;++a){n[a]=Math.max(0,r[a]);}return t;},e.prototype.elu=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r){var a=n[r];t[r]=a>=0?a:Math.exp(a)-1;}return m.a.make(e.shape,{values:t});},e.prototype.eluDer=function(e,t){for(var n=new Float32Array(t.size),r=t.dataSync(),a=e.dataSync(),i=0;i<r.length;++i){var o=r[i];n[i]=o>=1?a[i]:a[i]*(o+1);}return m.a.make(t.shape,{values:n});},e.prototype.selu=function(e){for(var t=Mt.b,n=Mt.a,r=new Float32Array(e.size),a=e.dataSync(),i=0;i<a.length;++i){var o=a[i];r[i]=o>=0?n*o:t*(Math.exp(o)-1);}return m.a.make(e.shape,{values:r});},e.prototype.clip=function(e,t,n){for(var r=new Float32Array(e.size),a=e.dataSync(),i=0;i<a.length;++i){r[i]=Math.min(n,Math.max(t,a[i]));}return m.a.make(e.shape,{values:r});},e.prototype.abs=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r){t[r]=Math.abs(n[r]);}return m.a.make(e.shape,{values:t});},e.prototype.int=function(e){for(var t=new Int32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r){t[r]=n[r];}return m.a.make(e.shape,{values:t},"int32");},e.prototype.sigmoid=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r){t[r]=1/(1+Math.exp(-n[r]));}return m.a.make(e.shape,{values:t});},e.prototype.softplus=function(e){for(var t=Math.log(1.1920928955078125e-7)+2,n=new Float32Array(e.size),r=e.dataSync(),a=0;a<r.length;++a){var i,o=r[a]>-t,s=r[a]<t,u=Math.exp(r[a]);i=s?u:o?r[a]:Math.log(1+u),n[a]=i;}return m.a.make(e.shape,{values:n});},e.prototype.sin=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r){t[r]=Math.sin(n[r]);}return m.a.make(e.shape,{values:t});},e.prototype.cos=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r){t[r]=Math.cos(n[r]);}return m.a.make(e.shape,{values:t});},e.prototype.tan=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r){t[r]=Math.tan(n[r]);}return m.a.make(e.shape,{values:t});},e.prototype.asin=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r){t[r]=Math.asin(n[r]);}return m.a.make(e.shape,{values:t});},e.prototype.acos=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r){t[r]=Math.acos(n[r]);}return m.a.make(e.shape,{values:t});},e.prototype.atan=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r){t[r]=Math.atan(n[r]);}return m.a.make(e.shape,{values:t});},e.prototype.atan2=function(e,t){return this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.atan2(e,t);});},e.prototype.sinh=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r){t[r]=Math.sinh(n[r]);}return m.a.make(e.shape,{values:t});},e.prototype.cosh=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r){t[r]=Math.cosh(n[r]);}return m.a.make(e.shape,{values:t});},e.prototype.tanh=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r){t[r]=y.tanh(n[r]);}return m.a.make(e.shape,{values:t});},e.prototype.asinh=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r){t[r]=Math.asinh(n[r]);}return m.a.make(e.shape,{values:t});},e.prototype.acosh=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r){t[r]=Math.acosh(n[r]);}return m.a.make(e.shape,{values:t});},e.prototype.atanh=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r){t[r]=Math.atanh(n[r]);}return m.a.make(e.shape,{values:t});},e.prototype.erf=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r){var a=n[r],i=1/(1+.3275911*a);t[r]=1-((((1.061405429*i-1.453152027)*i+1.421413741)*i-.284496736)*i+.254829592)*i*Math.exp(-a*a);}return m.a.make(e.shape,{values:t});},e.prototype.step=function(e,t){void 0===t&&(t=0);for(var n=new Float32Array(e.size),r=e.dataSync(),a=0;a<r.length;++a){var i=r[a];isNaN(i)?n[a]=NaN:n[a]=i>0?1:t;}return m.a.make(e.shape,{values:n});},e.prototype.conv2d=function(e,t,n){for(var r=n.filterHeight,a=n.filterWidth,i=n.dilationHeight,o=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,c=f.s(n.outShape,e.dtype),l=0;l<n.batchSize;++l){for(var p=0;p<n.outChannels;++p){for(var h=0;h<n.outHeight;++h){for(var d=h*n.strideHeight-s,m=0;m<n.outWidth;++m){for(var g=m*n.strideWidth-u,y=0,v=0;v<r;v++){var b=d+v*i;if(!(b<0||b>=n.inHeight))for(var w=0;w<a;w++){var x=g+w*o;if(!(x<0||x>=n.inWidth))for(var k=0;k<n.inChannels;++k){y+=e.get(l,b,x,k)*t.get(v,w,k,p);}}}c.set(y,l,h,m,p);}}}}return c.toTensor();},e.prototype.conv2dDerInput=function(e,t,n){for(var r=f.s(n.inShape,"float32"),a=r.values,i=r.strides,o=i[0],s=i[1],u=i[2],c=e.dataSync(),l=e.strides,p=l[0],h=l[1],d=l[2],m=t.dataSync(),g=t.strides,y=g[0],v=g[1],b=g[2],w=n.batchSize,x=n.filterHeight,k=n.filterWidth,O=n.inChannels,S=n.inHeight,N=n.inWidth,E=n.outChannels,I=n.outHeight,T=n.outWidth,A=n.strideHeight,C=n.strideWidth,P=x-1-n.padInfo.top,_=k-1-n.padInfo.left,R=0;R<w;++R){for(var M=0;M<O;++M){for(var j=0;j<S;++j){for(var D=j-P,L=Math.max(0,Math.ceil(D/A)),z=Math.min(I,(x+D)/A),F=0;F<N;++F){for(var B=F-_,V=Math.max(0,Math.ceil(B/C)),U=Math.min(T,(k+B)/C),W=0,G=L;G<z;++G){for(var q=G*A-D,H=V;H<U;++H){for(var K=p*R+h*G+d*H,X=y*(x-1-q)+v*(k-1-(H*C-B))+b*M,J=0;J<E;++J){W+=c[K+J]*m[X+J];}}}a[o*R+s*j+u*F+M]=W;}}}}return r.toTensor();},e.prototype.conv2dDerFilter=function(e,t,n){for(var r=n.strideHeight,a=n.strideWidth,i=n.filterHeight,o=n.filterWidth,s=f.s(n.filterShape,"float32"),u=n.padInfo.left,c=n.padInfo.top,l=0;l<i;++l){for(var p=Math.max(0,Math.ceil((c-l)/r)),h=Math.min(n.outHeight,(n.inHeight+c-l)/r),d=0;d<o;++d){for(var m=Math.max(0,Math.ceil((u-d)/a)),g=Math.min(n.outWidth,(n.inWidth+u-d)/a),y=0;y<n.inChannels;++y){for(var v=0;v<n.outChannels;++v){for(var b=0,w=0;w<n.batchSize;++w){for(var x=p;x<h;++x){for(var k=l+x*r-c,O=m;O<g;++O){var S=d+O*a-u;b+=e.get(w,k,S,y)*t.get(w,x,O,v);}}}s.set(b,l,d,y,v);}}}}return s.toTensor();},e.prototype.depthwiseConv2D=function(e,t,n){for(var r=n.filterHeight,a=n.filterWidth,i=n.dilationHeight,o=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,c=n.outChannels/n.inChannels,l=f.s(n.outShape,e.dtype),p=0;p<n.batchSize;++p){for(var h=0;h<n.inChannels;++h){for(var d=0;d<n.outHeight;++d){for(var m=d*n.strideHeight-s,g=0;g<n.outWidth;++g){for(var y=g*n.strideWidth-u,v=0;v<c;++v){for(var b=0,w=0;w<r;++w){var x=m+w*i;if(!(x<0||x>=n.inHeight))for(var k=0;k<a;++k){var O=y+k*o;O<0||O>=n.inWidth||(b+=e.get(p,x,O,h)*t.get(w,k,h,v));}}l.set(b,p,d,g,h*c+v);}}}}}return l.toTensor();},e.prototype.depthwiseConv2DDerInput=function(e,t,n){for(var r=f.s(n.inShape,"float32"),a=r.values,i=r.strides,o=i[0],s=i[1],u=i[2],c=e.dataSync(),l=e.strides,p=l[0],h=l[1],d=l[2],m=t.dataSync(),g=t.strides,y=g[0],v=g[1],b=g[2],w=n.batchSize,x=n.filterHeight,k=n.filterWidth,O=n.inChannels,S=n.inHeight,N=n.inWidth,E=n.outChannels,I=n.outHeight,T=n.outWidth,A=n.strideHeight,C=n.strideWidth,P=x-1-n.padInfo.top,_=k-1-n.padInfo.left,R=E/O,M=0;M<w;++M){for(var j=0;j<O;++j){for(var D=0;D<S;++D){for(var L=D-P,z=Math.max(0,Math.ceil(L/A)),F=Math.min(I,(x+L)/A),B=0;B<N;++B){for(var V=B-_,U=Math.max(0,Math.ceil(V/C)),W=Math.min(T,(k+V)/C),G=0,q=z;q<F;++q){for(var H=q*A-L,K=U;K<W;++K){for(var X=p*M+h*q+d*K,J=y*(x-1-H)+v*(k-1-(K*C-V))+b*j,Y=0;Y<R;++Y){G+=c[X+(j*R+Y)]*m[J+Y];}}}a[o*M+s*D+u*B+j]=G;}}}}return r.toTensor();},e.prototype.depthwiseConv2DDerFilter=function(e,t,n){for(var r=n.strideHeight,a=n.strideWidth,i=n.filterHeight,o=n.filterWidth,s=f.s(n.filterShape,"float32"),u=n.padInfo.left,c=n.padInfo.top,l=n.outChannels/n.inChannels,p=0;p<i;++p){for(var h=Math.max(0,Math.ceil((c-p)/r)),d=Math.min(n.outHeight,(n.inHeight+c-p)/r),m=0;m<o;++m){for(var g=Math.max(0,Math.ceil((u-m)/a)),y=Math.min(n.outWidth,(n.inWidth+u-m)/a),v=0;v<n.outChannels;++v){for(var b=Math.trunc(v/l),w=v%l,x=0,k=0;k<n.batchSize;++k){for(var O=h;O<d;++O){for(var S=p+O*r-c,N=g;N<y;++N){var E=m+N*a-u;x+=e.get(k,S,E,b)*t.get(k,O,N,v);}}}s.set(x,p,m,b,w);}}}return s.toTensor();},e.prototype.tile=function(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++){n[r]=e.shape[r]*t[r];}var a=f.s(n,e.dtype),i=e.buffer();for(r=0;r<a.values.length;++r){for(var o=a.indexToLoc(r),s=new Array(e.rank),u=0;u<s.length;u++){s[u]=o[u]%e.shape[u];}var c=i.locToIndex(s);a.values[r]=i.values[c];}return a.toTensor();},e.prototype.pad=function(e,t,n){var r=t.map(function(t,n){return t[0]+e.shape[n]+t[1];}),a=t.map(function(e){return e[0];}),i=e.buffer(),o=f.s(r,e.dtype);0!==n&&o.values.fill(n);for(var s=0;s<e.size;s++){var u=i.indexToLoc(s),c=u.map(function(e,t){return e+a[t];});o.set.apply(o,[e.get.apply(e,u)].concat(c));}return o.toTensor();},e.prototype.transpose=function(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++){n[r]=e.shape[t[r]];}var a=e.dataSync(),i=Object(f.s)(n,e.dtype),o=e.buffer();for(r=0;r<e.size;++r){for(var s=o.indexToLoc(r),u=new Array(s.length),c=0;c<u.length;c++){u[c]=s[t[c]];}var l=i.locToIndex(u);i.values[l]=a[r];}return i.toTensor();},e.prototype.gather=function(e,t,n){var r=e.shape.slice(),a=t.dataSync();r[n]=a.length;for(var i=Object(f.s)(r,e.dtype),o=e.buffer(),s=0;s<i.size;++s){var u=i.indexToLoc(s),c=u.slice();c[n]=a[u[n]];var l=o.locToIndex(c);i.values[s]=o.values[l];}return i.toTensor();},e.prototype.pool=function(e,t,n){for(var r=t.strideHeight,a=t.strideWidth,i=t.filterHeight,o=t.filterWidth,s=f.s(t.outShape,"float32"),u=t.padInfo.top,c=t.padInfo.left,l=0;l<t.batchSize;++l){for(var p=0;p<t.inChannels;++p){for(var h=0;h<t.outHeight;++h){for(var d=h*r-u,m=Math.max(0,d),g=Math.min(t.inHeight,i+d),y=0;y<t.outWidth;++y){for(var v=y*a-c,b=Math.max(0,v),w=Math.min(t.inWidth,o+v),x="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,k=0,O=0,S=m;S<g;++S){for(var N=b;N<w;++N){var E=e.get(l,S,N,p);"max"===n&&E>x?x=E:"avg"===n&&(k+=E,O++);}if(isNaN(x))break;}s.set("avg"===n?k/O:x,l,h,y,p);}}}}return s.toTensor();},e.prototype.maxPool=function(e,t){return this.pool(e,t,"max");},e.prototype.maxPoolPositions=function(e,t){for(var n=f.s(t.outShape,"int32"),r=t.strideHeight,a=t.strideWidth,i=t.filterHeight,o=t.filterWidth,s=t.padInfo.top,u=t.padInfo.left,c=0;c<t.batchSize;++c){for(var l=0;l<t.inChannels;++l){for(var p=0;p<t.outHeight;++p){for(var h=p*r-s,d=Math.max(0,h),m=Math.min(t.inHeight,i+h),g=0;g<t.outWidth;++g){for(var y=g*a-u,v=Math.max(0,y),b=Math.min(t.inWidth,o+y),w=Number.NEGATIVE_INFINITY,x=-1,k=d;k<m;++k){for(var O=k-h,S=v;S<b;++S){var N=S-y,E=e.get(c,k,S,l);E>w&&(w=E,x=O*o+N);}}n.set(x,c,p,g,l);}}}}return n.toTensor();},e.prototype.maxPoolBackprop=function(e,t,n,r){for(var a=this.maxPoolPositions(t,r),i=r.strideHeight,o=r.strideWidth,s=r.filterHeight,u=r.filterWidth,c=u-1-r.padInfo.left,l=s-1-r.padInfo.top,p=f.s(t.shape,"float32"),h=0;h<r.batchSize;++h){for(var d=0;d<r.inChannels;++d){for(var m=0;m<r.inHeight;++m){for(var g=0;g<r.inWidth;++g){for(var y=m-l,v=g-c,b=0,w=0;w<s;++w){var x=(y+w)/i;if(!(x<0||x>=r.outHeight||Math.floor(x)!==x))for(var k=0;k<u;++k){var O=(v+k)/o;if(!(O<0||O>=r.outWidth||Math.floor(O)!==O)){var S=s*u-1-a.get(h,x,O,d)===w*u+k?1:0;0!==S&&(b+=e.get(h,x,O,d)*S);}}}p.set(b,h,m,g,d);}}}}return p.toTensor();},e.prototype.avgPoolBackprop=function(e,t,n){for(var r=n.strideHeight,a=n.strideWidth,i=n.filterHeight,o=n.filterWidth,s=o-1-n.padInfo.left,u=i-1-n.padInfo.top,c=f.s(t.shape,"float32"),l=1/(i*o),p=0;p<n.batchSize;++p){for(var h=0;h<n.inChannels;++h){for(var d=0;d<n.inHeight;++d){for(var m=0;m<n.inWidth;++m){for(var g=d-u,y=m-s,v=0,b=0;b<i;++b){var w=(g+b)/r;if(!(w<0||w>=n.outHeight||Math.floor(w)!==w))for(var x=0;x<o;++x){var k=(y+x)/a;k<0||k>=n.outWidth||Math.floor(k)!==k||(v+=e.get(p,w,k,h));}}c.set(v*l,p,d,m,h);}}}}return c.toTensor();},e.prototype.cast=function(e,t){return b(e,t,this);},e.prototype.reshape=function(e,t){return w(e,t);},e.prototype.avgPool=function(e,t){return this.pool(e,t,"avg").toFloat();},e.prototype.resizeBilinear=function(e,t,n,r){for(var a=e.shape,i=a[0],o=a[1],s=a[2],u=a[3],c=f.s([i,t,n,u],e.dtype),l=[r&&t>1?o-1:o,r&&n>1?s-1:s],p=[r&&t>1?t-1:t,r&&n>1?n-1:n],h=0;h<i;h++){for(var d=0;d<t;d++){for(var m=0;m<n;m++){for(var g=0;g<u;g++){var y=l[0]*d/p[0],v=l[1]*m/p[1],b=Math.floor(y),w=Math.min(o-1,Math.ceil(y)),x=Math.floor(v),k=Math.min(s-1,Math.ceil(v)),O=e.get(h,b,x,g),S=e.get(h,w,x,g),N=v-x,E=O+(e.get(h,b,k,g)-O)*N,I=E+(S+(e.get(h,w,k,g)-S)*N-E)*(y-b);c.set(I,h,d,m,g);}}}}return c.toTensor();},e.prototype.resizeBilinearBackprop=function(e,t,n){for(var r=t.shape,a=r[0],i=r[1],o=r[2],s=r[3],u=e.shape,c=u[1],l=u[2],p=f.s([a,i,o,s],t.dtype),h=[n&&c>1?i-1:i,n&&l>1?o-1:o],d=[n&&c>1?c-1:c,n&&l>1?l-1:l],m=h[0]/d[0],g=h[1]/d[1],y=0;y<a;y++){for(var v=0;v<c;v++){for(var b=v*m,w=Math.floor(b),x=Math.min(Math.ceil(b),i-1),k=b-w,O=1-k,S=0;S<l;S++){for(var N=S*g,E=Math.floor(N),I=Math.min(Math.ceil(N),o-1),T=N-E,A=1-T,C=0;C<s;C++){var P=e.get(y,v,S,C),_=p.get(y,w,E,C);_+=P*O*A,p.set(_,y,w,E,C);var R=p.get(y,w,I,C);R+=P*O*T,p.set(R,y,w,I,C);var M=p.get(y,x,E,C);M+=P*k*A,p.set(M,y,x,E,C);var j=p.get(y,x,I,C);j+=P*k*T,p.set(j,y,x,I,C);}}}}return p.toTensor();},e.prototype.resizeNearestNeighbor=function(e,t,n,r){for(var a=e.shape,i=a[0],o=a[1],s=a[2],u=a[3],c=f.s([i,t,n,u],e.dtype),l=r?[o-1,s-1]:[o,s],p=r?[t-1,n-1]:[t,n],h=0;h<i;h++){for(var d=0;d<t;d++){for(var m=0;m<n;m++){for(var g=0;g<u;g++){var y=l[0]*d/p[0],v=l[1]*m/p[1],b=Math.min(o-1,r?Math.round(y):Math.floor(y)),w=Math.min(s-1,r?Math.round(v):Math.floor(v)),x=e.get(h,b,w,g);c.set(x,h,d,m,g);}}}}return c.toTensor();},e.prototype.batchNormalization=function(e,t,n,r,a,i){for(var o=e.dataSync(),s=t.dataSync(),u=n.dataSync(),c=a?a.dataSync():new Float32Array([1]),l=i?i.dataSync():new Float32Array([0]),p=new Float32Array(o.length),h=0;h<o.length;h++){p[h]=l[h%l.length]+(o[h]-s[h%s.length])*c[h%c.length]/Math.sqrt(u[h%u.length]+r);}return Object(f.yc)(p,e.shape);},e.prototype.localResponseNormalization4D=function(e,t,n,r,a){var i=f.s(e.shape,"float32"),o=t,s=i.shape[3]-1;function u(t,n,r,a){for(var i=0,u=Math.max(0,a-o);u<=Math.min(a+o,s);u++){var c=e.get(t,n,r,u);i+=c*c;}return i;}for(var c=0;c<i.shape[0];c++){for(var l=0;l<=i.shape[1];l++){for(var p=0;p<i.shape[2];p++){for(var h=0;h<i.shape[3];h++){var d=u(c,l,p,h),m=e.get(c,l,p,h)*Math.pow(n+r*d,-a);i.set(m,c,l,p,h);}}}}return i.toTensor();},e.prototype.multinomial=function(e,t,n,r){for(var a=t?e:f.ec(e),i=a.shape[0],o=a.shape[1],s=f.Hc([i,n],"int32"),u=s.dataSync(),c=a.dataSync(),l=0;l<i;++l){var p=l*o,h=new Float32Array(o-1);h[0]=c[p];for(var d=1;d<h.length;++d){h[d]=h[d-1]+c[p+d];}for(var m=Vt.alea(r.toString()),g=l*n,y=0;y<n;++y){var v=m();u[g+y]=h.length;for(var b=0;b<h.length;b++){if(v<h[b]){u[g+y]=b;break;}}}}return s;},e.prototype.oneHot=function(e,t,n,r){var a=new Float32Array(e.size*t);a.fill(r);for(var i=0;i<e.size;++i){a[i*t+e.get(i)]=n;}return f.wc(a,[e.size,t]);},e.prototype.broadcastedBinaryOp=function(e,t,n,r){for(var a=S.a(e.shape,t.shape),i=f.s(a,n),o=e.dataSync(),s=t.dataSync(),u=S.c(e.shape,a),c=S.c(t.shape,a),l=e.buffer(),p=t.buffer(),h=function h(n){var a=i.indexToLoc(n),f=a.slice(-e.rank);u.forEach(function(e){return f[e]=0;});var h=l.locToIndex(f),d=a.slice(-t.rank);c.forEach(function(e){return d[e]=0;});var m=p.locToIndex(d);i.values[n]=r(o[h],s[m]);},d=0;d<i.values.length;++d){h(d);}return i.toTensor();},e.prototype.dispose=function(){},e;}();c.ENV.registerBackend("cpu",function(){return new Gt();},1);var qt=n(2),Ht=function(){function e(){}return e.nextFrame=function(){return new Promise(function(e){return requestAnimationFrame(function(){return e();});});},function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}i>3&&o&&Object.defineProperty(t,n,o);}([Object(qt.a)({heading:"Performance",subheading:"Timing"})],e,"nextFrame",null),e;}(),Kt={float32:4,int32:4,uint16:2,uint8:1,bool:1},Xt=function Xt(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{u(r.next(e));}catch(e){i(e);}}function s(e){try{u(r.throw(e));}catch(e){i(e);}}function u(e){e.done?a(e.value):new n(function(t){t(e.value);}).then(o,s);}u((r=r.apply(e,t||[])).next());});},Jt=function Jt(e,t){var n,r,a,i,o={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1];},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this;}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;){try{if(n=1,r&&(a=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[0,a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue;}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break;}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break;}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break;}a[2]&&o.ops.pop(),o.trys.pop();continue;}i=t.call(e,o);}catch(e){i=[6,e],r=0;}finally{n=a=0;}}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0};}([i,s]);};}};function Yt(e){return Xt(this,void 0,void 0,function(){var t,n,r,a;return Jt(this,function(i){switch(i.label){case 0:for(r in t=[],n=[],e){if("float32"!==(a=e[r]).dtype&&"int32"!==a.dtype&&"bool"!==a.dtype)throw new Error("Unsupported dtype in weight '"+r+"': "+a.dtype);t.push({name:r,shape:a.shape,dtype:a.dtype}),n.push(a.data());}return[4,Promise.all(n)];case 1:return[2,{data:function(e){if(null===e)throw new Error("Invalid input value: "+JSON.stringify(e));var t=0;e.forEach(function(e){if(e instanceof Float32Array||e instanceof Int32Array)t+=4*e.length;else{if(!(e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+e.constructor.name);t+=e.length;}});var n=new Uint8Array(t),r=0;return e.forEach(function(e){n.set(new Uint8Array(e.buffer),r),e instanceof Float32Array||e instanceof Int32Array?r+=4*e.length:r+=e.length;}),n.buffer;}(i.sent()),specs:t}];}});});}function Qt(e,t){for(var n={},r=0,a=0,i=t;a<i.length;a++){var o=i[a],s=o.name,u=o.dtype,c=o.shape;if(null!=o.quantization)throw new Error("decodeWeights does not support quantization yet, but encountered weight '"+s+" with quantization.'");var l=Object(y.sizeFromShape)(c),f=void 0;if("float32"===u)f=v.a.tensor(new Float32Array(e,r,l),c,"float32");else if("int32"===u)f=v.a.tensor(new Int32Array(e,r,l),c,"int32");else{if("bool"!==u)throw new Error("Unsupported dtype in weight '"+s+"': "+u);f=v.a.tensor(new Uint8Array(e,r,l),c,"bool");}n[s]=f,r+=l*Kt[u];}return n;}function Zt(e){return new Blob([e]).size;}function $t(e){var t=0;e.forEach(function(e){t+=e.byteLength;});var n=new Uint8Array(t),r=0;return e.forEach(function(e){n.set(new Uint8Array(e),r),r+=e.byteLength;}),n.buffer;}function en(e){for(e=e.trim();e.endsWith("/");){e=e.slice(0,e.length-1);}var t=e.split("/");return t[t.length-1];}function tn(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date(),modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:Zt(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:Zt(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength};}var nn=function(){function e(){this.saveRouters=[],this.loadRouters=[];}return e.getInstance=function(){return null==e.instance&&(e.instance=new e()),e.instance;},e.registerSaveRouter=function(t){e.getInstance().saveRouters.push(t);},e.registerLoadRouter=function(t){e.getInstance().loadRouters.push(t);},e.getSaveHandlers=function(t){return e.getHandlers(t,"save");},e.getLoadHandlers=function(t){return e.getHandlers(t,"load");},e.getHandlers=function(e,t){var n=[];return("load"===t?this.getInstance().loadRouters:this.getInstance().saveRouters).forEach(function(t){var r=t(e);null!==r&&n.push(r);}),n;},e;}(),rn=function rn(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;},an=function an(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{u(r.next(e));}catch(e){i(e);}}function s(e){try{u(r.throw(e));}catch(e){i(e);}}function u(e){e.done?a(e.value):new n(function(t){t(e.value);}).then(o,s);}u((r=r.apply(e,t||[])).next());});},on=function on(e,t){var n,r,a,i,o={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1];},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this;}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;){try{if(n=1,r&&(a=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[0,a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue;}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break;}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break;}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break;}a[2]&&o.ops.pop(),o.trys.pop();continue;}i=t.call(e,o);}catch(e){i=[6,e],r=0;}finally{n=a=0;}}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0};}([i,s]);};}},sn="://",un=function(){function e(){this.managers={};}return e.getInstance=function(){return null==e.instance&&(e.instance=new e()),e.instance;},e.registerManager=function(t,n){Object(y.assert)(null!=t,"scheme must not be undefined or null."),t.endsWith(sn)&&(t=t.slice(0,t.indexOf(sn))),Object(y.assert)(t.length>0,"scheme must not be an empty string.");var r=e.getInstance();Object(y.assert)(null==r.managers[t],"A model store manager is already registered for scheme '"+t+"'."),r.managers[t]=n;},e.getManager=function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '"+e+"'");return t;},e.getSchemes=function(){return Object.keys(this.getInstance().managers);},e;}();function cn(e){if(-1===e.indexOf(sn))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+un.getSchemes().join(","));return{scheme:e.split(sn)[0],path:e.split(sn)[1]};}function ln(e,t,n){return void 0===n&&(n=!1),an(this,void 0,void 0,function(){var r,a,i,o,s,u,c,l,f;return on(this,function(p){switch(p.label){case 0:return Object(y.assert)(e!==t,"Old path and new path are the same: '"+e+"'"),r=nn.getLoadHandlers(e),Object(y.assert)(r.length>0,"Copying failed because no load handler is found for source URL "+e+"."),Object(y.assert)(r.length<2,"Copying failed because more than one ("+r.length+") load handlers for source URL "+e+"."),a=r[0],i=nn.getSaveHandlers(t),Object(y.assert)(i.length>0,"Copying failed because no save handler is found for destination URL "+t+"."),Object(y.assert)(i.length<2,"Copying failed because more than one ("+r.length+") save handlers for destination URL "+t+"."),o=i[0],s=cn(e).scheme,u=cn(e).path,c=s===cn(e).scheme,[4,a.load()];case 1:return l=p.sent(),n&&c?[4,un.getManager(s).removeModel(u)]:[3,3];case 2:p.sent(),p.label=3;case 3:return[4,o.save(l)];case 4:return f=p.sent(),!n||c?[3,6]:[4,un.getManager(s).removeModel(u)];case 5:p.sent(),p.label=6;case 6:return[2,f.modelArtifactsInfo];}});});}var fn=function(){function e(){}return e.listModels=function(){return an(this,void 0,void 0,function(){var e,t,n,r,a,i,o;return on(this,function(s){switch(s.label){case 0:e=un.getSchemes(),t={},n=0,r=e,s.label=1;case 1:return n<r.length?(a=r[n],[4,un.getManager(a).listModels()]):[3,4];case 2:for(o in i=s.sent()){t[a+sn+o]=i[o];}s.label=3;case 3:return n++,[3,1];case 4:return[2,t];}});});},e.removeModel=function(e){return an(this,void 0,void 0,function(){var t;return on(this,function(n){switch(n.label){case 0:return t=cn(e),[4,un.getManager(t.scheme).removeModel(t.path)];case 1:return[2,n.sent()];}});});},e.copyModel=function(e,t){return an(this,void 0,void 0,function(){return on(this,function(n){switch(n.label){case 0:return[4,ln(e,t,!1)];case 1:return[2,n.sent()];}});});},e.moveModel=function(e,t){return an(this,void 0,void 0,function(){return on(this,function(n){switch(n.label){case 0:return[4,ln(e,t,!0)];case 1:return[2,n.sent()];}});});},rn([Object(qt.a)({heading:"Models",subheading:"Management"})],e,"listModels",null),rn([Object(qt.a)({heading:"Models",subheading:"Management"})],e,"removeModel",null),rn([Object(qt.a)({heading:"Models",subheading:"Management"})],e,"copyModel",null),rn([Object(qt.a)({heading:"Models",subheading:"Management"})],e,"moveModel",null),e;}(),pn=function pn(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{u(r.next(e));}catch(e){i(e);}}function s(e){try{u(r.throw(e));}catch(e){i(e);}}function u(e){e.done?a(e.value):new n(function(t){t(e.value);}).then(o,s);}u((r=r.apply(e,t||[])).next());});},hn=function hn(e,t){var n,r,a,i,o={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1];},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this;}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;){try{if(n=1,r&&(a=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[0,a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue;}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break;}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break;}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break;}a[2]&&o.ops.pop(),o.trys.pop();continue;}i=t.call(e,o);}catch(e){i=[6,e],r=0;}finally{n=a=0;}}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0};}([i,s]);};}},dn="tensorflowjs",mn="models_store",gn="model_info_store";function yn(){if(!c.ENV.get("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e=window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t;}function vn(e){var t=e.result;t.createObjectStore(mn,{keyPath:"modelPath"}),t.createObjectStore(gn,{keyPath:"modelPath"});}var bn=function(){function e(e){if(this.indexedDB=yn(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e;}return e.prototype.save=function(e){return pn(this,void 0,void 0,function(){return hn(this,function(t){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)];});});},e.prototype.load=function(){return pn(this,void 0,void 0,function(){return hn(this,function(e){return[2,this.databaseAction(this.modelPath)];});});},e.prototype.databaseAction=function(e,t){var n=this;return new Promise(function(e,r){var a=n.indexedDB.open(dn,1);a.onupgradeneeded=function(){return vn(a);},a.onsuccess=function(){var i=a.result;if(null==t){var o=i.transaction(mn,"readonly"),s=o.objectStore(mn).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return i.close(),r(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."));e(s.result.modelArtifacts);},s.onerror=function(e){return i.close(),r(s.error);},o.oncomplete=function(){return i.close();};}else{var u,c=tn(t),l=i.transaction(gn,"readwrite"),f=l.objectStore(gn),p=f.put({modelPath:n.modelPath,modelArtifactsInfo:c});p.onsuccess=function(){var a=(u=i.transaction(mn,"readwrite")).objectStore(mn).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:c});a.onsuccess=function(){return e({modelArtifactsInfo:c});},a.onerror=function(e){var t=(f=l.objectStore(gn)).delete(n.modelPath);t.onsuccess=function(){return i.close(),r(a.error);},t.onerror=function(e){return i.close(),r(a.error);};};},p.onerror=function(e){return i.close(),r(p.error);},l.oncomplete=function(){null==u?i.close():u.oncomplete=function(){return i.close();};};}},a.onerror=function(e){return r(a.error);};});},e.URL_SCHEME="indexeddb://",e;}(),wn=function wn(e){return c.ENV.get("IS_BROWSER")&&e.startsWith(bn.URL_SCHEME)?function(e){return new bn(e);}(e.slice(bn.URL_SCHEME.length)):null;};nn.registerSaveRouter(wn),nn.registerLoadRouter(wn);var xn=function(){function e(){this.indexedDB=yn();}return e.prototype.listModels=function(){return pn(this,void 0,void 0,function(){var e=this;return hn(this,function(t){return[2,new Promise(function(t,n){var r=e.indexedDB.open(dn,1);r.onupgradeneeded=function(){return vn(r);},r.onsuccess=function(){var e=r.result,a=e.transaction(gn,"readonly"),i=a.objectStore(gn).getAll();i.onsuccess=function(){for(var e={},n=0,r=i.result;n<r.length;n++){var a=r[n];e[a.modelPath]=a.modelArtifactsInfo;}t(e);},i.onerror=function(t){return e.close(),n(i.error);},a.oncomplete=function(){return e.close();};},r.onerror=function(e){return n(r.error);};})];});});},e.prototype.removeModel=function(e){return pn(this,void 0,void 0,function(){var t=this;return hn(this,function(n){return e=function(e){return e.startsWith(bn.URL_SCHEME)?e.slice(bn.URL_SCHEME.length):e;}(e),[2,new Promise(function(n,r){var a=t.indexedDB.open(dn,1);a.onupgradeneeded=function(){return vn(a);},a.onsuccess=function(){var t,i=a.result,o=i.transaction(gn,"readwrite"),s=o.objectStore(gn),u=s.get(e);u.onsuccess=function(){if(null==u.result)return i.close(),r(new Error("Cannot find model with path '"+e+"' in IndexedDB."));var a=s.delete(e),o=function o(){var a=(t=i.transaction(mn,"readwrite")).objectStore(mn).delete(e);a.onsuccess=function(){return n(u.result.modelArtifactsInfo);},a.onerror=function(e){return r(u.error);};};a.onsuccess=o,a.onerror=function(e){return o(),i.close(),r(u.error);};},u.onerror=function(e){return i.close(),r(u.error);},o.oncomplete=function(){null==t?i.close():t.oncomplete=function(){return i.close();};};},a.onerror=function(e){return r(a.error);};})];});});},e;}();if(c.ENV.get("IS_BROWSER"))try{un.registerManager(bn.URL_SCHEME,new xn());}catch(e){}var kn=function kn(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{u(r.next(e));}catch(e){i(e);}}function s(e){try{u(r.throw(e));}catch(e){i(e);}}function u(e){e.done?a(e.value):new n(function(t){t(e.value);}).then(o,s);}u((r=r.apply(e,t||[])).next());});},On=function On(e,t){var n,r,a,i,o={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1];},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this;}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;){try{if(n=1,r&&(a=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[0,a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue;}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break;}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break;}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break;}a[2]&&o.ops.pop(),o.trys.pop();continue;}i=t.call(e,o);}catch(e){i=[6,e],r=0;}finally{n=a=0;}}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0};}([i,s]);};}},Sn="/",Nn="tensorflowjs_models",En="info",In="model_topology",Tn="weight_specs",An="weight_data";function Cn(e){return{info:[Nn,e,En].join(Sn),topology:[Nn,e,In].join(Sn),weightSpecs:[Nn,e,Tn].join(Sn),weightData:[Nn,e,An].join(Sn)};}function Pn(e){var t=e.split(Sn);if(t.length<3)throw new Error("Invalid key format: "+e);return t.slice(1,t.length-1).join(Sn);}var _n=function(){function e(e){if(!c.ENV.get("IS_BROWSER")||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=Cn(this.modelPath);}return e.prototype.save=function(e){return kn(this,void 0,void 0,function(){var t,n,r,a;return On(this,function(i){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=tn(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){return btoa(String.fromCharCode.apply(null,new Uint8Array(e)));}(e.weightData)),[2,{modelArtifactsInfo:r}];}catch(e){for(a in this.keys){this.LS.removeItem(this.keys[a]);}throw new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+r.modelTopologyBytes+", weightSpecsBytes="+r.weightSpecsBytes+", weightDataBytes="+r.weightDataBytes+".");}return[2];});});},e.prototype.load=function(){return kn(this,void 0,void 0,function(){var e,t,n,r,a;return On(this,function(i){if(null==(e=JSON.parse(this.LS.getItem(this.keys.info))))throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(t={},null==(n=JSON.parse(this.LS.getItem(this.keys.topology))))throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(t.modelTopology=n,null==(r=JSON.parse(this.LS.getItem(this.keys.weightSpecs))))throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(t.weightSpecs=r,null==(a=this.LS.getItem(this.keys.weightData)))throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return t.weightData=function(e){for(var t=atob(a),n=new Uint8Array(t.length),r=0;r<t.length;++r){n.set([t.charCodeAt(r)],r);}return n.buffer;}(),[2,t];});});},e.URL_SCHEME="localstorage://",e;}(),Rn=function Rn(e){return c.ENV.get("IS_BROWSER")&&e.startsWith(_n.URL_SCHEME)?function(e){return new _n(e);}(e.slice(_n.URL_SCHEME.length)):null;};nn.registerSaveRouter(Rn),nn.registerLoadRouter(Rn);var Mn=function(){function e(){Object(y.assert)(c.ENV.get("IS_BROWSER"),"Current environment is not a web browser"),Object(y.assert)(void 0!==window.localStorage,"Current browser does not appear to support localStorage"),this.LS=window.localStorage;}return e.prototype.listModels=function(){return kn(this,void 0,void 0,function(){var e,t,n,r,a,i;return On(this,function(o){for(e={},t=Nn+Sn,n=Sn+En,r=0;r<this.LS.length;++r){(a=this.LS.key(r)).startsWith(t)&&a.endsWith(n)&&(i=Pn(a),e[i]=JSON.parse(this.LS.getItem(a)));}return[2,e];});});},e.prototype.removeModel=function(e){return kn(this,void 0,void 0,function(){var t,n;return On(this,function(r){if(e=function(e){return e.startsWith(_n.URL_SCHEME)?e.slice(_n.URL_SCHEME.length):e;}(e),t=Cn(e),null==this.LS.getItem(t.info))throw new Error("Cannot find model at path '"+e+"'");return n=JSON.parse(this.LS.getItem(t.info)),this.LS.removeItem(t.info),this.LS.removeItem(t.topology),this.LS.removeItem(t.weightSpecs),this.LS.removeItem(t.weightData),[2,n];});});},e;}();if(c.ENV.get("IS_BROWSER"))try{un.registerManager(_n.URL_SCHEME,new Mn());}catch(e){}var jn=function jn(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{u(r.next(e));}catch(e){i(e);}}function s(e){try{u(r.throw(e));}catch(e){i(e);}}function u(e){e.done?a(e.value):new n(function(t){t(e.value);}).then(o,s);}u((r=r.apply(e,t||[])).next());});},Dn=function Dn(e,t){var n,r,a,i,o={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1];},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this;}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;){try{if(n=1,r&&(a=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[0,a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue;}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break;}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break;}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break;}a[2]&&o.ops.pop(),o.trys.pop();continue;}i=t.call(e,o);}catch(e){i=[6,e],r=0;}finally{n=a=0;}}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0};}([i,s]);};}},Ln="model",zn=".json",Fn=".weights.bin",Bn=function(){function e(t){if(!c.ENV.get("IS_BROWSER"))throw new Error("triggerDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t=Ln),this.modelTopologyFileName=t+zn,this.weightDataFileName=t+Fn;}return e.prototype.save=function(e){return jn(this,void 0,void 0,function(){var t,n,r,a,i,o;return Dn(this,function(s){if(t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),e.modelTopology instanceof ArrayBuffer)throw new Error("DownloadTrigger.save() does not support saving model topology in binary formats yet.");return n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,weightsManifest:n},a=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),(i=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,i.href=a,i.click(),null!=e.weightData&&((o=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,o.href=t,o.click()),[2,{modelArtifactsInfo:tn(e)}];});});},e.URL_SCHEME="downloads://",e;}(),Vn=function(){function e(e){if(null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+e);this.files=e;}return e.prototype.load=function(){return jn(this,void 0,void 0,function(){var e,t,n=this;return Dn(this,function(r){return e=this.files[0],t=this.files.slice(1),[2,new Promise(function(r,a){var i=new FileReader();i.onload=function(i){var o=JSON.parse(i.target.result),s=o.modelTopology;if(null!=s){0===t.length&&r({modelTopology:s});var u=o.weightsManifest;if(null!=u){var c;try{c=n.checkManifestAndWeightFiles(u,t);}catch(e){return void a(e);}var l=[],f=[],p=[];u.forEach(function(e){e.paths.forEach(function(e){f.push(e),p.push(null);}),l.push.apply(l,e.weights);}),u.forEach(function(e){e.paths.forEach(function(e){var t=new FileReader();t.onload=function(t){var n=t.target.result,a=f.indexOf(e);p[a]=n,-1===p.indexOf(null)&&r({modelTopology:s,weightSpecs:l,weightData:$t(p)});},t.onerror=function(t){a("Failed to weights data from file of path '"+e+"'.");},t.readAsArrayBuffer(c[e]);});});}else a(new Error("weightManifest field is missing from file "+e.name));}else a(new Error("modelTopology field is missing from file "+e.name));},i.onerror=function(t){a("Failed to read model topology and weights manifest JSON from file '"+e.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.");},i.readAsText(e);})];});});},e.prototype.checkManifestAndWeightFiles=function(e,t){for(var n=[],r=t.map(function(e){return en(e.name);}),a={},i=0,o=e;i<o.length;i++){o[i].paths.forEach(function(e){var i=en(e);if(-1!==n.indexOf(i))throw new Error("Duplicate file basename found in weights manifest: '"+i+"'");if(n.push(i),-1===r.indexOf(i))throw new Error("Weight file with basename '"+i+"' is not provided.");a[e]=t[r.indexOf(i)];});}if(n.length!==t.length)throw new Error("Mismatch in the number of files in weights manifest ("+n.length+") and the number of weight files provided ("+t.length+").");return a;},e;}();function Un(e){return new Vn(e);}nn.registerSaveRouter(function(e){return c.ENV.get("IS_BROWSER")&&e.startsWith(Bn.URL_SCHEME)?function(e){return void 0===e&&(e="model"),new Bn(e);}(e.slice(Bn.URL_SCHEME.length)):null;});var Wn=function Wn(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{u(r.next(e));}catch(e){i(e);}}function s(e){try{u(r.throw(e));}catch(e){i(e);}}function u(e){e.done?a(e.value):new n(function(t){t(e.value);}).then(o,s);}u((r=r.apply(e,t||[])).next());});},Gn=function Gn(e,t){var n,r,a,i,o={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1];},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this;}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;){try{if(n=1,r&&(a=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[0,a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue;}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break;}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break;}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break;}a[2]&&o.ops.pop(),o.trys.pop();continue;}i=t.call(e,o);}catch(e){i=[6,e],r=0;}finally{n=a=0;}}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0};}([i,s]);};}};function qn(e,t){return Wn(this,void 0,void 0,function(){var n,r;return Gn(this,function(a){switch(a.label){case 0:return n=e.map(function(e){return fetch(e,t);}),[4,Promise.all(n)];case 1:return r=a.sent(),[4,Promise.all(r.map(function(e){return e.arrayBuffer();}))];case 2:return[2,a.sent()];}});});}function Hn(e,t,n,r){return void 0===t&&(t=""),Wn(this,void 0,void 0,function(){var a,i,o,s,u,c,l,p,h,d;return Gn(this,function(m){switch(m.label){case 0:if(a=e.map(function(){return!1;}),i={},o=null!=n?n.map(function(){return!1;}):[],s=[],e.forEach(function(e,t){var r=0;e.weights.forEach(function(e){var u="quantization"in e?e.quantization.dtype:e.dtype,c=Kt[u]*y.sizeFromShape(e.shape),l=function l(){a[t]=!0,null==i[t]&&(i[t]=[]),i[t].push({manifestEntry:e,groupOffset:r,sizeBytes:c});};null!=n?n.forEach(function(t,n){t===e.name&&(l(),o[n]=!0);}):l(),s.push(e.name),r+=c;});}),!o.every(function(e){return e;}))throw u=n.filter(function(e,t){return!o[t];}),new Error("Could not find weights in manifest with names: "+u.join(", ")+". \nManifest JSON has weights with names: "+s.join(", ")+".");return c=a.reduce(function(e,t,n){return t&&e.push(n),e;},[]),l=[],c.forEach(function(n){e[n].paths.forEach(function(e){var n=t+(t.endsWith("/")?"":"/")+e;l.push(n);});}),[4,qn(l,r)];case 1:return p=m.sent(),h={},d=0,c.forEach(function(t){for(var n=e[t].paths.length,r=0,a=0;a<n;a++){r+=p[d+a].byteLength;}for(var o=new ArrayBuffer(r),s=new Uint8Array(o),u=0,c=0;c<n;c++){var l=new Uint8Array(p[d+c]);s.set(l,u),u+=l.byteLength;}i[t].forEach(function(e){var t,n=o.slice(e.groupOffset,e.groupOffset+e.sizeBytes),r=e.manifestEntry.dtype;if("quantization"in e.manifestEntry){var a=e.manifestEntry.quantization;if("uint8"!==a.dtype&&"uint16"!==a.dtype)throw new Error("Weight "+e.manifestEntry.name+" has unknown quantization dtype "+a.dtype+".");var i="uint8"===a.dtype?new Uint8Array(n):new Uint16Array(n);if("float32"===r)t=Float32Array.from(i,function(e){return e*a.scale+a.min;});else{if("int32"!==r)throw new Error("Weight "+e.manifestEntry.name+" has a dtype not supported by quantization: "+r);t=Int32Array.from(i,function(e){return Math.round(e*a.scale+a.min);});}}else if("float32"===r)t=new Float32Array(n);else{if("int32"!==r)throw new Error("Weight "+e.manifestEntry.name+" has unknown dtype "+r+".");t=new Int32Array(n);}var s=e.manifestEntry.name;if(null!=h[s])throw new Error("Duplicate weight with name "+s+". Please make sure weights names are unique in the manifest JSON.");h[s]=Object(f.uc)(t,e.manifestEntry.shape,e.manifestEntry.dtype);}),d+=n;}),[2,h];}});});}var Kn=function Kn(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{u(r.next(e));}catch(e){i(e);}}function s(e){try{u(r.throw(e));}catch(e){i(e);}}function u(e){e.done?a(e.value):new n(function(t){t(e.value);}).then(o,s);}u((r=r.apply(e,t||[])).next());});},Xn=function Xn(e,t){var n,r,a,i,o={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1];},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this;}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;){try{if(n=1,r&&(a=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[0,a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue;}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break;}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break;}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break;}a[2]&&o.ops.pop(),o.trys.pop();continue;}i=t.call(e,o);}catch(e){i=[6,e],r=0;}finally{n=a=0;}}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0};}([i,s]);};}},Jn=function(){function e(e,t){if(this.DEFAULT_METHOD="POST",!c.ENV.get("IS_BROWSER"))throw new Error("browserHTTPRequest is not supported outside the web browser.");if(Object(y.assert)(null!=e&&e.length>0,"URL path for browserHTTPRequest must not be null, undefined or empty."),this.path=e,null!=t&&null!=t.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t||{};}return e.prototype.save=function(e){return Kn(this,void 0,void 0,function(){var t,n,r,a;return Xn(this,function(i){switch(i.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData(),n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,weightsManifest:n},t.body.append("model.json",new Blob([JSON.stringify(r)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,fetch(this.path,t)];case 1:if(200===(a=i.sent()).status)return[2,{modelArtifactsInfo:tn(e),responses:[a]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+a.status+".");}});});},e.prototype.load=function(){return Kn(this,void 0,void 0,function(){var e,t,n,r,a,i,o,s,u,c,l,f;return Xn(this,function(p){switch(p.label){case 0:return[4,fetch(this.path,this.requestInit)];case 1:return[4,p.sent().json()];case 2:if(e=p.sent(),t=e.modelTopology,n=e.weightsManifest,null==t&&null==n)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");if(null==n)return[3,4];for(i=e.weightsManifest,r=[],o=0,s=i;o<s.length;o++){u=s[o],r.push.apply(r,u.weights);}return(c=this.path.substring(0,this.path.lastIndexOf("/"))).endsWith("/")||(c+="/"),l=[],i.forEach(function(e){e.paths.forEach(function(e){l.push(c+e);});}),f=$t,[4,qn(l,this.requestInit)];case 3:a=f.apply(void 0,[p.sent()]),p.label=4;case 4:return[2,{modelTopology:t,weightSpecs:r,weightData:a}];}});});},e.URL_SCHEMES=["http://","https://"],e;}();function Yn(e,t){return new Jn(e,t);}nn.registerSaveRouter(function(e){if(c.ENV.get("IS_BROWSER")){for(var t=0,n=Jn.URL_SCHEMES;t<n.length;t++){var r=n[t];if(e.startsWith(r))return Yn(e);}return null;}return null;});var Qn=nn.registerSaveRouter,Zn=nn.registerLoadRouter,$n=nn.getSaveHandlers,er=nn.getLoadHandlers,tr=fn.copyModel,nr=fn.listModels,rr=fn.moveModel,ar=fn.removeModel,ir=function(){function e(){}return e.prototype.getClassName=function(){return this.constructor.className;},e.fromConfig=function(e,t){return new e(t);},e;}(),or=function(){function e(){this.classNameMap={};}return e.getMap=function(){return null==e.instance&&(e.instance=new e()),e.instance;},e.register=function(e){this.getMap().classNameMap[e.className]=[e,e.fromConfig];},e;}(),sr={BACKEND:"test-webgl"},ur={BACKEND:"test-cpu"},cr={},lr=.001;function fr(e,t,n){if(void 0===n&&(n=lr),e instanceof m.a||t instanceof m.a){if(e instanceof m.a&&t instanceof m.a){if(e.dtype!==t.dtype)throw new Error("Arrays are of different type actual: "+e.dtype+" vs expected: "+t.dtype+".");if(!y.arraysEqual(e.shape,t.shape))throw new Error("Arrays are of different shape actual: "+e.shape+" vs expected: "+t.shape+".");}}else{var r=e.constructor.name,a=t.constructor.name;if(r!==a)throw new Error("Arrays are of different type actual: "+r+" vs expected: "+a);}var i,o;if(i=e instanceof m.a?e.dataSync():e,o=t instanceof m.a?t.dataSync():t,i.length!==o.length)throw new Error("Arrays have different lengths actual: "+i.length+" vs expected: "+o.length+".\nActual:   "+i+".\nExpected: "+o+".");for(var s=0;s<o.length;++s){var u=i[s],c=o[s];if(!mr(u,Number(c),n))throw new Error("Arrays differ: actual["+s+"] = "+u+", expected["+s+"] = "+c+".\nActual:   "+i+".\nExpected: "+o+".");}}function pr(e,t){e().then(function(){return t.fail();},function(){return t();});}function hr(e,t){return fr(e,t,0);}function dr(e,t,n){if(void 0===n&&(n=lr),!mr(e,t,n))throw new Error("Numbers differ: actual === "+e+", expected === "+t);}function mr(e,t,n){return!(!isNaN(e)||!isNaN(t))||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n);}function gr(e,t,n){var r;r=e instanceof m.a?e.dataSync():e;for(var a=0;a<r.length;a++){if(r[a]<t||r[a]>n)throw new Error("Value out of range:"+r[a]+" low: "+t+", high: "+n);}}var yr=n(7),vr=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}(),br=function br(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;},wr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this;}return vr(t,e),t.prototype.minimize=function(e,t,n){void 0===t&&(t=!1);var r=this.computeGradients(e,n),a=r.value,i=r.grads;return this.applyGradients(i),Object.keys(i).forEach(function(e){return i[e].dispose();}),t?a:(a.dispose(),null);},t.prototype.computeGradients=function(e,t){return Object(yr.j)(e,t);},br([Object(qt.a)({heading:"Training",subheading:"Optimizers"})],t.prototype,"minimize",null),br([Object(qt.a)({heading:"Training",subheading:"Classes",namespace:"train"})],t);}(ir),xr=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}(),kr=function(e){function t(t,n,r){void 0===r&&(r=1e-8);var a=e.call(this)||this;return a.learningRate=t,a.rho=n,a.epsilon=r,a.accumulatedGrads={},a.accumulatedUpdates={},a.c=Object(yr.e)(Object(f.Sb)(-t)),a.epsilonScalar=Object(yr.e)(Object(f.Sb)(r)),a.rhoScalar=Object(yr.e)(Object(f.Sb)(n)),a.oneMinusRho=Object(yr.e)(Object(f.Sb)(1-n)),a;}return xr(t,e),t.prototype.applyGradients=function(e){var t=this,n=function n(_n5){var a=c.ENV.engine.registeredVariables[_n5];null==r.accumulatedGrads[_n5]&&Object(yr.f)(function(){t.accumulatedGrads[_n5]=Object(f.Ic)(a).variable(!1);}),null==r.accumulatedUpdates[_n5]&&Object(yr.f)(function(){t.accumulatedUpdates[_n5]=Object(f.Ic)(a).variable(!1);});var i=e[_n5],o=r.accumulatedGrads[_n5],s=r.accumulatedUpdates[_n5];Object(yr.f)(function(){var e=t.rhoScalar.mul(o).add(t.oneMinusRho.mul(i.square())),r=s.add(t.epsilonScalar).sqrt().div(o.add(t.epsilonScalar).sqrt()).mul(i),u=t.rhoScalar.mul(s).add(t.oneMinusRho.mul(r.square()));t.accumulatedGrads[_n5].assign(e),t.accumulatedUpdates[_n5].assign(u);var c=t.c.mul(r).add(a);a.assign(c);});},r=this;for(var a in e){n(a);}},t.prototype.dispose=function(){var e=this;this.c.dispose(),this.epsilonScalar.dispose(),this.rhoScalar.dispose(),this.oneMinusRho.dispose(),null!=this.accumulatedUpdates&&(Object.keys(this.accumulatedUpdates).forEach(function(t){return e.accumulatedUpdates[t].dispose();}),Object.keys(this.accumulatedGrads).forEach(function(t){return e.accumulatedGrads[t].dispose();}));},t.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon};},t.fromConfig=function(e,t){return new e(t.learningRate,t.rho,t.epsilon);},t.className="AdadeltaOptimizer",t;}(wr);or.register(kr);var Or=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}(),Sr=function(e){function t(t,n){void 0===n&&(n=.1);var r=e.call(this)||this;return r.learningRate=t,r.initialAccumulatorValue=n,r.accumulatedGrads={},r.c=Object(yr.e)(Object(f.Sb)(-t)),r.epsilon=Object(yr.e)(Object(f.Sb)(1e-8)),r;}return Or(t,e),t.prototype.applyGradients=function(e){var t=this,n=function n(_n6){var a=c.ENV.engine.registeredVariables[_n6];null==r.accumulatedGrads[_n6]&&Object(yr.f)(function(){t.accumulatedGrads[_n6]=Object(f.U)(a.shape,t.initialAccumulatorValue).variable(!1);});var i=e[_n6],o=r.accumulatedGrads[_n6];Object(yr.f)(function(){var e=o.add(i.square());t.accumulatedGrads[_n6].assign(e);var r=t.c.mul(i.div(e.add(t.epsilon).sqrt())).add(a);a.assign(r);});},r=this;for(var a in e){n(a);}},t.prototype.dispose=function(){var e=this;this.epsilon.dispose(),this.c.dispose(),null!=this.accumulatedGrads&&Object.keys(this.accumulatedGrads).forEach(function(t){return e.accumulatedGrads[t].dispose();});},t.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue};},t.fromConfig=function(e,t){return new e(t.learningRate,t.initialAccumulatorValue);},t.className="AdagradOptimizer",t;}(wr);or.register(Sr);var Nr=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}(),Er=function(e){function t(t,n,r,a){void 0===a&&(a=1e-8);var i=e.call(this)||this;return i.learningRate=t,i.beta1=n,i.beta2=r,i.epsilon=a,i.accumulatedFirstMoment={},i.accumulatedSecondMoment={},i.c=Object(yr.e)(Object(f.Sb)(-t)),i.epsScalar=Object(yr.e)(Object(f.Sb)(a)),i.beta1Scalar=Object(yr.e)(Object(f.Sb)(n)),i.beta2Scalar=Object(yr.e)(Object(f.Sb)(r)),Object(yr.f)(function(){i.accBeta1=Object(f.Sb)(n).variable(),i.accBeta2=Object(f.Sb)(r).variable();}),i.oneMinusBeta1=Object(yr.e)(Object(f.Sb)(1-n)),i.oneMinusBeta2=Object(yr.e)(Object(f.Sb)(1-r)),i.one=Object(yr.e)(Object(f.Sb)(1)),i;}return Nr(t,e),t.prototype.applyGradients=function(e){var t=this;Object(yr.f)(function(){var n=t.one.sub(t.accBeta1),r=t.one.sub(t.accBeta2);for(var a in e){var i=c.ENV.engine.registeredVariables[a];if(null==t.accumulatedFirstMoment[a]){var o=!1;t.accumulatedFirstMoment[a]=Object(f.Ic)(i).variable(o);}null==t.accumulatedSecondMoment[a]&&(o=!1,t.accumulatedSecondMoment[a]=Object(f.Ic)(i).variable(o));var s=e[a],u=t.accumulatedFirstMoment[a],l=t.accumulatedSecondMoment[a],p=t.beta1Scalar.mul(u).add(t.oneMinusBeta1.mul(s)),h=t.beta2Scalar.mul(l).add(t.oneMinusBeta2.mul(s.square())),d=p.div(n),m=h.div(r);t.accumulatedFirstMoment[a].assign(p),t.accumulatedSecondMoment[a].assign(h);var g=t.c.mul(d.div(t.epsScalar.add(m.sqrt()))).add(i);i.assign(g);}t.accBeta1.assign(t.accBeta1.mul(t.beta1Scalar)),t.accBeta2.assign(t.accBeta2.mul(t.beta2Scalar));});},t.prototype.dispose=function(){var e=this;this.c.dispose(),this.epsScalar.dispose(),this.beta1Scalar.dispose(),this.beta2Scalar.dispose(),this.accBeta1.dispose(),this.accBeta2.dispose(),this.oneMinusBeta1.dispose(),this.oneMinusBeta2.dispose(),this.one.dispose(),null!=this.accumulatedFirstMoment&&Object.keys(this.accumulatedFirstMoment).forEach(function(t){return e.accumulatedFirstMoment[t].dispose();}),null!=this.accumulatedSecondMoment&&Object.keys(this.accumulatedSecondMoment).forEach(function(t){return e.accumulatedSecondMoment[t].dispose();});},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon};},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon);},t.className="AdamOptimizer",t;}(wr);or.register(Er);var Ir=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}(),Tr=function(e){function t(t,n,r,a,i){void 0===a&&(a=1e-8),void 0===i&&(i=0);var o=e.call(this)||this;return o.learningRate=t,o.beta1=n,o.beta2=r,o.epsilon=a,o.decay=i,o.accumulatedFirstMoment={},o.accumulatedWeightedInfNorm={},o.c=Object(yr.e)(Object(f.Sb)(-t)),o.epsScalar=Object(yr.e)(Object(f.Sb)(a)),o.beta1Scalar=Object(yr.e)(Object(f.Sb)(n)),o.beta2Scalar=Object(yr.e)(Object(f.Sb)(r)),o.decayScalar=Object(yr.e)(Object(f.Sb)(i)),Object(yr.f)(function(){o.iteration=Object(f.Sb)(0).variable(),o.accBeta1=Object(f.Sb)(n).variable();}),o.oneMinusBeta1=Object(yr.e)(Object(f.Sb)(1-n)),o.one=Object(yr.e)(Object(f.Sb)(1)),o;}return Ir(t,e),t.prototype.applyGradients=function(e){var t=this;Object(yr.f)(function(){var n=t.one.sub(t.accBeta1),r=t.c.div(t.one.add(t.decayScalar.mul(t.iteration)));for(var a in e){var i=c.ENV.engine.registeredVariables[a];if(null==t.accumulatedFirstMoment[a]){var o=!1;t.accumulatedFirstMoment[a]=Object(f.Ic)(i).variable(o);}null==t.accumulatedWeightedInfNorm[a]&&(o=!1,t.accumulatedWeightedInfNorm[a]=Object(f.Ic)(i).variable(o));var s=e[a],u=t.accumulatedFirstMoment[a],l=t.accumulatedWeightedInfNorm[a],p=t.beta1Scalar.mul(u).add(t.oneMinusBeta1.mul(s)),h=t.beta2Scalar.mul(l),d=s.abs(),m=h.maximum(d);t.accumulatedFirstMoment[a].assign(p),t.accumulatedWeightedInfNorm[a].assign(m);var g=r.div(n).mul(p.div(t.epsScalar.add(m))).add(i);i.assign(g);}t.iteration.assign(t.iteration.add(t.one)),t.accBeta1.assign(t.accBeta1.mul(t.beta1Scalar));});},t.prototype.dispose=function(){var e=this;this.c.dispose(),this.epsScalar.dispose(),this.accBeta1.dispose(),this.beta1Scalar.dispose(),this.beta2Scalar.dispose(),this.oneMinusBeta1.dispose(),this.decayScalar.dispose(),this.iteration.dispose(),this.one.dispose(),null!=this.accumulatedFirstMoment&&Object.keys(this.accumulatedFirstMoment).forEach(function(t){return e.accumulatedFirstMoment[t].dispose();}),null!=this.accumulatedWeightedInfNorm&&Object.keys(this.accumulatedWeightedInfNorm).forEach(function(t){return e.accumulatedWeightedInfNorm[t].dispose();});},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay};},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay);},t.className="AdamaxOptimizer",t;}(wr);or.register(Tr);var Ar=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}(),Cr=function(e){function t(t){var n=e.call(this)||this;return n.learningRate=t,n.setLearningRate(t),n;}return Ar(t,e),t.prototype.applyGradients=function(e){var t=this;Object.keys(e).forEach(function(n){var r=e[n],a=c.ENV.engine.registeredVariables[n];Object(yr.f)(function(){var e=t.c.mul(r).add(a);a.assign(e);});});},t.prototype.setLearningRate=function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=Object(yr.e)(Object(f.Sb)(-e));},t.prototype.dispose=function(){this.c.dispose();},t.prototype.getConfig=function(){return{learningRate:this.learningRate};},t.fromConfig=function(e,t){return new e(t.learningRate);},t.className="SGDOptimizer",t;}(wr);or.register(Cr);var Pr=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}(),_r=function(e){function t(t,n,r){void 0===r&&(r=!1);var a=e.call(this,t)||this;return a.learningRate=t,a.momentum=n,a.useNesterov=r,a.m=Object(f.Sb)(a.momentum),a.accumulations={},a;}return Pr(t,e),t.prototype.applyGradients=function(e){var t=this,n=function n(_n7){var a=c.ENV.engine.registeredVariables[_n7];null==r.accumulations[_n7]&&Object(yr.f)(function(){t.accumulations[_n7]=Object(f.Ic)(a).variable(!1);});var i=r.accumulations[_n7],o=e[_n7];Object(yr.f)(function(){var e,r=t.m.mul(i).add(o);e=t.useNesterov?t.c.mul(o.add(r.mul(t.m))).add(a):t.c.mul(r).add(a),t.accumulations[_n7].assign(r),a.assign(e);});},r=this;for(var a in e){n(a);}},t.prototype.dispose=function(){if(e.prototype.dispose.call(this),this.m.dispose(),null!=this.accumulations)for(var t in this.accumulations){this.accumulations[t].dispose();}},t.prototype.setMomentum=function(e){this.momentum=e;},t.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov};},t.fromConfig=function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov);},t.className="MomentumOptimizer",t;}(Cr);or.register(_r);var Rr=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}(),Mr=function(e){function t(t,n,r,a,i){void 0===n&&(n=.9),void 0===r&&(r=0),void 0===a&&(a=1e-8),void 0===i&&(i=!1);var o=e.call(this)||this;return o.learningRate=t,o.decay=n,o.momentum=r,o.epsilon=a,o.accumulatedMeanSquares={},o.accumulatedMeanGrads={},o.accumulatedMoments={},o.c=Object(yr.e)(Object(f.Sb)(t)),o.epsilonScalar=Object(yr.e)(Object(f.Sb)(a)),o.decayScalar=Object(yr.e)(Object(f.Sb)(n)),o.momentumScalar=Object(yr.e)(Object(f.Sb)(r)),o.oneMinusDecay=Object(yr.e)(Object(f.Sb)(1-n)),o.centered=i,o;}return Rr(t,e),t.prototype.applyGradients=function(e){var t=this,n=function n(_n8){var a=c.ENV.engine.registeredVariables[_n8];null==r.accumulatedMeanSquares[_n8]&&Object(yr.f)(function(){t.accumulatedMeanSquares[_n8]=Object(f.Ic)(a).variable(!1);}),null==r.accumulatedMeanGrads[_n8]&&r.centered&&Object(yr.f)(function(){t.accumulatedMeanGrads[_n8]=Object(f.Ic)(a).variable(!1);}),null==r.accumulatedMoments[_n8]&&Object(yr.f)(function(){t.accumulatedMoments[_n8]=Object(f.Ic)(a).variable(!1);});var i=r.accumulatedMeanSquares[_n8],o=r.accumulatedMeanGrads[_n8],s=r.accumulatedMoments[_n8],u=e[_n8];Object(yr.f)(function(){var e=t.decayScalar.mul(i).add(t.oneMinusDecay.mul(u.square()));if(t.centered){var r=t.decayScalar.mul(o).add(t.oneMinusDecay.mul(u)),c=t.momentumScalar.mul(s).add(t.c.mul(u).div(e.sub(r.square().add(t.epsilonScalar)).sqrt()));t.accumulatedMeanSquares[_n8].assign(e),t.accumulatedMeanGrads[_n8].assign(r),t.accumulatedMoments[_n8].assign(c);var l=a.sub(c);a.assign(l);}else{var f=t.decayScalar.mul(i).add(t.oneMinusDecay.mul(u.square()));c=t.momentumScalar.mul(s).add(t.c.mul(u).div(f.add(t.epsilonScalar).sqrt())),t.accumulatedMeanSquares[_n8].assign(f),t.accumulatedMoments[_n8].assign(c),l=a.sub(c),a.assign(l);}});},r=this;for(var a in e){n(a);}},t.prototype.dispose=function(){var e=this;this.c.dispose(),this.epsilonScalar.dispose(),this.decayScalar.dispose(),this.momentumScalar.dispose(),this.oneMinusDecay.dispose(),null!=this.accumulatedMeanSquares&&Object.keys(this.accumulatedMeanSquares).forEach(function(t){return e.accumulatedMeanSquares[t].dispose();}),null!=this.accumulatedMeanGrads&&this.centered&&Object.keys(this.accumulatedMeanGrads).forEach(function(t){return e.accumulatedMeanGrads[t].dispose();}),null!=this.accumulatedMoments&&Object.keys(this.accumulatedMoments).forEach(function(t){return e.accumulatedMoments[t].dispose();});},t.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered};},t.fromConfig=function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered);},t.className="RMSPropOptimizer",t;}(wr);or.register(Mr);var jr=n(44),Dr=function Dr(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;},Lr=function(){function e(){}return e.sgd=function(e){return new Cr(e);},e.momentum=function(e,t,n){return void 0===n&&(n=!1),new _r(e,t,n);},e.rmsprop=function(e,t,n,r,a){return void 0===t&&(t=.9),void 0===n&&(n=0),void 0===r&&(r=1e-8),void 0===a&&(a=!1),new Mr(e,t,n,r,a);},e.adam=function(e,t,n,r){return void 0===e&&(e=.001),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=1e-8),new Er(e,t,n,r);},e.adadelta=function(e,t,n){return void 0===e&&(e=.001),void 0===t&&(t=.95),void 0===n&&(n=1e-8),new kr(e,t,n);},e.adamax=function(e,t,n,r,a){return void 0===e&&(e=.002),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=1e-8),void 0===a&&(a=0),new Tr(e,t,n,r,a);},e.adagrad=function(e,t){return void 0===t&&(t=.1),new Sr(e,t);},Dr([Object(qt.a)({heading:"Training",subheading:"Optimizers",namespace:"train"})],e,"sgd",null),Dr([Object(qt.a)({heading:"Training",subheading:"Optimizers",namespace:"train"})],e,"momentum",null),Dr([Object(qt.a)({heading:"Training",subheading:"Optimizers",namespace:"train"})],e,"rmsprop",null),Dr([Object(qt.a)({heading:"Training",subheading:"Optimizers",namespace:"train"})],e,"adam",null),Dr([Object(qt.a)({heading:"Training",subheading:"Optimizers",namespace:"train"})],e,"adadelta",null),Dr([Object(qt.a)({heading:"Training",subheading:"Optimizers",namespace:"train"})],e,"adamax",null),Dr([Object(qt.a)({heading:"Training",subheading:"Optimizers",namespace:"train"})],e,"adagrad",null),e;}(),zr={sgd:Lr.sgd,momentum:Lr.momentum,adadelta:Lr.adadelta,adagrad:Lr.adagrad,rmsprop:Lr.rmsprop,adamax:Lr.adamax,adam:Lr.adam},Fr=c.Environment.setBackend,Br=c.Environment.getBackend,Vr=c.Environment.disposeVariables,Ur=c.Environment.memory,Wr=Ht.nextFrame,Gr=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}(),qr=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r;}return Gr(t,e),t;}(Error),Hr=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r;}return Gr(t,e),t;}(Error),Kr=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r;}return Gr(t,e),t;}(Error),Xr=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r;}return Gr(t,e),t;}(Error),Jr=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r;}return Gr(t,e),t;}(Error),Yr=(function(e){Gr(function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r;},e);}(Error),Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){for(var a in t=arguments[n]){Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);}}return e;});function Qr(e,t){if(Array.isArray(e)){for(var n=[],r=0;r<t;r++){n=n.concat(e);}return n;}return(n=new Array(t)).fill(e),n;}function Zr(e,t){if(!e)throw new Jr(t);}function $r(e,t){for(var n=0,r=0,a=e;r<a.length;r++){a[r]===t&&n++;}return n;}function ea(e){return 1===e.length?e[0]:e;}function ta(e){return Array.isArray(e)?e:[e];}function na(e){return Array.isArray(e)&&Array.isArray(e[0]);}function ra(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e];}function aa(e){var t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t;}function ia(e){return e.length<=1?e:-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,function(e,t){return t.toUpperCase();});}var oa={};function sa(e){return null===e||void 0===e?null:{className:e.getClassName(),config:e.getConfig()};}function ua(e,t,n,r){if(void 0===t&&(t={}),void 0===n&&(n={}),void 0===r&&(r="object"),"string"==typeof e){var a=e,i=void 0;if(a in n)i=n[a];else if(a in oa)i=oa[a];else if(null==(i=t[a]))throw new Kr("Unknown "+r+": "+e);return i;}var o=e;if(null==o.className||null==o.config)throw new Kr(r+": Improper config format: "+JSON.stringify(o)+".\n'className' and 'config' must set.");var s,u,c,l=o.className,f=void 0,p=void 0;if(l in n?(f=(s=n.get(l))[0],p=s[1]):l in oa?(f=(u=oa.className)[0],p=u[1]):l in t&&(f=(c=t[l])[0],p=c[1]),null==f)throw new Kr("Unknown "+r+": "+l);if(null!=p){for(var h={},d=0,m=Object.keys(oa);d<m.length;d++){h[x=m[d]]=oa[x];}for(var g=0,y=Object.keys(n);g<y.length;g++){h[x=y[g]]=n[x];}o.config.customObjects=h;for(var v=Yr({},oa),b=0,w=Object.keys(n);b<w.length;b++){var x=w[b];oa[x]=n[x];}var k=p(f,o.config);return oa=Yr({},v),k;}v=Yr({},oa);for(var O=0,S=Object.keys(n);O<S.length;O++){x=S[O],oa[x]=n[x];}return k=new f(o.config),oa=Yr({},v),k;}function ca(e){var t;if(Array.isArray(e)){if(1!==e.length)throw new Kr("Expected Tensor length to be 1; got "+e.length);t=e[0];}else t=e;return t;}function la(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return(e=e)[0];throw new Kr("Expected exactly 1 Shape; got "+e.length);}return e;}function fa(e,t){return-1*function(e,t){return e<t?-1:e>t?1:0;}(e,t);}function pa(e){if(null==e)return e;for(var t=[],n=0,r=e;n<r.length;n++){var a=r[n];-1===t.indexOf(a)&&t.push(a);}return t;}function ha(e){if(null==e)throw new Kr("Invalid value in obj: "+JSON.stringify(e));for(var t in e){if(e.hasOwnProperty(t))return!1;}return!0;}function da(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new Kr(n+" is not a valid "+t+".  Valid values are "+e+" or null/undefined.");}var ma=new Map(),ga=["channelsFirst","channelsLast"];function ya(e){da(ga,"DataFormat",e);}var va=["valid","same","causal"];function ba(e){da(va,"PaddingMode",e);}var wa=["max","avg"],xa=[],ka="/";function Oa(e){if(!Ea(e))throw new Error("Not a valid tensor name: '"+e+"'");return(0===xa.length?"":xa.join(ka)+ka)+e;}function Sa(e){if(!Ea(e))throw new Error("Not a valid tensor name: '"+e+"'");ma.has(e)||ma.set(e,0);var t=ma.get(e);if(ma.set(e,ma.get(e)+1),t>0){var n=e+"_"+t;return ma.set(n,1),n;}return e;}var Na=new RegExp(/^[A-Za-z][A-Za-z0-9\._\/]*$/);function Ea(e){return!!e.match(Na);}function Ia(e){return e===parseInt(e.toString(),10);}function Ta(e,t,n){null==t&&(t=0),null==n&&(n=e.length);for(var r=1,a=t;a<n;++a){r*=e[a];}return r;}function Aa(e){return e=Array.isArray(e)?new Float32Array(e):e,Object(f.vc)(e);}function Ca(e){return f.bb(Aa(e)).dataSync()[0];}function Pa(e){return f.Wa(Aa(e)).dataSync()[0];}function _a(e,t){if(t<e)throw new Kr("end ("+t+") < begin ("+e+") is forbidden.");for(var n=[],r=e;r<t;++r){n.push(r);}return n;}var Ra=0;function Ma(){return Ra++;}var ja=function(){function e(e,t,n,r,a,i,o){this.dtype=e,this.shape=t,this.sourceLayer=n,this.inputs=r,this.callArgs=a,this.outputTensorIndex=o,this.id=Ma(),null!=i&&(this.originalName=Oa(i),this.name=Sa(this.originalName)),this.rank=t.length;}return function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;}([Object(qt.a)({heading:"Models",subheading:"Classes"})],e);}(),Da="Variable",La=function(){function e(e,t,n,r,a){void 0===t&&(t="float32"),void 0===n&&(n=Da),void 0===r&&(r=!0),void 0===a&&(a=null),this.dtype=null==t?"float32":t,this.shape=e.shape,this.id=Ma(),n=null==n?Da:n,this.originalName=Oa(n),this.name=Sa(this.originalName),this.trainable=r,this.constraint=a,this.val=m.d(e,this.trainable,this.name,this.dtype);}return e.prototype.read=function(){return this.val;},e.prototype.write=function(e){return function(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape));}(this.val,e),this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val)),this;},e;}();function za(e){return e.map(function(e){return e.read();});}function Fa(e){e.map(function(e){e[0].write(e[1]);});}var Ba="float32",Va={float32:{},int32:{}};function Ua(e,t){return void 0===t&&(t=Ba),null==Va[t][e]&&(Va[t][e]=Object(f.Sb)(e,t),yr.e(Va[t][e])),Va[t][e];}var Wa=function Wa(){return 1e-7;};function Ga(e){return e.shape;}function qa(e){return e.shape;}function Ha(e){return e instanceof m.a?Ba:e.dtype;}function Ka(e,t){return e.asType(t);}function Xa(e,t){void 0===t&&(t=-1);var n=Ga(e).slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),e.reshape(n);}function Ja(e,t,n){return Object(yr.f)(function(){switch(e.rank){case 1:return f.ac(e,t,n);case 2:return f.bc(e,[t,0],[n,e.shape[1]]);case 3:return f.cc(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return f.dc(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);default:throw new Kr("sliceAlongFirstAxis() received an unsupported tensor rank: "+e.rank);}});}function Ya(e,t,n){return Object(yr.f)(function(){switch(e.rank){case 1:return f.ac(e,t,n);case 2:return f.bc(e,[0,t],[e.shape[0],n]);case 3:return f.cc(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return f.dc(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new Kr("sliceAlongLastAxis() received an unsupported tensor rank: "+e.rank);}});}function Qa(e,t,n,r){return Object(yr.f)(function(){switch(e.rank){case 1:return f.ac(e,t,n);case 2:switch(r){case 1:return Ja(e,t,n);case 2:return Ya(e,t,n);default:throw new Kr("The axis is not within the rank of the tensor "+r);}case 3:switch(r){case 1:return Ja(e,t,n);case 2:return f.cc(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return Ya(e,t,n);default:throw new Kr("The axis is not within the rank of the tensor "+r);}case 4:switch(r){case 1:return Ja(e,t,n);case 2:return f.dc(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return f.dc(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return Ya(e,t,n);default:throw new Kr("The axis is not within the rank of the tensor "+r);}default:throw new Kr("sliceAlongLastAxis() received an unsupported tensor rank: "+e.rank);}});}function Za(e,t){var n;return void 0===t&&(t=-1),t<0&&(t=0!==(n=e[0].rank)?n:0),t===e[0].rank&&(t=-1),f.x(e,t);}function $a(e,t){switch(e.rank){case 1:return f.y([e,t]);case 2:return f.z([e,t],0);case 3:return f.A([e,t],0);case 4:return f.B([e,t],0);default:throw new Kr("concatAlongFirstAxis() received an unsupported tensor rank: "+e.rank);}}function ei(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new Kr("The length of input n ("+t.length+") does not match the number of dimensions in input x ("+e.rank+")");return f.zc(e,t);}function ti(e){return e.clone();}function ni(e,t){return f.ib(e,t);}function ri(e,t){return f.d(e,t);}function ai(e,t,n,r,a){return void 0===t&&(t=0),void 0===n&&(n=1),f.Fb(e,t,n,r,a);}function ii(e,t){if(2!==t.rank)throw new Xr("dot support for y other than rank 2 is not yet implemented: y shape = "+Ga);if(2===e.rank)return f.Ua(e,t);if(3===e.rank){var n=e.shape[0],r=e.shape[1],a=e.shape[2];return e=e.reshape([n*r,a]),f.Ua(e,t).reshape([n,r,t.shape[1]]);}throw new Xr("dot support for x of rank "+e.rank+" is not yet implemented: x shape = "+Ga);}function oi(e,t,n){return Object(yr.f)(function(){return t=Array.isArray(t)?Object(f.vc)(t,"int32"):t.toInt(),f.X(e,t,n);});}function si(e){return f.jb(e,e);}function ui(e,t,n){return Object(yr.f)(function(){if(null==n&&(n="channelsLast"),ya(n),1!==t.rank&&t.rank!==e.rank)throw new Kr("Unexpected bias dimensions: "+t.rank+"; expected it to be 1 or "+e.rank);var r,a=t.shape;if(5===e.rank)"channelsFirst"===n?r=1===a.length?e.add(t.reshape([1,a[0],1,1,1])):e.add(t.reshape([1,a[3],a[0],a[1],a[2]])):"channelsLast"===n&&(r=1===a.length?e.add(t.reshape([1,1,1,1,a[0]])):e.add(t.reshape([1].concat(a))));else if(4===e.rank)"channelsFirst"===n?r=1===a.length?e.add(t.reshape([1,a[0],1,1])):e.add(t.reshape([1,a[2],a[0],a[1]])):"channelsLast"===n&&(r=1===a.length?e.add(t.reshape([1,1,1,a[0]])):e.add(t.reshape([1].concat(a))));else if(3===e.rank)"channelsFirst"===n?r=1===a.length?e.add(t.reshape([1,a[0],1])):e.add(t.reshape([1,a[1],a[0]])):"channelsLast"===n&&(r=1===a.length?e.add(t.reshape([1,1,a[0]])):e.add(t.reshape([1].concat(a))));else{if(!(e.rank<3))throw new Kr("Unsupported input rank by biasAdd: "+e.rank);r=e.add(t);}return r;});}function ci(e,t){return function(e,t){xa.push(e);try{var n=t();return xa.pop(),n;}catch(e){throw xa.pop(),e;}}(e,t);}var li={};function fi(e){return void 0===e&&(e=""),e in li||(li[e]=0),li[e]+=1,e+li[e].toString();}var pi=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}();function hi(e,t){return Object(yr.f)(function(){return f.hc(f.rc(si(e),t,!0));});}var di=function(e){function t(){return null!==e&&e.apply(this,arguments)||this;}return pi(t,e),t.prototype.getConfig=function(){return{};},function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;}([Object(qt.a)({heading:"Constraints",subheading:"Classes",namespace:"constraints"})],t);}(o.Serializable),mi=function(e){function t(t){var n=e.call(this)||this;return n.defaultMaxValue=2,n.defaultAxis=0,n.maxValue=null!=t.maxValue?t.maxValue:n.defaultMaxValue,n.axis=null!=t.axis?t.axis:n.defaultAxis,n;}return pi(t,e),t.prototype.apply=function(e){var t=this;return Object(yr.f)(function(){var n=hi(e,t.axis),r=f.v(n,0,t.maxValue);return f.ib(e,f.J(r,ri(Ua(Wa()),n)));});},t.prototype.getConfig=function(){return{maxValue:this.maxValue,axis:this.axis};},t.className="MaxNorm",t;}(di);o.SerializationMap.register(mi);var gi=function(e){function t(t){var n=e.call(this)||this;return n.defaultAxis=0,n.axis=null!=t.axis?t.axis:n.defaultAxis,n;}return pi(t,e),t.prototype.apply=function(e){var t=this;return Object(yr.f)(function(){return f.J(e,ri(Ua(Wa()),hi(e,t.axis)));});},t.prototype.getConfig=function(){return{axis:this.axis};},t.className="UnitNorm",t;}(di);o.SerializationMap.register(gi);var yi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this;}return pi(t,e),t.prototype.apply=function(e){return f.Jb(e);},t.className="NonNeg",t;}(di);o.SerializationMap.register(yi);var vi=function(e){function t(t){var n=e.call(this)||this;return n.defaultMinValue=0,n.defaultMaxValue=1,n.defaultRate=1,n.defaultAxis=0,n.minValue=null!=t.minValue?t.minValue:n.defaultMinValue,n.maxValue=null!=t.maxValue?t.maxValue:n.defaultMaxValue,n.rate=null!=t.rate?t.rate:n.defaultRate,n.axis=null!=t.axis?t.axis:n.defaultAxis,n;}return pi(t,e),t.prototype.apply=function(e){var t=this;return Object(yr.f)(function(){var n=hi(e,t.axis),r=f.d(ni(Ua(t.rate),f.v(n,t.minValue,t.maxValue)),ni(Ua(1-t.rate),n));return f.ib(e,f.J(r,ri(Ua(Wa()),n)));});},t.prototype.getConfig=function(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis};},t.className="MinMaxNorm",t;}(di);o.SerializationMap.register(vi);var bi={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function wi(e){return sa(e);}function xi(e,t){return void 0===t&&(t={}),ua(e,o.SerializationMap.getMap().classNameMap,t,"constraint");}function ki(e){return null==e?null:"string"==typeof e?xi({className:e in bi?bi[e]:e,config:{}}):e instanceof di?e:xi(e);}function Oi(e,t){return void 0===t&&(t={}),ua(e,o.SerializationMap.getMap().classNameMap,t,"layer");}function Si(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"==typeof n;}function Ni(e,t){if(null===e)return null;if("string"==typeof e)return ia(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,a=0;a<r;++a){var i=e[a];Si(t,a,i)?n.push(i):n.push(Ni(i,t));}return n;}for(var o={},s=0,u=Object.keys(e);s<u.length;s++){var c=u[s],l=e[c];if("name"===c&&"string"==typeof l)o[c]=l;else{var f=ia(c);o[f]=Ni(l,f);}}return o;}var Ei=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}(),Ii=function Ii(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;},Ti=function Ti(e){this.dtype=e.dtype,this.shape=e.shape,null!=e.shape?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{};},Ai=0,Ci=function(){function e(e,t){this.callArgs=t,this.id=Ai++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(var n=0,r=e.inboundLayers;n<r.length;n++){var a=r[n];null!=a&&a.outboundNodes.push(this);}e.outboundLayer.inboundNodes.push(this);}return e.prototype.getConfig=function(){for(var e=[],t=0,n=this.inboundLayers;t<n.length;t++){var r=n[t];null!=r?e.push(r.name):e.push(null);}return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices};},e;}(),Pi=0,_i=function(e){function t(t){var n=e.call(this)||this;n._callHook=null,n._addedWeightNames=[],n._stateful=!1,n.id=Pi++,n.activityRegularizer=null,n.inputSpec=null,n.supportsMasking=!1,n._trainableWeights=[],n._nonTrainableWeights=[],n._losses=[],n._updates=[],n._built=!1,n.inboundNodes=[],n.outboundNodes=[];var r=t.name;if(!r){var a=n.getClassName();r=aa(a)+"_"+fi(a);}if(n.name=r,n.trainable=null==t.trainable||t.trainable,n.updatable=null==t.updatable||t.updatable,null!=t.inputShape||null!=t.batchInputShape){var i=void 0;if(null!=t.batchInputShape)i=t.batchInputShape;else if(null!=t.inputShape){var o=null;null!=t.batchSize&&(o=t.batchSize),i=[o].concat(t.inputShape);}n.batchInputShape=i;var s=t.dtype;null==s&&(s=t.inputDType),null==s&&(s="float32"),n.dtype=s;}return null!=t.weights?n.initialWeights=t.weights:n.initialWeights=null,n;}return Ei(t,e),t.nodeKey=function(e,t){return e.name+"_ib-"+t.toString();},t.prototype.getNodeAtIndex=function(e,t){if(0===this.inboundNodes.length)throw new Hr("The layer has never been called and thus has no defined "+t+".");if(this.inboundNodes.length<=e)throw new Kr("Asked to get "+t+" at node "+e+", but the layer has only "+this.inboundNodes.length+" inbound nodes.");return this.inboundNodes[e];},t.prototype.getInputAt=function(e){return ea(this.getNodeAtIndex(e,"input").inputTensors);},t.prototype.getOutputAt=function(e){return ea(this.getNodeAtIndex(e,"output").outputTensors);},Object.defineProperty(t.prototype,"input",{get:function get(){if(this.inboundNodes.length>1)throw new qr("Layer "+this.name+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(0===this.inboundNodes.length)throw new qr("Layer "+this.name+" is not connected, no input to return.");return ea(this.getNodeAtIndex(0,"input").inputTensors);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"output",{get:function get(){if(0===this.inboundNodes.length)throw new qr("Layer "+this.name+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new qr("Layer "+this.name+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return ea(this.getNodeAtIndex(0,"output").outputTensors);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"losses",{get:function get(){return this._losses;},enumerable:!0,configurable:!0}),t.prototype.calculateLosses=function(){return this.losses.map(function(e){return e();});},Object.defineProperty(t.prototype,"updates",{get:function get(){return this._updates;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"built",{get:function get(){return this._built;},set:function set(e){this._built=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trainableWeights",{get:function get(){return this.trainable?this._trainableWeights:[];},set:function set(e){this._trainableWeights=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function get(){return this.trainable?this._nonTrainableWeights:this._trainableWeights.concat(this._nonTrainableWeights);},set:function set(e){this._nonTrainableWeights=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weights",{get:function get(){return this.trainableWeights.concat(this.nonTrainableWeights);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stateful",{get:function get(){return this._stateful;},enumerable:!0,configurable:!0}),t.prototype.assertInputCompatibility=function(e){if(e=ta(e),null!=this.inputSpec&&0!==this.inputSpec.length){var t=ta(this.inputSpec);if(e.length!==t.length)throw new Kr("Layer "+this.name+" expects "+t.length+" inputs, but it received "+e.length+" input tensors. Input received: "+e);for(var n=0;n<e.length;n++){var r=e[n],a=t[n];if(null!=a){var i=r.rank;if(null!=a.ndim&&i!==a.ndim)throw new Kr("Input "+n+" is incompatible with layer "+this.name+": expected ndim="+a.ndim+", found ndim="+i);if(null!=a.maxNDim&&i>a.maxNDim)throw new Kr("Input "+n+" is incompatible with layer "+this.name+": expected max_ndim="+a.maxNDim+", found ndim="+i);if(null!=a.minNDim&&i<a.minNDim)throw new Kr("Input "+n+" is incompatible with layer "+this.name+": expected min_ndim="+a.minNDim+", found ndim="+i+".");if(null!=a.dtype&&Ha(r)!==a.dtype){var o=Ha(r);throw new Kr("Input "+n+" is incompatible with layer "+this.name+" : expected dtype="+a.dtype+", found dtype="+o+".");}if(a.axes){var s=qa(r);for(var u in a.axes){var c=Number(u),l=a.axes[u],f=c>=0?s[c]:s[s.length+c];if(null!=l&&-1===[l,null].indexOf(f))throw new Kr("Input "+n+" is incompatible with layer "+this.name+": expected axis "+c+" of input shape to have value "+l+" but got shape "+s+".");}}if(null!=a.shape){s=qa(r);for(var p=0;p<a.shape.length;++p){var h=a.shape[p],d=s[p];if(null!=h&&null!=d&&h!==d)throw new Kr("Input "+n+" is incompatible with layer "+this.name+": expected shape="+a.shape+", found shape=${xShape}.");}}}}}},t.prototype.call=function(e,t){return e;},t.prototype.invokeCallHook=function(e,t){null!=this._callHook&&this._callHook(e,t);},t.prototype.setCallHook=function(e){this._callHook=e;},t.prototype.clearCallHook=function(){this._callHook=null;},t.prototype.apply=function(e,t){var n=this;t=t||{};for(var r=ta(e),a=!0,i=0,o=r;i<o.length;i++){if(!(o[i]instanceof ja)){a=!1;break;}}for(var s=!0,u=0,c=r;u<c.length;u++){if(c[u]instanceof ja){s=!1;break;}}if(a===s)throw new Kr("Arguments to apply() must be all SymbolicTensors or all Tensors");return ci(this.name,function(){if(!n.built){n.assertInputCompatibility(e);for(var a=[],i=0,o=ta(e);i<o.length;i++){var u=o[i];a.push(qa(u));}n.build(ea(a)),n.built=!0,n.initialWeights&&n.setWeights(n.initialWeights);}if(n.assertInputCompatibility(e),s){for(var c=[],l=0,f=ta(m=n.call(e,t));l<f.length;l++){var p=f[l];-1!==r.indexOf(p)&&(p=ti(p)),c.push(p);}if(m=ea(c),null!=n.activityRegularizer)throw new Xr("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return m;}var h=function(e){for(var t=[],n=0,r=e=ta(e);n<r.length;n++){var a=r[n];t.push(qa(a));}return ea(t);}(e),d=n.computeOutputShape(h),m=void 0;if(m=null!=d&&d.length>0&&Array.isArray(d[0])?d.map(function(r,a){return new ja("float32",r,n,ta(e),t,n.name,a);}):new ja("float32",d,n,ta(e),t,n.name),n.addInboundNode(e,m,null,null,h,d,t),null!=n.activityRegularizer)throw new Xr("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return m;});},t.prototype.build=function(e){this.built=!0;},t.prototype.getWeights=function(e){return void 0===e&&(e=!1),za(e?this.trainableWeights:this.weights);},t.prototype.setWeights=function(e){var t=this;Object(yr.f)(function(){var n=t.weights;if(n.length!==e.length)throw new Kr('You called setWeights(weights) on layer "'+t.name+'" with a weight list of length '+e.length+", but the layer was expecting "+n.length+" weights. Provided weights: "+e+"...");if(0!==n.length){for(var r=[],a=za(n),i=0;i<a.length;++i){var o=a[i],s=n[i],u=e[i];if(!y.arraysEqual(o.shape,u.shape))throw new Kr("Layer weight shape "+o.shape+" not compatible with provided weight shape "+u.shape);r.push([s,u]);}Fa(r);}});},t.prototype.addWeight=function(e,t,n,r,a,i,o){if(-1!==this._addedWeightNames.indexOf(e))throw new Kr("Duplicate weight name "+e+" for layer "+this.name);this._addedWeightNames.push(e),null==n&&(n="float32");var s=new La(r.apply(t,n),n,e,i,o);return null!=a&&this.addLoss(function(){return a.apply(s.read());}),null==i&&(i=!0),i?this._trainableWeights.push(s):this._nonTrainableWeights.push(s),s;},t.prototype.addLoss=function(e){var t;null==e||Array.isArray(e)&&0===e.length||(e=ta(e),void 0!==this._losses&&null!==this._losses&&(t=this.losses).push.apply(t,e));},t.prototype.computeOutputShape=function(e){return e;},t.prototype.computeMask=function(e,t){var n=this;if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError("Layer "+this.name+" does not support masking,but was passed an inputMask.");t.forEach(function(e){if(null!=e)throw new TypeError("Layer "+n.name+" does not support masking,but was passed an inputMask.");});}return null;}return t;},t.prototype.addInboundNode=function(e,t,n,r,a,i,o){void 0===o&&(o=null);var s=ta(e);t=ta(t),n=ta(n),r=ta(r),a=ra(a),i=ra(i);for(var u=[],c=[],l=[],f=0,p=s;f<p.length;f++){var h=p[f];u.push(h.sourceLayer),c.push(h.nodeIndex),l.push(h.tensorIndex);}new Ci({outboundLayer:this,inboundLayers:u,nodeIndices:c,tensorIndices:l,inputTensors:s,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:a,outputShapes:i},o);for(var d=0;d<t.length;d++){t[d].sourceLayer=this,t[d].nodeIndex=this.inboundNodes.length-1,t[d].tensorIndex=d;}},t.prototype.getConfig=function(){var e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e;},Ii([Object(qt.a)({heading:"Models",subheading:"Classes"})],t.prototype,"apply",null),Ii([Object(qt.a)({heading:"Layers",subheading:"Classes",namespace:"layers"})],t);}(o.Serializable),Ri=function(e){function t(t){var n=e.call(this,{dtype:t.dtype,name:null!=t.name?t.name:fi("input").toString()})||this;if(null==t.batchSize&&(t.batchSize=null),null==t.sparse&&(t.sparse=!1),n.trainable=!1,n.built=!0,n.sparse=t.sparse,null!=t.inputShape&&null!=t.batchInputShape)throw new Kr("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");var r=t.batchInputShape;if(null==r){if(null==t.inputShape)throw new Kr("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");r=[t.batchSize].concat(t.inputShape);}else if(null!=t.batchSize)throw new Kr("Cannot specify batchSize if batchInputShape isspecified when creating an InputLayer.");var a=t.dtype||"float32";n.batchInputShape=r,n.dtype=a,n.inputSpec=[{shape:r}];var i=new ja(n.dtype,n.batchInputShape,n,[],{},n.name);return i.nodeIndex=0,i.tensorIndex=0,new Ci({outboundLayer:n,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[i],outputTensors:[i],inputMasks:[null],outputMasks:[null],inputShapes:[r],outputShapes:[r]}),n;}return Ei(t,e),t.prototype.apply=function(e,t){throw new Kr("Cannot pass any input to an InputLayer's apply() method. InputLayer name: "+this.name);},t.prototype.getConfig=function(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name};},t.className="InputLayer",t;}(_i);function Mi(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new Kr("Please provide either a `shape` or `batchShape` argument to Input, but not both.");var t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));var n=e.dtype;return null==n&&(n="float32"),new Ri({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0];}o.SerializationMap.register(Ri);var ji=function(e){function t(n){var r=e.call(this,{})||this;if(r.containerNodes=new Set(),r.name=n.name,null==r.name){var a=r.getClassName().toLowerCase();r.name=fi(a);}if(r.supportsMasking=!1,r.trainable=!0,r.updatable=!0,Array.isArray(n.inputs)?r.inputs=n.inputs.slice():r.inputs=[n.inputs],Array.isArray(n.outputs)?r.outputs=n.outputs.slice():r.outputs=[n.outputs],pa(r.inputs).length!==r.inputs.length)throw new Kr("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+r.inputs.map(function(e){return e.name;}));pa(r.outputs).length!==r.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+r.outputs.map(function(e){return e.name;})),r.inputLayers=[],r.inputLayersNodeIndices=[],r.inputLayersTensorIndices=[],r.outputLayers=[],r.outputLayersNodeIndices=[],r.outputLayersTensorIndices=[],r.layers=[];for(var i=0,o=r.outputs;i<o.length;i++){var s=(E=o[i]).sourceLayer,u=E.nodeIndex,c=E.tensorIndex;r.outputLayers.push(s),r.outputLayersNodeIndices.push(u),r.outputLayersTensorIndices.push(c);}for(var l=0,f=r.inputs;l<f.length;l++){s=(E=f[l]).sourceLayer,u=E.nodeIndex,c=E.tensorIndex,Zr(0===u,"input layer has >1 nodes"),Zr(0===c,"input layer has >1 tensors"),r.inputLayers.push(s),r.inputLayersNodeIndices.push(u),r.inputLayersTensorIndices.push(c);}r.inputNames=[],r.outputNames=[],r.feedInputShapes=[],r.feedInputNames=[],r.feedOutputNames=[];for(var p=0;p<r.inputLayers.length;p++){if(!((s=r.inputLayers[p])instanceof Ri))throw new TypeError("Input layers to a Model must be InputLayer objects. Received inputs: "+n.inputs+". Input "+p+" (0-based) originates from layer type "+s.getClassName()+".");r.inputNames.push(s.name),r.feedInputShapes.push(s.batchInputShape),r.feedInputNames.push(s.name);}for(var h=0,d=r.outputLayers;h<d.length;h++){s=d[h],r.outputNames.push(s.name);}r.internalInputShapes=r.inputs.map(function(e){return e.shape;}),r.internalOutputShapes=r.outputs.map(function(e){return e.shape;});for(var m={},g={},y={},v={},b={},w=[],x=function x(e,n,a,i,o,s){null!=i&&null!=o&&null!=s||(i=e.sourceLayer,o=e.nodeIndex,s=e.tensorIndex);var u=i.inboundNodes[o];if(-1!==a.indexOf(u))throw new Hr("The tensor "+e.name+' at layer "'+i.name+'" is part of a cycle.');if(-1===n.indexOf(u)){r.containerNodes.add(t.nodeKey(i,o)),(i.id in b)||(b[i.id]=Object.keys(b).length),-1===a.indexOf(u)&&a.push(u);for(var c=u.inboundLayers.length,l=0;l<c;l++){var f=u.inputTensors[l],p=u.inboundLayers[l],h=u.nodeIndices[l],d=u.tensorIndices[l];x(f,n,a,p,h,d);}for(n.push(u);a.indexOf(u)>=0;){a.splice(a.indexOf(u),1);}w.push(u);}},k=[],O=[],S=0,N=r.outputs;S<N.length;S++){var E=N[S];x(E,k,O);}for(var I=0,T=w.slice().reverse();I<T.length;I++){g[(Y=T[I]).id]=Y,Y.id in m||(m[Y.id]=0);var A=m[Y.id],C=null==y[Y.outboundLayer.id]?0:y[Y.outboundLayer.id];for(A=Math.max(A,C),y[Y.outboundLayer.id]=A,v[Y.outboundLayer.id]=Y.outboundLayer,m[Y.id]=A,p=0;p<Y.inboundLayers.length;p++){var P=Y.inboundLayers[p],_=(u=Y.nodeIndices[p],P.inboundNodes[u]),R=null==m[_.id]?0:m[_.id];m[_.id]=Math.max(A+1,R),g[_.id]=_;}}var M={};for(var j in m){(A=m[j])in M||(M[A]=[]),M[A].push(g[j]);}var D={};for(var L in y){(A=y[L])in D||(D[A]=[]),D[A].push(v[L]);}var z=Object.keys(D).map(function(e){return parseInt(e,10);}).sort(fa);r.layers=[];for(var F=0,B=z;F<B.length;F++){var V=D[A=B[F]];V.sort(function(e,t){var n=b[e.id],r=b[t.id];return n<r?-1:n>r?1:0;});for(var U=0,W=V;U<W.length;U++){s=W[U],r.layers.push(s);}}r.layersByDepth=D,z=Object.keys(M).map(function(e){return parseInt(e,10);}).sort(fa);for(var G=r.inputs.slice(),q=[],H=0,K=z;H<K.length;H++){for(var X=0,J=M[A=K[H]];X<J.length;X++){var Y;if(null!=(s=(Y=J[X]).outboundLayer)){for(var Q=0,Z=Y.inputTensors;Q<Z.length;Q++){if(E=Z[Q],-1===G.indexOf(E))throw new Hr("Graph disconnected: cannot obtain value for tensor "+E+' at layer "'+s.name+'". The following previous layers were accessed without issue: '+q);}for(var $=0,ee=Y.outputTensors;$<ee.length;$++){E=ee[$],G.push(E);}q.push(s.name);}}}r.nodesByDepth=M;for(var te=r.layers.map(function(e){return e.name;}),ne=function ne(e){var t=te.filter(function(t){return t===e;}).length;if(1!==t)throw new Hr('The name "'+e+'" is used '+t+" times in the model. All layer names should be unique. Layer names: "+JSON.stringify(te));},re=0,ae=te;re<ae.length;re++){ne(ae[re]);}return r.outboundNodes=[],r.inboundNodes=[],new Ci({outboundLayer:r,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:r.inputs,outputTensors:r.outputs,inputMasks:r.inputs.map(function(e){return null;}),outputMasks:r.outputs.map(function(e){return null;}),inputShapes:r.inputs.map(function(e){return e.shape;}),outputShapes:r.outputs.map(function(e){return e.shape;})}),r.built=!0,r;}return Ei(t,e),Object.defineProperty(t.prototype,"trainableWeights",{get:function get(){if(this._trainableWeights.length>0)throw new Kr("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];for(var e=[],t=0,n=this.layers;t<n.length;t++){var r=n[t];e=e.concat(r.trainableWeights);}return e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function get(){for(var e=[],t=0,n=this.layers;t<n.length;t++){var r=n[t];e.push.apply(e,r.nonTrainableWeights);}if(!this.trainable){for(var a=[],i=0,o=this.layers;i<o.length;i++){r=o[i],a.push.apply(a,r.trainableWeights);}return a.concat(e);}return e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weights",{get:function get(){return this.trainableWeights.concat(this.nonTrainableWeights);},enumerable:!0,configurable:!0}),t.prototype.loadWeights=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),n?function(e,t){for(var n={},r=0,a=0,i=t;a<i.length;a++){for(var o=0,s=i[a].weights;o<s.length;o++){var u=s[o];if(null!=n[u.originalName])throw new Kr("Duplicate weight name: "+u.originalName);n[u.originalName]=u,r++;}}var c=[];for(var l in e){c.push([n[l],e[l]]),delete n[l];}var f=[];for(var p in n){f.push(p);}if(f.length>0)throw new Kr(f.length+" of "+r+" weights are not set: "+f);Fa(c);}(e,this.layers):function(e,t,n){void 0===n&&(n=!1);for(var r=e.keras_version,a=e.backend,i=t.map(function(e){return e.name;}),o={},s=0,u=t;s<u.length;s++){null!=(w=u[s]).name&&(null==o[w.name]&&(o[w.name]=[]),o[w.name].push(w));}for(var c=e.weights,l=[],f=0;f<i.length;++f){var p=i[f],h=c[p];null==h&&(h=[]);for(var d=[],m=0;m<h.length;++m){var g=h[m];d.push(new La(Di(g.dtype,g.shape,g.value)));}for(var v=0,b=o[p];v<b.length;v++){var w,x=(w=b[v]).weights;if((d=Li(w,d,r,a)).length!==x.length){if(!n)throw new Kr("Layer #"+f+' (named "'+w.name+'") expects '+x.length+" weight(s), but the saved weights have "+d.length+" element(s).");console.warn("Skipping loading of weights of layer "+w.name+" due to mismatch in number of weights: ("+d.length+" vs "+x.length+").");}for(var k=0;k<d.length;++k){!n||y.arraysEqual(x[k].shape,d[k].shape)?l.push([x[k],d[k].read()]):console.warn("Skipping loading of weights for layer "+w.name+" due to mismatch in shape ("+x[k].shape+" vs "+d[k].shape+")");}}}Fa(l);}(e,this.layers,t);},t.prototype.updatedConfig=function(){var e=this.getConfig();return{className:this.getClassName(),config:e,kerasVersion:"tfjs-layers 0.6.4",backend:"TensorFlow.js"};},t.prototype.toJSON=function(e,t){void 0===t&&(t=!0);var n=function e(t,n){if(null===t||void 0===t)return null;if("string"==typeof t)return aa(t);if("number"==typeof t||"boolean"==typeof t)return t;if(t instanceof Array){for(var r=[],a=t.length,i=0;i<a;++i){var o=t[i];Si(n,i,o)?r.push(o):r.push(e(o,n));}return r;}for(var s={},u=0,c=Object.keys(t);u<c.length;u++){var l=c[u],f=t[l];s[aa(l)]="name"!==l&&"className"!==l||"string"!=typeof f?e(f,l):f;}return s;}(this.updatedConfig());return t?JSON.stringify(n):n;},t.prototype.call=function(e,t){var n=this;return Object(yr.f)(function(){var r;return e=ta(e),r="mask"in t?ta(t.mask):Qr(null,e.length),n.runInternalGraph(e,r)[0];});},t.prototype.computeMask=function(e,t){var n=this;return Object(yr.f)(function(){var r;return e=ta(e),r=null==t?Qr(null,e.length):ta(t),n.runInternalGraph(e,r)[1];});},t.prototype.computeOutputShape=function(e){var t=ra(e);if(t.length!==this.inputLayers.length)throw new Kr("Invalid inputShape argument "+e+": model has "+this.inputLayers.length+" tensor inputs.");for(var n={},r=0;r<t.length;r++){var a=this.inputLayers[r],i=t[r];n[O=a.name+"_0_0"]=i;}var o=Object.keys(this.nodesByDepth).map(function(e){return parseInt(e,10);}).sort(fa);if(o.length>1)for(var s=0,u=o;s<u.length;s++){for(var c=u[s],l=0,f=this.nodesByDepth[c];l<f.length;l++){var p=f[l];if(a=p.outboundLayer,-1===this.inputLayers.map(function(e){return e.id;}).indexOf(a.id)){for(var h=[],d=0;d<p.inboundLayers.length;d++){var m=p.inboundLayers[d],g=p.nodeIndices[d],y=p.tensorIndices[d],v=n[O=m.name+"_"+g+"_"+y];h.push(v);}var b=ra(a.computeOutputShape(ea(h))),w=a.inboundNodes.indexOf(p);for(d=0;d<b.length;d++){n[O=a.name+"_"+w+"_"+d]=b[d];}}}}var x=[],k=[];for(r=0;r<this.outputLayers.length;r++){a=this.outputLayers[r],w=this.outputLayersNodeIndices[r],y=this.outputLayersTensorIndices[r];var O=a.name+"_"+w+"_"+y;k.push(O);}for(r=0;r<k.length;r++){var S=k[r];Zr(S in n),x.push(n[S]);}return ea(x);},t.prototype.runInternalGraph=function(e,t){null==t&&(t=Qr(null,e.length));for(var n={},r=0;r<this.inputs.length;++r){var a=this.inputs[r],i=e[r],o=t[r];n[a.id]=[i,o];}for(var s=0,u=Object.keys(this.nodesByDepth).map(function(e){return parseInt(e,10);}).sort(fa);s<u.length;s++){for(var c=u[s],l=0,f=this.nodesByDepth[c];l<f.length;l++){for(var p=f[l],h=p.outboundLayer,d=p.inputTensors,m=p.outputTensors,g=new Array(),y=0,v=d;y<v.length;y++){(a=v[y]).id in n&&g.push(n[a.id]);}if(g.length===d.length){var b={},w=void 0,x=void 0,k=void 0,O=void 0;if(null!=p.callArgs&&(b=p.callArgs),1===g.length){var S=g[0],N=S[0],E=S[1];null==b.mask&&(b.mask=E),k=ta(h.call(N,b)),O=ta(h.computeMask(N,E)),w=[N],x=[E];}else w=g.map(function(e){return e[0];}),x=g.map(function(e){return e[1];}),null==b.mask&&(b.mask=x),k=ta(h.call(w,b)),O=ta(h.computeMask(w,x));if(h.activityRegularizer)throw new Xr("Model invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(r=0;r<m.length;++r){a=m[r],i=k[r],o=O[r],n[a.id]=[i,o];}}}}for(var I=[],T=[],A=[],C=0,P=this.outputs;C<P.length;C++){Zr((a=P[C]).id in n,"Could not compute output "+a.name+" : "+a.id);var _=n[a.id],R=_[0];o=_[1],A.push(R.shape),I.push(R),T.push(o);}return[I,T,A];},t.prototype.buildNodeConversionMap=function(e){for(var n,r={},a=0,i=this.layers;a<i.length;a++){var o=i[a];n=o instanceof t?1:0;for(var s=0;s<o.inboundNodes.length;s++){var u=t.nodeKey(o,s);u in this.containerNodes&&(r[u]=n,n+=1);}}return r;},t.prototype.getLayer=function(e,t){if(null!=t){if(this.layers.length<=t)throw new Kr("Was asked to retrieve layer at index "+t+", but model only has "+this.layers.length+" layer(s).");return this.layers[t];}if(null==e)throw new Kr("Provide either a layer name or layer index");for(var n=0,r=this.layers;n<r.length;n++){var a=r[n];if(a.name===e)return a;}throw new Kr("No such layer: "+e);},t.prototype.calculateLosses=function(){var e=this;return Object(yr.f)(function(){for(var n=[],r=0,a=e.layers;r<a.length;r++){for(var i=a[r],o=0;o<i.inboundNodes.length;++o){var s=t.nodeKey(i,o);e.containerNodes.has(s)&&n.push.apply(n,i.calculateLosses());}}return n;});},t.prototype.getConfig=function(){for(var e={name:this.name},n=this.buildNodeConversionMap(this.layers),r=[],a=0,i=this.layers;a<i.length;a++){for(var o=(b=i[a]).getClassName(),s=b.getConfig(),u=[],c=0;c<b.inboundNodes.length;c++){var l=b.inboundNodes[c],f=t.nodeKey(b,c),p={};if(this.containerNodes.has(f)&&(l.callArgs&&(-1===JSON.stringify(l.callArgs).indexOf("undefined")?p=l.callArgs:(console.warn("Layer "+b.name+" was passed non-serializable keyword arguments: "+l.callArgs+". They will not be included in the serialized model (and thus will be missing at deserialization time)."),p={})),l.inboundLayers.length>0)){for(var h=[],d=0;d<l.inboundLayers.length;d++){var m=l.inboundLayers[d],g=l.nodeIndices[d],y=l.tensorIndices[d];null!==(x=n[t.nodeKey(m,g)])&&void 0!==x||(x=0),h.push([m.name,x,y,p]);}u.push(h);}}r.push({name:b.name,className:o,config:s,inboundNodes:u});}e.layers=r;var v=[];for(d=0;d<this.inputLayers.length;d++){var b=this.inputLayers[d];g=this.inputLayersNodeIndices[d],f=t.nodeKey(b,g),this.containerNodes.has(f)&&(null!==(x=n[f])&&void 0!==x||(x=0),y=this.inputLayersTensorIndices[d],v.push([b.name,x,y]));}e.inputLayers=v;var w=[];for(d=0;d<this.outputLayers.length;d++){var x;if(b=this.outputLayers[d],g=this.outputLayersNodeIndices[d],f=t.nodeKey(b,g),this.containerNodes.has(f))null!==(x=n[f])&&void 0!==x||(x=0),y=this.outputLayersTensorIndices[d],w.push([b.name,x,y]);}return e.outputLayers=w,e;},t.fromConfig=function(e,t){var n={},r={};function a(e,t){e.name in r?r[e.name].push(t):r[e.name]=[t];}function i(e,t){for(var r,i=[],o=0,s=t;o<s.length;o++){var u=s[o],c=u[0],l=u[1],f=u[2];if(3===u.length)r={};else{if(4!==u.length)throw new Kr("Improperly formatted model config for layer "+JSON.stringify(e)+": "+JSON.stringify(u));r=u[3];}if(!(c in n))return void a(e,t);var p=n[c];if(p.inboundNodes.length<=l)return void a(e,t);var h=p.inboundNodes[l];i.push(h.outputTensors[f]);}i.length>0&&e.apply(ea(i),r);}function o(e){var r=e.name,i=Oi(e,null!=t.customObjects?t.customObjects:{});n[r]=i;for(var o=0,s=e.inboundNodes;o<s.length;o++){var u=s[o];if(!(u instanceof Array))throw new Kr("Corrupted configuration, expected array for nodeData: "+u);a(i,u);}}for(var s=t.name,u=t.layers,c=0,l=u;c<l.length;c++){o(h=l[c]);}for(;!ha(r);){for(var f=0,p=u;f<p.length;f++){var h=p[f];if((E=n[h.name]).name in r){for(var d=0,m=r[E.name];d<m.length;d++){i(E,m[d]);}delete r[E.name];}}}for(var g=[],y=[],v=0,b=t.inputLayers;v<b.length;v++){var w=(h=b[v])[0],x=h[1],k=h[2];Zr(w in n);var O=(E=n[w]).inboundNodes[x].outputTensors;g.push(O[k]);}for(var S=0,N=t.outputLayers;S<N.length;S++){var E;w=(h=N[S])[0],x=h[1],k=h[2],Zr(w in n),O=(E=n[w]).inboundNodes[x].outputTensors,y.push(O[k]);}return new e({inputs:g,outputs:y,name:s});},Object.defineProperty(t.prototype,"stateful",{get:function get(){if(this._stateful)throw new Kr("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(var e=0,t=this.layers;e<t.length;e++){if(t[e].stateful)return!0;}return!1;},enumerable:!0,configurable:!0}),Ii([Object(qt.a)({heading:"Layers",subheading:"Classes",namespace:"layers",subclasses:["Model"]})],t.prototype,"getLayer",null),t;}(_i);function Di(e,t,n){var r=function(e){switch(e){case"float32":return"float32";default:throw new Kr("Invalid dtype: "+e);}}(e);return m.a.make(t,{values:0===t.length?n:y.flatten(n)},r);}function Li(e,t,n,r){if(!n.startsWith("2."))throw new Kr("Unsupported Keras version in weights being loaded: "+n);return t;}var zi=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}(),Fi=function Fi(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{u(r.next(e));}catch(e){i(e);}}function s(e){try{u(r.throw(e));}catch(e){i(e);}}function u(e){e.done?a(e.value):new n(function(t){t(e.value);}).then(o,s);}u((r=r.apply(e,t||[])).next());});},Bi=function Bi(e,t){var n,r,a,i,o={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1];},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this;}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;){try{if(n=1,r&&(a=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[0,a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue;}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break;}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break;}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break;}a[2]&&o.ops.pop(),o.trys.pop();continue;}i=t.call(e,o);}catch(e){i=[6,e],r=0;}finally{n=a=0;}}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0};}([i,s]);};}},Vi=function(){function e(){this.validationData=null,this.model=null;}return e.prototype.setParams=function(e){this.params=e;},e.prototype.setModel=function(e){this.model=e;},e.prototype.onEpochBegin=function(e,t){return Fi(this,void 0,void 0,function(){return Bi(this,function(e){return[2];});});},e.prototype.onEpochEnd=function(e,t){return Fi(this,void 0,void 0,function(){return Bi(this,function(e){return[2];});});},e.prototype.onBatchBegin=function(e,t){return Fi(this,void 0,void 0,function(){return Bi(this,function(e){return[2];});});},e.prototype.onBatchEnd=function(e,t){return Fi(this,void 0,void 0,function(){return Bi(this,function(e){return[2];});});},e.prototype.onTrainBegin=function(e){return Fi(this,void 0,void 0,function(){return Bi(this,function(e){return[2];});});},e.prototype.onTrainEnd=function(e){return Fi(this,void 0,void 0,function(){return Bi(this,function(e){return[2];});});},e;}(),Ui=function(){function e(e,t){void 0===t&&(t=10),null==e&&(e=[]),this.callbacks=e,this.queueLength=t;}return e.prototype.append=function(e){this.callbacks.push(e);},e.prototype.setParams=function(e){for(var t=0,n=this.callbacks;t<n.length;t++){n[t].setParams(e);}},e.prototype.setModel=function(e){for(var t=0,n=this.callbacks;t<n.length;t++){n[t].setModel(e);}},e.prototype.onEpochBegin=function(e,t){return Fi(this,void 0,void 0,function(){var n,r;return Bi(this,function(a){switch(a.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,a.label=1;case 1:return n<r.length?[4,r[n].onEpochBegin(e,t)]:[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2];}});});},e.prototype.onEpochEnd=function(e,t){return Fi(this,void 0,void 0,function(){var n,r;return Bi(this,function(a){switch(a.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,a.label=1;case 1:return n<r.length?[4,r[n].onEpochEnd(e,t)]:[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2];}});});},e.prototype.onBatchBegin=function(e,t){return Fi(this,void 0,void 0,function(){var n,r;return Bi(this,function(a){switch(a.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,a.label=1;case 1:return n<r.length?[4,r[n].onBatchBegin(e,t)]:[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2];}});});},e.prototype.onBatchEnd=function(e,t){return Fi(this,void 0,void 0,function(){var n,r;return Bi(this,function(a){switch(a.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,a.label=1;case 1:return n<r.length?[4,r[n].onBatchEnd(e,t)]:[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2];}});});},e.prototype.onTrainBegin=function(e){return Fi(this,void 0,void 0,function(){var t,n;return Bi(this,function(r){switch(r.label){case 0:null==e&&(e={}),t=0,n=this.callbacks,r.label=1;case 1:return t<n.length?[4,n[t].onTrainBegin(e)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2];}});});},e.prototype.onTrainEnd=function(e){return Fi(this,void 0,void 0,function(){var t,n;return Bi(this,function(r){switch(r.label){case 0:null==e&&(e={}),t=0,n=this.callbacks,r.label=1;case 1:return t<n.length?[4,n[t].onTrainEnd(e)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2];}});});},e;}(),Wi=function(e){function t(){return e.call(this)||this;}return zi(t,e),t.prototype.onEpochBegin=function(e,t){return Fi(this,void 0,void 0,function(){return Bi(this,function(e){return this.seen=0,this.totals={},[2];});});},t.prototype.onBatchEnd=function(e,t){return Fi(this,void 0,void 0,function(){var e,n,r,a,i=this;return Bi(this,function(o){for(a in null==t&&(t={}),e=null==t.size?0:t.size,this.seen+=e,n=function n(_n9){var a=t[_n9];"number"==typeof a?(r.totals.hasOwnProperty(_n9)||(r.totals[_n9]=0),r.totals[_n9]=r.totals[_n9]+a*e):(r.totals.hasOwnProperty(_n9)||(r.totals[_n9]=Ua(0)),Object(yr.f)(function(){i.totals[_n9]=ri(i.totals[_n9],Object(f.ib)(a,Ua(e))),Object(yr.e)(i.totals[_n9]);}));},r=this,t){n(a);}return[2];});});},t.prototype.onEpochEnd=function(e,t){return Fi(this,void 0,void 0,function(){var e,n,r,a,i,o=this;return Bi(this,function(s){if(null!=t)for(e=function e(_e2){if(null==n.totals[_e2])return"continue";"number"==typeof n.totals[_e2]?t[_e2]=n.totals[_e2]/n.seen:Object(yr.f)(function(){t[_e2]=ni(Object(f.J)(Ua(1),Ua(o.seen)),o.totals[_e2]),o.totals[_e2].dispose(),Object(yr.e)(t[_e2]);});},n=this,r=0,a=this.params.metrics;r<a.length;r++){i=a[r],e(i);}return[2];});});},t;}(Vi);function Gi(e){return Fi(this,void 0,void 0,function(){var t,n,r,a,i,o,s;return Bi(this,function(u){switch(u.label){case 0:if(null==e)return[2];for(r in t=[],n=[],e){"number"!=typeof(a=e[r])&&(i=a,t.push(i.data()),n.push(r));}return[4,Promise.all(t)];case 1:for(o=u.sent(),s=0;s<o.length;++s){e[n[s]]=o[s][0];}return[2];}});});}var qi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this;}return zi(t,e),t.prototype.onTrainBegin=function(e){return Fi(this,void 0,void 0,function(){return Bi(this,function(e){return this.epoch=[],this.history={},[2];});});},t.prototype.onEpochEnd=function(e,t){return Fi(this,void 0,void 0,function(){var n;return Bi(this,function(r){for(n in null==t&&(t={}),this.epoch.push(e),t){null==this.history[n]&&(this.history[n]=[]),this.history[n].push(t[n]);}return[2];});});},t.prototype.syncData=function(){return Fi(this,void 0,void 0,function(){var e,t,n,r,a,i,o,s,u;return Bi(this,function(c){switch(c.label){case 0:for(r in e=[],t=[],n=[],this.history){for(a=this.history[r],i=0;i<a.length;++i){"number"!=typeof a[i]&&(o=a[i],e.push(o.data()),t.push(r),n.push(i));}}return[4,Promise.all(e)];case 1:for(s=c.sent(),u=0;u<s.length;++u){this.history[t[u]][n[u]].dispose(),this.history[t[u]][n[u]]=s[u][0];}return[2];}});});},t;}(Vi),Hi=function(e){function t(t){var n=e.call(this)||this;return n.trainBegin=t.onTrainBegin,n.trainEnd=t.onTrainEnd,n.epochBegin=t.onEpochBegin,n.epochEnd=t.onEpochEnd,n.batchBegin=t.onBatchBegin,n.batchEnd=t.onBatchEnd,n;}return zi(t,e),t.prototype.onEpochBegin=function(e,t){return Fi(this,void 0,void 0,function(){return Bi(this,function(n){switch(n.label){case 0:return null==this.epochBegin?[3,3]:[4,Gi(t)];case 1:return n.sent(),[4,this.epochBegin(e,t)];case 2:n.sent(),n.label=3;case 3:return[2];}});});},t.prototype.onEpochEnd=function(e,t){return Fi(this,void 0,void 0,function(){return Bi(this,function(n){switch(n.label){case 0:return null==this.epochEnd?[3,3]:[4,Gi(t)];case 1:return n.sent(),[4,this.epochEnd(e,t)];case 2:n.sent(),n.label=3;case 3:return[2];}});});},t.prototype.onBatchBegin=function(e,t){return Fi(this,void 0,void 0,function(){return Bi(this,function(n){switch(n.label){case 0:return null==this.batchBegin?[3,3]:[4,Gi(t)];case 1:return n.sent(),[4,this.batchBegin(e,t)];case 2:n.sent(),n.label=3;case 3:return[2];}});});},t.prototype.onBatchEnd=function(e,t){return Fi(this,void 0,void 0,function(){return Bi(this,function(n){switch(n.label){case 0:return null==this.batchEnd?[3,3]:[4,Gi(t)];case 1:return n.sent(),[4,this.batchEnd(e,t)];case 2:n.sent(),n.label=3;case 3:return[2];}});});},t.prototype.onTrainBegin=function(e){return Fi(this,void 0,void 0,function(){return Bi(this,function(t){switch(t.label){case 0:return null==this.trainBegin?[3,3]:[4,Gi(e)];case 1:return t.sent(),[4,this.trainBegin(e)];case 2:t.sent(),t.label=3;case 3:return[2];}});});},t.prototype.onTrainEnd=function(e){return Fi(this,void 0,void 0,function(){return Bi(this,function(t){switch(t.label){case 0:return null==this.trainEnd?[3,3]:[4,Gi(e)];case 1:return t.sent(),[4,this.trainEnd(e)];case 2:t.sent(),t.label=3;case 3:return[2];}});});},t;}(Vi);function Ki(e,t){return Object(yr.f)(function(){var n=f.rc(si(e),t,!0),r=ni(Object(f.Sb)(Wa()),f.sb(e)),a=f.hc(f.Ya(n,r));return f.J(e,a);});}function Xi(e,t){return Object(yr.f)(function(){return f.ab(si(f.pc(t,e)),-1);});}function Ji(e,t){return Object(yr.f)(function(){return f.ab(f.a(f.pc(t,e)),-1);});}function Yi(e,t){return Object(yr.f)(function(){var n=f.pc(e,t),r=f.v(f.a(e),Wa(),Number.MAX_VALUE),a=f.a(f.J(n,r));return ni(Ua(100),f.ab(a,-1));});}function Qi(e,t){return Object(yr.f)(function(){var n=Ua(1),r=f.v(t,Wa(),Number.MAX_VALUE),a=f.La(ri(n,r)),i=f.v(e,Wa(),Number.MAX_VALUE),o=f.La(ri(n,i));return f.ab(si(f.pc(a,o)),-1);});}function Zi(e,t){return Object(yr.f)(function(){var n=Ua(0),r=Ua(1),a=f.Ya(n,f.pc(r,f.ib(e,t)));return f.ab(si(a),-1);});}function $i(e,t){return Object(yr.f)(function(){var n=Ua(0),r=Ua(1),a=f.Ya(n,f.pc(r,f.ib(e,t)));return f.ab(a,-1);});}function eo(e,t){return Object(yr.f)(function(){var n=Ua(0),r=Ua(1),a=f.rc(f.ib(e,t),-1),i=f.Wa(f.ib(f.pc(r,e),t),-1);return f.Ya(n,ri(r,f.pc(i,a)));});}function to(e,t){return Object(yr.f)(function(){var n=Ua(Math.log(2)),r=f.pc(t,e),a=f.pc(f.d(r,f.fc(ni(Ua(-2),r))),n);return f.ab(a,-1);});}function no(e,t,n){return void 0===n&&(n=!1),Object(yr.f)(function(){if(n)t=f.ec(t);else{var r=f.rc(t,Ga(t).length-1,!0);t=f.J(t,r);}return t=f.v(t,Wa(),1-Wa()),f.mb(f.rc(f.ib(e.toFloat(),f.La(t)),Ga(t).length-1));});}function ro(e,t,n){return void 0===n&&(n=!1),Object(yr.f)(function(){var r=f.V(function(e){var t=[Ta(e.shape)];return e.reshape(t);}(e)).toInt(),a=Ga(t);return no(f.qb(r,a[a.length-1]).reshape(a),t,n);});}function ao(e,t){return Object(yr.f)(function(){var n;return n=f.v(t,Wa(),1-Wa()),n=f.La(f.J(n,f.pc(f.sb(n),n))),f.ab(function(e,t){return Object(yr.f)(function(){var n=f.Ya(t,f.Ic(t)),r=f.ib(t,e),a=f.La(f.d(Ua(1),f.Q(f.mb(f.a(t)))));return f.d(f.pc(n,r),a);});}(e,n),-1);});}function io(e,t){return Object(yr.f)(function(){var n=f.v(e,Wa(),1),r=f.v(t,Wa(),1);return f.rc(f.ib(e,f.La(f.J(n,r))),-1);});}function oo(e,t){return Object(yr.f)(function(){var n=f.La(ri(Ua(Wa()),t));return f.ab(f.pc(t,f.ib(e,n)),-1);});}function so(e,t){return Object(yr.f)(function(){var n=Ki(e,-1),r=Ki(t,-1),a=f.ib(n,r);return f.mb(f.rc(a,-1));});}function uo(e){var t={meanSquaredError:Xi,meanAbsoluteError:Ji,meanAbsolutePercentageError:Yi,meanSquaredLogarithmicError:Qi,squaredHinge:Zi,hinge:$i,categoricalHinge:eo,logcosh:to,categoricalCrossentropy:no,sparseCategoricalCrossentropy:ro,binaryCrossentropy:ao,kullbackLeiblerDivergence:io,poisson:oo,cosineProximity:so};if("string"==typeof e){if(e in t)return t[e];throw new Kr("Unknown loss "+e);}return e;}function co(e,t){return Object(yr.f)(function(){var n=ni(Ua(.5),f.sb(t)),r=Ka(f.Y(t,n),e.dtype);return f.ab(f.N(e,r),-1);});}function lo(e,t){return Object(yr.f)(function(){return Ka(f.N(f.f(e,-1),f.f(t,-1)),"float32");});}function fo(e,t){return ao(e,t);}function po(e,t){throw new Xr();}var ho=Xi,mo=Xi,go=Ji,yo=Ji,vo=Yi,bo=Yi,wo=no,xo=so,ko=ro,Oo=function(){function e(t){if(this.id2Value={},t instanceof e)for(var n in t.id2Value){this.id2Value[n]=t.id2Value[n];}else{if(null==t)return;for(var r=0,a=t;r<a.length;r++){var i=a[r];this.add(i.key,i.value);}}}return e.prototype.add=function(e,t){if(function(e,t){if(null!=e.dtype&&e.dtype!==t.dtype)throw new Kr("The dtype of the feed ("+t.dtype+") is incompatible with that of the key '"+e.name+"' ("+e.dtype+").");if(null!=e.shape){if(e.shape.length!==t.shape.length)throw new Kr("The rank of feed ("+t.shape.length+") does not match the rank of the key ("+e.shape.length+").");for(var n=0;n<e.shape.length;++n){if(null!=e.shape[n]&&e.shape[n]!==t.shape[n])throw new Kr("The "+n+"-th dimension of the feed ("+t.shape[n]+") is incompatible with that of the key ("+e.shape[n]+").");}}}(e,t),null!=this.id2Value[e.id])throw new Kr("Duplicate key: name="+e.name+", id="+e.id);return this.id2Value[e.id]=t,this;},e.prototype.addFeed=function(e){this.add(e.key,e.value);},e.prototype.hasKey=function(e){return null!=this.id2Value[e.id];},e.prototype.getValue=function(e){if(null==this.id2Value[e.id])throw new Kr("Nonexistent key: "+JSON.stringify(e));return this.id2Value[e.id];},e;}();function So(e,t,n){for(var r=Array.isArray(e),a=r?e:[e],i=[],o=new Oo(t),s=0,u=a;s<u.length;s++){var c=u[s];i.push(No(c,o,n));}return r?i:i[0];}function No(e,t,n){if(t.hasKey(e))return t.getValue(e);if(e.sourceLayer instanceof Ri)throw new Kr("Missing a feed value for SymbolicTensor from InputLayer '"+Ri.name+"'");for(var r=[],a=0,i=e.inputs;a<i.length;a++){var o=No(i[a],t,n);r.push(o);}var s=e.sourceLayer.apply(r,n);Array.isArray(s)||(s=[s]);for(var u=function(e){var t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{for(var n=null,r=0;r<e.sourceLayer.inboundNodes.length;++r){for(var a=0,i=e.sourceLayer.inboundNodes[r].outputTensors;a<i.length;a++){if(i[a].id===e.id){n=r;break;}}}t=e.sourceLayer.getOutputAt(n);}return t;}(e),c=Array.isArray(u)?u:[u],l=0;l<c.length;++l){t.add(c[l],s[l]);}return 1===s.length?s[0]:s[e.outputTensorIndex];}var Eo,Io=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}(),To=function To(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;},Ao=function Ao(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{u(r.next(e));}catch(e){i(e);}}function s(e){try{u(r.throw(e));}catch(e){i(e);}}function u(e){e.done?a(e.value):new n(function(t){t(e.value);}).then(o,s);}u((r=r.apply(e,t||[])).next());});},Co=function Co(e,t){var n,r,a,i,o={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1];},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this;}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;){try{if(n=1,r&&(a=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[0,a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue;}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break;}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break;}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break;}a[2]&&o.ops.pop(),o.trys.pop();continue;}i=t.call(e,o);}catch(e){i=[6,e],r=0;}finally{n=a=0;}}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0};}([i,s]);};}};function Po(e){return Array.isArray(e);}function _o(e){return!function(e){return e instanceof m.a;}(e)&&!Po(e);}function Ro(e,t,n,r,a){if(void 0===r&&(r=!0),void 0===a&&(a=""),null==t||0===t.length){if(null!=e){var i=!1;if(Po(e)&&e.length>0)i=!0;else if(_o(e)){for(var o in e){if(e.hasOwnProperty(o)){i=!0;break;}}}else i=!0;if(i)throw new Kr("Error when checking model "+a+" expected no data, but got "+e);}return[];}if(null==e)return t.map(function(e){return null;});var s;if(_o(e)){e=e,s=[];for(var u=0,c=t;u<c.length;u++){var l=c[u];if(null==e[l])throw new Kr('No data provided for "'+l+'". Need data for each key in: '+t);s.push(e[l]);}}else if(Po(e)){if((e=e).length!==t.length)throw new Kr("Error when checking model "+a+": the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see "+t.length+" Tensor(s), but instead got the following list of Tensor(s): "+e);s=e;}else{if(e=e,t.length>1)throw new Kr("The model "+a+" expects "+t.length+" Tensor(s), but only received one Tensor. Found: Tensor with shape "+e.shape);s=[e];}for(var f=0;f<t.length;++f){1===(p=s[f]).shape.length&&(s[f]=Xa(p,1));}if(null!=n)for(f=0;f<t.length;++f){if(null!=n[f]){var p;if((p=s[f]).shape.length!==n[f].length)throw new Kr("Error when checking "+a+": expected "+t[f]+" to have "+n[f].length+" dimension(s). but got array with shape "+p.shape);for(var h=0;h<n[f].length;++h){if(0!==h||r){var d=p.shape[h],m=n[f][h];if(null!=m&&m>=0&&d!==m)throw new Kr("Error when checking "+a+": expected "+t[f]+" to have shape ["+n[f]+"], but got array with shape ["+p.shape+"].");}}}}return s;}function Mo(e,t){for(var n=[],r=0,a=null;r<e;){(a=r+t)>=e&&(a=e),n.push([r,a]),r=a;}return n;}function jo(e,t,n){return null==e?[null]:Array.isArray(e)?e.map(function(e){return Ja(e,t,n-t);}):Ja(e,t,n-t);}function Do(e,t){return null==e?null:Array.isArray(e)?e.map(function(e){return Do(e,t);}):oi(e,"int32"===t.dtype?t:t.toInt());}function Lo(e,t,n,r,a){var i;if(void 0===r&&(r=!0),void 0===a&&(a=""),Array.isArray(e)){if(e.length!==t.length)throw new Kr("Error when checking model "+a+": the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see "+t.length+" Tensor(s), but instead got "+e.length+" Tensors(s).");i=e;}else{if(t.length>1)throw new Kr("The model expects "+t.length+" "+a+" Tensors, but only received one Tensor. Found: array with shape "+JSON.stringify(e.shape)+".");i=[e];}if(null!=n)for(var o=0;o<t.length;++o){if(null!=n[o]){var s=i[o];if(s.shape.length!==n[o].length)throw new Kr("Error when checking "+a+": expected "+t[o]+" to have "+n[o].length+" dimension(s), but got array with shape "+JSON.stringify(s.shape));for(var u=0;u<n[o].length;++u){if(0!==u||r){var c=s.shape[u],l=n[o][u];if(null!=l&&l!==c)throw new Kr("Error when checking "+a+": expected "+t[o]+" to have shape "+JSON.stringify(n[o])+" but got array with shape "+JSON.stringify(s.shape)+".");}}}}}!function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE";}(Eo||(Eo={}));var zo=function(e){function t(t){return e.call(this,t)||this;}return Io(t,e),t.prototype.compile=function(e){var t=this;if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"==typeof e.optimizer)this.optimizer=function(e){var t={Adagrad:function Adagrad(){return zr.adagrad(.01);},Adam:function Adam(){return zr.adam(.001,.9,.999,Wa());},RMSProp:function RMSProp(){return zr.rmsprop(.001,.9,null,Wa());},SGD:function SGD(){return zr.sgd(.01);}};if(t.adagrad=t.Adagrad,t.adam=t.Adam,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new Kr("Unknown Optimizer "+e);}(e.optimizer);else{if(!(e.optimizer instanceof wr))throw new Kr("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer=e.optimizer;}var n=[];if(Array.isArray(e.loss)||"string"==typeof e.loss||"function"==typeof e.loss){if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new Kr("When passing an Array as loss, it should have one entry per model output. The model has "+this.outputs.length+" output(s), but you passed loss="+e.loss+".");var r=e.loss;n=r.map(function(e){return uo(e);});}else{var a=uo(e.loss);this.outputs.map(function(e){n.push(a);});}}else{for(var i in e.loss=e.loss,e.loss){if(-1===this.outputNames.indexOf(i))throw new Kr('Unknown entry in loss dictionary: "'+i+'". Only expect the following keys: '+this.outputNames);}for(var o in this.outputNames){null==e.loss[o]&&console.warn('Output "'+o+'" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to '+o+" during training"),n.push(uo(e.loss[o]));}}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(var s=0;s<this.outputs.length;++s){var u=this.internalOutputShapes[s],c=this.outputNames[s];this.feedOutputNames.push(c),this.feedOutputShapes.push(u),this.feedLossFns.push(this.lossFunctions[s]);}var l=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],ci("loss",function(){for(var e=0;e<t.outputs.length;++e){if(-1===l.indexOf(e)){var n=t.lossFunctions[e];t.outputs.length>1&&(t.metricsTensors.push([n,e]),t.metricsNames.push(t.outputNames[e]+"_loss"));}}});var f=function(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map(function(e){return[];});if(Array.isArray(e))return t.map(function(t){return e;});if(null!=e){for(var n=[],r=0,a=t;r<a.length;r++){var i=a[r],o=e.hasOwnProperty(i)?e[i]:[];Array.isArray(o)||(o=[o]),n.push(o);}return n;}throw new TypeError("Type of metrics argument not understood. Expected an Array or Object, found: "+e);}(e.metrics,this.outputNames);ci("metric",function(){for(var e=function e(_e3){if(-1!==l.indexOf(_e3))return"continue";!function(n){for(var r,a,i,o=function o(n){if(-1!==["accuracy","acc","crossentropy","ce"].indexOf(n)){var o=t.internalOutputShapes[_e3];1===o[o.length-1]||t.lossFunctions[_e3]===ao?-1!==["accuracy","acc"].indexOf(n)?a=co:-1!==["crossentropy","ce"].indexOf(n)&&(a=fo):t.lossFunctions[_e3]===ro?-1!==["accuracy","acc"].indexOf(n)?a=po:-1!==["crossentropy","ce"].indexOf(n)&&(a=ko):-1!==["accuracy","acc"].indexOf(n)?a=lo:-1!==["crossentropy","ce"].indexOf(n)&&(a=wo);var s=void 0;-1!==["accuracy","acc"].indexOf(n)?s="acc":-1!==["crossentropy","ce"].indexOf(n)&&(s="ce"),i=a,r=""+s;}else{var u=function(e){var t={binaryAccuracy:co,categoricalAccuracy:lo,categoricalCrossentropy:wo,sparseCategoricalCrossentropy:ko,mse:ho,MSE:mo,mae:go,MAE:yo,mape:vo,MAPE:bo,cosine:xo};if("string"==typeof e&&(e in t))return t[e];if("string"!=typeof e&&null!=e)return e;throw new Kr("Unknown metric "+e);}(n);i=u,r=""+n;}var c;ci(r,function(){c=i;}),function(e,n,r){t.outputNames.length>1&&(n=t.outputNames[e]+"_"+n),t.metricsNames.push(n),t.metricsTensors.push([r,e]);}(_e3,r,c);},s=0,u=f[_e3];s<u.length;s++){o(u[s]);}}();},n=0;n<t.outputs.length;++n){e(n);}}),this.collectedTrainableWeights=this.trainableWeights;},t.prototype.checkTrainableWeightsConsistency=function(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?");},t.prototype.evaluate=function(e,t,n){void 0===n&&(n={});var r=null==n.batchSize?32:n.batchSize,a=this.standardizeUserData(e,t,!0,r),i=a[0].concat(a[1]);this.makeTestFunction();var o=this.testFunction;return ea(this.testLoop(o,i,r,n.verbose,n.steps));},t.prototype.checkNumSamples=function(e,t,n,r){var a;if(void 0===r&&(r="steps"),null!=n){if(a=null,null!=t)throw new Kr("If "+r+" is set, batchSize must be null or undefined.Got batchSize = "+t);}else{if(null==e)throw new Kr("Either the input data should have a defined shape, or "+r+" shoud be specified.");a=Array.isArray(e)?e[0].shape[0]:e.shape[0];}return a;},t.prototype.predictLoop=function(e,t,n){var r=this;void 0===t&&(t=32),void 0===n&&(n=!1);var a=this.checkNumSamples(e);if(n)throw new Xr("Verbose predictLoop() is not implemented yet.");for(var i=Mo(a,t),o=[],s=function s(t){var n=yr.f(function(){var n=i[t][0],a=i[t][1],o=jo(e,n,a),s=[];if(Array.isArray(o))for(var u=0;u<o.length;++u){s.push({key:r.inputs[u],value:o[u]});}else s.push({key:r.inputs[0],value:o});var c=new Oo(s);return So(r.outputs,c);});if(0===t)for(var a=0,s=n;a<s.length;a++){var u=s[a];o.push(u);}else for(var c=0;c<n.length;++c){o[c]=$a(o[c],n[c]);}},u=0;u<i.length;++u){s(u);}return ea(o);},t.prototype.predict=function(e,t){void 0===t&&(t={}),Lo(e,this.inputNames,this.feedInputShapes,!1);var n=null==t.batchSize?32:t.batchSize;return this.predictLoop(e,n);},t.prototype.predictOnBatch=function(e){return Lo(e,this.inputNames,this.feedInputShapes,!0),this.predictLoop(e,e.shape[0]);},t.prototype.standardizeUserData=function(e,t,n,r){if(void 0===n&&(n=!0),null==this.optimizer)throw new Hr("You must compile a model before training/testing. Use Model.compile(modelCompileConfig).");for(var a=[],i=0;i<this.feedOutputShapes.length;++i){var o=this.feedOutputShapes[i];this.feedLossFns[i]===ro?a.push(o.slice(0,o.length-1).concat([1])):a.push(o);}if(function(e,t,n){var r=pa(e.map(function(e){return e.shape[0];}));r.sort();var a=pa(t.map(function(e){return e.shape[0];}));if(a.sort(),r.length>1)throw new Kr("All input Tensors (x) should have the same number of samples. Got array shapes: "+JSON.stringify(e.map(function(e){return e.shape;})));if(a.length>1)throw new Kr("All target Tensors (y) should have the same number of samples. Got array shapes: "+JSON.stringify(t.map(function(e){return e.shape;})));if(r.length>0&&a.length>0&&!y.arraysEqual(r,a))throw new Kr("Input Tensors should have the same number of samples as target Tensors. Found "+r[0]+" input sample(s) and "+a[0]+" target sample(s).");}(e=Ro(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=Ro(t,this.feedOutputNames,a,!1,"target")),function(e,t,n){for(var r=[Xi,ao,no],a=0;a<e.length;++a){var i=e[a],o=t[a],s=n[a];if(null!=o){if(o===no&&1===i.shape[i.shape.length-1])throw new Kr("You are passing a target array of shape "+i.shape+" while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(-1!==r.indexOf(o))for(var u=i.shape.slice(1),c=s.slice(1),l=0;l<u.length;++l){var f=u[l],p=c[l];if(null!=p&&f!==p)throw new Kr("A target Tensor with shape "+i.shape+" was passed for an output of shape "+s+", while using a loss function that expects targets to have the same shape as the output.");}}}}(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=r&&r>0&&e[0].shape[0]%r!=0)throw new Kr("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+r+". Found: "+e[0].shape[0]+" sample(s).");return[e,t,null];},t.prototype.fitLoop=function(e,t,n,r,a,i,o,s,u,c,l,p,h,d){return void 0===p&&(p=0),Ao(this,void 0,void 0,function(){var m,g,v,b,w,x,k,O=this;return Co(this,function(S){switch(S.label){case 0:if(null==r&&(r=32),null==a&&(a=1),null==c&&(c=!0),null==p&&(p=0),m=!1,null!=s&&null!=u&&(m=!0),null!=d&&(m=!0,null==h))throw new Kr("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");if(null!=(g=this.checkNumSamples(t,r,h,"steps_per_epoch"))&&(v=_a(0,g)),this.history=new qi(),o=(o=null==o?[new Wi()]:[new Wi()].concat(o)).concat([this.history]),i>0)throw new Xr("Verbose mode is not implemented yet.");return(b=new Ui(o)).setModel(this),b.setParams({epochs:a,steps:h,verbose:i,doValidation:m,metrics:l}),[4,b.onTrainBegin()];case 1:S.sent(),this.stopTraining=!1,w=function w(a){var i,o,l,p,d;return Co(this,function(w){switch(w.label){case 0:return[4,b.onEpochBegin(a)];case 1:if(w.sent(),i={},null==h)return[3,2];throw new Xr("stepsPerEpoch mode is not implemented yet.");case 2:if("batch"===c)throw new Xr("batch shuffling is not implemneted yet");c&&y.shuffle(v),o=Object(f.vc)(v),l=Mo(g,r),p=function p(a){var c;return Co(this,function(f){switch(f.label){case 0:return c={},[4,b.onBatchBegin(a,c)];case 1:return f.sent(),yr.f(function(){var f=l[a][0],p=l[a][1],h=Ja(o,f,p-f);c.batch=a,c.size=p-f;for(var d=Do(t,h),g=e(d),y=0;y<n.length;++y){var v=n[y],b=g[y];c[v]=b,yr.e(b);}if(a===l.length-1&&m){var w=O.testLoop(s,u,r);for(y=0;y<n.length;++y){v=n[y],b=w[y],yr.e(b),i["val_"+v]=b;}}}),[4,b.onBatchEnd(a,c)];case 2:return f.sent(),function(e){if(null!=e)for(var t in e){var n=e[t];"number"!=typeof n&&n.dispose();}}(c),x.stopTraining?[2,"break"]:[2];}});},d=0,w.label=3;case 3:return d<l.length?[5,p(d)]:[3,6];case 4:if("break"===w.sent())return[3,6];w.label=5;case 5:return++d,[3,3];case 6:o.dispose(),w.label=7;case 7:return[4,b.onEpochEnd(a,i)];case 8:return w.sent(),x.stopTraining?[2,"break"]:[2];}});},x=this,k=p,S.label=2;case 2:return k<a?[5,w(k)]:[3,5];case 3:if("break"===S.sent())return[3,5];S.label=4;case 4:return++k,[3,2];case 5:return[4,b.onTrainEnd()];case 6:return S.sent(),[4,this.history.syncData()];case 7:return S.sent(),[2,this.history];}});});},t.prototype.testLoop=function(e,t,n,r,a){void 0===r&&(r=0);var i=this.checkNumSamples(t,n,a,"steps"),o=[];if(1===r)throw new Xr("Verbose mode is not implemented yet.");if(null!=a)throw new Xr("steps mode in testLoop() is not implemented yet");for(var s=Mo(i,n),u=Object(f.vc)(_a(0,i)),c=0;c<s.length;++c){var l=s[c][0],p=s[c][1],h=e(Do(t,Ja(u,l,p-l)));if(0===c)for(var d=0;d<h.length;++d){o.push(Ua(0));}for(d=0;d<h.length;++d){var m=h[d];o[d]=f.d(o[d],ni(Ua(p-l),m));}}for(d=0;d<o.length;++d){o[d]=f.J(o[d],Ua(i));}return o;},t.prototype.getDedupedMetricsNames=function(){for(var e=this.metricsNames,t=[],n=0;n<e.length;++n){var r=e[n],a=r;$r(e,r)>1&&(a+="_"+$r(e.slice(0,n),r)),t.push(a);}return t;},t.prototype.makeTestFunction=function(){var e=this;this.testFunction=function(t){return yr.f(function(){for(var n,r=[],a=t.slice(0,e.inputs.length),i=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),o=[],s=0;s<e.inputs.length;++s){o.push({key:e.inputs[s],value:a[s]});}var u=new Oo(o),c=So(e.outputs,u);for(s=0;s<e.lossFunctions.length;++s){var l=e.lossFunctions[s],p=f.ab(l(i[s],c[s]));n=0===s?p:f.d(n,p),r.push(n);}for(s=0;s<e.metricsTensors.length;++s){var h=e.metricsTensors[s][0],d=e.metricsTensors[s][1],m=f.ab(h(i[d],c[d]));r.push(m);}return r;});};},t.prototype.fit=function(e,t,n){return void 0===n&&(n={}),Ao(this,void 0,void 0,function(){var r,a,i,o,s,u,c,l,p,h,d,m,g,y,v,b,w,x,k,O=this;return Co(this,function(S){switch(S.label){case 0:if(r=null==n.batchSize?32:n.batchSize,a=this.standardizeUserData(e,t,!1,r),i=a[0],o=a[1],s=!1,p=!1,null!=n.validationData&&n.validationData.length>0){if(s=!0,2!==n.validationData.length)throw 3===n.validationData.length?new Xr("validationData including sample weights is not supported yet."):new Kr("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+n.validationData+" is invalid.");u=n.validationData[0],c=n.validationData[1],h=this.standardizeUserData(u,c,!0,r),u=h[0],c=h[1],l=u.concat(c);}else null!=n.validationSplit&&n.validationSplit>0&&n.validationSplit<1?(s=!0,d=Math.floor(i[0].shape[0]*(1-n.validationSplit)),m=i[0].shape[0],u=jo(i,d,m),i=jo(i,0,d),c=jo(o,d,m),o=jo(o,0,d),p=!0,l=u.concat(c)):null!=n.validationSteps&&(s=!0);return g=i.concat(o),this.checkTrainableWeightsConsistency(),y=function y(e){var t=[],n=[],r=e.slice(0,O.inputs.length),a=e.slice(O.inputs.length,O.inputs.length+O.outputs.length),i=[],o=O.collectedTrainableWeights.map(function(e){return e.read();});return[O.optimizer.minimize(function(){for(var e=[],o=0;o<O.inputs.length;++o){e.push({key:O.inputs[o],value:r[o]});}var s,u=new Oo(e),c=So(O.outputs,u,{training:!0});for(o=0;o<O.lossFunctions.length;++o){var l=(0,O.lossFunctions[o])(a[o],c[o]);t.push(l);var p=f.ab(l);n.push(p),s=0===o?l:f.d(s,l);}for(o=0;o<O.metricsTensors.length;++o){var h=O.metricsTensors[o][0],d=O.metricsTensors[o][1],m=f.ab(h(a[d],c[d]));yr.e(m),i.push(m);}return s=f.ab(s),O.calculateLosses().forEach(function(e){s=f.d(s,e);}),s;},!0,o)].concat(i);},v=this.getDedupedMetricsNames(),s?(this.makeTestFunction(),b=this.testFunction,w=v.slice().concat(v.map(function(e){return"val_"+e;}))):(b=null,l=[],w=v.slice()),x=function(e){return null==e?null:e instanceof Vi?[e]:Array.isArray(e)&&e[0]instanceof Vi?e:ta(e).map(function(e){return new Hi(e);});}(n.callbacks),[4,this.fitLoop(y,g,v,r,n.epochs,n.verbose,x,b,l,n.shuffle,w,null,null,null)];case 1:return k=S.sent(),p&&(l.forEach(function(e){return e.dispose();}),i.forEach(function(e){return e.dispose();}),o.forEach(function(e){return e.dispose();})),[2,k];}});});},t.prototype.getNamedWeights=function(e){for(var t={},n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,a=this.getWeights(n),i=0;i<r.length;++i){n&&!r[i].trainable||(t[r[i].originalName]=a[i]);}return t;},t.prototype.save=function(e,t){return Ao(this,void 0,void 0,function(){var n,r,a,o,s;return Co(this,function(u){switch(u.label){case 0:if("string"==typeof e){if(0===(n=i.getSaveHandlers(e)).length)throw new Kr("Cannot find any save handlers for URL '"+e+"'");if(n.length>1)throw new Kr("Found more than one ("+n.length+") save handlers for URL '"+e+"'");e=n[0];}if(null==e.save)throw new Kr("Model.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return[4,i.encodeWeights(this.getNamedWeights(t))];case 1:return r=u.sent(),a=!1,o=null,s=this.toJSON(o,a),[2,e.save({modelTopology:s,weightData:r.data,weightSpecs:r.specs})];}});});},t.className="Model",To([Object(qt.a)({heading:"Models",subheading:"Classes",configParamIndices:[0]})],t.prototype,"compile",null),To([Object(qt.a)({heading:"Models",subheading:"Classes",configParamIndices:[2]})],t.prototype,"evaluate",null),To([Object(qt.a)({heading:"Models",subheading:"Classes",configParamIndices:[1]})],t.prototype,"predict",null),To([Object(qt.a)({heading:"Models",subheading:"Classes"})],t.prototype,"predictOnBatch",null),To([Object(qt.a)({heading:"Models",subheading:"Classes",configParamIndices:[2]})],t.prototype,"fit",null),To([Object(qt.a)({heading:"Models",subheading:"Classes"})],t);}(ji);o.SerializationMap.register(zo);var Fo=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}(),Bo=["fanIn","fanOut","fanAvg"],Vo=["normal","uniform"],Uo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this;}return Fo(t,e),t.prototype.fromConfigUsesCustomObjects=function(){return!1;},t.prototype.getConfig=function(){return{};},function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;}([Object(qt.a)({heading:"Initializers",subheading:"Classes",namespace:"initializers"})],t);}(o.Serializable),Wo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this;}return Fo(t,e),t.prototype.apply=function(e,t){return Object(f.Hc)(e,t);},t.className="Zeros",t;}(Uo);o.SerializationMap.register(Wo);var Go=function(e){function t(){return null!==e&&e.apply(this,arguments)||this;}return Fo(t,e),t.prototype.apply=function(e,t){return Object(f.rb)(e,t);},t.className="Ones",t;}(Uo);o.SerializationMap.register(Go);var qo=function(e){function t(t){var n=e.call(this)||this;return n.value=t.value,n;}return Fo(t,e),t.prototype.apply=function(e,t){var n=this;return Object(yr.f)(function(){return ni(Object(f.Sb)(n.value),Object(f.rb)(e,t));});},t.prototype.getConfig=function(){return{value:this.value};},t.className="Constant",t;}(Uo);o.SerializationMap.register(qo);var Ho=function(e){function t(t){var n=e.call(this)||this;return n.DEFAULT_MINVAL=-.05,n.DEFAULT_MAXVAL=.05,n.minval=t.minval||n.DEFAULT_MINVAL,n.maxval=t.maxval||n.DEFAULT_MAXVAL,n.seed=t.seed,n;}return Fo(t,e),t.prototype.apply=function(e,t){return Object(f.Gb)(e,this.minval,this.maxval,t);},t.prototype.getConfig=function(){return{minval:this.minval,maxval:this.maxval,seed:this.seed};},t.className="RandomUniform",t;}(Uo);o.SerializationMap.register(Ho);var Ko=function(e){function t(t){var n=e.call(this)||this;return n.DEFAULT_MEAN=0,n.DEFAULT_STDDEV=.05,n.mean=t.mean||n.DEFAULT_MEAN,n.stddev=t.stddev||n.DEFAULT_STDDEV,n.seed=t.seed,n;}return Fo(t,e),t.prototype.apply=function(e,t){if("bool"===t)throw new Xr("randomNormal does not support dType bool.");return ai(e,this.mean,this.stddev,t,this.seed);},t.prototype.getConfig=function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed};},t.className="RandomNormal",t;}(Uo);o.SerializationMap.register(Ko);var Xo=function(e){function t(t){var n=e.call(this)||this;return n.DEFAULT_MEAN=0,n.DEFAULT_STDDEV=.05,n.mean=t.mean||n.DEFAULT_MEAN,n.stddev=t.stddev||n.DEFAULT_STDDEV,n.seed=t.seed,n;}return Fo(t,e),t.prototype.apply=function(e,t){if("bool"===t)throw new Xr("truncatedNormal does not support dType bool.");return Object(f.Cc)(e,this.mean,this.stddev,t,this.seed);},t.prototype.getConfig=function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed};},t.className="TruncatedNormal",t;}(Uo);o.SerializationMap.register(Xo);var Jo=function(e){function t(t){var n=e.call(this)||this;return n.gain=null!=t.gain?Object(f.Sb)(t.gain):Ua(1),n;}return Fo(t,e),t.prototype.apply=function(e,t){var n=this;return Object(yr.f)(function(){if(2!==e.length||e[0]!==e[1])throw new Kr("Identity matrix initializer can only be used for 2D square matrices.");return ni(n.gain,Object(f.T)(e[0]));});},t.prototype.getConfig=function(){return{gain:this.gain.get()};},t.className="Identity",t;}(Uo);o.SerializationMap.register(Jo);var Yo=function(e){function t(t){var n=e.call(this)||this;if(t.scale<0)throw new Kr("scale must be a positive float. Got: "+t.scale);return n.scale=null==t.scale?1:t.scale,n.mode=t.mode,function(e){da(Bo,"FanMode",e);}(n.mode),n.distribution=t.distribution,function(e){da(Vo,"Distribution",e);}(n.distribution),n.seed=t.seed,n;}return Fo(t,e),t.prototype.apply=function(e,t){var n=function(e,t){var n,r;if(void 0===t&&(t="channelsLast"),ya(t),2===e.length)n=e[0],r=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===t){var a=Ta(e,2);n=e[1]*a,r=e[0]*a;}else"channelsLast"===t&&(a=Ta(e,0,e.length-2),n=e[e.length-2]*a,r=e[e.length-1]*a);}else{var i=Ta(e);n=Math.sqrt(i),r=Math.sqrt(i);}return[n,r];}(e),r=n[0],a=n[1],i=this.scale;if("fanIn"===this.mode?i/=Math.max(1,r):"fanOut"===this.mode?i/=Math.max(1,a):i/=Math.max(1,(r+a)/2),"normal"===this.distribution){var o=Math.sqrt(i);if("bool"===t)throw new Xr(this.getClassName()+" does not support dType bool.");return Object(f.Cc)(e,0,o,t,this.seed);}var s=Math.sqrt(3*i);return Object(f.Gb)(e,-s,s,t);},t.prototype.getConfig=function(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed};},t.className="VarianceScaling",t;}(Uo);o.SerializationMap.register(Yo);var Qo=function(e){function t(t){return e.call(this,{scale:1,mode:"fanAvg",distribution:"uniform",seed:null==t?null:t.seed})||this;}return Fo(t,e),t.prototype.getClassName=function(){return Yo.className;},t;}(Yo),Zo=function(e){function t(t){return e.call(this,{scale:1,mode:"fanAvg",distribution:"normal",seed:null==t?null:t.seed})||this;}return Fo(t,e),t.prototype.getClassName=function(){return Yo.className;},t;}(Yo),$o=function(e){function t(t){return e.call(this,{scale:2,mode:"fanIn",distribution:"normal",seed:null==t?null:t.seed})||this;}return Fo(t,e),t.prototype.getClassName=function(){return Yo.className;},t;}(Yo),es=function(e){function t(t){return e.call(this,{scale:1,mode:"fanIn",distribution:"normal",seed:null==t?null:t.seed})||this;}return Fo(t,e),t.prototype.getClassName=function(){return Yo.className;},t;}(Yo),ts=function(e){function t(t){var n=e.call(this)||this;if(n.DEFAULT_GAIN=1,n.gain=null==t.gain?n.DEFAULT_GAIN:t.gain,n.seed=t.seed,null!=n.seed)throw new Xr("Random seed is not implemented for Orthogonal Initializer yet.");return n;}return Fo(t,e),t.prototype.apply=function(e,t){var n=this;return Object(yr.f)(function(){if(2!==e.length)throw new Xr("The Orthogonal Initializer does not support non-2D shapes yet.");e[0]*e[1]>2e3&&console.warn("Orthogonal initializer is being called on a matrix with more than 2000 ("+e[0]*e[1]+") elements: Slowness may result.");var t=ai(e[0]>e[1]?[e[1],e[0]]:e,0,1,"float32"),r=f.Ia.gramSchmidt(t);return e[0]>e[1]&&(r=r.transpose()),ni(Ua(n.gain),r);});},t.prototype.getConfig=function(){return{gain:this.gain,seed:this.seed};},t.className="Orthogonal",t;}(Uo);o.SerializationMap.register(ts);var ns={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",identity:"Identity",leCunNormal:"LeCunNormal",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function rs(e,t){return void 0===t&&(t={}),ua(e,o.SerializationMap.getMap().classNameMap,t,"initializer");}function as(e){return sa(e);}function is(e){if("string"==typeof e){var t=e in ns?ns[e]:e;return"GlorotUniform"===t?new Qo():"GlorotNormal"===t?new Zo():"HeNormal"===t?new $o():"LeCunNormal"===t?new es():rs({className:t,config:{}});}return e instanceof Uo?e:rs(e);}var os=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}(),ss=function(e){function t(){return null!==e&&e.apply(this,arguments)||this;}return os(t,e),t.prototype.getConfig=function(){return{};},t;}(o.Serializable),us=function(e){function t(){return null!==e&&e.apply(this,arguments)||this;}return os(t,e),t.prototype.apply=function(e,t){return void 0===t&&(t=1),function(e,t){if(void 0===t&&(t=1),1!==t)throw new Xr("Support for alpha values other than 1 ("+t+") is not implemented yet.");return f.M(e);}(e,t);},t.className="elu",t;}(ss);o.SerializationMap.register(us);var cs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this;}return os(t,e),t.prototype.apply=function(e){return f.Tb(e);},t.className="selu",t;}(ss);o.SerializationMap.register(cs);var ls=function(e){function t(){return null!==e&&e.apply(this,arguments)||this;}return os(t,e),t.prototype.apply=function(e){return f.Jb(e);},t.className="relu",t;}(ss);o.SerializationMap.register(ls);var fs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this;}return os(t,e),t.prototype.apply=function(e){return Object(yr.f)(function(){return f.cb(Ua(6),f.Jb(e));});},t.className="relu6",t;}(ss);o.SerializationMap.register(fs);var ps=function(e){function t(){return null!==e&&e.apply(this,arguments)||this;}return os(t,e),t.prototype.apply=function(e){return e;},t.className="linear",t;}(ss);o.SerializationMap.register(ps);var hs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this;}return os(t,e),t.prototype.apply=function(e){return f.Vb(e);},t.className="sigmoid",t;}(ss);o.SerializationMap.register(hs);var ds=function(e){function t(){return null!==e&&e.apply(this,arguments)||this;}return os(t,e),t.prototype.apply=function(e){return function(e){return Object(yr.f)(function(){var t=ri(Ua(.5),ni(Ua(.2),e));return f.v(t,0,1);});}(e);},t.className="hardSigmoid",t;}(ss);o.SerializationMap.register(ds);var ms=function(e){function t(){return null!==e&&e.apply(this,arguments)||this;}return os(t,e),t.prototype.apply=function(e){return f.fc(e);},t.className="softplus",t;}(ss);o.SerializationMap.register(ms);var gs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this;}return os(t,e),t.prototype.apply=function(e){return function(e){return Object(yr.f)(function(){return f.J(e,f.d(Ua(1),f.a(e)));});}(e);},t.className="softsign",t;}(ss);o.SerializationMap.register(gs);var ys=function(e){function t(){return null!==e&&e.apply(this,arguments)||this;}return os(t,e),t.prototype.apply=function(e){return f.tc(e);},t.className="tanh",t;}(ss);o.SerializationMap.register(ys);var vs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this;}return os(t,e),t.prototype.apply=function(e,t){return void 0===t&&(t=-1),f.ec(e,t);},t.className="softmax",t;}(ss);function bs(e){return e.getClassName();}function ws(e,t){return void 0===t&&(t={}),ua(e,o.SerializationMap.getMap().classNameMap,t,"activation");}function xs(e){return null==e?ws({className:"linear",config:{}}):"string"==typeof e?ws({className:e,config:{}}):e instanceof ss?e:ws(e);}o.SerializationMap.register(vs);var ks=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}(),Os=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.DEFAULT_ALPHA=.3,null==t&&(t={}),n.alpha=null==t.alpha?n.DEFAULT_ALPHA:t.alpha,n;}return ks(t,e),t.prototype.call=function(e,t){var n=ca(e);return Object(f.Da)(n,this.alpha);},t.prototype.computeOutputShape=function(e){return e;},t.prototype.getConfig=function(){var t={alpha:this.alpha},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t;},t.className="LeakyReLU",t;}(_i);o.SerializationMap.register(Os);var Ss=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;if(n.DEFAULT_ALPHA=1,null==t&&(t={}),null!=t.alpha&&t.alpha!==n.DEFAULT_ALPHA)throw new Xr("Non-default alpha value ("+t.alpha+") is not supported by the ELU layer yet.");return n.alpha=null==t.alpha?n.DEFAULT_ALPHA:t.alpha,n;}return ks(t,e),t.prototype.call=function(e,t){var n=ca(e);return Object(f.M)(n);},t.prototype.computeOutputShape=function(e){return e;},t.prototype.getConfig=function(){var t={alpha:this.alpha},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t;},t.className="ELU",t;}(_i);o.SerializationMap.register(Ss);var Ns=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.DEFAULT_THETA=1,null==t&&(t={}),n.theta=null==t.theta?n.DEFAULT_THETA:t.theta,n.thetaTensor=Ua(n.theta),n;}return ks(t,e),t.prototype.call=function(e,t){var n=ca(e);return n.mul(Ka(n.greater(this.thetaTensor),"float32"));},t.prototype.computeOutputShape=function(e){return e;},t.prototype.getConfig=function(){var t={theta:this.theta},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t;},t.className="ThresholdedReLU",t;}(_i);o.SerializationMap.register(Ns);var Es=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.DEFAULT_AXIS=1,null==t&&(t={}),n.softmax=new vs().apply,n.axis=null==t.axis?n.DEFAULT_AXIS:t.axis,n;}return ks(t,e),t.prototype.call=function(e,t){var n=ca(e);return this.softmax(n,this.axis);},t.prototype.computeOutputShape=function(e){return e;},t.prototype.getConfig=function(){var t={axis:this.axis},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t;},t.className="Softmax",t;}(_i);o.SerializationMap.register(Es);var Is=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}(),Ts=function(e){function t(){return null!==e&&e.apply(this,arguments)||this;}return Is(t,e),t;}(o.Serializable),As=function(e){function t(t){var n=e.call(this)||this,r=null==t||null==t.l1?.01:t.l1,a=null==t||null==t.l2?.01:t.l2;return n.hasL1=0!==r,n.hasL2=0!==a,n.l1=Ua(r),n.l2=Ua(a),n;}return Is(t,e),t.prototype.apply=function(e){var t=this;return Object(yr.f)(function(){var n=Object(f.Hc)([1]);return t.hasL1&&(n=Object(f.d)(n,Object(f.rc)(ni(t.l1,Object(f.a)(e))))),t.hasL2&&(n=Object(f.d)(n,Object(f.rc)(ni(t.l2,si(e))))),n.asScalar();});},t.prototype.getConfig=function(){return{l1:this.l1.dataSync()[0],l2:this.l2.dataSync()[0]};},t.fromConfig=function(e,t){return new e({l1:t.l1,l2:t.l2});},t.className="L1L2",function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;}([Object(qt.a)({heading:"Regularizers",namespace:"regularizers"})],t);}(Ts);o.SerializationMap.register(As);var Cs={l1l2:"L1L2"};function Ps(e){return sa(e);}function _s(e,t){return void 0===t&&(t={}),ua(e,o.SerializationMap.getMap().classNameMap,t,"regularizer");}function Rs(e){return null==e?null:"string"==typeof e?_s({className:e in Cs?Cs[e]:e,config:{}}):e instanceof Ts?e:_s(e);}function Ms(e,t,n){if("number"==typeof e)return Qr(e,t);if(e.length!==t)throw new Kr("The "+n+" argument must be a tuple of "+t+" integers. Received: "+e.length+" elements.");for(var r=0;r<t;++r){var a=e[r];if(!Ia(a))throw new Kr("The "+n+" argument must be a tuple of "+t+" integers. Received: "+JSON.stringify(e)+" including a non-integer number "+a);}return e;}function js(e,t,n,r,a){return void 0===a&&(a=1),null==e?e:(i="same"===n?e:e-(t+(t-1)*(a-1))+1,Math.floor((i+r-1)/r));var i;}function Ds(e,t,n,r){if(null==e)return null;if("valid"===r)e=e*t+Pa([n-t,0]);else{if("same"!==r)throw new Kr("Unsupport padding mode: "+r+".");e*=t;}return e;}var Ls=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}();function zs(e,t){return Object(yr.f)(function(){return ya(t),"channelsFirst"===t?f.Bc(e,[0,2,3,1]):e;});}var Fs=function(e){function t(t,n){var r=e.call(this,n)||this;if(r.kernel=null,r.bias=null,r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_BIAS_INITIALIZER="zeros",r.rank=t,1!==r.rank&&2!==r.rank)throw new Xr("Convolution layer for rank other than 1 or 2 ("+r.rank+") is not implemented yet.");if(r.filters=n.filters,r.kernelSize=Ms(n.kernelSize,t,"kernelSize"),r.strides=Ms(null==n.strides?1:n.strides,t,"strides"),r.padding=null==n.padding?"valid":n.padding,ba(r.padding),r.dataFormat=null==n.dataFormat?"channelsLast":n.dataFormat,ya(r.dataFormat),r.dilationRate=null==n.dilationRate?1:n.dilationRate,1===r.rank&&Array.isArray(r.dilationRate)&&1!==r.dilationRate.length)throw new Kr("dilationRate must be a number or an array of a single number for 1D convolution, but received "+JSON.stringify(r.dilationRate));if(2===r.rank)if("number"==typeof r.dilationRate)r.dilationRate=[r.dilationRate,r.dilationRate];else if(2!==r.dilationRate.length)throw new Kr("dilationRate must be a number or array of two numbers for 2D convolution, but received "+JSON.stringify(r.dilationRate));return r.activation=xs(n.activation),r.useBias=null==n.useBias||n.useBias,r.kernelInitializer=is(n.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.biasInitializer=is(n.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelConstraint=ki(n.kernelConstraint),r.biasConstraint=ki(n.biasConstraint),r.kernelRegularizer=Rs(n.kernelRegularizer),r.biasRegularizer=Rs(n.biasRegularizer),r.activityRegularizer=Rs(n.activityRegularizer),r;}return Ls(t,e),t.prototype.build=function(e){e=la(e);var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new Kr("The channel dimension of the input should be defined. Found "+e[t]);var n,r=e[t],a=this.kernelSize.concat([r,this.filters]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:(n={},n[t]=r,n)}],this.built=!0;},t.prototype.call=function(e,t){var n=this;return Object(yr.f)(function(){var t;e=ca(e);var r=null==n.bias?null:n.bias.read();if(1===n.rank)t=function(e,t,n,r,a,i,o){return void 0===r&&(r=1),void 0===a&&(a="valid"),void 0===o&&(o=1),Object(yr.f)(function(){if(null==i&&(i="channelsLast"),ya(i),3!==e.shape.length)throw new Kr("The input of a conv1dWithBias operation should be 3, but is "+e.shape.length+" instead.");if(3!==t.shape.length)throw new Kr("The kernel for a conv1dWithBias operation should be 3, but is "+t.shape.length+" instead");if(null!=n&&1!==n.shape.length)throw new Kr("The bias for a conv1dWithBias operation should be 1, but is "+t.shape.length+" instead");if("channelsFirst"===i&&(e=f.Bc(e,[0,2,1])),"causal"===a)throw new Xr("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");var s=f.C(e,t,r,"same"===a?"same":"valid","NWC",o);return null!=n&&(s=ui(s,n)),s;});}(e,n.kernel.read(),r,n.strides[0],n.padding,n.dataFormat,n.dilationRate);else if(2===n.rank)t=function(e,t,n,r,a,i,o){return void 0===r&&(r=[1,1]),void 0===a&&(a="valid"),Object(yr.f)(function(){if(null==i&&(i="channelsLast"),ya(i),3!==e.rank&&4!==e.rank)throw new Kr("conv2dWithBias expects input to be of rank 3 or 4, but received "+e.rank+".");if(3!==t.rank&&4!==t.rank)throw new Kr("conv2dWithBias expects kernel to be of rank 3 or 4, but received "+e.rank+".");var s=zs(e,i);if("causal"===a)throw new Xr("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return s=f.D(s,t,r,"same"===a?"same":"valid","NHWC",o),null!=n&&(s=ui(s,n)),"channelsFirst"===i&&(s=f.Bc(s,[0,3,1,2])),s;});}(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate);else if(3===n.rank)throw new Xr("3D convolution is not implemented yet.");return null!=n.activation&&(t=n.activation.apply(t)),t;});},t.prototype.computeOutputShape=function(e){e=la(e);for(var t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2),r=0;r<n.length;++r){var a=js(n[r],this.kernelSize[r],this.padding,this.strides[r],"number"==typeof this.dilationRate?this.dilationRate:this.dilationRate[r]);t.push(a);}var i=[e[0]];return"channelsLast"===this.dataFormat?(i=i.concat(t)).push(this.filters):(i.push(this.filters),i=i.concat(t)),i;},t.prototype.getConfig=function(){var t={rank:this.rank,filters:this.filters,kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:bs(this.activation),useBias:this.useBias,kernelInitializer:as(this.kernelInitializer),biasInitializer:as(this.biasInitializer),kernelRegularizer:Ps(this.kernelRegularizer),biasRegularizer:Ps(this.biasRegularizer),activityRegularizer:Ps(this.activityRegularizer),kernelConstraint:wi(this.kernelConstraint),biasConstraint:wi(this.biasConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t;},t;}(_i),Bs=function(e){function t(t){return e.call(this,2,t)||this;}return Ls(t,e),t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,t;},t.className="Conv2D",t;}(Fs);o.SerializationMap.register(Bs);var Vs=function(e){function t(t){var n=e.call(this,t)||this;if(n.inputSpec=[new Ti({ndim:4})],"same"!==n.padding&&"valid"!==n.padding)throw new Kr("Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode "+n.padding);return n;}return Ls(t,e),t.prototype.build=function(e){if(4!==(e=la(e)).length)throw new Kr("Input should have rank 4; Received input shape: "+JSON.stringify(e));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new Kr("The channel dimension of the inputs should be defined. Found `None`.");var n,r=e[t],a=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",a,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Ti({ndim:4,axes:(n={},n[t]=r,n)})],this.built=!0;},t.prototype.call=function(e,t){var n=this;return yr.f(function(){var t=ca(e);if(4!==t.shape.length)throw new Kr("Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-"+t.shape.length);var r,a,i=t.shape,o=i[0];"channelsFirst"===n.dataFormat?(r=2,a=3):(r=1,a=2);var s=i[r],u=i[a],c=n.kernelSize[0],l=n.kernelSize[1],p=n.strides[0],h=n.strides[1],d=[o,Ds(s,p,c,n.padding),Ds(u,h,l,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(t=f.Bc(t,[0,2,3,1]));var m=f.E(t,n.kernel.read(),d,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(m=f.Bc(m,[0,3,1,2])),null!=n.bias&&(m=ui(m,n.bias.read(),n.dataFormat)),null!=n.activation&&(m=n.activation.apply(m)),m;});},t.prototype.computeOutputShape=function(e){var t,n,r,a=(e=la(e)).slice();"channelsFirst"===this.dataFormat?(t=1,n=2,r=3):(t=3,n=1,r=2);var i=this.kernelSize[0],o=this.kernelSize[1],s=this.strides[0],u=this.strides[1];return a[t]=this.filters,a[n]=Ds(a[n],s,i,this.padding),a[r]=Ds(a[r],u,o,this.padding),a;},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.dilationRate,t;},t.className="Conv2DTranspose",t;}(Bs);o.SerializationMap.register(Vs);var Us=function(e){function t(t){return e.call(this,2,t)||this;}return Ls(t,e),t.className="SeparableConv2D",t;}(function(e){function t(t,n){var r=e.call(this,t,n)||this;if(r.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",r.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",r.depthwiseKernel=null,r.pointwiseKernel=null,null==n.filters)throw new Kr("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=n.kernelInitializer||null!=n.kernelRegularizer||null!=n.kernelConstraint)throw new Kr("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=n.padding&&"same"!==n.padding&&"valid"!==n.padding)throw new Kr("SeparableConv"+r.rank+"D supports only padding modes: 'same' and 'valid', but received "+JSON.stringify(n.padding));return r.depthMultiplier=null==n.depthMultiplier?1:n.depthMultiplier,r.depthwiseInitializer=is(n.depthwiseInitializer||r.DEFAULT_DEPTHWISE_INITIALIZER),r.depthwiseRegularizer=Rs(n.depthwiseRegularizer),r.depthwiseConstraint=ki(n.depthwiseConstraint),r.pointwiseInitializer=is(n.depthwiseInitializer||r.DEFAULT_POINTWISE_INITIALIZER),r.pointwiseRegularizer=Rs(n.pointwiseRegularizer),r.pointwiseConstraint=ki(n.pointwiseConstraint),r;}return Ls(t,e),t.prototype.build=function(e){if((e=la(e)).length<this.rank+2)throw new Kr("Inputs to SeparableConv"+this.rank+"D should have rank "+(this.rank+2)+", but received input shape: "+JSON.stringify(e));var t,n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n]||e[n]<0)throw new Kr("The channel dimension of the inputs should be defined, but found "+JSON.stringify(e[n]));for(var r=e[n],a=this.kernelSize.concat([r,this.depthMultiplier]),i=[],o=0;o<this.rank;++o){i.push(1);}i.push(r*this.depthMultiplier,this.filters),this.depthwiseKernel=this.addWeight("depthwise_kernel",a,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",i,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,!0,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.inputSpec=[new Ti({ndim:this.rank+2,axes:(t={},t[n]=r,t)})],this.built=!0;},t.prototype.call=function(e,t){var n=this;return Object(yr.f)(function(){var t;if(e=ca(e),1===n.rank)throw new Xr("1D separable convolution is not implemented yet.");return 2===n.rank&&("channelsFirst"===n.dataFormat&&(e=f.Bc(e,[0,2,3,1])),t=f.Ub(e,n.depthwiseKernel.read(),n.pointwiseKernel.read(),n.strides,n.padding,n.dilationRate,"NHWC")),n.useBias&&(t=ui(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),"channelsFirst"===n.dataFormat&&(t=f.Bc(t,[0,3,1,2])),t;});},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,delete t.kernelInitializer,delete t.kernelRegularizer,delete t.kernelConstraint,t.depthwiseInitializer=as(this.depthwiseInitializer),t.pointwiseInitializer=as(this.pointwiseInitializer),t.depthwiseRegularizer=Ps(this.depthwiseRegularizer),t.pointwiseRegularizer=Ps(this.pointwiseRegularizer),t.depthwiseConstraint=wi(this.depthwiseConstraint),t.pointwiseConstraint=wi(this.pointwiseConstraint),t;},t.className="SeparableConv",t;}(Fs));o.SerializationMap.register(Us);var Ws=function(e){function t(t){var n=e.call(this,1,t)||this;return n.inputSpec=[{ndim:3}],n;}return Ls(t,e),t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,delete t.dataFormat,t;},t.className="Conv1D",t;}(Fs);o.SerializationMap.register(Ws);var Gs=function(e){function t(t){var n=e.call(this,t)||this;return"number"==typeof t.cropping?n.cropping=[[t.cropping,t.cropping],[t.cropping,t.cropping]]:"number"==typeof t.cropping[0]?n.cropping=[[t.cropping[0],t.cropping[0]],[t.cropping[1],t.cropping[1]]]:n.cropping=t.cropping,n.dataFormat=void 0===t.dataFormat?"channelsLast":t.dataFormat,n.inputSpec=[{ndim:4}],n;}return Ls(t,e),t.prototype.computeOutputShape=function(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]];},t.prototype.call=function(e,t){var n=this;return Object(yr.f)(function(){return e=ca(e),"channelsLast"===n.dataFormat?Qa(Qa(e,n.cropping[0][0],e.shape[1]-n.cropping[0][0]-n.cropping[0][1],2),n.cropping[1][0],e.shape[2]-n.cropping[1][1]-n.cropping[1][0],3):Qa(Qa(e,n.cropping[0][0],e.shape[2]-n.cropping[0][0]-n.cropping[0][1],3),n.cropping[1][0],e.shape[3]-n.cropping[1][1]-n.cropping[1][0],4);});},t.prototype.getConfig=function(){var t={cropping:this.cropping,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t;},t.className="Cropping2D",t;}(_i);o.SerializationMap.register(Gs);var qs=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_SIZE=[2,2],n.inputSpec=[{ndim:4}],n.size=void 0===t.size?n.DEFAULT_SIZE:t.size,n.dataFormat=void 0===t.dataFormat?"channelsLast":t.dataFormat,n;}return Ls(t,e),t.prototype.computeOutputShape=function(e){if("channelsFirst"===this.dataFormat){var t=this.size[0]*e[2],n=this.size[1]*e[3];return[e[0],e[1],t,n];}return t=this.size[0]*e[1],n=this.size[1]*e[2],[e[0],t,n,e[3]];},t.prototype.call=function(e,t){var n=this;return yr.f(function(){var t=ca(e),r=t.shape;if("channelsFirst"===n.dataFormat){t=f.Bc(t,[0,2,3,1]);var a=n.size[0]*r[2],i=n.size[1]*r[3],o=t.resizeNearestNeighbor([a,i]);return f.Bc(o,[0,3,1,2]);}return a=n.size[0]*r[1],i=n.size[1]*r[2],t.resizeNearestNeighbor([a,i]);});},t.prototype.getConfig=function(){var t={size:this.size,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t;},t.className="UpSampling2D",t;}(_i);o.SerializationMap.register(qs);var Hs=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}(),Ks=function(e){function t(t){var n=e.call(this,t)||this;return n.depthwiseKernel=null,n.depthMultiplier=null==t.depthMultiplier?1:t.depthMultiplier,n.depthwiseInitializer=is(t.depthwiseInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.depthwiseConstraint=ki(t.depthwiseConstraint),n.depthwiseRegularizer=Rs(t.depthwiseRegularizer),n;}return Hs(t,e),t.prototype.build=function(e){if((e=la(e)).length<4)throw new Kr("Inputs to DepthwiseConv2D should have rank 4. Received input shape: "+JSON.stringify(e)+".");var t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new Kr("The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not ("+e[t]+").");var n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0;},t.prototype.call=function(e,t){var n=this;return Object(yr.f)(function(){var t=function(e,t,n,r,a,i){return void 0===n&&(n=[1,1]),void 0===r&&(r="valid"),Object(yr.f)(function(){null==a&&(a="channelsLast"),ya(a);var i=zs(e,a);if(4!==e.rank)throw new Kr("Input for depthwiseConv2d is required to be 4-D, but is instead "+e.rank+"-D");if(4!==t.rank)throw new Kr("depthwiseKernel is required to be 4-D, but is instead "+t.rank+"-D");return i=f.I(i,t,n,"same"===r?"same":"valid","NHWC",null),"channelsFirst"===a&&(i=f.Bc(i,[0,3,1,2])),i;});}(e=ca(e),n.depthwiseKernel.read(),n.strides,n.padding,n.dataFormat);return n.useBias&&(t=ui(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),t;});},t.prototype.computeOutputShape=function(e){e=la(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,a=js(t,this.kernelSize[0],this.padding,this.strides[0]),i=js(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],r,a,i]:[e[0],a,i,r];},t.className="DepthwiseConv2D",t;}(Bs);o.SerializationMap.register(Ks);var Xs=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}(),Js=function(e){function t(t){var n=e.call(this,t)||this;if(n.rate=Math.max(Math.min(t.rate,1),0),n.rateScalar=Ua(n.rate),n.noiseShape=t.noiseShape,n.seed=t.seed,null!=n.seed)throw new Xr("Non-default seed is not implemented in Dropout layer yet: "+n.seed);return n.supportsMasking=!0,n;}return Xs(t,e),t.prototype.getNoiseShape=function(e){if(null==this.noiseShape)return this.noiseShape;for(var t=e.shape,n=[],r=0;r<this.noiseShape.length;++r){n.push(null==this.noiseShape[r]?t[r]:this.noiseShape[r]);}return n;},t.prototype.call=function(e,t){var n=this;return Object(yr.f)(function(){n.invokeCallHook(e,t);var r=ca(e);if(null!=n.noiseShape&&!y.arraysEqual(r.shape,n.noiseShape))throw new Xr("Non-default noise shape is not implemented in Dropout layer yet: "+JSON.stringify(n.noiseShape));if(0<n.rate&&n.rate<1){var a=null!=t.training&&t.training,i=n.getNoiseShape(r);return function(e,t,n){return void 0===n&&(n=!1),n?e():r;}(function(){return function(e,t,n,r){return Object(yr.f)(function(){if(null!=n&&!y.arraysEqual(e.shape,n))throw new Xr("Non-default noise shape is not implemented yet: "+JSON.stringify(n));if(null!=r)throw new Xr("seed is not implemented for dropout yet.");var a=f.nc(f.d(f.mb(t),f.Gb(e.shape,0,1,"float32")));return a=f.ib(f.J(Ua(1),f.pc(Ua(1),t)),a),f.ib(e,a);});}(r,n.rateScalar,i,n.seed);},0,a);}return e;});},t.prototype.getConfig=function(){var t={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t;},t.className="Dropout",t;}(_i);o.SerializationMap.register(Js);var Ys=function(e){function t(t){var n=e.call(this,t)||this;if(n.activation=null,n.useBias=!0,n.kernel=null,n.bias=null,n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_BIAS_INITIALIZER="zeros",null==t.batchInputShape&&null==t.inputShape&&null!=t.inputDim){var r=null;null!=t.batchSize&&(r=t.batchSize),n.batchInputShape=[r,t.inputDim];}return n.units=t.units,n.activation=xs(t.activation),null!=t.useBias&&(n.useBias=t.useBias),n.kernelInitializer=is(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.biasInitializer=is(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelConstraint=ki(t.kernelConstraint),n.biasConstraint=ki(t.biasConstraint),n.kernelRegularizer=Rs(t.kernelRegularizer),n.biasRegularizer=Rs(t.biasRegularizer),n.activityRegularizer=Rs(t.activityRegularizer),n.inputSpec=[{minNDim:2}],n;}return Xs(t,e),t.prototype.build=function(e){var t,n=(e=la(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:(t={},t[-1]=n,t)}],this.built=!0;},t.prototype.computeOutputShape=function(e){var t=(e=la(e)).slice();return t[t.length-1]=this.units,t;},t.prototype.call=function(e,t){var n=this;return Object(yr.f)(function(){n.invokeCallHook(e,t);var r=ii(ca(e),n.kernel.read());return null!=n.bias&&(r=ui(r,n.bias.read())),null!=n.activation&&(r=n.activation.apply(r)),r;});},t.prototype.getConfig=function(){var t={units:this.units,activation:bs(this.activation),useBias:this.useBias,kernelInitializer:as(this.kernelInitializer),biasInitializer:as(this.biasInitializer),kernelRegularizer:Ps(this.kernelRegularizer),biasRegularizer:Ps(this.biasRegularizer),activityRegularizer:Ps(this.activityRegularizer),kernelConstraint:wi(this.kernelConstraint),biasConstraint:wi(this.biasConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t;},t.className="Dense",t;}(_i);o.SerializationMap.register(Ys);var Qs=function(e){function t(t){var n=e.call(this,t||{})||this;return n.inputSpec=[{minNDim:3}],n;}return Xs(t,e),t.prototype.computeOutputShape=function(e){for(var t=0,n=(e=la(e)).slice(1);t<n.length;t++){if(null==n[t])throw new Kr('The shape of the input to "Flatten" is not fully defined (got '+e.slice(1)+'). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.');}return[e[0],Ta(e,1)];},t.prototype.call=function(e,t){var n=this;return Object(yr.f)(function(){return n.invokeCallHook(e,t),function(e){if(e.rank<=1)throw new Kr("batchFlatten requires a minimum rank of 2. Got rank: "+e.rank+".");var t=[e.shape[0],Ta(e.shape,1)];return e.reshape(t);}(ca(e));});},t.className="Flatten",t;}(_i);o.SerializationMap.register(Qs);var Zs=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n.activation=xs(t.activation),n;}return Xs(t,e),t.prototype.call=function(e,t){var n=this;return Object(yr.f)(function(){n.invokeCallHook(e,t);var r=ca(e);return n.activation.apply(r);});},t.prototype.getConfig=function(){var t={activation:bs(this.activation)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t;},t.className="Activation",t;}(_i);o.SerializationMap.register(Zs);var $s=function(e){function t(t){var n=e.call(this,t)||this;return n.n=t.n,n.inputSpec=[{ndim:2}],n;}return Xs(t,e),t.prototype.computeOutputShape=function(e){return[e[0],this.n,e[1]];},t.prototype.call=function(e,t){var n=this;return Object(yr.f)(function(){return function(e,t){return Object(yr.f)(function(){if(2!==e.shape.length)throw new Kr("repeat() expects a rank-2 tensor, but received a rank-"+e.shape.length+" tensor.");return ei(Xa(e,1),[1,t,1]);});}(e=ca(e),n.n);});},t.prototype.getConfig=function(){var t={n:this.n},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t;},t.className="RepeatVector",t;}(_i);o.SerializationMap.register($s);var eu=function(e){function t(t){var n=e.call(this,t)||this;n.targetShape=t.targetShape;for(var r=0;r<n.targetShape.length;++r){n.isUnknown(n.targetShape[r])&&(n.targetShape[r]=null);}return n;}return Xs(t,e),t.prototype.isUnknown=function(e){return e<0||null==e;},t.prototype.fixUnknownDimension=function(e,t){for(var n="Total size of new array must be unchanged.",r=t.slice(),a=1,i=null,o=0;o<r.length;++o){var s=r[o];if(this.isUnknown(s)){if(null!==i)throw new Kr("Can only specifiy one unknown dimension.");i=o;}else a*=s;}var u=Ta(e);if(null!==i){if(0===a||u%a!=0)throw new Kr(n);r[i]=u/a;}else if(u!==a)throw new Kr(n);return r;},t.prototype.computeOutputShape=function(e){for(var t=!1,n=0;n<e.length;++n){if(this.isUnknown(e[n])){t=!0;break;}}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape));},t.prototype.call=function(e,t){var n=this;return Object(yr.f)(function(){n.invokeCallHook(e,t);var r=ca(e),a=Ga(r),i=a.slice(0,1).concat(n.fixUnknownDimension(a.slice(1),n.targetShape));return r.reshape(i);});},t.prototype.getConfig=function(){var t={targetShape:this.targetShape},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t;},t.className="Reshape",t;}(_i);o.SerializationMap.register(eu);var tu=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}(),nu=function(e){function t(t){var n=e.call(this,t)||this;if(n.embeddings=null,n.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==t.batchInputShape&&null==t.inputShape){var r=null;null!=t.batchSize&&(r=t.batchSize),null==t.inputLength?n.batchInputShape=[r,null]:n.batchInputShape=[r].concat(ta(t.inputLength));}return n.inputDim=t.inputDim,n.outputDim=t.outputDim,n.embeddingsInitializer=is(t.embeddingsInitializer||n.DEFAULT_EMBEDDINGS_INITIALIZER),n.embeddingsRegularizer=Rs(t.embeddingsRegularizer),n.activityRegularizer=Rs(t.activityRegularizer),n.embeddingsConstraint=ki(t.embeddingsConstraint),n.maskZero=t.maskZero,n.inputLength=t.inputLength,n;}return tu(t,e),t.prototype.build=function(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0;},t.prototype.computeMask=function(e,t){throw new Xr("computeMask has not been implemented for Embedding yet");},t.prototype.computeOutputShape=function(e){if(e=la(e),null==this.inputLength)return e.concat([this.outputDim]);var t=ta(this.inputLength);if(t.length!==e.length-1)throw new Kr('"inputLength" is '+this.inputLength+", but received input shape has shape "+e);for(var n=0,r=0;r<t.length;++r){var a=t[r],i=e[r+1];if(null!=a&&null!=i&&a!==i)throw new Kr('"inputLength" is '+this.inputLength+", but received input shape has shape "+e);null==a&&(t[n]=i),n++;}return[e[0]].concat(t,[this.outputDim]);},t.prototype.call=function(e,t){var n=this;return Object(yr.f)(function(){n.invokeCallHook(e,t);var r=ca(e);return"int32"!==Ha(r)&&(r=Ka(r,"int32")),oi(n.embeddings.read(),r.as1D()).reshape(la(n.computeOutputShape(r.shape)));});},t.prototype.getConfig=function(){var t={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:as(this.embeddingsInitializer),embeddingsRegularizer:Ps(this.embeddingsRegularizer),activityRegularizer:Ps(this.activityRegularizer),embeddingsConstraint:wi(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t;},t.className="Embedding",t;}(_i);o.SerializationMap.register(nu);var ru=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}(),au=function(e){function t(t){var n=e.call(this,t||{})||this;return n.supportsMasking=!0,n;}return ru(t,e),t.prototype.mergeFunction=function(e){throw new Xr();},t.prototype.computeElementwiseOpOutputShape=function(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;for(var n=e.slice(0,e.length-t.length),r=0;r<t.length;++r){var a=e[e.length-t.length+r],i=t[r];if(null==a||null==i||a<0||i<0)n.push(null);else if(1===a)n.push(i);else if(1===i)n.push(a);else{if(a!==i)throw new Kr("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(a);}}return n;},t.prototype.build=function(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[la(e)]),(e=e).length<2)throw new Kr("A merge layer should be called on an Array of at least 2 inputs. Got "+e.length+" input(s).");for(var t=[],n=0,r=e;n<r.length;n++){null!=(o=r[n])&&null!==o[0]&&t.push(o[0]);}if((t=pa(t)).length>1)throw new Kr("Can not merge tensors with different batch sizes. Got tensors with shapes: "+JSON.stringify(e)+".");for(var a=null==e[0]?null:e[0].slice(1),i=1;i<e.length;++i){var o=null==e[i]?null:e[i].slice(1);a=this.computeElementwiseOpOutputShape(a,o);}var s=e.map(function(e){return e.length;});-1===e.indexOf(null)&&1===pa(s).length?this.reshapeRequired=!1:this.reshapeRequired=!0;},t.prototype.call=function(e,t){var n=this;return Object(yr.f)(function(){if(e=e,n.reshapeRequired){var t=[],r=e.map(function(e){return e.rank;});if(-1===r.indexOf(null)){for(var a=Pa(r),i=0,o=e;i<o.length;i++){for(var s=(h=o[i]).rank,u=0;u<a-s;++u){h=Xa(h,1);}t.push(h);}return n.mergeFunction(t);}for(var c=!1,l=0,p=e;l<p.length;l++){var h;if(null==(s=(h=p[l]).rank)){var d=Ga(h),m=d[0],g=d.slice(1).concat([m]),y=h.reshape([m].concat(Ta(d.slice(1))));y=(y=f.Bc(y,[1,0])).reshape(g),t.push(y),c=!0;}else if(s>1){var v=_a(1,s).concat([0]);t.push(f.Bc(h,v)),c=!0;}else t.push(h);}var b=n.mergeFunction(t),w=b.rank;if(c)if(null==w){var x=Ga(b);g=[m=x[x.length-1]].concat(x.slice(0,x.length-1)),b=f.Bc(b.reshape([-1,m]),[1,0]).reshape(g);}else w>1&&(v=[w-1].concat(_a(0,w-1)),b=f.Bc(b,v));return b;}return n.mergeFunction(e);});},t.prototype.computeOutputShape=function(e){var t;t=null==(e=e)[0]?null:e[0].slice(1);for(var n=1;n<e.length;++n){var r=null==e[n]?null:e[n].slice(1);t=this.computeElementwiseOpOutputShape(t,r);}for(var a=[],i=0,o=e;i<o.length;i++){null!=(r=o[i])&&null!==r[0]&&a.push(r[0]);}return 1===(a=pa(a)).length?a.concat(t):[null].concat(t);},t;}(_i),iu=function(e){function t(t){return e.call(this,t)||this;}return ru(t,e),t.prototype.mergeFunction=function(e){return Object(yr.f)(function(){for(var t=f.Hc(e[0].shape),n=0,r=e;n<r.length;n++){var a=r[n];t=f.d(t,a);}return t;});},t.className="Add",t;}(au);o.SerializationMap.register(iu);var ou=function(e){function t(t){return e.call(this,t)||this;}return ru(t,e),t.prototype.mergeFunction=function(e){return Object(yr.f)(function(){for(var t=f.rb(e[0].shape),n=0,r=e;n<r.length;n++){var a=r[n];t=f.ib(t,a);}return t;});},t.className="Multiply",t;}(au);o.SerializationMap.register(ou);var su=function(e){function t(t){return e.call(this,t)||this;}return ru(t,e),t.prototype.mergeFunction=function(e){return Object(yr.f)(function(){for(var t=f.Hc(e[0].shape),n=0,r=e;n<r.length;n++){var a=r[n];t=f.d(t,a);}return ni(Ua(1/e.length),t);});},t.className="Average",t;}(au);o.SerializationMap.register(su);var uu=function(e){function t(t){return e.call(this,t)||this;}return ru(t,e),t.prototype.mergeFunction=function(e){return Object(yr.f)(function(){for(var t=e[0],n=1;n<e.length;++n){t=f.Ya(t,e[n]);}return t;});},t.className="Maximum",t;}(au);o.SerializationMap.register(uu);var cu=function(e){function t(t){return e.call(this,t)||this;}return ru(t,e),t.prototype.mergeFunction=function(e){return Object(yr.f)(function(){for(var t=e[0],n=1;n<e.length;++n){t=f.cb(t,e[n]);}return t;});},t.className="Minimum",t;}(au);o.SerializationMap.register(cu);var lu=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_AXIS=-1,null==t&&(t={}),n.axis=null==t.axis?n.DEFAULT_AXIS:t.axis,n.supportsMasking=!0,n.reshapeRequired=!1,n;}return ru(t,e),t.prototype.build=function(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new Kr("A `Concatenate` layer should be called on a list of at least 2 inputs");for(var t=!0,n=0,r=e=e;n<r.length;n++){if(null!=(l=r[n])){t=!1;break;}}if(!t){for(var a=[],i=0;i<e.length;++i){var o=e[i].slice();o.splice(this.axis,1);for(var s=!1,u=0,c=a;u<c.length;u++){var l=c[u];if(y.arraysEqual(l,o)){s=!0;break;}}s||a.push(o);}if(a.length>1)throw new Kr("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e));}},t.prototype.mergeFunction=function(e){var t=this;return Object(yr.f)(function(){return Za(e,t.axis);});},t.prototype.computeOutputShape=function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new Kr("A `Concatenate` layer should be called on a list of inputs.");for(var t=e,n=t[0].slice(),r=this.axis<0?n.length+this.axis:this.axis,a=0,i=t.slice(1);a<i.length;a++){var o=i[a];if(null==n[r]||null==o[r]){n[r]=null;break;}n[r]+=o[r];}return n;},t.prototype.getConfig=function(){var t={axis:this.axis},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t;},t.className="Concatenate",t;}(au);o.SerializationMap.register(lu);var fu=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}();function pu(e,t,n,r,a,i){var o;if(void 0===i&&(i=.001),2===e.rank)o=f.p(e,t,n,i,a,r);else if(3===e.rank)o=f.q(e,t,n,i,a,r);else{if(4!==e.rank)throw new Xr("batchNormalization is not implememnted for array of rank "+e.rank+" yet");o=f.r(e,t,n,i,a,r);}return o;}var hu=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n.axis=null==t.axis?-1:t.axis,n.momentum=null==t.momentum?.99:t.momentum,n.epsilon=null==t.epsilon?.001:t.epsilon,n.center=null==t.center||t.center,n.scale=null==t.scale||t.scale,n.betaInitializer=is(t.betaInitializer||"zeros"),n.gammaInitializer=is(t.gammaInitializer||"ones"),n.movingMeanInitializer=is(t.movingMeanInitializer||"zeros"),n.movingVarianceInitializer=is(t.movingVarianceInitializer||"ones"),n.betaConstraint=ki(t.betaConstraint),n.gammaConstraint=ki(t.gammaConstraint),n.betaRegularizer=Rs(t.betaRegularizer),n.gammaRegularizer=Rs(t.gammaRegularizer),n.stepCount=0,n;}return fu(t,e),t.prototype.build=function(e){e=la(e);var t=this.axis>=0?this.axis:this.axis+e.length,n=e[t];if(null==n)throw new Kr("Axis "+t+" of input tensor should have a defined dimension but the layer received an input with shape "+JSON.stringify(e)+".");this.inputSpec=[new Ti({ndim:e.length,axes:(r={},r[t]=n,r)})];var r,a=[n];this.scale&&(this.gamma=this.addWeight("gamma",a,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",a,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",a,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",a,null,this.movingVarianceInitializer,null,!1),this.built=!0;},t.prototype.call=function(e,t){var n=this;return Object(yr.f)(function(){var r=null!=t.training&&t.training,a=ca(e),i=Ga(a),o=i.length,s=_a(0,o),u=n.axis>=0?n.axis:n.axis+o;s.splice(u,1);var c=Qr(1,o);c[u]=i[u];var l=s.slice();l.sort();var p=!y.arraysEqual(l,_a(0,o).slice(0,o-1));if(!r)return function(){if(p){var e=n.movingMean.read().reshape(c),t=n.movingVariance.read().reshape(c),r=n.center?n.beta.read().reshape(c):null,i=n.scale?n.gamma.read().reshape(c):null;return pu(a,e,t,r,i,n.epsilon);}return pu(a,n.movingMean.read(),n.movingVariance.read(),null==n.beta?null:n.beta.read(),null==n.gamma?null:n.gamma.read(),n.epsilon);}();var h=function(e,t,n,r,a){return void 0===a&&(a=.001),y.arraysEqual(r.slice().sort(),_a(0,e.rank-1))?function(e,t,n,r,a){return void 0===a&&(a=.001),Object(yr.f)(function(){var i=f.gb(e,r),o=i.mean,s=i.variance;return[pu(e,o,s,n,t,a),o,s];});}(e,t,n,r,a):function(e,t,n,r,a){return void 0===a&&(a=.001),Object(yr.f)(function(){for(var i=f.gb(e,r),o=i.mean,s=i.variance,u=[],c=0,l=_a(0,e.rank);c<l.length;c++){var p=l[c];-1!==r.indexOf(p)?u.push(1):u.push(e.shape[p]);}var h=o.reshape(u),d=s.reshape(u),m=null==t?null:t.reshape(u),g=null==n?null:n.reshape(u);return[pu(e,h,d,g,m,a),o,s];});}(e,t,n,r,a);}(a,n.gamma.read(),n.beta.read(),s,n.epsilon),d=h[0],m=h[1],g=h[2],v=Ta(s.map(function(e){return a.shape[e];})),b=g.mul(Ua(v/(v-(1+n.epsilon))));return function(){n.stepCount++;var e=f.hb(n.movingMean.read(),m,n.momentum,n.stepCount);n.movingMean.write(e);var t=f.hb(n.movingVariance.read(),b,n.momentum,n.stepCount);n.movingVariance.write(t);}(),d;});},t.prototype.getConfig=function(){var t={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:as(this.betaInitializer),gammaInitializer:as(this.gammaInitializer),movingMeanInitializer:as(this.movingMeanInitializer),movingVarianceInitializer:as(this.movingVarianceInitializer),betaRegularizer:Ps(this.betaRegularizer),gammaRegularizer:Ps(this.gammaRegularizer),betaConstraint:wi(this.betaConstraint),gammaConstraint:wi(this.gammaConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t;},t.className="BatchNormalization",t;}(_i);o.SerializationMap.register(hu);var du=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}(),mu=function(e){function t(t){var n=this;if(null==t&&(t={}),(n=e.call(this,t)||this).dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,null==t.padding)n.padding=[[1,1],[1,1]];else if("number"==typeof t.padding)n.padding=[[t.padding,t.padding],[t.padding,t.padding]];else{if(t.padding=t.padding,2!==t.padding.length)throw new Kr("ZeroPadding2D expects padding to be a length-2 array, but received a length-"+t.padding.length+" array.");var r=void 0,a=void 0;if("number"==typeof t.padding[0])r=[t.padding[0],t.padding[0]],a=[t.padding[1],t.padding[1]];else{if(t.padding=t.padding,2!==t.padding[0].length)throw new Kr("ZeroPadding2D expects height padding to be a length-2 array, but received a length-"+t.padding[0].length+" array.");if(r=t.padding[0],2!==t.padding[1].length)throw new Kr("ZeroPadding2D expects width padding to be a length-2 array, but received a length-"+t.padding[1].length+" array.");a=t.padding[1];}n.padding=[r,a];}return n.inputSpec=[new Ti({ndim:4})],n;}return du(t,e),t.prototype.computeOutputShape=function(e){var t,n;return e=la(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]]);},t.prototype.call=function(e,t){var n=this;return Object(yr.f)(function(){return function(e,t,n){return Object(yr.f)(function(){if(4!==e.rank)throw new Kr("temporalPadding expects input tensor to be 4-D, but received a "+e.rank+"-D tensor.");if(null==t&&(t=[[1,1],[1,1]]),2!==t.length||2!==t[0].length||2!==t[1].length)throw new Kr("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==n&&(n="channelsLast"),"channelsLast"!==n&&"channelsFirst"!==n)throw new Kr("Unknown data format: "+n+". Supported data formats are 'channelsLast' and 'channelsFirst.");var r;return r="channelsFirst"===n?[[0,0],[0,0],t[0],t[1]]:[[0,0],t[0],t[1],[0,0]],f.vb(e,r);});}(ca(e),n.padding,n.dataFormat);});},t.prototype.getConfig=function(){var t={padding:this.padding,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t;},t.className="ZeroPadding2D",t;}(_i);o.SerializationMap.register(mu);var gu=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}();function yu(e,t,n,r,a,i){return Object(yr.f)(function(){var o;ya(a),da(wa,"PoolMode",i),ba(r),null==n&&(n=[1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==i&&(i="max"),e=zs(e,a);var s="same"===r?"same":"valid";return o="max"===i?f.Xa(e,t,n,s):f.m(e,t,n,s),"channelsFirst"===a&&(o=f.Bc(o,[0,3,1,2])),o;});}var vu=function(e){function t(t){var n=this;if(null==t.poolSize&&(t.poolSize=2),n=e.call(this,t)||this,"number"==typeof t.poolSize)n.poolSize=[t.poolSize];else{if(!Array.isArray(t.poolSize)||1!==t.poolSize.length||"number"!=typeof t.poolSize[0])throw new Kr("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+JSON.stringify(t.poolSize));n.poolSize=t.poolSize;}if(null==t.strides)n.strides=n.poolSize;else if("number"==typeof t.strides)n.strides=[t.strides];else{if(!Array.isArray(t.strides)||1!==t.strides.length||"number"!=typeof t.strides[0])throw new Kr("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+JSON.stringify(t.strides));n.strides=t.strides;}return n.padding=null==t.padding?"valid":t.padding,ba(n.padding),n.inputSpec=[new Ti({ndim:3})],n;}return gu(t,e),t.prototype.computeOutputShape=function(e){var t=js((e=la(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]];},t.prototype.call=function(e,t){var n=this;return Object(yr.f)(function(){n.invokeCallHook(e,t),e=Xa(ca(e),2);var r=n.poolingFunction(ca(e),[n.poolSize[0],1],[n.strides[0],1],n.padding,"channelsLast");return f.lc(r,[2]);});},t.prototype.getConfig=function(){var t={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t;},t;}(_i),bu=function(e){function t(t){return e.call(this,t)||this;}return gu(t,e),t.prototype.poolingFunction=function(e,t,n,r,a){return ya(a),ba(r),yu(e,t,n,r,a,"max");},t.className="MaxPooling1D",t;}(vu);o.SerializationMap.register(bu);var wu=function(e){function t(t){return e.call(this,t)||this;}return gu(t,e),t.prototype.poolingFunction=function(e,t,n,r,a){return ya(a),ba(r),yu(e,t,n,r,a,"avg");},t.className="AveragePooling1D",t;}(vu);o.SerializationMap.register(wu);var xu=function(e){function t(t){var n=this;return null==t.poolSize&&(t.poolSize=[2,2]),(n=e.call(this,t)||this).poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize],n.strides=null==t.strides?n.poolSize:t.strides,n.padding=null==t.padding?"valid":t.padding,n.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,ya(n.dataFormat),ba(n.padding),n.inputSpec=[new Ti({ndim:4})],n;}return gu(t,e),t.prototype.computeOutputShape=function(e){e=la(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=js(t,this.poolSize[0],this.padding,this.strides[0]),n=js(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]];},t.prototype.call=function(e,t){var n=this;return Object(yr.f)(function(){return n.invokeCallHook(e,t),n.poolingFunction(ca(e),n.poolSize,n.strides,n.padding,n.dataFormat);});},t.prototype.getConfig=function(){var t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t;},t;}(_i),ku=function(e){function t(t){return e.call(this,t)||this;}return gu(t,e),t.prototype.poolingFunction=function(e,t,n,r,a){return ya(a),ba(r),yu(e,t,n,r,a,"max");},t.className="MaxPooling2D",t;}(xu);o.SerializationMap.register(ku);var Ou=function(e){function t(t){return e.call(this,t)||this;}return gu(t,e),t.prototype.poolingFunction=function(e,t,n,r,a){return ya(a),ba(r),yu(e,t,n,r,a,"avg");},t.className="AveragePooling2D",t;}(xu);o.SerializationMap.register(Ou);var Su=function(e){function t(t){var n=e.call(this,t)||this;return n.inputSpec=[new Ti({ndim:3})],n;}return gu(t,e),t.prototype.computeOutputShape=function(e){return[e[0],e[2]];},t.prototype.call=function(e,t){throw new Xr();},t;}(_i),Nu=function(e){function t(t){return e.call(this,t)||this;}return gu(t,e),t.prototype.call=function(e,t){return Object(yr.f)(function(){var t=ca(e);return f.ab(t,1);});},t.className="GlobalAveragePooling1D",t;}(Su);o.SerializationMap.register(Nu);var Eu=function(e){function t(t){return e.call(this,t)||this;}return gu(t,e),t.prototype.call=function(e,t){return Object(yr.f)(function(){var t=ca(e);return f.Wa(t,1);});},t.className="GlobalMaxPooling1D",t;}(Su);o.SerializationMap.register(Eu);var Iu=function(e){function t(t){var n=e.call(this,t)||this;return n.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,ya(n.dataFormat),n.inputSpec=[new Ti({ndim:4})],n;}return gu(t,e),t.prototype.computeOutputShape=function(e){return e=e,"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]];},t.prototype.call=function(e,t){throw new Xr();},t.prototype.getConfig=function(){var t={dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t;},t;}(_i),Tu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this;}return gu(t,e),t.prototype.call=function(e,t){var n=this;return Object(yr.f)(function(){var t=ca(e);return"channelsLast"===n.dataFormat?f.ab(t,[1,2]):f.ab(t,[2,3]);});},t.className="GlobalAveragePooling2D",t;}(Iu);o.SerializationMap.register(Tu);var Au=function(e){function t(){return null!==e&&e.apply(this,arguments)||this;}return gu(t,e),t.prototype.call=function(e,t){var n=this;return Object(yr.f)(function(){var t=ca(e);return"channelsLast"===n.dataFormat?f.Wa(t,[1,2]):f.Wa(t,[2,3]);});},t.className="GlobalMaxPooling2D",t;}(Iu);o.SerializationMap.register(Au);var Cu=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}();function Pu(e,t,n,r,a,i,o,s){void 0===r&&(r=!1),void 0===o&&(o=!1);var u=t.shape.length;if(u<3)throw new Kr("Input should be at least 3D, but is "+u+"D.");var c,l,p=[1,0].concat(_a(2,u));if(t=f.Bc(t,p),null!=a)throw new Xr("The rnn() function of the deeplearn.js backend does not support masking yet.");if(null!=i)throw new Xr("The rnn() functoin of the deeplearn.js backend does not support constants yet.");o&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),r&&(t=f.Lb(t,0));for(var h=n,d=t.shape[0],m=0;m<d;++m){var g=Ja(t,m,1),y=e(g=g.reshape(g.shape.slice(1)),h);l=y[0],c=0===m?l.reshape([1].concat(l.shape)):$a(c,l.reshape([1].concat(l.shape))),h=y[1];}return[l,f.Bc(c,[1,0].concat(_a(2,c.shape.length))),h];}var _u=function(e){function t(t){var n,r=e.call(this,t)||this;if(null==t.cell)throw new Kr("cell property is missing for the constructor of RNN.");if(null==(n=Array.isArray(t.cell)?new Bu({cells:t.cell}):t.cell).stateSize)throw new Kr("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");return r.cell=n,r.returnSequences=null!=t.returnSequences&&t.returnSequences,r.returnState=null!=t.returnState&&t.returnState,r.goBackwards=null!=t.goBackwards&&t.goBackwards,r._stateful=null!=t.stateful&&t.stateful,r.unroll=null!=t.unroll&&t.unroll,r.supportsMasking=!0,r.inputSpec=[new Ti({ndim:3})],r.stateSpec=null,r.states=null,r.numConstants=null,r;}return Cu(t,e),t.prototype.getStates=function(){return null==this.states?_a(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map(function(e){return null;}):this.states;},t.prototype.setStates=function(e){this.states=e;},t.prototype.computeOutputShape=function(e){na(e)&&(e=e[0]),e=e;var t=this.cell.stateSize;Array.isArray(t)||(t=[t]);var n,r=t[0];if(n=this.returnSequences?[e[0],e[1],r]:[e[0],r],this.returnState){for(var a=[],i=0,o=t;i<o.length;i++){var s=o[i];a.push([e[0],s]);}return[n].concat(a);}return n;},t.prototype.computeMask=function(e,t){throw new Xr("computeMask has not been implemented for RNN yet");},t.prototype.build=function(e){if(null!=this.numConstants)throw new Xr("Constants support is not implemented in RNN yet.");na(e)&&(e=e[0]),e=e;var t=this.stateful?e[0]:null,n=e[e.length-1];this.inputSpec[0]=new Ti({shape:[t,null,n]});var r,a=[e[0]].concat(e.slice(2));if(this.cell.build(a),r=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!y.arraysEqual(this.stateSpec.map(function(e){return e.shape[e.shape.length-1];}),r))throw new Kr("An initialState was passed that is not compatible with cell.stateSize. Received stateSpec="+this.stateSpec+"; However cell.stateSize is "+this.cell.stateSize);}else this.stateSpec=r.map(function(e){return new Ti({shape:[null,e]});});if(this.stateful)throw new Xr("stateful RNN layer is not implemented yet");},t.prototype.resetStates=function(e){var t=this;Object(yr.f)(function(){if(!t.stateful)throw new qr("Cannot call resetState() on an RNN Layer that is not stateful.");var n=t.inputSpec[0].shape[0];if(null==n)throw new Kr("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==t.states)Array.isArray(t.cell.stateSize)?t.states=t.cell.stateSize.map(function(e){return f.Hc([n,e]);}):t.states=[f.Hc([n,t.cell.stateSize])];else if(null==e)Array.isArray(t.cell.stateSize)?t.states=t.cell.stateSize.map(function(e){return f.Hc([n,e]);}):t.states[0]=f.Hc([n,t.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==t.states.length)throw new Kr("Layer "+t.name+" expects "+t.states.length+" state(s), but it received "+e.length+" state value(s). Input received: "+e);for(var r=0;r<t.states.length;++r){var a=e[r],i=Array.isArray(t.cell.stateSize)?t.cell.stateSize[r]:t.cell.stateSize,o=[n,i];if(!y.arraysEqual(a.shape,o))throw new Kr("State "+r+" is incompatible with layer "+t.name+": expected shape="+o+", received shape="+a.shape);t.states[r]=a;}}});},t.prototype.standardizeArgs=function(e,t,n){if(Array.isArray(e)){if(null!=t||null!=n)throw new Kr("When inputs is an array, neither initialState or constants should be provided");null!=this.numConstants&&(n=e.slice(e.length-this.numConstants,e.length),e=e.slice(0,e.length-this.numConstants)),e.length>1&&(t=e.slice(1,e.length)),e=e[0];}function r(e){return null==e||Array.isArray(e)?e:[e];}return{inputs:e,initialState:t=r(t),constants:n=r(n)};},t.prototype.apply=function(t,n){var r=null==n?null:n.initialState,a=null==n?null:n.constants;null==n&&(n={});var i=this.standardizeArgs(t,r,a);t=i.inputs,r=i.initialState,a=i.constants;var o=[],s=[];if(null!=r){n.initialState=r,o=o.concat(r),this.stateSpec=[];for(var u=0,c=r;u<c.length;u++){var l=c[u];this.stateSpec.push(new Ti({shape:l.shape}));}s=s.concat(this.stateSpec);}if(null!=a&&(n.constants=a,o=o.concat(a),this.numConstants=a.length),o[0]instanceof ja){var f=[t].concat(o),p=this.inputSpec.concat(s),h=this.inputSpec;this.inputSpec=p;var d=e.prototype.apply.call(this,f,n);return this.inputSpec=h,d;}return e.prototype.apply.call(this,t,n);},t.prototype.call=function(e,t){var n=this;return Object(yr.f)(function(){var r=null==t?null:t.mask,a=null==t?null:t.training,i=null==t?null:t.initialState;if(e=ca(e),null==i){if(n.stateful)throw new Xr("stateful RNN layer is not implemented yet.");i=n.getInitialState(e);}if(null!=r)throw new Xr("Masking is not implemented for RNN yet");var o=Array.isArray(n.cell.stateSize)?n.cell.stateSize.length:1;if(i.length!==o)throw new Kr("RNN Layer has "+o+" state(s) but was passed "+i.length+" initial state(s).");e.shape[1],n.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");var s={training:a},u=Pu(function(e,t){var r=n.cell.call([e].concat(t),s);return[r[0],r.slice(1)];},e,i,n.goBackwards,null,null,n.unroll),c=u[0],l=u[1],f=u[2];if(n.stateful)throw new Xr("stateful RNN layer is not implemented yet");var p=n.returnSequences?l:c;return n.returnState?[p].concat(f):p;});},t.prototype.getInitialState=function(e){var t=this;return Object(yr.f)(function(){var n=f.Hc(e.shape);return n=Xa(n=f.rc(n,[1,2])),Array.isArray(t.cell.stateSize)?t.cell.stateSize.map(function(e){return e>1?ei(n,[1,e]):n;}):t.cell.stateSize>1?[ei(n,[1,t.cell.stateSize])]:[n];});},Object.defineProperty(t.prototype,"trainableWeights",{get:function get(){return this.trainable?this.cell.trainableWeights:[];},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function get(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights;},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){var t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);var n=this.cell.getConfig();t.cell={className:this.cell.getClassName(),config:n};var r=e.prototype.getConfig.call(this);return Object.assign(t,r),t;},t.className="RNN",t;}(_i);o.SerializationMap.register(_u);var Ru=function(e){function t(){return null!==e&&e.apply(this,arguments)||this;}return Cu(t,e),function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;}([Object(qt.a)({heading:"Layers",subheading:"Classes"})],t);}(_i),Mu=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_ACTIVATION="tanh",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=t.units,n.activation=xs(null==t.activation?n.DEFAULT_ACTIVATION:t.activation),n.useBias=null==t.useBias||t.useBias,n.kernelInitializer=is(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=is(t.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=is(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelRegularizer=Rs(t.kernelRegularizer),n.recurrentRegularizer=Rs(t.recurrentRegularizer),n.biasRegularizer=Rs(t.biasRegularizer),n.kernelConstraint=ki(t.kernelConstraint),n.recurrentConstraint=ki(t.recurrentConstraint),n.biasConstraint=ki(t.biasConstraint),n.dropout=Ca([1,Pa([0,null==t.dropout?0:t.dropout])]),n.recurrentDropout=Ca([1,Pa([0,null==t.recurrentDropout?0:t.recurrentDropout])]),n.stateSize=n.units,n;}return Cu(t,e),t.prototype.build=function(e){e=la(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0;},t.prototype.call=function(e,t){var n=this;return Object(yr.f)(function(){if(2!==(e=e).length)throw new Kr("SimpleRNNCell expects 2 input Tensors, got "+e.length+".");var t=e[1];if(e=e[0],0!==n.dropout||0!==n.recurrentDropout)throw new Xr("Dropout is not implemented for SimpleRNNCell yet");var r=ii(e,n.kernel.read());null!=n.bias&&(r=ui(r,n.bias.read()));var a=f.d(r,ii(t,n.recurrentKernel.read()));return null!=n.activation&&(a=n.activation.apply(a)),[a,a];});},t.prototype.getConfig=function(){var t={units:this.units,activation:bs(this.activation),useBias:this.useBias,kernelInitializer:as(this.kernelInitializer),recurrentInitializer:as(this.recurrentInitializer),biasInitializer:as(this.biasInitializer),kernelRegularizer:Ps(this.kernelRegularizer),recurrentRegularizer:Ps(this.recurrentRegularizer),biasRegularizer:Ps(this.biasRegularizer),activityRegularizer:Ps(this.activityRegularizer),kernelConstraint:wi(this.kernelConstraint),recurrentConstraint:wi(this.recurrentConstraint),biasConstraint:wi(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t;},t.className="SimpleRNNCell",t;}(Ru);o.SerializationMap.register(Mu);var ju=function(e){function t(t){return t.cell=new Mu(t),e.call(this,t)||this;}return Cu(t,e),t.prototype.call=function(t,n){var r=this;return Object(yr.f)(function(){var a=null==n?null:n.mask,i=null==n?null:n.training,o=null==n?null:n.initialState;return e.prototype.call.call(r,t,{mask:a,training:i,initialState:o});});},Object.defineProperty(t.prototype,"units",{get:function get(){return this.cell.units;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activation",{get:function get(){return this.cell.activation;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useBias",{get:function get(){return this.cell.useBias;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelInitializer",{get:function get(){return this.cell.kernelInitializer;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentInitializer",{get:function get(){return this.cell.recurrentInitializer;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasInitializer",{get:function get(){return this.cell.biasInitializer;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelRegularizer",{get:function get(){return this.cell.kernelRegularizer;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentRegularizer",{get:function get(){return this.cell.recurrentRegularizer;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasRegularizer",{get:function get(){return this.cell.biasRegularizer;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelConstraint",{get:function get(){return this.cell.kernelConstraint;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentConstraint",{get:function get(){return this.cell.recurrentConstraint;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasConstraint",{get:function get(){return this.cell.biasConstraint;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropout",{get:function get(){return this.cell.dropout;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentDropout",{get:function get(){return this.cell.recurrentDropout;},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){var t={units:this.units,activation:bs(this.activation),useBias:this.useBias,kernelInitializer:as(this.kernelInitializer),recurrentInitializer:as(this.recurrentInitializer),biasInitializer:as(this.biasInitializer),kernelRegularizer:Ps(this.kernelRegularizer),recurrentRegularizer:Ps(this.recurrentRegularizer),biasRegularizer:Ps(this.biasRegularizer),activityRegularizer:Ps(this.activityRegularizer),kernelConstraint:wi(this.kernelConstraint),recurrentConstraint:wi(this.recurrentConstraint),biasConstraint:wi(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},n=e.prototype.getConfig.call(this);return delete n.cell,Object.assign(t,n),t;},t.className="SimpleRNN",t;}(_u);o.SerializationMap.register(ju);var Du=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_ACTIVATION="tanh",n.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=t.units,n.activation=xs(void 0===t.activation?n.DEFAULT_ACTIVATION:t.activation),n.recurrentActivation=xs(void 0===t.activation?n.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),n.useBias=null==t.useBias||t.useBias,n.kernelInitializer=is(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=is(t.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=is(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelRegularizer=Rs(t.kernelRegularizer),n.recurrentRegularizer=Rs(t.recurrentRegularizer),n.biasRegularizer=Rs(t.biasRegularizer),n.kernelConstraint=ki(t.kernelConstraint),n.recurrentConstraint=ki(t.recurrentConstraint),n.biasConstraint=ki(t.biasConstraint),n.dropout=Ca([1,Pa([0,null==t.dropout?0:t.dropout])]),n.recurrentDropout=Ca([1,Pa([0,null==t.recurrentDropout?0:t.recurrentDropout])]),n.implementation=t.implementation,n.stateSize=n.units,n;}return Cu(t,e),t.prototype.build=function(e){var t=(e=la(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0;},t.prototype.call=function(e,t){var n=this;return Object(yr.f)(function(){if(0!==n.dropout||0!==n.recurrentDropout)throw new Xr("Dropout is not implemented for GRUCell yet");if(2!==(e=e).length)throw new Kr("GRUCell expects 2 input Tensors (inputs, h, c), got "+e.length+".");var t,r,a,i=e[1];if(e=e[0],1===n.implementation){var o=Ya(n.kernel.read(),0,n.units),s=Ya(n.kernel.read(),n.units,n.units),u=Ya(n.kernel.read(),2*n.units,n.units),c=Ya(n.recurrentKernel.read(),0,n.units),l=Ya(n.recurrentKernel.read(),n.units,n.units),p=Ya(n.recurrentKernel.read(),2*n.units,n.units),h=e,d=e,m=ii(e,o),g=ii(h,s),y=ii(d,u);if(n.useBias){var v=Ja(n.bias.read(),0,n.units),b=Ja(n.bias.read(),n.units,n.units),w=Ja(n.bias.read(),2*n.units,n.units);m=ui(m,v),g=ui(g,b),y=ui(y,w);}var x=i,k=i,O=i;t=n.recurrentActivation.apply(f.d(m,ii(x,c))),r=n.recurrentActivation.apply(f.d(g,ii(k,l))),a=n.activation.apply(f.d(y,ii(f.ib(r,O),p)));}else{var S=ii(e,n.kernel.read());n.useBias&&(S=ui(S,n.bias.read()));var N=ii(i,Ya(n.recurrentKernel.read(),0,2*n.units)),E=(m=Ya(S,0,n.units),g=Ya(S,n.units,n.units),Ya(N,0,n.units)),I=Ya(N,n.units,n.units);t=n.recurrentActivation.apply(f.d(m,E)),r=n.recurrentActivation.apply(f.d(g,I)),y=Ya(S,2*n.units,n.units);var T=ii(f.ib(r,i),Ya(n.recurrentKernel.read(),2*n.units,n.units));a=n.activation.apply(f.d(y,T));}var A=f.d(f.ib(t,i),f.ib(ri(Ua(1),f.mb(t)),a));return[A,A];});},t.prototype.getConfig=function(){var t={units:this.units,activation:bs(this.activation),useBias:this.useBias,kernelInitializer:as(this.kernelInitializer),recurrentInitializer:as(this.recurrentInitializer),biasInitializer:as(this.biasInitializer),kernelRegularizer:Ps(this.kernelRegularizer),recurrentRegularizer:Ps(this.recurrentRegularizer),biasRegularizer:Ps(this.biasRegularizer),activityRegularizer:Ps(this.activityRegularizer),kernelConstraint:wi(this.kernelConstraint),recurrentConstraint:wi(this.recurrentConstraint),biasConstraint:wi(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t;},t.className="GRUCell",t;}(Ru);o.SerializationMap.register(Du);var Lu=function(e){function t(t){return 0===t.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),t.cell=new Du(t),e.call(this,t)||this;}return Cu(t,e),t.prototype.call=function(t,n){var r=this;return Object(yr.f)(function(){var a=null==n?null:n.mask,i=null==n?null:n.training,o=null==n?null:n.initialState;return e.prototype.call.call(r,t,{mask:a,training:i,initialState:o});});},Object.defineProperty(t.prototype,"units",{get:function get(){return this.cell.units;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activation",{get:function get(){return this.cell.activation;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useBias",{get:function get(){return this.cell.useBias;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelInitializer",{get:function get(){return this.cell.kernelInitializer;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentInitializer",{get:function get(){return this.cell.recurrentInitializer;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasInitializer",{get:function get(){return this.cell.biasInitializer;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelRegularizer",{get:function get(){return this.cell.kernelRegularizer;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentRegularizer",{get:function get(){return this.cell.recurrentRegularizer;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasRegularizer",{get:function get(){return this.cell.biasRegularizer;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelConstraint",{get:function get(){return this.cell.kernelConstraint;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentConstraint",{get:function get(){return this.cell.recurrentConstraint;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasConstraint",{get:function get(){return this.cell.biasConstraint;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropout",{get:function get(){return this.cell.dropout;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentDropout",{get:function get(){return this.cell.recurrentDropout;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"implementation",{get:function get(){return this.cell.implementation;},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){var t={units:this.units,activation:bs(this.activation),useBias:this.useBias,kernelInitializer:as(this.kernelInitializer),recurrentInitializer:as(this.recurrentInitializer),biasInitializer:as(this.biasInitializer),kernelRegularizer:Ps(this.kernelRegularizer),recurrentRegularizer:Ps(this.recurrentRegularizer),biasRegularizer:Ps(this.biasRegularizer),activityRegularizer:Ps(this.activityRegularizer),kernelConstraint:wi(this.kernelConstraint),recurrentConstraint:wi(this.recurrentConstraint),biasConstraint:wi(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return delete n.cell,Object.assign(t,n),t;},t.fromConfig=function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t);},t.className="GRU",t;}(_u);o.SerializationMap.register(Lu);var zu=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_ACTIVATION="tanh",n.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=t.units,n.activation=xs(void 0===t.activation?n.DEFAULT_ACTIVATION:t.activation),n.recurrentActivation=xs(void 0===t.activation?n.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),n.useBias=null==t.useBias||t.useBias,n.kernelInitializer=is(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=is(t.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=is(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.unitForgetBias=t.unitForgetBias,n.kernelRegularizer=Rs(t.kernelRegularizer),n.recurrentRegularizer=Rs(t.recurrentRegularizer),n.biasRegularizer=Rs(t.biasRegularizer),n.kernelConstraint=ki(t.kernelConstraint),n.recurrentConstraint=ki(t.recurrentConstraint),n.biasConstraint=ki(t.biasConstraint),n.dropout=Ca([1,Pa([0,null==t.dropout?0:t.dropout])]),n.recurrentDropout=Ca([1,Pa([0,null==t.recurrentDropout?0:t.recurrentDropout])]),n.implementation=t.implementation,n.stateSize=[n.units,n.units],n;}return Cu(t,e),t.prototype.build=function(e){var t,n,r=(e=la(e))[e.length-1];if(this.kernel=this.addWeight("kernel",[r,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){var a=this.biasInitializer,i=this.units;t=new((n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this;}return Cu(t,e),t.prototype.apply=function(e,t){var n=a.apply([i]),r=new Go().apply([i]),o=a.apply([2*i]);return $a($a(n,r),o);},t;}(Uo)).className="CustomInit",n)();}else t=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,t,this.biasRegularizer,!0,this.biasConstraint);}else this.bias=null;this.built=!0;},t.prototype.call=function(e,t){var n=this;return Object(yr.f)(function(){if(0!==n.dropout||0!==n.recurrentDropout)throw new Xr("Dropout is not implemented for LSTMCell yet");if(3!==(e=e).length)throw new Kr("LSTMCell expects 3 input Tensors (inputs, h, c), got "+e.length+".");var t,r,a,i,o=e[1],s=e[2];if(e=e[0],1===n.implementation){var u=Ya(n.kernel.read(),0,n.units),c=Ya(n.kernel.read(),n.units,n.units),l=Ya(n.kernel.read(),2*n.units,n.units),p=Ya(n.kernel.read(),3*n.units,n.units),h=Ya(n.recurrentKernel.read(),0,n.units),d=Ya(n.recurrentKernel.read(),n.units,n.units),m=Ya(n.recurrentKernel.read(),2*n.units,n.units),g=Ya(n.recurrentKernel.read(),3*n.units,n.units),y=e,v=e,b=e,w=ii(e,u),x=ii(y,c),k=ii(v,l),O=ii(b,p);if(n.useBias){var S=Ja(n.bias.read(),0,n.units),N=Ja(n.bias.read(),n.units,n.units),E=Ja(n.bias.read(),2*n.units,n.units),I=Ja(n.bias.read(),3*n.units,n.units);w=ui(w,S),x=ui(x,N),k=ui(k,E),O=ui(O,I);}var T=o,A=o,C=o,P=o;t=n.recurrentActivation.apply(f.d(w,ii(T,h))),r=n.recurrentActivation.apply(f.d(x,ii(A,d))),a=f.d(f.ib(r,s),f.ib(t,n.activation.apply(f.d(k,ii(C,m))))),i=n.recurrentActivation.apply(f.d(O,ii(P,g)));}else{var _=ii(e,n.kernel.read());_=f.d(_,ii(o,n.recurrentKernel.read())),n.useBias&&(_=ui(_,n.bias.read()));var R=Ya(_,0,n.units),M=Ya(_,n.units,n.units),j=Ya(_,2*n.units,n.units),D=Ya(_,3*n.units,n.units);t=n.recurrentActivation.apply(R),r=n.recurrentActivation.apply(M),a=f.d(f.ib(r,s),f.ib(t,n.activation.apply(j))),i=n.recurrentActivation.apply(D);}var L=f.ib(i,n.activation.apply(a));return[L,L,a];});},t.prototype.getConfig=function(){var t={units:this.units,activation:bs(this.activation),useBias:this.useBias,kernelInitializer:as(this.kernelInitializer),recurrentInitializer:as(this.recurrentInitializer),biasInitializer:as(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Ps(this.kernelRegularizer),recurrentRegularizer:Ps(this.recurrentRegularizer),biasRegularizer:Ps(this.biasRegularizer),activityRegularizer:Ps(this.activityRegularizer),kernelConstraint:wi(this.kernelConstraint),recurrentConstraint:wi(this.recurrentConstraint),biasConstraint:wi(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t;},t.className="LSTMCell",t;}(Ru);o.SerializationMap.register(zu);var Fu=function(e){function t(t){return 0===t.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),t.cell=new zu(t),e.call(this,t)||this;}return Cu(t,e),t.prototype.call=function(t,n){var r=this;return Object(yr.f)(function(){var a=null==n?null:n.mask,i=null==n?null:n.training,o=null==n?null:n.initialState;return e.prototype.call.call(r,t,{mask:a,training:i,initialState:o});});},Object.defineProperty(t.prototype,"units",{get:function get(){return this.cell.units;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activation",{get:function get(){return this.cell.activation;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useBias",{get:function get(){return this.cell.useBias;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelInitializer",{get:function get(){return this.cell.kernelInitializer;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentInitializer",{get:function get(){return this.cell.recurrentInitializer;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasInitializer",{get:function get(){return this.cell.biasInitializer;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unitForgetBias",{get:function get(){return this.cell.unitForgetBias;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelRegularizer",{get:function get(){return this.cell.kernelRegularizer;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentRegularizer",{get:function get(){return this.cell.recurrentRegularizer;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasRegularizer",{get:function get(){return this.cell.biasRegularizer;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelConstraint",{get:function get(){return this.cell.kernelConstraint;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentConstraint",{get:function get(){return this.cell.recurrentConstraint;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasConstraint",{get:function get(){return this.cell.biasConstraint;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropout",{get:function get(){return this.cell.dropout;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentDropout",{get:function get(){return this.cell.recurrentDropout;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"implementation",{get:function get(){return this.cell.implementation;},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){var t={units:this.units,activation:bs(this.activation),useBias:this.useBias,kernelInitializer:as(this.kernelInitializer),recurrentInitializer:as(this.recurrentInitializer),biasInitializer:as(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Ps(this.kernelRegularizer),recurrentRegularizer:Ps(this.recurrentRegularizer),biasRegularizer:Ps(this.biasRegularizer),activityRegularizer:Ps(this.activityRegularizer),kernelConstraint:wi(this.kernelConstraint),recurrentConstraint:wi(this.recurrentConstraint),biasConstraint:wi(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return delete n.cell,Object.assign(t,n),t;},t.fromConfig=function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t);},t.className="LSTM",t;}(_u);o.SerializationMap.register(Fu);var Bu=function(e){function t(t){var n=e.call(this,t)||this;return n.cells=t.cells,n;}return Cu(t,e),Object.defineProperty(t.prototype,"stateSize",{get:function get(){for(var e=[],t=0,n=this.cells.slice().reverse();t<n.length;t++){var r=n[t];Array.isArray(r.stateSize)?e.push.apply(e,r.stateSize):e.push(r.stateSize);}return e;},enumerable:!0,configurable:!0}),t.prototype.call=function(e,t){var n=this;return Object(yr.f)(function(){for(var r=(e=e).slice(1),a=[],i=0,o=n.cells.slice().reverse();i<o.length;i++){var s=o[i];Array.isArray(s.stateSize)?a.push(r.splice(0,s.stateSize.length)):a.push(r.splice(0,1));}a.reverse();for(var u,c=[],l=0;l<n.cells.length;++l){s=n.cells[l],r=a[l],u=0===l?[e[0]].concat(r):[u[0]].concat(r),u=s.call(u,t),c.push(u.slice(1));}r=[];for(var f=0,p=c.slice().reverse();f<p.length;f++){var h=p[f];r.push.apply(r,h);}return[u[0]].concat(r);});},t.prototype.build=function(e){var t;na(e)&&(e=e[0]),e=e;for(var n=0,r=this.cells;n<r.length;n++){var a=r[n];a.build(e),t=Array.isArray(a.stateSize)?a.stateSize[0]:a.stateSize,e=[e[0],t];}this.built=!0;},t.prototype.getConfig=function(){for(var t=[],n=0,r=this.cells;n<r.length;n++){var a=r[n];t.push({className:this.getClassName(),config:a.getConfig()});}var i={cells:t},o=e.prototype.getConfig.call(this);return Object.assign(i,o),i;},t.fromConfig=function(e,t,n){void 0===n&&(n={});for(var r=[],a=0,i=t.cells;a<i.length;a++){var o=i[a];r.push(Oi(o,n));}return new e({cells:r});},Object.defineProperty(t.prototype,"trainableWeights",{get:function get(){if(!this.trainable)return[];for(var e=[],t=0,n=this.cells;t<n.length;t++){var r=n[t];e.push.apply(e,r.trainableWeights);}return e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function get(){for(var e=[],t=0,n=this.cells;t<n.length;t++){var r=n[t];e.push.apply(e,r.nonTrainableWeights);}if(!this.trainable){for(var a=[],i=0,o=this.cells;i<o.length;i++){r=o[i],a.push.apply(a,r.trainableWeights);}return a.concat(e);}return e;},enumerable:!0,configurable:!0}),t.prototype.getWeights=function(){for(var e=[],t=0,n=this.cells;t<n.length;t++){var r=n[t];e.push.apply(e,r.weights);}return za(e);},t.prototype.setWeights=function(e){for(var t=[],n=0,r=this.cells;n<r.length;n++){for(var a=r[n],i=a.weights.length,o=e.splice(i),s=0;s<a.weights.length;++s){t.push([a.weights[s],o[s]]);}}Fa(t);},t.className="StackedRNNCells",t;}(Ru);o.SerializationMap.register(Bu);var Vu=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}(),Uu=function(e){function t(t){var n=e.call(this,t)||this;return n.layer=t.layer,n;}return Vu(t,e),t.prototype.build=function(e){this.built=!0;},Object.defineProperty(t.prototype,"trainable",{get:function get(){return null!=this.layer&&this.layer.trainable;},set:function set(e){null!=this.layer&&(this.layer.trainable=e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trainableWeights",{get:function get(){return this.layer.trainableWeights;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function get(){return this.layer.nonTrainableWeights;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updates",{get:function get(){return this.layer._updates;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"losses",{get:function get(){return this.layer.losses;},enumerable:!0,configurable:!0}),t.prototype.getWeights=function(){return this.layer.getWeights();},t.prototype.setWeights=function(e){this.layer.setWeights(e);},t.prototype.getConfig=function(){var t={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t;},t.fromConfig=function(e,t,n){void 0===n&&(n={});var r=Oi(t.layer,n);delete t.layer;var a={layer:r};return Object.assign(a,t),new e(a);},t;}(_i),Wu=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n;}return Vu(t,e),t.prototype.build=function(t){if((t=la(t)).length<3)throw new Kr("TimeDistributed layer expects an input shape >= 3D, but received input shape "+JSON.stringify(t));this.inputSpec=[{shape:t}];var n=[t[0]].concat(t.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),e.prototype.build.call(this,t);},t.prototype.computeOutputShape=function(e){var t=[(e=la(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1));},t.prototype.call=function(e,t){var n=this;return Object(yr.f)(function(){return Pu(function(e,r){return[n.layer.call(e,t),[]];},e=ca(e),[],!1,null,null,!1,e.shape[1])[1];});},t.className="TimeDistributed",t;}(Uu);o.SerializationMap.register(Wu);var Gu=["sum","mul","concat","ave"],qu=function(e){function t(t){var n=e.call(this,t)||this,r=t.layer.getConfig();if(n.forwardLayer=Oi({className:t.layer.getClassName(),config:r}),r.goBackwards=!0!==r.goBackwards,n.backwardLayer=Oi({className:t.layer.getClassName(),config:r}),n.forwardLayer.name="forward_"+n.forwardLayer.name,n.backwardLayer.name="backward_"+n.backwardLayer.name,function(e){da(Gu,"BidirectionalMergeMode",e);}(t.mergeMode),n.mergeMode=t.mergeMode,t.weights)throw new Xr("weights support is not implemented for Bidirectional layer yet.");return n._stateful=t.layer.stateful,n.returnSequences=t.layer.returnSequences,n.returnState=t.layer.returnState,n.supportsMasking=!0,n._trainable=!0,n.inputSpec=t.layer.inputSpec,n;}return Vu(t,e),Object.defineProperty(t.prototype,"trainable",{get:function get(){return this._trainable;},set:function set(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e);},enumerable:!0,configurable:!0}),t.prototype.getWeights=function(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights());},t.prototype.setWeights=function(e){var t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n));},t.prototype.computeOutputShape=function(e){var t,n,r,a=this.forwardLayer.computeOutputShape(e);return Array.isArray(a)&&Array.isArray(a[0])||(a=[a]),a=a,this.returnState?(r=a.slice(1),t=a[0]):t=a[0],t=t,"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):ea(n);},t.prototype.apply=function(t,n){var r=null;if(null!=n&&(r=n.initialState),Array.isArray(t)&&(r=t.slice(1),t=t[0]),null==r||0===r.length)return e.prototype.apply.call(this,t,n);throw new Xr("The support for initial states is not implemented for Bidirectional layers yet.");},t.prototype.call=function(e,t){var n=this;return Object(yr.f)(function(){if(null!=t.mask)throw new Xr("The support for masking is not implemented for Bidirectional layers yet.");if(null!=t.initialState)throw new Xr("The support for initial states is not implemented for Bidirectional layers yet.");var r,a,i=n.forwardLayer.call(e,t),o=n.backwardLayer.call(e,t);return n.returnState&&(Array.isArray(i)&&(r=i.slice(1).concat(o.slice(1))),i=i[0],o=o[0]),n.returnSequences&&(o=f.Lb(o,1)),"concat"===n.mergeMode?a=Za([i,o]):"sum"===n.mergeMode?a=f.d(i,o):"ave"===n.mergeMode?a=ni(Ua(.5),f.d(i,o)):"mul"===n.mergeMode?a=f.ib(i,o):null==n.mergeMode&&(a=[i,o]),n.returnState?null==n.mergeMode?a.concat(r):[a].concat(r):a;});},t.prototype.resetStates=function(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates();},t.prototype.build=function(e){var t=this;ci(this.forwardLayer.name,function(){t.forwardLayer.build(e);}),ci(this.backwardLayer.name,function(){t.backwardLayer.build(e);}),this.built=!0;},Object.defineProperty(t.prototype,"trainableWeights",{get:function get(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function get(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights);},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){var t={mergeMode:this.mergeMode},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t;},t.fromConfig=function(e,t){var n=Oi(t.layer);if(delete t.layer,null!=t.numConstants)throw new Xr("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");var r=t;return r.layer=n,new e(r);},t.className="Bidirectional",t;}(Uu);o.SerializationMap.register(qu);var Hu=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n]);}};return function(t,n){function r(){this.constructor=t;}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r());};}(),Ku=function Ku(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;},Xu=function Xu(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{u(r.next(e));}catch(e){i(e);}}function s(e){try{u(r.throw(e));}catch(e){i(e);}}function u(e){e.done?a(e.value):new n(function(t){t(e.value);}).then(o,s);}u((r=r.apply(e,t||[])).next());});},Ju=function Ju(e,t){var n,r,a,i,o={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1];},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this;}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;){try{if(n=1,r&&(a=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[0,a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue;}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break;}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break;}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break;}a[2]&&o.ops.pop(),o.trys.pop();continue;}i=t.call(e,o);}catch(e){i=[6,e],r=0;}finally{n=a=0;}}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0};}([i,s]);};}};var Yu=function(e){function t(t){var n=e.call(this,{inputs:[],outputs:[]})||this;if(t=t||{},n.trainable=!0,n._updatable=!0,n.built=!1,n.name=null!=t.name?t.name:fi("sequential_"),null!=t.layers)for(var r=0,a=t.layers;r<a.length;r++){var i=a[r];n.add(i);}return n;}return Hu(t,e),n=t,t.prototype.add=function(e){if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new Kr("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");var t=Mi({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(t);}if(1!==e.inboundNodes.length)throw new Kr("A layer added to a Sequential model must not already be connected somewhere else. Model received layer "+e.name+" which has "+e.inboundNodes.length+" pre-existing inbound connections.");if(1!==e.inboundNodes[0].outputTensors.length)throw new Kr("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=function e(t,n,r){if((null==n||null!=r&&r>0)&&(n=t.sourceLayer,r=t.nodeIndex),0===n.inboundNodes.length)return[t];var a=n.inboundNodes[r];if(0===a.inboundLayers.length)return a.inputTensors;for(var i=[],o=0;o<a.inboundLayers.length;o++){for(var s=0,u=e(a.inputTensors[o],a.inboundLayers[o],a.nodeIndices[o]);s<u.length;s++){var c=u[s];-1===i.indexOf(c)&&i.push(c);}}return i;}(this.outputs[0]),new Ci({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:Qr(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(function(e){return e.shape;}),outputShapes:this.outputs[0].shape});}else{var n=e.apply(this.outputs[0]);if(Array.isArray(n))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.outputs=[n],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape];}this.layers.push(e),this.built=!1;},t.prototype.pop=function(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{var e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape];}},t.prototype.call=function(e,t){return null==this.model&&this.build(),this.model.call(e,t);},t.prototype.build=function(e){if(la(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new zo({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.model.updatable=this.updatable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0;},t.prototype.setWeights=function(e){null==this.model&&this.build(),this.model.setWeights(e);},Object.defineProperty(t.prototype,"updatable",{get:function get(){return this._updatable;},set:function set(e){this.built&&(this.model.updatable=e),this._updatable=e;},enumerable:!0,configurable:!0}),t.prototype.evaluate=function(e,t,n){if(void 0===n&&(n={}),!this.built)throw new Hr("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n);},t.prototype.predict=function(e,t){return void 0===t&&(t={}),null==this.model&&this.build(),this.model.predict(e,t);},t.prototype.predictOnBatch=function(e){return null==this.model&&this.build(),this.model.predictOnBatch(e);},t.prototype.compile=function(e){this.build(),this.model.compile(e),this.optimizer=this.model.optimizer,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames;},t.prototype.fit=function(e,t,n){return void 0===n&&(n={}),Xu(this,void 0,void 0,function(){return Ju(this,function(r){if(!this.built)throw new Hr("The model needs to be compiled before being used.");return[2,this.model.fit(e,t,n)];});});},t.fromConfig=function(e,t){var r=new e({});if(!(r instanceof n))throw new Kr("Sequential.fromConfig called on non-Sequential input: "+r);if(!(t instanceof Array))throw new Kr("Sequential.fromConfig called without an array of configs");if(null==t[0].className||"Merge"===t[0].className)throw new Kr("Legacy serialization format not supported yet.");for(var a=0,i=t;a<i.length;a++){var o=Oi(i[a]);r.add(o);}return r;},t.prototype.getConfig=function(){for(var e=[],t=0,n=this.layers;t<n.length;t++){var r=n[t];e.push({className:r.getClassName(),config:r.getConfig()});}return e;},t.className="Sequential",Ku([Object(qt.a)({heading:"Models",subheading:"Classes"})],t.prototype,"add",null),Ku([Object(qt.a)({heading:"Models",subheading:"Classes",configParamIndices:[2]})],t.prototype,"evaluate",null),Ku([Object(qt.a)({heading:"Models",subheading:"Classes",configParamIndices:[1]})],t.prototype,"predict",null),Ku([Object(qt.a)({heading:"Models",subheading:"Classes",configParamIndices:[2]})],t.prototype,"fit",null),n=Ku([Object(qt.a)({heading:"Models",subheading:"Classes"})],t);var n;}(zo);o.SerializationMap.register(Yu);var Qu=function Qu(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;},Zu=function(){function e(){}return e.model=function(e){return new zo(e);},e.sequential=function(e){return new Yu(e);},e.loadModel=function(e){return function(e){return Xu(this,void 0,void 0,function(){var t;return Ju(this,function(n){if("string"==typeof e){if(0===(t=i.getLoadHandlers(e)).length)return[2,function(e){return Xu(this,void 0,void 0,function(){var t;return Ju(this,function(n){switch(n.label){case 0:return[4,fetch(e)];case 1:return[4,n.sent().json()];case 2:if(null==(t=n.sent()).modelTopology)throw new Kr('Missing field "modelTopology" from model JSON at path'+e);if(null==t.weightsManifest)throw new Kr('Missing field "weightsManifest" from model JSON at path'+e);return t.pathPrefix=e.substring(0,e.lastIndexOf("/")),[2,function(e,t){return Xu(this,void 0,void 0,function(){var t,n,r,a,o,s,u,c,l,f;return Ju(this,function(p){switch(p.label){case 0:return null!=(t=e.modelTopology).model_config&&(t=t.model_config),n=Ni(t),r=Oi(n,void 0),null==e.weightsManifest?[3,2]:[4,i.loadWeights(e.weightsManifest,e.pathPrefix,r.weights.map(function(e){return e.originalName;}))];case 1:for(a=p.sent(),o={},s=0,u=r.weights;s<u.length;s++){c=u[s],o[c.originalName]=a[c.originalName];}l=null,f=!0,r.loadWeights(o,l,f),p.label=2;case 2:return[2,r];}});});}(t)];}});});}(e)];if(t.length>1)throw new Kr("Found more than one ("+t.length+") load handlers for URL '"+e+"'");e=t[0];}return[2,function(e,t){return Xu(this,void 0,void 0,function(){var t,n,r,a;return Ju(this,function(o){switch(o.label){case 0:if(null==e.load)throw new Kr("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");return[4,e.load()];case 1:if(t=o.sent(),n=Oi(Ni(t.modelTopology),void 0),null!=t.weightData){if(null==t.weightSpecs)throw new Kr("Model artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");r=!1,a=!0,n.loadWeights(i.decodeWeights(t.weightData,t.weightSpecs),r,a);}return[2,n];}});});}(e)];});});}(e);},e.input=function(e){return Mi(e);},Qu([Object(qt.a)({heading:"Models",subheading:"Creation",configParamIndices:[0]})],e,"model",null),Qu([Object(qt.a)({heading:"Models",subheading:"Creation",configParamIndices:[0]})],e,"sequential",null),Qu([Object(qt.a)({heading:"Models",subheading:"Loading",useDocsFrom:"loadModelInternal"})],e,"loadModel",null),Qu([Object(qt.a)({heading:"Models",subheading:"Inputs",useDocsFrom:"Input",configParamIndices:[0]})],e,"input",null),e;}(),$u=function(){function e(){}return e.inputLayer=function(e){return new Ri(e);},e.elu=function(e){return new Ss(e);},e.leakyReLU=function(e){return new Os(e);},e.softmax=function(e){return new Es(e);},e.thresholdedReLU=function(e){return new Ns(e);},e.conv1d=function(e){return new Ws(e);},e.conv2d=function(e){return new Bs(e);},e.conv2dTranspose=function(e){return new Vs(e);},e.separableConv2d=function(e){return new Us(e);},e.cropping2D=function(e){return new Gs(e);},e.upSampling2d=function(e){return new qs(e);},e.depthwiseConv2d=function(e){return new Ks(e);},e.activation=function(e){return new Zs(e);},e.dense=function(e){return new Ys(e);},e.dropout=function(e){return new Js(e);},e.flatten=function(e){return new Qs(e);},e.repeatVector=function(e){return new $s(e);},e.reshape=function(e){return new eu(e);},e.embedding=function(e){return new nu(e);},e.add=function(e){return new iu(e);},e.average=function(e){return new su(e);},e.concatenate=function(e){return new lu(e);},e.maximum=function(e){return new uu(e);},e.minimum=function(e){return new cu(e);},e.multiply=function(e){return new ou(e);},e.batchNormalization=function(e){return new hu(e);},e.zeroPadding2d=function(e){return new mu(e);},e.averagePooling1d=function(e){return new wu(e);},e.avgPool1d=function(t){return e.averagePooling1d(t);},e.avgPooling1d=function(t){return e.averagePooling1d(t);},e.averagePooling2d=function(e){return new Ou(e);},e.avgPool2d=function(t){return e.averagePooling2d(t);},e.avgPooling2d=function(t){return e.averagePooling2d(t);},e.globalAveragePooling1d=function(e){return new Nu(e);},e.globalAveragePooling2d=function(e){return new Tu(e);},e.globalMaxPooling1d=function(e){return new Eu(e);},e.globalMaxPooling2d=function(e){return new Au(e);},e.maxPooling1d=function(e){return new bu(e);},e.maxPooling2d=function(e){return new ku(e);},e.gru=function(e){return new Lu(e);},e.gruCell=function(e){return new Du(e);},e.lstm=function(e){return new Fu(e);},e.lstmCell=function(e){return new zu(e);},e.simpleRNN=function(e){return new ju(e);},e.simpleRNNCell=function(e){return new Mu(e);},e.rnn=function(e){return new _u(e);},e.stackedRNNCells=function(e){return new Bu(e);},e.bidirectional=function(e){return new qu(e);},e.timeDistributed=function(e){return new Wu(e);},e.Layer=_i,e.RNN=_u,e.RNNCell=Ru,e.input=Zu.input,Qu([Object(qt.a)({heading:"Layers",subheading:"Inputs",namespace:"layers",useDocsFrom:"InputLayer",configParamIndices:[0]})],e,"inputLayer",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Advanced Activation",namespace:"layers",useDocsFrom:"ELU",configParamIndices:[0]})],e,"elu",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Advanced Activation",namespace:"layers",useDocsFrom:"LeakyReLU",configParamIndices:[0]})],e,"leakyReLU",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Advanced Activation",namespace:"layers",useDocsFrom:"Softmax",configParamIndices:[0]})],e,"softmax",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Advanced Activation",namespace:"layers",useDocsFrom:"ThresholdedReLU",configParamIndices:[0]})],e,"thresholdedReLU",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Convolutional",namespace:"layers",useDocsFrom:"Conv1D",configParamIndices:[0]})],e,"conv1d",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Convolutional",namespace:"layers",useDocsFrom:"Conv2D",configParamIndices:[0]})],e,"conv2d",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Convolutional",namespace:"layers",useDocsFrom:"Conv2DTranspose",configParamIndices:[0]})],e,"conv2dTranspose",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Convolutional",namespace:"layers",useDocsFrom:"SeparableConv2D",configParamIndices:[0]})],e,"separableConv2d",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Convolutional",namespace:"layers",useDocsFrom:"Cropping2D",configParamIndices:[0]})],e,"cropping2D",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Convolutional",namespace:"layers",useDocsFrom:"UpSampling2D",configParamIndices:[0]})],e,"upSampling2d",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Convolutional",namespace:"layers",useDocsFrom:"DepthwiseConv2D",configParamIndices:[0]})],e,"depthwiseConv2d",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Basic",namespace:"layers",useDocsFrom:"Activation",configParamIndices:[0]})],e,"activation",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Basic",namespace:"layers",useDocsFrom:"Dense",configParamIndices:[0]})],e,"dense",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Basic",namespace:"layers",useDocsFrom:"Dropout",configParamIndices:[0]})],e,"dropout",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Basic",namespace:"layers",useDocsFrom:"Flatten",configParamIndices:[0]})],e,"flatten",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Basic",namespace:"layers",useDocsFrom:"RepeatVector",configParamIndices:[0]})],e,"repeatVector",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Basic",namespace:"layers",useDocsFrom:"Reshape",configParamIndices:[0]})],e,"reshape",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Basic",namespace:"layers",useDocsFrom:"Embedding",configParamIndices:[0]})],e,"embedding",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Merge",namespace:"layers",useDocsFrom:"Add",configParamIndices:[0]})],e,"add",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Merge",namespace:"layers",useDocsFrom:"Average",configParamIndices:[0]})],e,"average",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Merge",namespace:"layers",useDocsFrom:"Concatenate",configParamIndices:[0]})],e,"concatenate",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Merge",namespace:"layers",useDocsFrom:"Maximum",configParamIndices:[0]})],e,"maximum",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Merge",namespace:"layers",useDocsFrom:"Minimum",configParamIndices:[0]})],e,"minimum",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Merge",namespace:"layers",useDocsFrom:"Multiply",configParamIndices:[0]})],e,"multiply",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Normalization",namespace:"layers",useDocsFrom:"BatchNormalization",configParamIndices:[0]})],e,"batchNormalization",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Padding",namespace:"layers",useDocsFrom:"ZeroPadding2D",configParamIndices:[0]})],e,"zeroPadding2d",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Pooling",namespace:"layers",useDocsFrom:"AveragePooling1D",configParamIndices:[0]})],e,"averagePooling1d",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Pooling",namespace:"layers",useDocsFrom:"AveragePooling2D",configParamIndices:[0]})],e,"averagePooling2d",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Pooling",namespace:"layers",useDocsFrom:"GlobalAveragePooling1D",configParamIndices:[0]})],e,"globalAveragePooling1d",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Pooling",namespace:"layers",useDocsFrom:"GlobalAveragePooling2D",configParamIndices:[0]})],e,"globalAveragePooling2d",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Pooling",namespace:"layers",useDocsFrom:"GlobalMaxPooling1D",configParamIndices:[0]})],e,"globalMaxPooling1d",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Pooling",namespace:"layers",useDocsFrom:"GlobalMaxPooling2D",configParamIndices:[0]})],e,"globalMaxPooling2d",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Pooling",namespace:"layers",useDocsFrom:"MaxPooling1D",configParamIndices:[0]})],e,"maxPooling1d",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Pooling",namespace:"layers",useDocsFrom:"MaxPooling2D",configParamIndices:[0]})],e,"maxPooling2d",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Recurrent",namespace:"layers",useDocsFrom:"GRU",configParamIndices:[0]})],e,"gru",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Recurrent",namespace:"layers",useDocsFrom:"GRUCell",configParamIndices:[0]})],e,"gruCell",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Recurrent",namespace:"layers",useDocsFrom:"LSTM",configParamIndices:[0]})],e,"lstm",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Recurrent",namespace:"layers",useDocsFrom:"LSTMCell",configParamIndices:[0]})],e,"lstmCell",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Recurrent",namespace:"layers",useDocsFrom:"SimpleRNN",configParamIndices:[0]})],e,"simpleRNN",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Recurrent",namespace:"layers",useDocsFrom:"SimpleRNNCell",configParamIndices:[0]})],e,"simpleRNNCell",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Recurrent",namespace:"layers",useDocsFrom:"RNN",configParamIndices:[0]})],e,"rnn",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Recurrent",namespace:"layers",useDocsFrom:"RNN",configParamIndices:[0]})],e,"stackedRNNCells",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Wrapper",namespace:"layers",useDocsFrom:"Bidirectional",configParamIndices:[0]})],e,"bidirectional",null),Qu([Object(qt.a)({heading:"Layers",subheading:"Wrapper",namespace:"layers",useDocsFrom:"TimeDistributed",configParamIndices:[0]})],e,"timeDistributed",null),e;}(),ec=function(){function e(){}return e.maxNorm=function(e){return new mi(e);},e.unitNorm=function(e){return new gi(e);},e.nonNeg=function(){return new yi();},e.minMaxNorm=function(e){return new vi(e);},Qu([Object(qt.a)({heading:"Constraints",namespace:"constraints",useDocsFrom:"MaxNorm",configParamIndices:[0]})],e,"maxNorm",null),Qu([Object(qt.a)({heading:"Constraints",namespace:"constraints",useDocsFrom:"UnitNorm",configParamIndices:[0]})],e,"unitNorm",null),Qu([Object(qt.a)({heading:"Constraints",namespace:"constraints",useDocsFrom:"NonNeg"})],e,"nonNeg",null),Qu([Object(qt.a)({heading:"Constraints",namespace:"constraints",useDocsFrom:"MinMaxNormConfig",configParamIndices:[0]})],e,"minMaxNorm",null),e;}(),tc=function(){function e(){}return e.zeros=function(){return new Wo();},e.ones=function(){return new Go();},e.constant=function(e){return new qo(e);},e.randomUniform=function(e){return new Ho(e);},e.randomNormal=function(e){return new Ko(e);},e.truncatedNormal=function(e){return new Xo(e);},e.identity=function(e){return new Jo(e);},e.varianceScaling=function(e){return new Yo(e);},e.glorotUniform=function(e){return new Qo(e);},e.glorotNormal=function(e){return new Zo(e);},e.heNormal=function(e){return new $o(e);},e.leCunNormal=function(e){return new es(e);},e.orthogonal=function(e){return new ts(e);},Qu([Object(qt.a)({heading:"Initializers",namespace:"initializers",useDocsFrom:"Zeros"})],e,"zeros",null),Qu([Object(qt.a)({heading:"Initializers",namespace:"initializers",useDocsFrom:"Ones"})],e,"ones",null),Qu([Object(qt.a)({heading:"Initializers",namespace:"initializers",useDocsFrom:"Constant",configParamIndices:[0]})],e,"constant",null),Qu([Object(qt.a)({heading:"Initializers",namespace:"initializers",useDocsFrom:"RandomUniform",configParamIndices:[0]})],e,"randomUniform",null),Qu([Object(qt.a)({heading:"Initializers",namespace:"initializers",useDocsFrom:"RandomNormal",configParamIndices:[0]})],e,"randomNormal",null),Qu([Object(qt.a)({heading:"Initializers",namespace:"initializers",useDocsFrom:"TruncatedNormal",configParamIndices:[0]})],e,"truncatedNormal",null),Qu([Object(qt.a)({heading:"Initializers",namespace:"initializers",useDocsFrom:"Identity",configParamIndices:[0]})],e,"identity",null),Qu([Object(qt.a)({heading:"Initializers",namespace:"initializers",useDocsFrom:"VarianceScaling",configParamIndices:[0]})],e,"varianceScaling",null),Qu([Object(qt.a)({heading:"Initializers",namespace:"initializers",useDocsFrom:"GlorotUniform",configParamIndices:[0]})],e,"glorotUniform",null),Qu([Object(qt.a)({heading:"Initializers",namespace:"initializers",useDocsFrom:"GlorotNormal",configParamIndices:[0]})],e,"glorotNormal",null),Qu([Object(qt.a)({heading:"Initializers",namespace:"initializers",useDocsFrom:"HeNormal",configParamIndices:[0]})],e,"heNormal",null),Qu([Object(qt.a)({heading:"Initializers",namespace:"initializers",useDocsFrom:"LeCunNormal",configParamIndices:[0]})],e,"leCunNormal",null),Qu([Object(qt.a)({heading:"Initializers",namespace:"initializers",useDocsFrom:"Orthogonal",configParamIndices:[0]})],e,"orthogonal",null),e;}(),nc=function(){function e(){}return e.binaryAccuracy=function(e,t){return co(e,t);},e.binaryCrossentropy=function(e,t){return fo(e,t);},e.categoricalAccuracy=function(e,t){return lo(e,t);},e.categoricalCrossentropy=function(e,t){return no(e,t);},e.cosineProximity=function(e,t){return so(e,t);},e.prototype.meanAbsoluteError=function(e,t){return Ji(e,t);},e.prototype.meanAbsolutePercentageError=function(e,t){return Yi(e,t);},e.prototype.MAPE=function(e,t){return Yi(e,t);},e.prototype.mape=function(e,t){return Yi(e,t);},e.meanSquaredError=function(e,t){return Xi(e,t);},e.MSE=function(e,t){return Xi(e,t);},e.mse=function(e,t){return Xi(e,t);},Qu([Object(qt.a)({heading:"Metrics",namespace:"metrics",useDocsFrom:"meanAbsoluteError"})],e.prototype,"meanAbsoluteError",null),Qu([Object(qt.a)({heading:"Metrics",namespace:"metrics",useDocsFrom:"meanAbsolutePercentageError"})],e.prototype,"meanAbsolutePercentageError",null),Qu([Object(qt.a)({heading:"Metrics",namespace:"metrics",useDocsFrom:"binaryAccuracy"})],e,"binaryAccuracy",null),Qu([Object(qt.a)({heading:"Metrics",namespace:"metrics",useDocsFrom:"binaryCrossentropy"})],e,"binaryCrossentropy",null),Qu([Object(qt.a)({heading:"Metrics",namespace:"metrics",useDocsFrom:"categoricalAccuracy"})],e,"categoricalAccuracy",null),Qu([Object(qt.a)({heading:"Metrics",namespace:"metrics",useDocsFrom:"categoricalCrossentropy"})],e,"categoricalCrossentropy",null),Qu([Object(qt.a)({heading:"Metrics",namespace:"metrics",useDocsFrom:"cosineProximity"})],e,"cosineProximity",null),Qu([Object(qt.a)({heading:"Metrics",namespace:"metrics",useDocsFrom:"meanSquaredError"})],e,"meanSquaredError",null),e;}(),rc=function(){function e(){}return e.l1l2=function(e){return new As(e);},e.l1=function(e){return function(e){return new As({l1:null!=e?e.l1:null,l2:0});}(e);},e.l2=function(e){return function(e){return new As({l2:null!=e?e.l2:null,l1:0});}(e);},Qu([Object(qt.a)({heading:"Regularizers",namespace:"regularizers",useDocsFrom:"L1L2"})],e,"l1l2",null),Qu([Object(qt.a)({heading:"Regularizers",namespace:"regularizers",useDocsFrom:"L1L2"})],e,"l1",null),Qu([Object(qt.a)({heading:"Regularizers",namespace:"regularizers",useDocsFrom:"L1L2"})],e,"l2",null),e;}(),ac=Zu.model,ic=Zu.sequential,oc=Zu.loadModel,sc=Zu.input,uc=$u,cc=ec,lc=tc,fc=nc,pc=rc,hc=n(171),dc=n(102);var mc=dc.Reader,gc=dc.util,yc=dc.roots.default||(dc.roots.default={}),vc=yc.tensorflow=function(){var e={};return e.Any=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.typeUrl="",e.prototype.value=gc.newBuffer([]),e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new yc.tensorflow.Any();e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.typeUrl=e.string();break;case 2:r.value=e.bytes();break;default:e.skipType(7&a);}}return r;},e;}(),e.DataType=function(){var e={},t=Object.create(e);return t[e[0]="DT_INVALID"]=0,t[e[1]="DT_FLOAT"]=1,t[e[2]="DT_DOUBLE"]=2,t[e[3]="DT_INT32"]=3,t[e[4]="DT_UINT8"]=4,t[e[5]="DT_INT16"]=5,t[e[6]="DT_INT8"]=6,t[e[7]="DT_STRING"]=7,t[e[8]="DT_COMPLEX64"]=8,t[e[9]="DT_INT64"]=9,t[e[10]="DT_BOOL"]=10,t[e[11]="DT_QINT8"]=11,t[e[12]="DT_QUINT8"]=12,t[e[13]="DT_QINT32"]=13,t[e[14]="DT_BFLOAT16"]=14,t[e[101]="DT_FLOAT_REF"]=101,t[e[102]="DT_DOUBLE_REF"]=102,t[e[103]="DT_INT32_REF"]=103,t[e[104]="DT_UINT8_REF"]=104,t[e[105]="DT_INT16_REF"]=105,t[e[106]="DT_INT8_REF"]=106,t[e[107]="DT_STRING_REF"]=107,t[e[108]="DT_COMPLEX64_REF"]=108,t[e[109]="DT_INT64_REF"]=109,t[e[110]="DT_BOOL_REF"]=110,t[e[111]="DT_QINT8_REF"]=111,t[e[112]="DT_QUINT8_REF"]=112,t[e[113]="DT_QINT32_REF"]=113,t[e[114]="DT_BFLOAT16_REF"]=114,t;}(),e.TensorShape=function(){function e(e){if(this.dim=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.dim=gc.emptyArray,e.prototype.unknownRank=!1,e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new yc.tensorflow.TensorShape();e.pos<n;){var a=e.uint32();switch(a>>>3){case 2:r.dim&&r.dim.length||(r.dim=[]),r.dim.push(yc.tensorflow.TensorShape.Dim.decode(e,e.uint32()));break;case 3:r.unknownRank=e.bool();break;default:e.skipType(7&a);}}return r;},e.Dim=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.size=gc.Long?gc.Long.fromBits(0,0,!1):0,e.prototype.name="",e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new yc.tensorflow.TensorShape.Dim();e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.size=e.int64();break;case 2:r.name=e.string();break;default:e.skipType(7&a);}}return r;},e;}(),e;}(),e.Tensor=function(){function e(e){if(this.floatVal=[],this.doubleVal=[],this.intVal=[],this.stringVal=[],this.scomplexVal=[],this.int64Val=[],this.boolVal=[],this.uint32Val=[],this.uint64Val=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.dtype=0,e.prototype.tensorShape=null,e.prototype.versionNumber=0,e.prototype.tensorContent=gc.newBuffer([]),e.prototype.floatVal=gc.emptyArray,e.prototype.doubleVal=gc.emptyArray,e.prototype.intVal=gc.emptyArray,e.prototype.stringVal=gc.emptyArray,e.prototype.scomplexVal=gc.emptyArray,e.prototype.int64Val=gc.emptyArray,e.prototype.boolVal=gc.emptyArray,e.prototype.uint32Val=gc.emptyArray,e.prototype.uint64Val=gc.emptyArray,e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new yc.tensorflow.Tensor();e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.dtype=e.int32();break;case 2:r.tensorShape=yc.tensorflow.TensorShape.decode(e,e.uint32());break;case 3:r.versionNumber=e.int32();break;case 4:r.tensorContent=e.bytes();break;case 5:if(r.floatVal&&r.floatVal.length||(r.floatVal=[]),2==(7&a))for(var i=e.uint32()+e.pos;e.pos<i;){r.floatVal.push(e.float());}else r.floatVal.push(e.float());break;case 6:if(r.doubleVal&&r.doubleVal.length||(r.doubleVal=[]),2==(7&a))for(i=e.uint32()+e.pos;e.pos<i;){r.doubleVal.push(e.double());}else r.doubleVal.push(e.double());break;case 7:if(r.intVal&&r.intVal.length||(r.intVal=[]),2==(7&a))for(i=e.uint32()+e.pos;e.pos<i;){r.intVal.push(e.int32());}else r.intVal.push(e.int32());break;case 8:r.stringVal&&r.stringVal.length||(r.stringVal=[]),r.stringVal.push(e.bytes());break;case 9:if(r.scomplexVal&&r.scomplexVal.length||(r.scomplexVal=[]),2==(7&a))for(i=e.uint32()+e.pos;e.pos<i;){r.scomplexVal.push(e.float());}else r.scomplexVal.push(e.float());break;case 10:if(r.int64Val&&r.int64Val.length||(r.int64Val=[]),2==(7&a))for(i=e.uint32()+e.pos;e.pos<i;){r.int64Val.push(e.int64());}else r.int64Val.push(e.int64());break;case 11:if(r.boolVal&&r.boolVal.length||(r.boolVal=[]),2==(7&a))for(i=e.uint32()+e.pos;e.pos<i;){r.boolVal.push(e.bool());}else r.boolVal.push(e.bool());break;case 16:if(r.uint32Val&&r.uint32Val.length||(r.uint32Val=[]),2==(7&a))for(i=e.uint32()+e.pos;e.pos<i;){r.uint32Val.push(e.uint32());}else r.uint32Val.push(e.uint32());break;case 17:if(r.uint64Val&&r.uint64Val.length||(r.uint64Val=[]),2==(7&a))for(i=e.uint32()+e.pos;e.pos<i;){r.uint64Val.push(e.uint64());}else r.uint64Val.push(e.uint64());break;default:e.skipType(7&a);}}return r;},e;}(),e.AttrValue=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}var t=void 0;return e.prototype.list=null,e.prototype.s=gc.newBuffer([]),e.prototype.i=gc.Long?gc.Long.fromBits(0,0,!1):0,e.prototype.f=0,e.prototype.b=!1,e.prototype.type=0,e.prototype.shape=null,e.prototype.tensor=null,e.prototype.placeholder="",e.prototype.func=null,Object.defineProperty(e.prototype,"value",{get:gc.oneOfGetter(t=["list","s","i","f","b","type","shape","tensor","placeholder","func"]),set:gc.oneOfSetter(t)}),e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new yc.tensorflow.AttrValue();e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.list=yc.tensorflow.AttrValue.ListValue.decode(e,e.uint32());break;case 2:r.s=e.bytes();break;case 3:r.i=e.int64();break;case 4:r.f=e.float();break;case 5:r.b=e.bool();break;case 6:r.type=e.int32();break;case 7:r.shape=yc.tensorflow.TensorShape.decode(e,e.uint32());break;case 8:r.tensor=yc.tensorflow.Tensor.decode(e,e.uint32());break;case 9:r.placeholder=e.string();break;case 10:r.func=yc.tensorflow.NameAttrList.decode(e,e.uint32());break;default:e.skipType(7&a);}}return r;},e.ListValue=function(){function e(e){if(this.s=[],this.i=[],this.f=[],this.b=[],this.type=[],this.shape=[],this.tensor=[],this.func=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.s=gc.emptyArray,e.prototype.i=gc.emptyArray,e.prototype.f=gc.emptyArray,e.prototype.b=gc.emptyArray,e.prototype.type=gc.emptyArray,e.prototype.shape=gc.emptyArray,e.prototype.tensor=gc.emptyArray,e.prototype.func=gc.emptyArray,e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new yc.tensorflow.AttrValue.ListValue();e.pos<n;){var a=e.uint32();switch(a>>>3){case 2:r.s&&r.s.length||(r.s=[]),r.s.push(e.bytes());break;case 3:if(r.i&&r.i.length||(r.i=[]),2==(7&a))for(var i=e.uint32()+e.pos;e.pos<i;){r.i.push(e.int64());}else r.i.push(e.int64());break;case 4:if(r.f&&r.f.length||(r.f=[]),2==(7&a))for(i=e.uint32()+e.pos;e.pos<i;){r.f.push(e.float());}else r.f.push(e.float());break;case 5:if(r.b&&r.b.length||(r.b=[]),2==(7&a))for(i=e.uint32()+e.pos;e.pos<i;){r.b.push(e.bool());}else r.b.push(e.bool());break;case 6:if(r.type&&r.type.length||(r.type=[]),2==(7&a))for(i=e.uint32()+e.pos;e.pos<i;){r.type.push(e.int32());}else r.type.push(e.int32());break;case 7:r.shape&&r.shape.length||(r.shape=[]),r.shape.push(yc.tensorflow.TensorShape.decode(e,e.uint32()));break;case 8:r.tensor&&r.tensor.length||(r.tensor=[]),r.tensor.push(yc.tensorflow.Tensor.decode(e,e.uint32()));break;case 9:r.func&&r.func.length||(r.func=[]),r.func.push(yc.tensorflow.NameAttrList.decode(e,e.uint32()));break;default:e.skipType(7&a);}}return r;},e;}(),e;}(),e.NameAttrList=function(){function e(e){if(this.attr={},e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.name="",e.prototype.attr=gc.emptyObject,e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n,r=void 0===t?e.len:e.pos+t,a=new yc.tensorflow.NameAttrList();e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:a.name=e.string();break;case 2:e.skip().pos++,a.attr===gc.emptyObject&&(a.attr={}),n=e.string(),e.pos++,a.attr[n]=yc.tensorflow.AttrValue.decode(e,e.uint32());break;default:e.skipType(7&i);}}return a;},e;}(),e.NodeDef=function(){function e(e){if(this.input=[],this.attr={},e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.name="",e.prototype.op="",e.prototype.input=gc.emptyArray,e.prototype.device="",e.prototype.attr=gc.emptyObject,e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n,r=void 0===t?e.len:e.pos+t,a=new yc.tensorflow.NodeDef();e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:a.name=e.string();break;case 2:a.op=e.string();break;case 3:a.input&&a.input.length||(a.input=[]),a.input.push(e.string());break;case 4:a.device=e.string();break;case 5:e.skip().pos++,a.attr===gc.emptyObject&&(a.attr={}),n=e.string(),e.pos++,a.attr[n]=yc.tensorflow.AttrValue.decode(e,e.uint32());break;default:e.skipType(7&i);}}return a;},e;}(),e.VersionDef=function(){function e(e){if(this.badConsumers=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.producer=0,e.prototype.minConsumer=0,e.prototype.badConsumers=gc.emptyArray,e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new yc.tensorflow.VersionDef();e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.producer=e.int32();break;case 2:r.minConsumer=e.int32();break;case 3:if(r.badConsumers&&r.badConsumers.length||(r.badConsumers=[]),2==(7&a))for(var i=e.uint32()+e.pos;e.pos<i;){r.badConsumers.push(e.int32());}else r.badConsumers.push(e.int32());break;default:e.skipType(7&a);}}return r;},e;}(),e.GraphDef=function(){function e(e){if(this.node=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.node=gc.emptyArray,e.prototype.versions=null,e.prototype.library=null,e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new yc.tensorflow.GraphDef();e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.node&&r.node.length||(r.node=[]),r.node.push(yc.tensorflow.NodeDef.decode(e,e.uint32()));break;case 4:r.versions=yc.tensorflow.VersionDef.decode(e,e.uint32());break;case 2:r.library=yc.tensorflow.FunctionDefLibrary.decode(e,e.uint32());break;default:e.skipType(7&a);}}return r;},e;}(),e.CollectionDef=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}var t=void 0;return e.prototype.nodeList=null,e.prototype.bytesList=null,e.prototype.int64List=null,e.prototype.floatList=null,e.prototype.anyList=null,Object.defineProperty(e.prototype,"kind",{get:gc.oneOfGetter(t=["nodeList","bytesList","int64List","floatList","anyList"]),set:gc.oneOfSetter(t)}),e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new yc.tensorflow.CollectionDef();e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.nodeList=yc.tensorflow.CollectionDef.NodeList.decode(e,e.uint32());break;case 2:r.bytesList=yc.tensorflow.CollectionDef.BytesList.decode(e,e.uint32());break;case 3:r.int64List=yc.tensorflow.CollectionDef.Int64List.decode(e,e.uint32());break;case 4:r.floatList=yc.tensorflow.CollectionDef.FloatList.decode(e,e.uint32());break;case 5:r.anyList=yc.tensorflow.CollectionDef.AnyList.decode(e,e.uint32());break;default:e.skipType(7&a);}}return r;},e.NodeList=function(){function e(e){if(this.value=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.value=gc.emptyArray,e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new yc.tensorflow.CollectionDef.NodeList();e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.value&&r.value.length||(r.value=[]),r.value.push(e.string());break;default:e.skipType(7&a);}}return r;},e;}(),e.BytesList=function(){function e(e){if(this.value=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.value=gc.emptyArray,e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new yc.tensorflow.CollectionDef.BytesList();e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.value&&r.value.length||(r.value=[]),r.value.push(e.bytes());break;default:e.skipType(7&a);}}return r;},e;}(),e.Int64List=function(){function e(e){if(this.value=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.value=gc.emptyArray,e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new yc.tensorflow.CollectionDef.Int64List();e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:if(r.value&&r.value.length||(r.value=[]),2==(7&a))for(var i=e.uint32()+e.pos;e.pos<i;){r.value.push(e.int64());}else r.value.push(e.int64());break;default:e.skipType(7&a);}}return r;},e;}(),e.FloatList=function(){function e(e){if(this.value=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.value=gc.emptyArray,e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new yc.tensorflow.CollectionDef.FloatList();e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:if(r.value&&r.value.length||(r.value=[]),2==(7&a))for(var i=e.uint32()+e.pos;e.pos<i;){r.value.push(e.float());}else r.value.push(e.float());break;default:e.skipType(7&a);}}return r;},e;}(),e.AnyList=function(){function e(e){if(this.value=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.value=gc.emptyArray,e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new yc.tensorflow.CollectionDef.AnyList();e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.value&&r.value.length||(r.value=[]),r.value.push(yc.tensorflow.Any.decode(e,e.uint32()));break;default:e.skipType(7&a);}}return r;},e;}(),e;}(),e.SaverDef=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.filenameTensorName="",e.prototype.saveTensorName="",e.prototype.restoreOpName="",e.prototype.maxToKeep=0,e.prototype.sharded=!1,e.prototype.keepCheckpointEveryNHours=0,e.prototype.version=0,e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new yc.tensorflow.SaverDef();e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.filenameTensorName=e.string();break;case 2:r.saveTensorName=e.string();break;case 3:r.restoreOpName=e.string();break;case 4:r.maxToKeep=e.int32();break;case 5:r.sharded=e.bool();break;case 6:r.keepCheckpointEveryNHours=e.float();break;case 7:r.version=e.int32();break;default:e.skipType(7&a);}}return r;},e.CheckpointFormatVersion=function(){var e={},t=Object.create(e);return t[e[0]="LEGACY"]=0,t[e[1]="V1"]=1,t[e[2]="V2"]=2,t;}(),e;}(),e.TensorInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}var t=void 0;return e.prototype.name="",e.prototype.cooSparse=null,e.prototype.dtype=0,e.prototype.tensorShape=null,Object.defineProperty(e.prototype,"encoding",{get:gc.oneOfGetter(t=["name","cooSparse"]),set:gc.oneOfSetter(t)}),e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new yc.tensorflow.TensorInfo();e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.name=e.string();break;case 4:r.cooSparse=yc.tensorflow.TensorInfo.CooSparse.decode(e,e.uint32());break;case 2:r.dtype=e.int32();break;case 3:r.tensorShape=yc.tensorflow.TensorShape.decode(e,e.uint32());break;default:e.skipType(7&a);}}return r;},e.CooSparse=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.valuesTensorName="",e.prototype.indicesTensorName="",e.prototype.denseShapeTensorName="",e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new yc.tensorflow.TensorInfo.CooSparse();e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.valuesTensorName=e.string();break;case 2:r.indicesTensorName=e.string();break;case 3:r.denseShapeTensorName=e.string();break;default:e.skipType(7&a);}}return r;},e;}(),e;}(),e.SignatureDef=function(){function e(e){if(this.inputs={},this.outputs={},e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.inputs=gc.emptyObject,e.prototype.outputs=gc.emptyObject,e.prototype.methodName="",e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n,r=void 0===t?e.len:e.pos+t,a=new yc.tensorflow.SignatureDef();e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:e.skip().pos++,a.inputs===gc.emptyObject&&(a.inputs={}),n=e.string(),e.pos++,a.inputs[n]=yc.tensorflow.TensorInfo.decode(e,e.uint32());break;case 2:e.skip().pos++,a.outputs===gc.emptyObject&&(a.outputs={}),n=e.string(),e.pos++,a.outputs[n]=yc.tensorflow.TensorInfo.decode(e,e.uint32());break;case 3:a.methodName=e.string();break;default:e.skipType(7&i);}}return a;},e;}(),e.AssetFileDef=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.tensorInfo=null,e.prototype.filename="",e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new yc.tensorflow.AssetFileDef();e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.tensorInfo=yc.tensorflow.TensorInfo.decode(e,e.uint32());break;case 2:r.filename=e.string();break;default:e.skipType(7&a);}}return r;},e;}(),e.OpDef=function(){function e(e){if(this.inputArg=[],this.outputArg=[],this.attr=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.name="",e.prototype.inputArg=gc.emptyArray,e.prototype.outputArg=gc.emptyArray,e.prototype.attr=gc.emptyArray,e.prototype.deprecation=null,e.prototype.summary="",e.prototype.description="",e.prototype.isCommutative=!1,e.prototype.isAggregate=!1,e.prototype.isStateful=!1,e.prototype.allowsUninitializedInput=!1,e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new yc.tensorflow.OpDef();e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.name=e.string();break;case 2:r.inputArg&&r.inputArg.length||(r.inputArg=[]),r.inputArg.push(yc.tensorflow.OpDef.ArgDef.decode(e,e.uint32()));break;case 3:r.outputArg&&r.outputArg.length||(r.outputArg=[]),r.outputArg.push(yc.tensorflow.OpDef.ArgDef.decode(e,e.uint32()));break;case 4:r.attr&&r.attr.length||(r.attr=[]),r.attr.push(yc.tensorflow.OpDef.AttrDef.decode(e,e.uint32()));break;case 8:r.deprecation=yc.tensorflow.OpDef.OpDeprecation.decode(e,e.uint32());break;case 5:r.summary=e.string();break;case 6:r.description=e.string();break;case 18:r.isCommutative=e.bool();break;case 16:r.isAggregate=e.bool();break;case 17:r.isStateful=e.bool();break;case 19:r.allowsUninitializedInput=e.bool();break;default:e.skipType(7&a);}}return r;},e.ArgDef=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.name="",e.prototype.description="",e.prototype.type=0,e.prototype.typeAttr="",e.prototype.numberAttr="",e.prototype.typeListAttr="",e.prototype.isRef=!1,e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new yc.tensorflow.OpDef.ArgDef();e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.name=e.string();break;case 2:r.description=e.string();break;case 3:r.type=e.int32();break;case 4:r.typeAttr=e.string();break;case 5:r.numberAttr=e.string();break;case 6:r.typeListAttr=e.string();break;case 16:r.isRef=e.bool();break;default:e.skipType(7&a);}}return r;},e;}(),e.AttrDef=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.name="",e.prototype.type="",e.prototype.defaultValue=null,e.prototype.description="",e.prototype.hasMinimum=!1,e.prototype.minimum=gc.Long?gc.Long.fromBits(0,0,!1):0,e.prototype.allowedValues=null,e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new yc.tensorflow.OpDef.AttrDef();e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.name=e.string();break;case 2:r.type=e.string();break;case 3:r.defaultValue=yc.tensorflow.AttrValue.decode(e,e.uint32());break;case 4:r.description=e.string();break;case 5:r.hasMinimum=e.bool();break;case 6:r.minimum=e.int64();break;case 7:r.allowedValues=yc.tensorflow.AttrValue.decode(e,e.uint32());break;default:e.skipType(7&a);}}return r;},e;}(),e.OpDeprecation=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.version=0,e.prototype.explanation="",e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new yc.tensorflow.OpDef.OpDeprecation();e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.version=e.int32();break;case 2:r.explanation=e.string();break;default:e.skipType(7&a);}}return r;},e;}(),e;}(),e.OpList=function(){function e(e){if(this.op=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.op=gc.emptyArray,e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new yc.tensorflow.OpList();e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.op&&r.op.length||(r.op=[]),r.op.push(yc.tensorflow.OpDef.decode(e,e.uint32()));break;default:e.skipType(7&a);}}return r;},e;}(),e.MetaGraphDef=function(){function e(e){if(this.collectionDef={},this.signatureDef={},this.assetFileDef=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.metaInfoDef=null,e.prototype.graphDef=null,e.prototype.saverDef=null,e.prototype.collectionDef=gc.emptyObject,e.prototype.signatureDef=gc.emptyObject,e.prototype.assetFileDef=gc.emptyArray,e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n,r=void 0===t?e.len:e.pos+t,a=new yc.tensorflow.MetaGraphDef();e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:a.metaInfoDef=yc.tensorflow.MetaGraphDef.MetaInfoDef.decode(e,e.uint32());break;case 2:a.graphDef=yc.tensorflow.GraphDef.decode(e,e.uint32());break;case 3:a.saverDef=yc.tensorflow.SaverDef.decode(e,e.uint32());break;case 4:e.skip().pos++,a.collectionDef===gc.emptyObject&&(a.collectionDef={}),n=e.string(),e.pos++,a.collectionDef[n]=yc.tensorflow.CollectionDef.decode(e,e.uint32());break;case 5:e.skip().pos++,a.signatureDef===gc.emptyObject&&(a.signatureDef={}),n=e.string(),e.pos++,a.signatureDef[n]=yc.tensorflow.SignatureDef.decode(e,e.uint32());break;case 6:a.assetFileDef&&a.assetFileDef.length||(a.assetFileDef=[]),a.assetFileDef.push(yc.tensorflow.AssetFileDef.decode(e,e.uint32()));break;default:e.skipType(7&i);}}return a;},e.MetaInfoDef=function(){function e(e){if(this.tags=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.metaGraphVersion="",e.prototype.strippedOpList=null,e.prototype.anyInfo=null,e.prototype.tags=gc.emptyArray,e.prototype.tensorflowVersion="",e.prototype.tensorflowGitVersion="",e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new yc.tensorflow.MetaGraphDef.MetaInfoDef();e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.metaGraphVersion=e.string();break;case 2:r.strippedOpList=yc.tensorflow.OpList.decode(e,e.uint32());break;case 3:r.anyInfo=yc.tensorflow.Any.decode(e,e.uint32());break;case 4:r.tags&&r.tags.length||(r.tags=[]),r.tags.push(e.string());break;case 5:r.tensorflowVersion=e.string();break;case 6:r.tensorflowGitVersion=e.string();break;default:e.skipType(7&a);}}return r;},e;}(),e;}(),e.SavedModel=function(){function e(e){if(this.metaGraphs=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.savedModelSchemaVersion=gc.Long?gc.Long.fromBits(0,0,!1):0,e.prototype.metaGraphs=gc.emptyArray,e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new yc.tensorflow.SavedModel();e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.savedModelSchemaVersion=e.int64();break;case 2:r.metaGraphs&&r.metaGraphs.length||(r.metaGraphs=[]),r.metaGraphs.push(yc.tensorflow.MetaGraphDef.decode(e,e.uint32()));break;default:e.skipType(7&a);}}return r;},e;}(),e.FunctionDefLibrary=function(){function e(e){if(this.function=[],this.gradient=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.function=gc.emptyArray,e.prototype.gradient=gc.emptyArray,e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new yc.tensorflow.FunctionDefLibrary();e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.function&&r.function.length||(r.function=[]),r.function.push(yc.tensorflow.FunctionDef.decode(e,e.uint32()));break;case 2:r.gradient&&r.gradient.length||(r.gradient=[]),r.gradient.push(yc.tensorflow.GradientDef.decode(e,e.uint32()));break;default:e.skipType(7&a);}}return r;},e;}(),e.FunctionDef=function(){function e(e){if(this.attr={},this.nodeDef=[],this.ret={},e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.signature=null,e.prototype.attr=gc.emptyObject,e.prototype.nodeDef=gc.emptyArray,e.prototype.ret=gc.emptyObject,e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n,r=void 0===t?e.len:e.pos+t,a=new yc.tensorflow.FunctionDef();e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:a.signature=yc.tensorflow.OpDef.decode(e,e.uint32());break;case 5:e.skip().pos++,a.attr===gc.emptyObject&&(a.attr={}),n=e.string(),e.pos++,a.attr[n]=yc.tensorflow.AttrValue.decode(e,e.uint32());break;case 3:a.nodeDef&&a.nodeDef.length||(a.nodeDef=[]),a.nodeDef.push(yc.tensorflow.NodeDef.decode(e,e.uint32()));break;case 4:e.skip().pos++,a.ret===gc.emptyObject&&(a.ret={}),n=e.string(),e.pos++,a.ret[n]=e.string();break;default:e.skipType(7&i);}}return a;},e;}(),e.GradientDef=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n){null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}}return e.prototype.functionName="",e.prototype.gradientFunc="",e.decode=function(e,t){e instanceof mc||(e=mc.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new yc.tensorflow.GradientDef();e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.functionName=e.string();break;case 2:r.gradientFunc=e.string();break;default:e.skipType(7&a);}}return r;},e;}(),e;}();function bc(e,t,n,r){var a=t.params[e];if(a&&void 0!==a.inputIndex){if("tensor"===a.type)return wc(t.inputNames[a.inputIndex],n,r);if("tensors"===a.type)return(0===a.inputIndex?0===a.inputParamLength?t.inputNames:t.inputNames.slice(a.inputIndex,-a.inputParamLength):t.inputNames.splice(a.inputIndex)).map(function(e){return wc(e,n,r);});var i=Array.prototype.slice.call(wc(t.inputNames.slice(a.inputIndex)[0],n,r).dataSync());return"number"===a.type?i[0]:i;}return a&&a.value;}function wc(e,t,n){var r=Oc(e),a=r[0],i=r[1],o=n.currentContextIds.find(function(e){return!!t[kc(a,e)];});return void 0!==o?t[kc(a,o)][i]:void 0;}function xc(e,t){var n=Oc(e),r=n[0],a=n[1];return[kc(r,t&&t.currentContextId),a];}function kc(e,t){return t?e+"-"+t:e;}function Oc(e){var t=e.lastIndexOf(":");return-1===t?[e,0]:[e.substring(0,t),Number(e.substring(t+1))];}var Sc=n(240),Nc=Object.assign({},Sc,{default:Sc}),Ec=n(239),Ic=Object.assign({},Ec,{default:Ec}),Tc=n(238),Ac=Object.assign({},Tc,{default:Tc}),Cc=n(237),Pc=Object.assign({},Cc,{default:Cc}),_c=n(236),Rc=Object.assign({},_c,{default:_c}),Mc=n(235),jc=Object.assign({},Mc,{default:Mc}),Dc=n(234),Lc=Object.assign({},Dc,{default:Dc}),zc=n(233),Fc=Object.assign({},zc,{default:zc}),Bc=n(232),Vc=Object.assign({},Bc,{default:Bc}),Uc=n(231),Wc=Object.assign({},Uc,{default:Uc}),Gc=n(230),qc=Object.assign({},Gc,{default:Gc}),Hc=n(229),Kc=Object.assign({},Hc,{default:Hc}),Xc=n(228),Jc=Object.assign({},Xc,{default:Xc}),Yc=["Switch","Merge","Enter","Exit","NextIteration"],Qc=function(){function e(){var e=[Nc,Ic,Ac,Pc,Rc,Fc,Lc,jc,Vc,Wc,qc,Kc,Jc],t=[].concat.apply([],e.map(function(e){return e.default?e.default:e;}));this.opMappers=t.reduce(function(e,t){return e[t.tfOpName]=t,e;},{});}return Object.defineProperty(e,"Instance",{get:function get(){return this._instance||(this._instance=new this());},enumerable:!0,configurable:!0}),e.prototype.isControlFlow=function(e){return Yc.some(function(t){return t===e.op;});},e.prototype.transformGraph=function(e){var t=this,n=!1,r=[],a=e.node.reduce(function(e,a){return e[a.name]=t.mapNode(a),t.isControlFlow(a)&&(n=!0),"Placeholder"===a.op&&r.push(e[a.name]),e;},{}),i=[],o=[];return Object.keys(a).forEach(function(e){var t=a[e];t.inputNames.forEach(function(e){var n=xc(e)[0];t.inputs.push(a[n]),a[n].children.push(t);}),0===t.inputs.length&&i.push(t);}),Object.keys(a).forEach(function(e){var t=a[e];0===t.children.length&&o.push(t);}),{nodes:a,inputs:i,outputs:o,placeholders:r,withControlFlow:n};},e.prototype.mapNode=function(e){var t=this,n=this.opMappers[e.op];if(void 0===n)throw new Error("Tensorflow Op is not supported: "+e.op);var r={name:e.name,op:n.dlOpName,category:n.category,inputNames:(e.input||[]).map(function(e){return e.startsWith("^")?e.substr(1):e;}),inputs:[],children:[],params:{}};return n.params&&(r.params=n.params.reduce(function(n,r){var a=r.tfInputIndex,i=r.tfInputParamLength,o=r.type,s=void 0;if(void 0===a)switch(r.type){case"string":void 0===(s=t.getStringParam(e.attr,r.tfParamName,r.defaultValue))&&r.tfParamNameDeprecated&&(s=t.getStringParam(e.attr,r.tfParamNameDeprecated,r.defaultValue));break;case"number":void 0===(s=t.getNumberParam(e.attr,r.tfParamName,r.defaultValue))&&r.tfParamNameDeprecated&&(s=t.getNumberParam(e.attr,r.tfParamNameDeprecated,r.defaultValue));break;case"number[]":void 0===(s=t.getNumericArrayParam(e.attr,r.tfParamName,r.defaultValue))&&r.tfParamNameDeprecated&&(s=t.getNumericArrayParam(e.attr,r.tfParamNameDeprecated,r.defaultValue));break;case"bool":void 0===(s=t.getBoolParam(e.attr,r.tfParamName,r.defaultValue))&&r.tfParamNameDeprecated&&(s=t.getBoolParam(e.attr,r.tfParamNameDeprecated,r.defaultValue));break;case"shape":void 0===(s=t.getTensorShapeParam(e.attr,r.tfParamName,r.defaultValue))&&r.tfParamNameDeprecated&&(s=t.getTensorShapeParam(e.attr,r.tfParamNameDeprecated,r.defaultValue));break;case"dtype":void 0===(s=t.getDtypeParam(e.attr,r.tfParamName,r.defaultValue))&&r.tfParamNameDeprecated&&(s=t.getDtypeParam(e.attr,r.tfParamNameDeprecated,r.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: "+r.type+" for op: "+e.op);}return n[r.dlParamName]={value:s,inputIndex:a,type:o,inputParamLength:i},n;},{})),r;},e.prototype.getStringParam=function(e,t,n,r){void 0===r&&(r=!1);var a=e[t];if(void 0!==a){var i=String.fromCharCode.apply(null,a.s);return r?i:i.toLowerCase();}return n;},e.prototype.getBoolParam=function(e,t,n){var r=e[t];return r?r.b:n;},e.prototype.getNumberParam=function(e,t,n){var r=e[t],a=r?void 0!==r.f?r.f:r.i:n;return"number"==typeof a?a:a.toInt();},e.prototype.getDtypeParam=function(e,t,n){var r=e[t];if(r&&r.type)switch(r.type){case vc.DataType.DT_FLOAT:return"float32";case vc.DataType.DT_INT32:return"int32";case vc.DataType.DT_BOOL:return"bool";default:return n;}return n;},e.prototype.getTensorShapeParam=function(e,t,n){var r=e[t];return r&&r.shape?r.shape.dim.map(function(e){return e.size;}):n;},e.prototype.getNumericArrayParam=function(e,t,n){var r=e[t];return r?(r.list.f&&r.list.f.length?r.list.f:r.list.i).map(function(e){return"number"==typeof e?e:e.toInt();}):n;},e;}(),Zc=function Zc(e,t,n){switch(e.op){case"add":return[f.d(bc("a",e,t,n),bc("b",e,t,n))];case"mod":return[f.eb(bc("a",e,t,n),bc("b",e,t,n))];case"mul":return[f.ib(bc("a",e,t,n),bc("b",e,t,n))];case"div":return[f.J(bc("a",e,t,n),bc("b",e,t,n))];case"sub":return[f.pc(bc("a",e,t,n),bc("b",e,t,n))];case"minimum":return[f.cb(bc("a",e,t,n),bc("b",e,t,n))];case"maximum":return[f.Ya(bc("a",e,t,n),bc("b",e,t,n))];case"pow":return[f.Ab(bc("a",e,t,n),bc("b",e,t,n))];case"squaredDifference":return[f.jc(bc("a",e,t,n),bc("b",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented");}},$c=function $c(e,t,n){switch(e.op){case"abs":return[f.a(bc("x",e,t,n))];case"acos":return[f.b(bc("x",e,t,n))];case"acosh":return[f.c(bc("x",e,t,n))];case"asin":return[f.h(bc("x",e,t,n))];case"asinh":return[f.i(bc("x",e,t,n))];case"atan":return[f.j(bc("x",e,t,n))];case"atanh":return[f.l(bc("x",e,t,n))];case"ceil":return[f.u(bc("x",e,t,n))];case"cos":return[f.F(bc("x",e,t,n))];case"cosh":return[f.G(bc("x",e,t,n))];case"elu":return[f.M(bc("x",e,t,n))];case"erf":return[f.P(bc("x",e,t,n))];case"exp":return[f.Q(bc("x",e,t,n))];case"expm1":return[f.S(bc("x",e,t,n))];case"floor":return[f.V(bc("x",e,t,n))];case"log":return[f.La(bc("x",e,t,n))];case"log1p":return[f.Ma(bc("x",e,t,n))];case"neg":return[f.mb(bc("x",e,t,n))];case"reciprocal":return[f.Ib(bc("x",e,t,n))];case"relu":return[f.Jb(bc("x",e,t,n))];case"round":return[f.Qb(bc("x",e,t,n))];case"selu":return[f.Tb(bc("x",e,t,n))];case"sigmoid":return[f.Vb(bc("x",e,t,n))];case"sin":return[f.Xb(bc("x",e,t,n))];case"sign":return[f.Wb(bc("x",e,t,n))];case"sinh":return[f.Yb(bc("x",e,t,n))];case"softplus":return[f.fc(bc("x",e,t,n))];case"sqrt":return[f.hc(bc("x",e,t,n))];case"square":return[f.ic(bc("x",e,t,n))];case"tanh":return[f.tc(bc("x",e,t,n))];case"tan":return[f.sc(bc("x",e,t,n))];case"clipByValue":return[f.v(bc("x",e,t,n),bc("clipValueMin",e,t,n),bc("clipValueMax",e,t,n))];case"rsqrt":return[f.J(f.Sb(1,"float32"),f.hc(wc(e.inputNames[0],t,n)))];default:throw TypeError("Node type "+e.op+" is not implemented");}},el=function el(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{u(r.next(e));}catch(e){i(e);}}function s(e){try{u(r.throw(e));}catch(e){i(e);}}function u(e){e.done?a(e.value):new n(function(t){t(e.value);}).then(o,s);}u((r=r.apply(e,t||[])).next());});},tl=function tl(e,t){var n,r,a,i,o={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1];},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this;}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;){try{if(n=1,r&&(a=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[0,a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue;}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break;}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break;}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break;}a[2]&&o.ops.pop(),o.trys.pop();continue;}i=t.call(e,o);}catch(e){i=[6,e],r=0;}finally{n=a=0;}}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0};}([i,s]);};}},nl=function nl(e,t,n){switch(e.op){case"conv1d":var r=bc("stride",e,t,n),a=bc("pad",e,t,n),i=bc("dataFormat",e,t,n).toUpperCase(),o=bc("dilation",e,t,n);return[f.C(bc("x",e,t,n),bc("filter",e,t,n),r,a,i,o)];case"conv2d":r=bc("strides",e,t,n),a=bc("pad",e,t,n),i=bc("dataFormat",e,t,n).toUpperCase();var s=bc("dilations",e,t,n);return[f.D(bc("x",e,t,n),bc("filter",e,t,n),[r[1],r[2]],a,i,[s[0],s[1]])];case"conv2dTranspose":var u=bc("outputShape",e,t,n);return r=bc("strides",e,t,n),a=bc("pad",e,t,n),[f.E(bc("x",e,t,n),bc("filter",e,t,n),u,[r[1],r[2]],a)];case"depthwiseConv2d":return r=bc("strides",e,t,n),a=bc("pad",e,t,n),s=bc("dilations",e,t,n),i=bc("dataFormat",e,t,n).toUpperCase(),[f.I(bc("input",e,t,n),bc("filter",e,t,n),[r[1],r[2]],a,i,[s[0],s[1]])];case"avgPool":r=bc("strides",e,t,n),a=bc("pad",e,t,n);var c=bc("kernelSize",e,t,n);return[f.m(bc("x",e,t,n),[c[1],c[2]],[r[1],r[2]],a)];case"maxPool":return r=bc("strides",e,t,n),a=bc("pad",e,t,n),c=bc("kernelSize",e,t,n),[f.Xa(bc("x",e,t,n),[c[1],c[2]],[r[1],r[2]],a)];default:throw TypeError("Node type "+e.op+" is not implemented");}},rl=function rl(e,t,n){switch(e.op){case"fill":var r=bc("shape",e,t,n),a=bc("value",e,t,n);return[f.U(r,a)];case"linspace":var i=bc("start",e,t,n),o=bc("stop",e,t,n),s=bc("num",e,t,n);return[f.Ja(i,o,s)];case"oneHot":var u=bc("indices",e,t,n),c=bc("depth",e,t,n),l=bc("onValue",e,t,n),p=bc("offValue",e,t,n);return[f.qb(u,c,l,p)];case"ones":return[f.rb(bc("shape",e,t,n),bc("dtype",e,t,n))];case"onesLike":return[f.sb(bc("x",e,t,n))];case"randomUniform":return[f.Gb(bc("shape",e,t,n),bc("minval",e,t,n),bc("maxval",e,t,n),bc("dtype",e,t,n))];case"range":i=bc("start",e,t,n);var h=bc("stop",e,t,n),d=bc("step",e,t,n);return[f.Hb(i,h,d,bc("dtype",e,t,n))];case"truncatedNormal":r=bc("shape",e,t,n);var m=bc("mean",e,t,n),g=bc("stdDev",e,t,n),y=bc("seed",e,t,n);return[f.Cc(r,m,g,bc("dtype",e,t,n),y)];case"zeros":return[f.Hc(bc("shape",e,t,n),bc("dtype",e,t,n))];case"zerosLike":return[f.Ic(bc("x",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented");}},al=function al(e,t,n){switch(e.op){case"const":return t[e.name];case"placeholder":var r=bc("default",e,t,n);return[wc(e.name,t,n)||r];case"identity":case"stopGradient":case"fakeQuantWithMinMaxVars":return[bc("x",e,t,n)];case"snapshot":return[bc("x",e,t,n).clone()];case"shape":return[f.vc(bc("x",e,t,n).shape,"int32")];case"noop":return[];case"print":var a=bc("x",e,t,n),i=bc("data",e,t,n),o=bc("message",e,t,n),s=bc("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(o);for(var u=0;u<i.length;u++){console.log(Array.prototype.slice.call(i[0].dataSync()).slice(0,s));}return[a];default:throw TypeError("Node type "+e.op+" is not implemented");}},il=function il(e,t,n){switch(e.op){case"resizeBilinear":var r=bc("images",e,t,n),a=bc("size",e,t,n),i=bc("alignCorners",e,t,n);return[f.Ca.resizeBilinear(r,[a[0],a[1]],i)];case"resizeNearestNeighbor":return r=bc("images",e,t,n),a=bc("size",e,t,n),i=bc("alignCorners",e,t,n),[f.Ca.resizeNearestNeighbor(r,[a[0],a[1]],i)];default:throw TypeError("Node type "+e.op+" is not implemented");}},ol=function ol(e,t,n){switch(e.op){case"equal":return[f.N(bc("a",e,t,n),bc("b",e,t,n))];case"notEqual":return[f.ob(bc("a",e,t,n),bc("b",e,t,n))];case"greater":return[f.Y(bc("a",e,t,n),bc("b",e,t,n))];case"greaterEqual":return[f.Z(bc("a",e,t,n),bc("b",e,t,n))];case"less":return[f.Ea(bc("a",e,t,n),bc("b",e,t,n))];case"lessEqual":return[f.Fa(bc("a",e,t,n),bc("b",e,t,n))];case"logicalAnd":return[f.Pa(bc("a",e,t,n),bc("b",e,t,n))];case"logicalNot":return[f.Qa(bc("a",e,t,n))];case"logicalOr":return[f.Ra(bc("a",e,t,n),bc("b",e,t,n))];case"where":return[f.Gc(bc("condition",e,t,n),bc("a",e,t,n),bc("b",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented");}},sl=function sl(e,t,n){switch(e.op){case"matMul":return[f.Ua(bc("a",e,t,n),bc("b",e,t,n),bc("transposeA",e,t,n),bc("transposeB",e,t,n))];case"transpose":return[f.Bc(bc("x",e,t,n),bc("perm",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented");}},ul=function ul(e,t,n){switch(e.op){case"batchNormalization":return[f.o(bc("x",e,t,n),bc("mean",e,t,n),bc("variance",e,t,n),bc("epsilon",e,t,n),bc("scale",e,t,n),bc("offset",e,t,n))];case"localResponseNormalization":return[f.Ka(bc("x",e,t,n),bc("radius",e,t,n),bc("bias",e,t,n),bc("alpha",e,t,n),bc("beta",e,t,n))];case"softmax":return[f.ec(bc("x",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented");}},cl=function cl(e,t,n){switch(e.op){case"max":var r=bc("axis",e,t,n),a=bc("keepDims",e,t,n);return[f.Wa(bc("x",e,t,n),r,a)];case"mean":return r=bc("axis",e,t,n),a=bc("keepDims",e,t,n),[f.ab(bc("x",e,t,n),r,a)];case"min":return r=bc("axis",e,t,n),a=bc("keepDims",e,t,n),[f.bb(bc("x",e,t,n),r,a)];case"sum":return r=bc("axis",e,t,n),a=bc("keepDims",e,t,n),[f.rc(bc("x",e,t,n),r,a)];case"argMax":return r=bc("axis",e,t,n),[f.f(bc("x",e,t,n),r)];case"argMin":return r=bc("axis",e,t,n),[f.g(bc("x",e,t,n),r)];default:throw TypeError("Node type "+e.op+" is not implemented");}},ll=function ll(e,t,n){switch(e.op){case"concat":var r=bc("axis",e,t,n),a=bc("tensors",e,t,n);return[f.x(a,r)];case"gather":r=bc("axis",e,t,n);var i=bc("x",e,t,n),o=bc("indices",e,t,n);return[f.X(i,o,r)];case"reverse":return r=bc("axis",e,t,n),i=bc("x",e,t,n),[f.Lb(i,r)];case"slice":var s=bc("begin",e,t,n),u=bc("size",e,t,n);return[f.Zb(bc("x",e,t,n),s,u)];case"stridedSlice":s=bc("begin",e,t,n);var c=bc("end",e,t,n),l=bc("strides",e,t,n),p=bc("beginMask",e,t,n),h=bc("endMask",e,t,n);return[f.oc(bc("x",e,t,n),s,c,l,p,h)];case"stack":return yr.f(function(){var r=bc("axis",e,t,n),a=bc("tensors",e,t,n),i=a[0].shape,o=a[0].squeeze().shape,s=a.map(function(e){var t=y.arraysEqual(e.shape,i);if(!t&&!y.arraysEqual(e.squeeze().shape,o))throw new Error("the input tensors shape does not match");return t?e:e.reshape(i);});return[f.mc(s,r)];});case"tile":var d=bc("reps",e,t,n);return[f.zc(bc("x",e,t,n),d)];case"split":r=bc("axis",e,t,n);var m=bc("numOrSizeSplits",e,t,n);return f.gc(bc("x",e,t,n),m,r);default:throw TypeError("Node type "+e.op+" is not implemented");}},fl=function fl(e,t,n){switch(e.op){case"cast":return[f.t(bc("x",e,t,n),bc("dtype",e,t,n))];case"expandDims":var r=e.params.axis.value;return[f.R(bc("x",e,t,n),r)];case"squeeze":return r=e.params.axis.value,[f.lc(bc("x",e,t,n),r)];case"reshape":return[f.Kb(bc("x",e,t,n),bc("shape",e,t,n))];case"pad":return[f.vb(bc("x",e,t,n),function(e,t){for(var n=[],r=0;r<e.length;r+=2){n.push(e.slice(r,r+2));}return n;}(bc("padding",e,t,n)),bc("constantValue",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented");}};function pl(e,t,n){switch(e.category){case"arithmetic":return Zc(e,t,n);case"basic_math":return $c(e,t,n);case"control":return function(e,t,n){return el(this,void 0,void 0,function(){var r,a,i,o,s,u,c;return tl(this,function(l){switch(l.label){case 0:switch(e.op){case"loopCond":return[3,1];case"switch":return[3,2];case"merge":return[3,4];case"enter":return[3,5];case"exit":return[3,6];case"nextIteration":return[3,7];}return[3,8];case 1:return[2,[bc("pred",e,t,n)]];case 2:return r=bc("pred",e,t,n),a=bc("data",e,t,n),[4,r.data()];case 3:return[2,l.sent()[0]?[void 0,a]:[a,void 0]];case 4:return[2,(i=e.inputNames.find(function(e){return void 0!==wc(e,t,n);}))?[wc(i,t,n)]:void 0];case 5:return o=bc("frameName",e,t,n),s=bc("tensor",e,t,n),n.enterFrame(o),[2,[s]];case 6:return u=bc("tensor",e,t,n),n.exitFrame(),[2,[u]];case 7:return c=bc("tensor",e,t,n),n.nextIteration(),[2,[c]];case 8:throw TypeError("Node type "+e.op+" is not implemented");}});});}(e,t,n);case"convolution":return nl(e,t,n);case"creation":return rl(e,t,n);case"image":return il(e,t,n);case"graph":return al(e,t,n);case"logical":return ol(e,t,n);case"matrices":return sl(e,t,n);case"normalization":return ul(e,t,n);case"reduction":return cl(e,t,n);case"slice_join":return ll(e,t,n);case"transformation":return fl(e,t,n);default:throw TypeError("Node type "+e.op+" is not implemented");}}var hl=function(){function e(e){this.weightMap=e,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds();}return e.prototype.newFrame=function(e,t){return{id:e,frameName:t,iterationId:0};},Object.defineProperty(e.prototype,"currentContext",{get:function get(){return this.contexts;},set:function set(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds());},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentContextId",{get:function get(){return this._currentContextIds[0];},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentContextIds",{get:function get(){return this._currentContextIds;},enumerable:!0,configurable:!0}),e.prototype.generateCurrentContextIds=function(){for(var e=[],t=0;t<this.contexts.length-1;t++){var n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n));}e.push(""),this._currentContextIds=e;},e.prototype.contextIdforContexts=function(e){return e?e.map(function(e){return 0===e.id&&0===e.iterationId?"":e.frameName+"-"+e.iterationId;}).join("/"):"";},e.prototype.enterFrame=function(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)));},e.prototype.exitFrame=function(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();},e.prototype.nextIteration=function(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");this.contexts=this.contexts.slice(),this.lastId++;var e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts));},e.prototype.getWeight=function(e){return this.weightMap[e];},e;}(),dl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){for(var a in t=arguments[n]){Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);}}return e;},ml=function ml(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{u(r.next(e));}catch(e){i(e);}}function s(e){try{u(r.throw(e));}catch(e){i(e);}}function u(e){e.done?a(e.value):new n(function(t){t(e.value);}).then(o,s);}u((r=r.apply(e,t||[])).next());});},gl=function gl(e,t){var n,r,a,i,o={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1];},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this;}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;){try{if(n=1,r&&(a=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[0,a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue;}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break;}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break;}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break;}a[2]&&o.ops.pop(),o.trys.pop();continue;}i=t.call(e,o);}catch(e){i=[6,e],r=0;}finally{n=a=0;}}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0};}([i,s]);};}},yl=function(){function e(e){this.graph=e,this.compiledOrder=[],this._weightMap={},this.placeholders=e.placeholders.map(function(e){return e.name;}),this.outputs=e.outputs.map(function(e){return e.name;}),this.compile();}return Object.defineProperty(e.prototype,"weightMap",{get:function get(){return this._weightMap;},set:function set(e){var t=Object.keys(e).map(function(t){return e[t].map(function(e){return e.id;});});this.weightIds=[].concat.apply([],t),this._weightMap=e;},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputNodes",{get:function get(){return this.placeholders;},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputNodes",{get:function get(){return this.outputs;},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isControlFlowModel",{get:function get(){return this.graph.withControlFlow;},enumerable:!0,configurable:!0}),e.prototype.compile=function(){if(!this.graph.withControlFlow)for(var e=this.graph.inputs.slice(),t={};e.length>0;){var n=e.pop();t[n.name]=!0,this.compiledOrder.push(n),n.children.forEach(function(n){!t[n.name]&&n.inputNames.every(function(e){var n=xc(e)[0];return t[n];})&&e.push(n);});}},e.prototype.execute=function(e,t){var n=this;return this.checkInput(e),Object(yr.f)(function(){var r=new hl(n._weightMap),a=n.compiledOrder.reduce(function(e,t){return e[t.name]=pl(t,e,r),e;},dl({},n.weightMap,e));return n.findOutputs(a,r,t);});},e.prototype.executeAsync=function(e,t){return ml(this,void 0,void 0,function(){var n,r,a,i,o,s,u=this;return gl(this,function(c){switch(c.label){case 0:return n=new hl(this._weightMap),[4,this.executeWithControlFlow(e,n)];case 1:return r=c.sent(),a=this.findOutputs(r,n,t),i=Object.keys(a).map(function(e){return a[e].id;}),o=Object.keys(e).map(function(t){return e[t].map(function(e){return e.id;});}),s=[].concat.apply([],o),Object.keys(r).forEach(function(e){r[e].forEach(function(e){e&&-1===i.indexOf(e.id)&&-1===s.indexOf(e.id)&&-1===u.weightIds.indexOf(e.id)&&e.dispose();});}),[2,a];}});});},e.prototype.executeWithControlFlow=function(e,t){return ml(this,void 0,void 0,function(){var n,r,a,i,o,s,u,c;return gl(this,function(l){switch(l.label){case 0:n=this.graph.inputs.map(function(e){return{node:e,contexts:t.currentContext};}),r=dl({},this.weightMap,e),a={},l.label=1;case 1:return n.length>0?(i=n.pop(),t.currentContext=i.contexts,o=pl(i.node,r,t),s=xc(i.node.name,t)[0],u=r,c=s,[4,o]):[3,3];case 2:return u[c]=l.sent(),i.node.children.forEach(function(e){var i=xc(e.name,t)[0];a[i]||("merge"===e.op?e.inputNames.some(function(e){return!!wc(e,r,t);})&&(a[i]=!0,n.push({contexts:t.currentContext,node:e})):e.inputNames.every(function(e){return!!wc(e,r,t);})&&(a[i]=!0,n.push({contexts:t.currentContext,node:e})));}),[3,1];case 3:return[2,r];}});});},e.prototype.findOutputs=function(e,t,n){return!n||n instanceof Array||(n=[n]),(n||this.graph.outputs.map(function(e){return e.name;})).reduce(function(n,r){return n[r]=wc(r,e,t),n;},{});},e.prototype.dispose=function(){var e=this;Object.keys(this.weightMap).forEach(function(t){return e.weightMap[t].forEach(function(e){return e.dispose();});});},e.prototype.checkInput=function(e){var t=this,n=Object.keys(e),r=[],a=[];if(this.placeholders.forEach(function(e){-1===n.indexOf(e)&&r.push(e);}),n.forEach(function(e){-1===t.placeholders.indexOf(e)&&a.push(e);}),r.length>0)throw new Error("The dict provided in model.execute(dict) has the keys ["+n+"], but is missing the required keys: ["+r+"].");if(a.length>0)throw new Error("The dict provided in model.execute(dict) has unused keys: ["+a+"]. Please provide only the following keys: ["+this.placeholders+"].");},e;}(),vl=function vl(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{u(r.next(e));}catch(e){i(e);}}function s(e){try{u(r.throw(e));}catch(e){i(e);}}function u(e){e.done?a(e.value):new n(function(t){t(e.value);}).then(o,s);}u((r=r.apply(e,t||[])).next());});},bl=function bl(e,t){var n,r,a,i,o={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1];},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this;}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;){try{if(n=1,r&&(a=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[0,a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue;}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break;}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break;}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break;}a[2]&&o.ops.pop(),o.trys.pop();continue;}i=t.call(e,o);}catch(e){i=[6,e],r=0;}finally{n=a=0;}}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0};}([i,s]);};}},wl=function(){function e(e,t,n){this.modelUrl=e,this.weightManifestUrl=t,this.requestOption=n,this.version="n/a",this.pathPrefix=this.getPathPrefix();}return Object.defineProperty(e.prototype,"modelVersion",{get:function get(){return this.version;},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputNodes",{get:function get(){return this.executor.inputNodes;},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputNodes",{get:function get(){return this.executor.outputNodes;},enumerable:!0,configurable:!0}),e.prototype.getPathPrefix=function(){var e=hc.parse(this.weightManifestUrl),t=e.pathname.split("/");return t.splice(-1),e.pathname=t.join("/"),hc.format(e)+"/";},e.prototype.loadRemoteProtoFile=function(){return vl(this,void 0,void 0,function(){var e,t,n,r,a;return bl(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,fetch(this.modelUrl,this.requestOption)];case 1:return e=i.sent(),n=(t=vc.GraphDef).decode,r=Uint8Array.bind,[4,e.arrayBuffer()];case 2:return[2,n.apply(t,[new(r.apply(Uint8Array,[void 0,i.sent()]))()])];case 3:throw a=i.sent(),new Error(this.modelUrl+" not found. "+a);case 4:return[2];}});});},e.prototype.loadWeightManifest=function(){return vl(this,void 0,void 0,function(){var e,t,n;return bl(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch(this.weightManifestUrl,this.requestOption)];case 1:return e=r.sent(),t=this,[4,e.clone().json()];case 2:return t.weightManifest=r.sent(),[3,4];case 3:throw n=r.sent(),new Error(this.weightManifestUrl+" not found. "+n);case 4:return[2];}});});},e.prototype.load=function(){return vl(this,void 0,void 0,function(){var e,t,n,r;return bl(this,function(a){switch(a.label){case 0:return e=this.loadRemoteProtoFile(),t=this.loadWeightManifest(),[4,Promise.all([e,t])];case 1:return n=a.sent()[0],this.version=n.versions.producer+"."+n.versions.minConsumer,[4,i.loadWeights(this.weightManifest,this.pathPrefix,void 0,this.requestOption)];case 2:return r=a.sent(),this.executor=new yl(Qc.Instance.transformGraph(n)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),[2,!0];}});});},e.prototype.predict=function(e,t){return this.execute(e,this.outputNodes);},e.prototype.constructTensorMap=function(e){var t=e instanceof m.a?[e]:e;if(t.length!==this.inputNodes.length)throw new Error("Input tensor count mismatch,the frozen model has "+this.inputNodes.length+" placeholders, while there are "+t.length+" input tensors.");return this.inputNodes.reduce(function(e,n,r){return e[n]=t[r],e;},{});},e.prototype.execute=function(e,t){if(t=t||this.outputNodes,(e instanceof m.a||Array.isArray(e))&&(e=this.constructTensorMap(e)),this.executor.isControlFlowModel)throw new Error("The model contains control flow ops, please use executeAsync method");var n=this.executor.execute(this.convertTensorMapToTensorsMap(e),t),r=Object.keys(n);return Array.isArray(t)&&t.length>1?t.map(function(e){return n[e];}):n[r[0]];},e.prototype.executeAsync=function(e,t){return vl(this,void 0,void 0,function(){var n,r;return bl(this,function(a){switch(a.label){case 0:if(!this.executor.isControlFlowModel)throw new Error("The model does not contain control flow ops, please use execute method for better performance.");return t=t||this.outputNodes,(e instanceof m.a||Array.isArray(e))&&(e=this.constructTensorMap(e)),[4,this.executor.executeAsync(this.convertTensorMapToTensorsMap(e),t)];case 1:return n=a.sent(),r=Object.keys(n),[2,Array.isArray(t)&&t.length>1?t.map(function(e){return n[e];}):n[r[0]]];}});});},e.prototype.convertTensorMapToTensorsMap=function(e){return Object.keys(e).reduce(function(t,n){return t[n]=[e[n]],t;},{});},e.prototype.dispose=function(){this.executor.dispose();},e;}();function xl(e,t,n){return vl(this,void 0,void 0,function(){var r;return bl(this,function(a){switch(a.label){case 0:return[4,(r=new wl(e,t,n)).load()];case 1:return a.sent(),[2,r];}});});}n.d(t,"version",function(){return kl;}),n.d(t,"AdadeltaOptimizer",function(){return kr;}),n.d(t,"AdagradOptimizer",function(){return Sr;}),n.d(t,"AdamOptimizer",function(){return Er;}),n.d(t,"AdamaxOptimizer",function(){return Tr;}),n.d(t,"MomentumOptimizer",function(){return _r;}),n.d(t,"Optimizer",function(){return wr;}),n.d(t,"RMSPropOptimizer",function(){return Mr;}),n.d(t,"SGDOptimizer",function(){return Cr;}),n.d(t,"Tensor",function(){return m.a;}),n.d(t,"TensorBuffer",function(){return m.b;}),n.d(t,"variable",function(){return m.d;}),n.d(t,"Variable",function(){return m.c;}),n.d(t,"Rank",function(){return g.a;}),n.d(t,"Reduction",function(){return jr.b;}),n.d(t,"ENV",function(){return c.ENV;}),n.d(t,"Environment",function(){return c.Environment;}),n.d(t,"setBackend",function(){return Fr;}),n.d(t,"getBackend",function(){return Br;}),n.d(t,"disposeVariables",function(){return Vr;}),n.d(t,"memory",function(){return Ur;}),n.d(t,"version_core",function(){return"0.11.4";}),n.d(t,"doc",function(){return qt.a;}),n.d(t,"nextFrame",function(){return Wr;}),n.d(t,"environment",function(){return c;}),n.d(t,"io",function(){return i;}),n.d(t,"serialization",function(){return o;}),n.d(t,"test_util",function(){return s;}),n.d(t,"util",function(){return y;}),n.d(t,"webgl",function(){return u;}),n.d(t,"batchNormalization",function(){return f.o;}),n.d(t,"batchNormalization2d",function(){return f.p;}),n.d(t,"batchNormalization3d",function(){return f.q;}),n.d(t,"batchNormalization4d",function(){return f.r;}),n.d(t,"concat",function(){return f.x;}),n.d(t,"concat1d",function(){return f.y;}),n.d(t,"concat2d",function(){return f.z;}),n.d(t,"concat3d",function(){return f.A;}),n.d(t,"concat4d",function(){return f.B;}),n.d(t,"conv1d",function(){return f.C;}),n.d(t,"conv2d",function(){return f.D;}),n.d(t,"conv2dTranspose",function(){return f.E;}),n.d(t,"depthwiseConv2d",function(){return f.I;}),n.d(t,"separableConv2d",function(){return f.Ub;}),n.d(t,"matMul",function(){return f.Ua;}),n.d(t,"matrixTimesVector",function(){return f.Va;}),n.d(t,"outerProduct",function(){return f.ub;}),n.d(t,"vectorTimesMatrix",function(){return f.Fc;}),n.d(t,"dot",function(){return f.L;}),n.d(t,"avgPool",function(){return f.m;}),n.d(t,"maxPool",function(){return f.Xa;}),n.d(t,"transpose",function(){return f.Bc;}),n.d(t,"reverse",function(){return f.Lb;}),n.d(t,"reverse1d",function(){return f.Mb;}),n.d(t,"reverse2d",function(){return f.Nb;}),n.d(t,"reverse3d",function(){return f.Ob;}),n.d(t,"reverse4d",function(){return f.Pb;}),n.d(t,"slice",function(){return f.Zb;}),n.d(t,"slice1d",function(){return f.ac;}),n.d(t,"slice2d",function(){return f.bc;}),n.d(t,"slice3d",function(){return f.cc;}),n.d(t,"slice4d",function(){return f.dc;}),n.d(t,"stridedSlice",function(){return f.oc;}),n.d(t,"argMax",function(){return f.f;}),n.d(t,"argMin",function(){return f.g;}),n.d(t,"logSumExp",function(){return f.Oa;}),n.d(t,"max",function(){return f.Wa;}),n.d(t,"mean",function(){return f.ab;}),n.d(t,"min",function(){return f.bb;}),n.d(t,"moments",function(){return f.gb;}),n.d(t,"sum",function(){return f.rc;}),n.d(t,"unsortedSegmentSum",function(){return f.Dc;}),n.d(t,"equal",function(){return f.N;}),n.d(t,"equalStrict",function(){return f.O;}),n.d(t,"greater",function(){return f.Y;}),n.d(t,"greaterStrict",function(){return f.Ba;}),n.d(t,"greaterEqual",function(){return f.Z;}),n.d(t,"greaterEqualStrict",function(){return f.Aa;}),n.d(t,"less",function(){return f.Ea;}),n.d(t,"lessStrict",function(){return f.Ha;}),n.d(t,"lessEqual",function(){return f.Fa;}),n.d(t,"lessEqualStrict",function(){return f.Ga;}),n.d(t,"notEqual",function(){return f.ob;}),n.d(t,"notEqualStrict",function(){return f.pb;}),n.d(t,"logicalNot",function(){return f.Qa;}),n.d(t,"logicalAnd",function(){return f.Pa;}),n.d(t,"logicalOr",function(){return f.Ra;}),n.d(t,"logicalXor",function(){return f.Sa;}),n.d(t,"where",function(){return f.Gc;}),n.d(t,"abs",function(){return f.a;}),n.d(t,"acos",function(){return f.b;}),n.d(t,"acosh",function(){return f.c;}),n.d(t,"asin",function(){return f.h;}),n.d(t,"asinh",function(){return f.i;}),n.d(t,"atan",function(){return f.j;}),n.d(t,"atanh",function(){return f.l;}),n.d(t,"ceil",function(){return f.u;}),n.d(t,"clipByValue",function(){return f.v;}),n.d(t,"cos",function(){return f.F;}),n.d(t,"cosh",function(){return f.G;}),n.d(t,"elu",function(){return f.M;}),n.d(t,"exp",function(){return f.Q;}),n.d(t,"expm1",function(){return f.S;}),n.d(t,"floor",function(){return f.V;}),n.d(t,"sign",function(){return f.Wb;}),n.d(t,"leakyRelu",function(){return f.Da;}),n.d(t,"log",function(){return f.La;}),n.d(t,"log1p",function(){return f.Ma;}),n.d(t,"logSigmoid",function(){return f.Na;}),n.d(t,"neg",function(){return f.mb;}),n.d(t,"prelu",function(){return f.Cb;}),n.d(t,"relu",function(){return f.Jb;}),n.d(t,"reciprocal",function(){return f.Ib;}),n.d(t,"round",function(){return f.Qb;}),n.d(t,"selu",function(){return f.Tb;}),n.d(t,"sigmoid",function(){return f.Vb;}),n.d(t,"sin",function(){return f.Xb;}),n.d(t,"sinh",function(){return f.Yb;}),n.d(t,"softplus",function(){return f.fc;}),n.d(t,"sqrt",function(){return f.hc;}),n.d(t,"rsqrt",function(){return f.Rb;}),n.d(t,"square",function(){return f.ic;}),n.d(t,"step",function(){return f.nc;}),n.d(t,"tan",function(){return f.sc;}),n.d(t,"tanh",function(){return f.tc;}),n.d(t,"erf",function(){return f.P;}),n.d(t,"add",function(){return f.d;}),n.d(t,"addStrict",function(){return f.e;}),n.d(t,"atan2",function(){return f.k;}),n.d(t,"div",function(){return f.J;}),n.d(t,"divStrict",function(){return f.K;}),n.d(t,"maximum",function(){return f.Ya;}),n.d(t,"maximumStrict",function(){return f.Za;}),n.d(t,"minimum",function(){return f.cb;}),n.d(t,"minimumStrict",function(){return f.db;}),n.d(t,"mod",function(){return f.eb;}),n.d(t,"modStrict",function(){return f.fb;}),n.d(t,"mul",function(){return f.ib;}),n.d(t,"mulStrict",function(){return f.jb;}),n.d(t,"pow",function(){return f.Ab;}),n.d(t,"powStrict",function(){return f.Bb;}),n.d(t,"sub",function(){return f.pc;}),n.d(t,"subStrict",function(){return f.qc;}),n.d(t,"squaredDifference",function(){return f.jc;}),n.d(t,"squaredDifferenceStrict",function(){return f.kc;}),n.d(t,"norm",function(){return f.nb;}),n.d(t,"cast",function(){return f.t;}),n.d(t,"clone",function(){return f.w;}),n.d(t,"fromPixels",function(){return f.W;}),n.d(t,"toPixels",function(){return f.Ac;}),n.d(t,"ones",function(){return f.rb;}),n.d(t,"onesLike",function(){return f.sb;}),n.d(t,"zeros",function(){return f.Hc;}),n.d(t,"zerosLike",function(){return f.Ic;}),n.d(t,"eye",function(){return f.T;}),n.d(t,"rand",function(){return f.Eb;}),n.d(t,"randomNormal",function(){return f.Fb;}),n.d(t,"truncatedNormal",function(){return f.Cc;}),n.d(t,"randomUniform",function(){return f.Gb;}),n.d(t,"multinomial",function(){return f.lb;}),n.d(t,"reshape",function(){return f.Kb;}),n.d(t,"squeeze",function(){return f.lc;}),n.d(t,"tile",function(){return f.zc;}),n.d(t,"gather",function(){return f.X;}),n.d(t,"oneHot",function(){return f.qb;}),n.d(t,"linspace",function(){return f.Ja;}),n.d(t,"range",function(){return f.Hb;}),n.d(t,"buffer",function(){return f.s;}),n.d(t,"fill",function(){return f.U;}),n.d(t,"tensor",function(){return f.uc;}),n.d(t,"scalar",function(){return f.Sb;}),n.d(t,"tensor1d",function(){return f.vc;}),n.d(t,"tensor2d",function(){return f.wc;}),n.d(t,"tensor3d",function(){return f.xc;}),n.d(t,"tensor4d",function(){return f.yc;}),n.d(t,"print",function(){return f.Db;}),n.d(t,"expandDims",function(){return f.R;}),n.d(t,"stack",function(){return f.mc;}),n.d(t,"unstack",function(){return f.Ec;}),n.d(t,"split",function(){return f.gc;}),n.d(t,"cumsum",function(){return f.H;}),n.d(t,"pad",function(){return f.vb;}),n.d(t,"pad1d",function(){return f.wb;}),n.d(t,"pad2d",function(){return f.xb;}),n.d(t,"pad3d",function(){return f.yb;}),n.d(t,"pad4d",function(){return f.zb;}),n.d(t,"movingAverage",function(){return f.hb;}),n.d(t,"basicLSTMCell",function(){return f.n;}),n.d(t,"multiRNNCell",function(){return f.kb;}),n.d(t,"softmax",function(){return f.ec;}),n.d(t,"localResponseNormalization",function(){return f.Ka;}),n.d(t,"linalg",function(){return f.Ia;}),n.d(t,"operation",function(){return f.tb;}),n.d(t,"losses",function(){return f.Ta;}),n.d(t,"image",function(){return f.Ca;}),n.d(t,"train",function(){return zr;}),n.d(t,"tidy",function(){return yr.f;}),n.d(t,"keep",function(){return yr.e;}),n.d(t,"dispose",function(){return yr.b;}),n.d(t,"time",function(){return yr.g;}),n.d(t,"grad",function(){return yr.c;}),n.d(t,"valueAndGrad",function(){return yr.h;}),n.d(t,"grads",function(){return yr.d;}),n.d(t,"valueAndGrads",function(){return yr.i;}),n.d(t,"variableGrads",function(){return yr.j;}),n.d(t,"customGrad",function(){return yr.a;}),n.d(t,"Callback",function(){return Vi;}),n.d(t,"CallbackList",function(){return Ui;}),n.d(t,"CustomCallback",function(){return Hi;}),n.d(t,"Model",function(){return zo;}),n.d(t,"RNN",function(){return _u;}),n.d(t,"Sequential",function(){return Yu;}),n.d(t,"SymbolicTensor",function(){return ja;}),n.d(t,"version_layers",function(){return"0.6.4";}),n.d(t,"model",function(){return ac;}),n.d(t,"sequential",function(){return ic;}),n.d(t,"loadModel",function(){return oc;}),n.d(t,"input",function(){return sc;}),n.d(t,"layers",function(){return uc;}),n.d(t,"constraints",function(){return cc;}),n.d(t,"initializers",function(){return lc;}),n.d(t,"metrics",function(){return fc;}),n.d(t,"regularizers",function(){return pc;}),n.d(t,"FrozenModel",function(){return wl;}),n.d(t,"loadFrozenModel",function(){return xl;}),n.d(t,"version_converter",function(){return"0.4.1";});var kl={"tfjs-core":"0.11.4","tfjs-layers":"0.6.4","tfjs-converter":"0.4.1",tfjs:"0.11.4"};},function(e,t,n){"use strict";function r(e,t){for(var n=e.length,r=[],a=0;a<n;a++){var i=n-1-a,o=e[i]||1;(t[t.length-1-a]||1)>1&&1===o&&r.unshift(i);}return r;}function a(e,t){for(var n=[],r=0;r<t.length;r++){var a=e[e.length-r-1],i=t.length-r-1,o=t[i];(null==a||1===a&&o>1)&&n.unshift(i);}return n;}function i(e){for(var t=0;t<e.length;t++){if(e[t]!==t)return!1;}return!0;}function o(e,t){for(var n=[],r="Operands could not be broadcast together with shapes "+e+" and "+t+".",a=Math.max(e.length,t.length),i=0;i<a;i++){var o=e[e.length-i-1]||1,s=t[t.length-i-1]||1;if(o>1&&s>1&&o!==s)throw Error(r);n.unshift(Math.max(o,s));}return n;}n.d(t,"c",function(){return r;}),n.d(t,"d",function(){return a;}),n.d(t,"b",function(){return i;}),n.d(t,"a",function(){return o;});},function(e,t,n){var r=n(15);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e;};},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n);},function(e,t){e.exports=function(e){try{return!!e();}catch(e){return!0;}};},function(e,t){e.exports=function(e){return"object"==(typeof e==="undefined"?"undefined":_typeof(e))?null!==e:"function"==typeof e;};},function(e,t,n){var r=n(121)("wks"),a=n(78),i=n(13).Symbol,o="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=o&&i[e]||(o?i:a)("Symbol."+e));}).store=r;},function(e,t,n){var r=n(48),a=Math.min;e.exports=function(e){return e>0?a(r(e),9007199254740991):0;};},function(e,t,n){var r=n(12),a=n(226),i=n(50),o=Object.defineProperty;t.f=n(19)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),a)try{return o(e,t,n);}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e;};},function(e,t,n){e.exports=!n(14)(function(){return 7!=Object.defineProperty({},"a",{get:function get(){return 7;}}).a;});},function(e,t,n){"use strict";var r,a,i,o,s;n.d(t,"a",function(){return a;}),n.d(t,"c",function(){return c;}),n.d(t,"b",function(){return l;}),function(e){e.float32="float32",e.int32="int32",e.bool="bool";}(r||(r={})),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4";}(a||(a={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32";}(i||(i={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool";}(o||(o={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32";}(s||(s={}));var u={float32:s,int32:i,bool:o};function c(e,t){return u[e][t];}function l(e){return c(e,"int32");}},function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n);},function(e,t,n){var r=n(49);e.exports=function(e){return Object(r(e));};},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e;};},function(e,t,n){var r=n(138)("wks"),a=n(105),i=n(25).Symbol,o="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=o&&i[e]||(o?i:a)("Symbol."+e));}).store=r;},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n);},function(e,t,n){var r=n(5),a=n(14),i=n(49),o=/"/g,s=function s(e,t,n,r){var a=String(i(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(o,"&quot;")+'"'),s+">"+a+"</"+t+">";};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*a(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3;}),"String",n);};},function(e,t,n){var r=n(13),a=n(28),i=n(38),o=n(78)("src"),s=Function.toString,u=(""+s).split("toString");n(43).inspectSource=function(e){return s.call(e);},(e.exports=function(e,t,n,s){var c="function"==typeof n;c&&(i(n,"name")||a(n,"name",t)),e[t]!==n&&(c&&(i(n,o)||a(n,o,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:a(e,t,n):(delete e[t],a(e,t,n)));})(Function.prototype,"toString",function(){return"function"==typeof this&&this[o]||s.call(this);});},function(e,t,n){var r=n(18),a=n(79);e.exports=n(19)?function(e,t,n){return r.f(e,t,a(1,n));}:function(e,t,n){return e[t]=n,e;};},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e};}(n(297));t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,r.default)(e,a.key,a);}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t;};}();},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");};},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e};}(n(64));t.default=function(e){return function(){var t=e.apply(this,arguments);return new r.default(function(e,n){return function a(i,o){try{var s=t[i](o),u=s.value;}catch(e){return void n(e);}if(!s.done)return r.default.resolve(u).then(function(e){a("next",e);},function(e){a("throw",e);});e(u);}("next");});};};},function(e,t,n){e.exports=n(316);},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect");};},function(e,t,n){var r=n(25),a=n(21),i=n(85),o=n(69),s=n(68),u=function u(e,t,n){var c,l,f,p=e&u.F,h=e&u.G,d=e&u.S,m=e&u.P,g=e&u.B,y=e&u.W,v=h?a:a[t]||(a[t]={}),b=v.prototype,w=h?r:d?r[t]:(r[t]||{}).prototype;for(c in h&&(n=t),n){(l=!p&&w&&void 0!==w[c])&&s(v,c)||(f=l?w[c]:n[c],v[c]=h&&"function"!=typeof w[c]?n[c]:g&&l?i(f,r):y&&w[c]==f?function(e){var t=function t(_t2,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e();case 1:return new e(_t2);case 2:return new e(_t2,n);}return new e(_t2,n,r);}return e.apply(this,arguments);};return t.prototype=e.prototype,t;}(f):m&&"function"==typeof f?i(Function.call,f):f,m&&((v.virtual||(v.virtual={}))[c]=f,e&u.R&&b&&!b[c]&&o(b,c,f)));}};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u;},function(e,t,n){var r=n(38),a=n(22),i=n(168)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null;};},function(e,t,n){var r=n(99),a=n(79),i=n(37),o=n(50),s=n(38),u=n(226),c=Object.getOwnPropertyDescriptor;t.f=n(19)?c:function(e,t){if(e=i(e),t=o(t,!0),u)try{return c(e,t);}catch(e){}if(s(e,t))return a(!r.f.call(e,t),e[t]);};},function(e,t,n){var r=n(100),a=n(49);e.exports=function(e){return r(a(e));};},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t);};},function(e,t,n){"use strict";n.d(t,"a",function(){return f;});var r=n(2),a=n(3),i=n(7),o=n(0),s=n(8),u=n(4),c=n(1),l=function l(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;},f=function(){function e(){}return e.logSumExp=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1),o.assertArgumentsAreTensors({x:e},"logSumExp");var r=s.g(t,e.shape),a=e.max(r,!0),i=e.sub(a).exp().sum(r).log(),u=a.reshape(i.shape).add(i);if(n){var c=s.c(u.shape,r);return u.reshape(c);}return u;},e.sum=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1),o.assertArgumentsAreTensors({x:e},"sum"),"bool"===e.dtype&&(e=e.toInt());var r=s.g(t,e.shape);return Object(i.a)(function(e){var t=s.d(r,e.rank),i=r,o=e;null!=t&&(o=e.transpose(t),i=s.e(i.length,e.rank));var u=a.ENV.engine.runKernel(function(e){return e.sum(o,i);},{permutedX:o});if(n){var l=s.c(u.shape,r);u=u.reshape(l);}return{value:u,gradFunc:function gradFunc(t){var n=e.shape.slice();return r.forEach(function(e){n[e]=1;}),t.reshape(n).mul(c.rb(e.shape,"float32"));}};})(e);},e.mean=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1),o.assertArgumentsAreTensors({x:e},"mean");var r=s.g(t,e.shape),a=s.b(e.shape,r)[1],u=o.sizeFromShape(a);return Object(i.a)(function(e){var a=c.Sb(u);return{value:(a.dtype===e.dtype?e:e.cast(a.dtype)).div(a).sum(t,n),gradFunc:function gradFunc(t){var n=e.shape.slice();return r.forEach(function(e){n[e]=1;}),t.reshape(n).mul(c.rb(e.shape,"float32")).div(a);}};})(e);},e.min=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1),o.assertArgumentsAreTensors({x:e},"min");var r=s.g(t,e.shape),i=r,u=s.d(i,e.rank);null!=u&&(e=e.transpose(u),i=s.e(i.length,e.rank));var c=a.ENV.engine.runKernel(function(t){return t.min(e,i);},{x:e});if(n){var l=s.c(c.shape,r);return c.reshape(l);}return c;},e.max=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1),o.assertArgumentsAreTensors({x:e},"max");var r=s.g(t,e.shape),i=r,u=s.d(i,e.rank);null!=u&&(e=e.transpose(u),i=s.e(i.length,e.rank));var c=a.ENV.engine.runKernel(function(t){return t.max(e,i);},{x:e});if(n){var l=s.c(c.shape,r);return c.reshape(l);}return c;},e.argMin=function(e,t){void 0===t&&(t=0),o.assertArgumentsAreTensors({x:e},"argMin"),null==t&&(t=0);var n=s.g(t,e.shape),r=s.d(n,e.rank);return null!=r&&(e=e.transpose(r),n=s.e(n.length,e.rank)),a.ENV.engine.runKernel(function(t){return t.argMin(e,n[0]);},{x:e});},e.argMax=function(e,t){void 0===t&&(t=0),o.assertArgumentsAreTensors({x:e},"argMax"),null==t&&(t=0);var n=s.g(t,e.shape),r=s.d(n,e.rank);return null!=r&&(e=e.transpose(r),n=s.e(n.length,e.rank)),a.ENV.engine.runKernel(function(t){return t.argMax(e,n[0]);},{x:e});},e.moments=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1),o.assertArgumentsAreTensors({x:e},"moments");var r=s.g(t,e.shape),a=e.mean(r,n),i=a.shape;return n||(i=s.c(a.shape,r)),{mean:a,variance:e.toFloat().sub(a.reshape(i)).square().mean(r,n)};},e.unsortedSegmentSum=function(e,t,n,r){void 0===r&&(r=0),o.assertArgumentsAreTensors({x:e,segmentIds:t},"unsortedSegmentSum"),o.assert("int32"===t.dtype,"Segment Ids must be of dtype `int32`"),r=s.g(r,e.shape)[0];for(var a=[],i=t.shape[0],u=[],l=0;l<e.shape.length;l++){l===r?u.push(i):u.push(1);}var f=c.Kb(t,u);for(l=0;l<n;l++){var p=c.Sb(l,"int32"),h=c.N(p,f).asType("float32").mul(e).sum(r);a.push(h);}return c.mc(a,r);},l([Object(r.a)({heading:"Operations",subheading:"Reduction"}),u.a],e,"logSumExp",null),l([Object(r.a)({heading:"Operations",subheading:"Reduction"}),u.a],e,"sum",null),l([Object(r.a)({heading:"Operations",subheading:"Reduction"}),u.a],e,"mean",null),l([Object(r.a)({heading:"Operations",subheading:"Reduction"}),u.a],e,"min",null),l([Object(r.a)({heading:"Operations",subheading:"Reduction"}),u.a],e,"max",null),l([Object(r.a)({heading:"Operations",subheading:"Reduction"}),u.a],e,"argMin",null),l([Object(r.a)({heading:"Operations",subheading:"Reduction"}),u.a],e,"argMax",null),l([Object(r.a)({heading:"Operations",subheading:"Normalization"}),u.a],e,"moments",null),l([Object(r.a)({heading:"Operations",subheading:"Reduction"}),u.a],e,"unsortedSegmentSum",null),e;}();},function(e,t,n){"use strict";var r=n(14);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null);});};},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1);};},function(e,t,n){var r=n(23);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n);};case 2:return function(n,r){return e.call(t,n,r);};case 3:return function(n,r,a){return e.call(t,n,r,a);};}return function(){return e.apply(t,arguments);};};},function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n);},function(e,t,n){"use strict";n.d(t,"b",function(){return r;}),n.d(t,"a",function(){return c;});var r,a=n(2),i=n(0),o=n(4),s=n(1),u=function u(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;};!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS";}(r||(r={}));var c=function(){function e(){}return e.computeWeightedLoss=function(e,t,n){void 0===n&&(n=r.SUM_BY_NONZERO_WEIGHTS),i.assertArgumentsAreTensors({losses:e},"computeWeightedLoss"),null!=t&&i.assertArgumentsAreTensors({weights:t},"computeWeightedLoss");var a=null==t?e:e.mul(t);if(n===r.NONE)return a;if(n===r.SUM)return a.sum();if(n===r.MEAN)return null==t?a.mean():a.sum().div(t.sum());if(n===r.SUM_BY_NONZERO_WEIGHTS){if(null==t)return a.sum().div(s.Sb(e.size));var o=t.notEqual(s.Sb(0)).sum().toFloat();return a.sum().div(o);}throw Error("Unknown reduction: "+n);},e.absoluteDifference=function(t,n,a,o){void 0===o&&(o=r.SUM_BY_NONZERO_WEIGHTS),i.assertArgumentsAreTensors({labels:t,predictions:n},"absoluteDifference"),null!=a&&i.assertArgumentsAreTensors({weights:a},"absoluteDifference"),i.assertShapesMatch(t.shape,n.shape,"Error in absoluteDifference: ");var s=t.sub(n).abs();return e.computeWeightedLoss(s,a,o);},e.meanSquaredError=function(t,n,a,o){void 0===o&&(o=r.SUM_BY_NONZERO_WEIGHTS),i.assertArgumentsAreTensors({labels:t,predictions:n},"meanSquaredError"),null!=a&&i.assertArgumentsAreTensors({weights:a},"meanSquaredError"),i.assertShapesMatch(t.shape,n.shape,"Error in meanSquaredError: ");var s=t.squaredDifference(n);return e.computeWeightedLoss(s,a,o);},e.cosineDistance=function(t,n,a,o,u){void 0===u&&(u=r.SUM_BY_NONZERO_WEIGHTS),i.assertArgumentsAreTensors({labels:t,predictions:n},"cosineDistance"),null!=o&&i.assertArgumentsAreTensors({weights:o},"cosineDistance"),i.assertShapesMatch(t.shape,n.shape,"Error in cosineDistance: ");var c=s.Sb(1).sub(t.mul(n).sum(a,!0));return e.computeWeightedLoss(c,o,u);},e.hingeLoss=function(t,n,a,o){void 0===o&&(o=r.SUM_BY_NONZERO_WEIGHTS),i.assertArgumentsAreTensors({labels:t,predictions:n},"hingeLoss"),null!=a&&i.assertArgumentsAreTensors({weights:a},"hingeLoss"),i.assertShapesMatch(t.shape,n.shape,"Error in hingeLoss: ");var u=s.Sb(1);t=s.Sb(2).mul(t).sub(u);var c=u.sub(t.mul(n)).relu();return e.computeWeightedLoss(c,a,o);},e.logLoss=function(t,n,a,o,u){void 0===o&&(o=1e-7),void 0===u&&(u=r.SUM_BY_NONZERO_WEIGHTS),i.assertArgumentsAreTensors({labels:t,predictions:n},"logLoss"),null!=a&&i.assertArgumentsAreTensors({weights:a},"logLoss"),i.assertShapesMatch(t.shape,n.shape,"Error in logLoss: ");var c=s.Sb(1),l=s.Sb(o),f=t.mul(n.add(l).log()).neg().sub(c.sub(t).mul(c.sub(n).add(l).log()));return e.computeWeightedLoss(f,a,u);},e.huberLoss=function(t,n,a,o,u){void 0===o&&(o=1),void 0===u&&(u=r.SUM_BY_NONZERO_WEIGHTS),i.assertArgumentsAreTensors({labels:t,predictions:n},"huberLoss"),null!=a&&i.assertArgumentsAreTensors({weights:a},"huberLoss"),i.assertShapesMatch(t.shape,n.shape,"Error in huberLoss: ");var c=s.Sb(o),l=n.sub(t).abs(),f=s.cb(l,c),p=l.sub(f),h=s.Sb(.5).mul(f.square()).add(c.mul(p));return e.computeWeightedLoss(h,a,u);},u([Object(a.a)({heading:"Training",subheading:"Losses",namespace:"losses"}),o.a],e,"computeWeightedLoss",null),u([Object(a.a)({heading:"Training",subheading:"Losses",namespace:"losses"}),o.a],e,"absoluteDifference",null),u([Object(a.a)({heading:"Training",subheading:"Losses",namespace:"losses"}),o.a],e,"meanSquaredError",null),u([Object(a.a)({heading:"Training",subheading:"Losses",namespace:"losses"}),o.a],e,"cosineDistance",null),u([Object(a.a)({heading:"Training",subheading:"Losses",namespace:"losses"}),o.a],e,"hingeLoss",null),u([Object(a.a)({heading:"Training",subheading:"Losses",namespace:"losses"}),o.a],e,"logLoss",null),u([Object(a.a)({heading:"Training",subheading:"Losses",namespace:"losses"}),o.a],e,"huberLoss",null),e;}();},function(e,t,n){var r=n(58);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e;};},function(e,t,n){var r=n(42),a=n(100),i=n(22),o=n(17),s=n(151);e.exports=function(e,t){var n=1==e,u=2==e,c=3==e,l=4==e,f=6==e,p=5==e||f,h=t||s;return function(t,s,d){for(var m,g,y=i(t),v=a(y),b=r(s,d,3),w=o(v.length),x=0,k=n?h(t,w):u?h(t,0):void 0;w>x;x++){if((p||x in v)&&(g=b(m=v[x],x,y),e))if(n)k[x]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return x;case 2:k.push(m);}else if(l)return!1;}return f?-1:c||l?l:k;};};},function(e,t,n){var r=n(5),a=n(43),i=n(14);e.exports=function(e,t){var n=(a.Object||{})[e]||Object[e],o={};o[e]=t(n),r(r.S+r.F*i(function(){n(1);}),"Object",o);};},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e);};},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e;};},function(e,t,n){var r=n(15);e.exports=function(e,t){if(!r(e))return e;var n,a;if(t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;if("function"==typeof(n=e.valueOf)&&!r(a=n.call(e)))return a;if(!t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;throw TypeError("Can't convert object to primitive value");};},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t&&e.then(function(e){return t(void 0,e),e;}).catch(function(e){return t(e),e;}),e;};},function(e,t,n){var r=n(45),a=n(192),i=n(143),o=Object.defineProperty;t.f=n(57)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),a)try{return o(e,t,n);}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e;};},function(e,t,n){var r=n(205),a=n(5),i=n(121)("metadata"),o=i.store||(i.store=new(n(202))()),s=function s(e,t,n){var a=o.get(e);if(!a){if(!n)return;o.set(e,a=new r());}var i=a.get(t);if(!i){if(!n)return;a.set(t,i=new r());}return i;};e.exports={store:o,map:s,has:function has(e,t,n){var r=s(t,n,!1);return void 0!==r&&r.has(e);},get:function get(e,t,n){var r=s(t,n,!1);return void 0===r?void 0:r.get(e);},set:function set(e,t,n,r){s(n,r,!0).set(e,t);},keys:function keys(e,t){var n=s(e,t,!1),r=[];return n&&n.forEach(function(e,t){r.push(t);}),r;},key:function key(e){return void 0===e||"symbol"==(typeof e==="undefined"?"undefined":_typeof(e))?e:String(e);},exp:function exp(e){a(a.S,"Reflect",e);}};},function(e,t,n){"use strict";if(n(19)){var r=n(60),a=n(13),i=n(14),o=n(5),s=n(110),u=n(145),c=n(42),l=n(72),f=n(79),p=n(28),h=n(70),d=n(48),m=n(17),g=n(200),y=n(76),v=n(50),b=n(38),w=n(98),x=n(15),k=n(22),O=n(154),S=n(75),N=n(35),E=n(74).f,I=n(152),T=n(78),A=n(16),C=n(46),P=n(120),_=n(113),R=n(149),M=n(87),j=n(116),D=n(73),L=n(150),z=n(210),F=n(18),B=n(36),V=F.f,U=B.f,W=a.RangeError,G=a.TypeError,q=a.Uint8Array,H=Array.prototype,K=u.ArrayBuffer,X=u.DataView,J=C(0),Y=C(2),Q=C(3),Z=C(4),$=C(5),ee=C(6),te=P(!0),ne=P(!1),re=R.values,ae=R.keys,ie=R.entries,oe=H.lastIndexOf,se=H.reduce,ue=H.reduceRight,ce=H.join,le=H.sort,fe=H.slice,pe=H.toString,he=H.toLocaleString,de=A("iterator"),me=A("toStringTag"),ge=T("typed_constructor"),ye=T("def_constructor"),ve=s.CONSTR,be=s.TYPED,we=s.VIEW,xe=C(1,function(e,t){return Ee(_(e,e[ye]),t);}),ke=i(function(){return 1===new q(new Uint16Array([1]).buffer)[0];}),Oe=!!q&&!!q.prototype.set&&i(function(){new q(1).set({});}),Se=function Se(e,t){var n=d(e);if(n<0||n%t)throw W("Wrong offset!");return n;},Ne=function Ne(e){if(x(e)&&be in e)return e;throw G(e+" is not a typed array!");},Ee=function Ee(e,t){if(!(x(e)&&ge in e))throw G("It is not a typed array constructor!");return new e(t);},Ie=function Ie(e,t){return Te(_(e,e[ye]),t);},Te=function Te(e,t){for(var n=0,r=t.length,a=Ee(e,r);r>n;){a[n]=t[n++];}return a;},Ae=function Ae(e,t,n){V(e,t,{get:function get(){return this._d[n];}});},Ce=function Ce(e){var t,n,r,a,i,o,s=k(e),u=arguments.length,l=u>1?arguments[1]:void 0,f=void 0!==l,p=I(s);if(void 0!=p&&!O(p)){for(o=p.call(s),r=[],t=0;!(i=o.next()).done;t++){r.push(i.value);}s=r;}for(f&&u>2&&(l=c(l,arguments[2],2)),t=0,n=m(s.length),a=Ee(this,n);n>t;t++){a[t]=f?l(s[t],t):s[t];}return a;},Pe=function Pe(){for(var e=0,t=arguments.length,n=Ee(this,t);t>e;){n[e]=arguments[e++];}return n;},_e=!!q&&i(function(){he.call(new q(1));}),Re=function Re(){return he.apply(_e?fe.call(Ne(this)):Ne(this),arguments);},Me={copyWithin:function copyWithin(e,t){return z.call(Ne(this),e,t,arguments.length>2?arguments[2]:void 0);},every:function every(e){return Z(Ne(this),e,arguments.length>1?arguments[1]:void 0);},fill:function fill(e){return L.apply(Ne(this),arguments);},filter:function filter(e){return Ie(this,Y(Ne(this),e,arguments.length>1?arguments[1]:void 0));},find:function find(e){return $(Ne(this),e,arguments.length>1?arguments[1]:void 0);},findIndex:function findIndex(e){return ee(Ne(this),e,arguments.length>1?arguments[1]:void 0);},forEach:function forEach(e){J(Ne(this),e,arguments.length>1?arguments[1]:void 0);},indexOf:function indexOf(e){return ne(Ne(this),e,arguments.length>1?arguments[1]:void 0);},includes:function includes(e){return te(Ne(this),e,arguments.length>1?arguments[1]:void 0);},join:function join(e){return ce.apply(Ne(this),arguments);},lastIndexOf:function lastIndexOf(e){return oe.apply(Ne(this),arguments);},map:function map(e){return xe(Ne(this),e,arguments.length>1?arguments[1]:void 0);},reduce:function reduce(e){return se.apply(Ne(this),arguments);},reduceRight:function reduceRight(e){return ue.apply(Ne(this),arguments);},reverse:function reverse(){for(var e,t=Ne(this).length,n=Math.floor(t/2),r=0;r<n;){e=this[r],this[r++]=this[--t],this[t]=e;}return this;},some:function some(e){return Q(Ne(this),e,arguments.length>1?arguments[1]:void 0);},sort:function sort(e){return le.call(Ne(this),e);},subarray:function subarray(e,t){var n=Ne(this),r=n.length,a=y(e,r);return new(_(n,n[ye]))(n.buffer,n.byteOffset+a*n.BYTES_PER_ELEMENT,m((void 0===t?r:y(t,r))-a));}},je=function je(e,t){return Ie(this,fe.call(Ne(this),e,t));},De=function De(e){Ne(this);var t=Se(arguments[1],1),n=this.length,r=k(e),a=m(r.length),i=0;if(a+t>n)throw W("Wrong length!");for(;i<a;){this[t+i]=r[i++];}},Le={entries:function entries(){return ie.call(Ne(this));},keys:function keys(){return ae.call(Ne(this));},values:function values(){return re.call(Ne(this));}},ze=function ze(e,t){return x(e)&&e[be]&&"symbol"!=(typeof t==="undefined"?"undefined":_typeof(t))&&t in e&&String(+t)==String(t);},Fe=function Fe(e,t){return ze(e,t=v(t,!0))?f(2,e[t]):U(e,t);},Be=function Be(e,t,n){return!(ze(e,t=v(t,!0))&&x(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?V(e,t,n):(e[t]=n.value,e);};ve||(B.f=Fe,F.f=Be),o(o.S+o.F*!ve,"Object",{getOwnPropertyDescriptor:Fe,defineProperty:Be}),i(function(){pe.call({});})&&(pe=he=function he(){return ce.call(this);});var Ve=h({},Me);h(Ve,Le),p(Ve,de,Le.values),h(Ve,{slice:je,set:De,constructor:function constructor(){},toString:pe,toLocaleString:Re}),Ae(Ve,"buffer","b"),Ae(Ve,"byteOffset","o"),Ae(Ve,"byteLength","l"),Ae(Ve,"length","e"),V(Ve,me,{get:function get(){return this[be];}}),e.exports=function(e,t,n,u){var c=e+((u=!!u)?"Clamped":"")+"Array",f="get"+e,h="set"+e,d=a[c],y=d||{},v=d&&N(d),b=!d||!s.ABV,k={},O=d&&d.prototype,I=function I(e,n){V(e,n,{get:function get(){return function(e,n){var r=e._d;return r.v[f](n*t+r.o,ke);}(this,n);},set:function set(e){return function(e,n,r){var a=e._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),a.v[h](n*t+a.o,r,ke);}(this,n,e);},enumerable:!0});};b?(d=n(function(e,n,r,a){l(e,d,c,"_d");var i,o,s,u,f=0,h=0;if(x(n)){if(!(n instanceof K||"ArrayBuffer"==(u=w(n))||"SharedArrayBuffer"==u))return be in n?Te(d,n):Ce.call(d,n);i=n,h=Se(r,t);var y=n.byteLength;if(void 0===a){if(y%t)throw W("Wrong length!");if((o=y-h)<0)throw W("Wrong length!");}else if((o=m(a)*t)+h>y)throw W("Wrong length!");s=o/t;}else s=g(n),i=new K(o=s*t);for(p(e,"_d",{b:i,o:h,l:o,e:s,v:new X(i)});f<s;){I(e,f++);}}),O=d.prototype=S(Ve),p(O,"constructor",d)):i(function(){d(1);})&&i(function(){new d(-1);})&&j(function(e){new d(),new d(null),new d(1.5),new d(e);},!0)||(d=n(function(e,n,r,a){var i;return l(e,d,c),x(n)?n instanceof K||"ArrayBuffer"==(i=w(n))||"SharedArrayBuffer"==i?void 0!==a?new y(n,Se(r,t),a):void 0!==r?new y(n,Se(r,t)):new y(n):be in n?Te(d,n):Ce.call(d,n):new y(g(n));}),J(v!==Function.prototype?E(y).concat(E(v)):E(y),function(e){e in d||p(d,e,y[e]);}),d.prototype=O,r||(O.constructor=d));var T=O[de],A=!!T&&("values"==T.name||void 0==T.name),C=Le.values;p(d,ge,!0),p(O,be,c),p(O,we,!0),p(O,ye,d),(u?new d(1)[me]==c:me in O)||V(O,me,{get:function get(){return c;}}),k[c]=d,o(o.G+o.W+o.F*(d!=y),k),o(o.S,c,{BYTES_PER_ELEMENT:t}),o(o.S+o.F*i(function(){y.of.call(d,1);}),c,{from:Ce,of:Pe}),"BYTES_PER_ELEMENT"in O||p(O,"BYTES_PER_ELEMENT",t),o(o.P,c,Me),D(c),o(o.P+o.F*Oe,c,{set:De}),o(o.P+o.F*!A,c,Le),r||O.toString==pe||(O.toString=pe),o(o.P+o.F*i(function(){new d(1).slice();}),c,{slice:je}),o(o.P+o.F*(i(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString();})||!i(function(){O.toLocaleString.call([1,2]);})),c,{toLocaleString:Re}),M[c]=A?T:C,r||A||p(O,de,C);};}else e.exports=function(){};},function(e,t,n){"use strict";n.d(t,"b",function(){return r;}),n.d(t,"a",function(){return a;});var r=1.7580993408473768,a=1.0507009873554805;},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(293)),a=o(n(291)),i="function"==typeof a.default&&"symbol"==_typeof(r.default)?function(e){return typeof e==="undefined"?"undefined":_typeof(e);}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":typeof e==="undefined"?"undefined":_typeof(e);};function o(e){return e&&e.__esModule?e:{default:e};}t.default="function"==typeof a.default&&"symbol"===i(r.default)?function(e){return void 0===e?"undefined":i(e);}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":void 0===e?"undefined":i(e);};},function(e,t,n){e.exports=!n(84)(function(){return 7!=Object.defineProperty({},"a",{get:function get(){return 7;}}).a;});},function(e,t){e.exports=function(e){return"object"==(typeof e==="undefined"?"undefined":_typeof(e))?null!==e:"function"==typeof e;};},function(e,t,n){var r=n(16)("unscopables"),a=Array.prototype;void 0==a[r]&&n(28)(a,r,{}),e.exports=function(e){a[r][e]=!0;};},function(e,t){e.exports=!1;},function(e,t,n){var r=n(78)("meta"),a=n(15),i=n(38),o=n(18).f,s=0,u=Object.isExtensible||function(){return!0;},c=!n(14)(function(){return u(Object.preventExtensions({}));}),l=function l(e){o(e,r,{value:{i:"O"+ ++s,w:{}}});},f=e.exports={KEY:r,NEED:!1,fastKey:function fastKey(e,t){if(!a(e))return"symbol"==(typeof e==="undefined"?"undefined":_typeof(e))?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!u(e))return"F";if(!t)return"E";l(e);}return e[r].i;},getWeak:function getWeak(e,t){if(!i(e,r)){if(!u(e))return!0;if(!t)return!1;l(e);}return e[r].w;},onFreeze:function onFreeze(e){return c&&f.NEED&&u(e)&&!i(e,r)&&l(e),e;}};},function(e,t,n){"use strict";n.d(t,"a",function(){return a;}),n.d(t,"c",function(){return i;}),n.d(t,"b",function(){return o;});var r=n(0);function a(e,t,n){var a=e.length,i=t.length;r.assert(e.length===t.length,"Error in concat"+a+"D: rank of x1 ("+a+") and x2 ("+i+") must be the same."),r.assert(n>=0&&n<a,"Error in concat"+a+"D: axis must be between 0 and "+(a-1)+".");for(var o=0;o<a;o++){r.assert(o===n||e[o]===t[o],"Error in concat"+a+"D: Shape ("+e+") does not match ("+t+") along the non-concatenated axis "+o+".");}}function i(e,t,n){r.assert(e.length===t.length,"x1 and x2 should have the same rank.");var a=e.slice();return a[n]+=t[n],a;}function o(e,t){return{aBegin:[0,0],aSize:e,bBegin:[0,e[1]],bSize:t};}},function(e,t,n){"use strict";n.d(t,"a",function(){return c;});var r=n(2),a=n(3),i=n(0),o=n(8),s=n(62),u=n(4),c=function(){function e(){}return e.concat1d=function(t){return e.concat(t,0);},e.concat2d=function(t,n){return e.concat(t,n);},e.concat3d=function(t,n){return e.concat(t,n);},e.concat4d=function(t,n){return e.concat(t,n);},e.concat=function(e,t){void 0===t&&(t=0),i.assert(e.length>=1,"Pass at least one tensor to concat"),i.assertArgumentsAreTensors({tensors:e},"concat");var n=e[0];if(1===e.length)return n;for(var r=Object(o.g)(t,n.shape),a=1;a<e.length;++a){n=l(n,e[a],r[0]);}return n;},function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}i>3&&o&&Object.defineProperty(t,n,o);}([Object(r.a)({heading:"Tensors",subheading:"Slicing and Joining"}),u.a],e,"concat",null),e;}();function l(e,t,n){s.a(e.shape,t.shape,n);var r=s.c(e.shape,t.shape,n),o=e.as2D(-1,i.sizeFromShape(e.shape.slice(n))),u=t.as2D(-1,i.sizeFromShape(t.shape.slice(n))),c=s.b(o.shape,u.shape),l=c.aBegin,f=c.aSize,p=c.bBegin,h=c.bSize;return a.ENV.engine.runKernel(function(e){return e.concat(o,u);},{a:o,b:u},function(e){return{a:function a(){return e.slice(l,f);},b:function b(){return e.slice(p,h);}};}).reshape(r);}},function(e,t,n){e.exports={default:n(314),__esModule:!0};},function(e,t,n){"use strict";(function(e){var r=t;function a(e,t,n){for(var r=Object.keys(t),a=0;a<r.length;++a){void 0!==e[r[a]]&&n||(e[r[a]]=t[r[a]]);}return e;}function i(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function get(){return e;}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&a(this,n);}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function get(){return e;}}),t.prototype.toString=function(){return this.name+": "+this.message;},t;}r.asPromise=n(330),r.base64=n(329),r.EventEmitter=n(328),r.float=n(327),r.inquire=n(326),r.utf8=n(325),r.pool=n(324),r.LongBits=n(323),r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isNode=Boolean(e.process&&e.process.versions&&e.process.versions.node),r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;},r.isString=function(e){return"string"==typeof e||e instanceof String;},r.isObject=function(e){return e&&"object"==(typeof e==="undefined"?"undefined":_typeof(e));},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=(typeof n==="undefined"?"undefined":_typeof(n))||(Array.isArray(n)?n.length:Object.keys(n).length)>0);},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null;}catch(e){return null;}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e);},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=e.dcodeIO&&e.dcodeIO.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash;},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t));},r.merge=a,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1);},r.newError=i,r.ProtocolError=i("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n){t[e[n]]=1;}return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n){if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n];}};},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n){e[n]!==t&&delete this[e[n]];}};},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n);},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t);}):r._Buffer_from=r._Buffer_allocUnsafe=null;};}).call(this,n(101));},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function get(){return e.l;}}),Object.defineProperty(e,"id",{enumerable:!0,get:function get(){return e.i;}}),e.webpackPolyfill=1),e;};},function(e,t,n){var r=n(190),a=n(142);e.exports=function(e){return r(a(e));};},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t);};},function(e,t,n){var r=n(52),a=n(97);e.exports=n(57)?function(e,t,n){return r.f(e,t,a(1,n));}:function(e,t,n){return e[t]=n,e;};},function(e,t,n){var r=n(27);e.exports=function(e,t,n){for(var a in t){r(e,a,t[a],n);}return e;};},function(e,t,n){var r=n(42),a=n(212),i=n(154),o=n(12),s=n(17),u=n(152),c={},l={};(t=e.exports=function(e,t,n,f,p){var h,d,m,g,y=p?function(){return e;}:u(e),v=r(n,f,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(i(y)){for(h=s(e.length);h>b;b++){if((g=t?v(o(d=e[b])[0],d[1]):v(e[b]))===c||g===l)return g;}}else for(m=y.call(e);!(d=m.next()).done;){if((g=a(m,v,d.value,t))===c||g===l)return g;}}).BREAK=c,t.RETURN=l;},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e;};},function(e,t,n){"use strict";var r=n(13),a=n(18),i=n(19),o=n(16)("species");e.exports=function(e){var t=r[e];i&&t&&!t[o]&&a.f(t,o,{configurable:!0,get:function get(){return this;}});};},function(e,t,n){var r=n(224),a=n(167).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,a);};},function(e,t,n){var r=n(12),a=n(223),i=n(167),o=n(168)("IE_PROTO"),s=function s(){},_u2=function u(){var e,t=n(170)("iframe"),r=i.length;for(t.style.display="none",n(166).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),_u2=e.F;r--;){delete _u2.prototype[i[r]];}return _u2();};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s(),s.prototype=null,n[o]=e):n=_u2(),void 0===t?n:a(n,t);};},function(e,t,n){var r=n(48),a=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?a(e+t,0):i(e,t);};},function(e,t,n){var r=n(224),a=n(167);e.exports=Object.keys||function(e){return r(e,a);};},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36));};},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t};};},function(e,t,n){"use strict";n.d(t,"a",function(){return s;});var r=n(2),a=n(3),i=n(0),o=function o(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==(typeof Reflect==="undefined"?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--){(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);}return i>3&&o&&Object.defineProperty(t,n,o),o;},s=function(){function e(){}return e.tidy=function(e,t,n){void 0===n&&(n=!1);var r=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e;}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e;}a.ENV.engine.startScope(r,n);var i=t();return i instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),a.ENV.engine.endScope(i,n),i;},e.dispose=function(e){Object(i.extractTensorsFromAny)(e).forEach(function(e){return e.dispose();});},e.keep=function(e){return a.ENV.engine.keep(e);},e.time=function(e){return a.ENV.engine.time(e);},o([Object(r.a)({heading:"Performance",subheading:"Memory"})],e,"tidy",null),o([Object(r.a)({heading:"Performance",subheading:"Memory"})],e,"keep",null),o([Object(r.a)({heading:"Performance",subheading:"Timing"})],e,"time",null),e;}();},function(e,t){e.exports={};},function(e,t){(function(t){e.exports=t;}).call(this,{});},function(e,t,n){var r=n(191),a=n(137);e.exports=Object.keys||function(e){return r(e,a);};},function(e,t){e.exports=function(e){try{return!!e();}catch(e){return!0;}};},function(e,t,n){var r=n(106);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n);};case 2:return function(n,r){return e.call(t,n,r);};case 3:return function(n,r,a){return e.call(t,n,r,a);};}return function(){return e.apply(t,arguments);};};},function(e,t,n){var r=n(15);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e;};},function(e,t){e.exports={};},function(e,t,n){var r=n(5),a=n(49),i=n(14),o=n(164),s="["+o+"]",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),l=function l(e,t,n){var a={},s=i(function(){return!!o[e]()||"​"!="​"[e]();}),u=a[e]=s?t(f):o[e];n&&(a[n]=u),r(r.P+r.F*s,"String",a);},f=l.trim=function(e,t){return e=String(a(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(c,"")),e;};e.exports=l;},function(e,t,n){var r=n(18).f,a=n(38),i=n(16)("toStringTag");e.exports=function(e,t,n){e&&!a(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t});};},function(e,t,n){"use strict";n.d(t,"a",function(){return a;}),n.d(t,"b",function(){return i;});var r=n(0);function a(e,t,n){r.assert(e.rank===t.length,"Error in slice"+e.rank+"D: Length of begin "+t+" must match the rank of the array ("+e.rank+")."),r.assert(e.rank===n.length,"Error in slice"+e.rank+"D: Length of size "+n+" must match the rank of the array ("+e.rank+").");for(var a=0;a<e.rank;++a){r.assert(t[a]+n[a]<=e.shape[a],"Error in slice"+e.rank+"D: begin["+a+"] + size["+a+"] ("+(t[a]+n[a])+") would overflow input.shape["+a+"] ("+e.shape[a]+")");}}function i(e,t,n,r,a,i){void 0===a&&(a=0),void 0===i&&(i=0);for(var u=[],c=[],l=0;l<e.length;l++){u[l]=o(a,t,r,e,l),c[l]=s(i,n,r,e,l);}var f=new Array(e.length).fill(0);return f=f.map(function(e,t){for(var n=0,a=u[t];!(r[t]>0?a>=c[t]:a<=c[t]);a+=r[t]){n+=1;}return n;}),[u,f];}function o(e,t,n,a,i){var o=t[i];e&1<<i&&(o=n[i]>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=a[i];return o<0&&(o+=s),r.clamp(0,o,s-1);}function s(e,t,n,a,i){var o=t[i];e&1<<i&&(o=n[i]>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=a[i];return o<0&&(o+=s),n[i]>0?r.clamp(0,o,s):r.clamp(-1,o,s-1);}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imgToTensor=t.cropImage=t.processVideo=t.array3DToImage=void 0;var r=function(e){return e&&e.__esModule?e:{default:e};}(n(128)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e){Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);}return t.default=e,t;}(n(10)),i=function i(e){var t=Math.min(e.shape[0],e.shape[1]),n=e.shape[0]/2-t/2,r=e.shape[1]/2-t/2;return e.slice([n,r,0],[t,t,3]);};t.array3DToImage=function(e){var t=(0,r.default)(e.shape,2),n=t[0],a=t[1],i=e.dataSync(),o=document.createElement("canvas");o.width=n,o.height=a;for(var s=o.getContext("2d"),u=s.getImageData(0,0,o.width,o.height),c=0;c<n*a;c+=1){var l=4*c,f=3*c;u.data[l+0]=Math.floor(256*i[f+0]),u.data[l+1]=Math.floor(256*i[f+1]),u.data[l+2]=Math.floor(256*i[f+2]),u.data[l+3]=255;}s.putImageData(u,0,0);var p=o.toDataURL(),h=document.createElement("img");return h.src=p,h.style.width=n,h.style.height=a,h;},t.processVideo=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=e,a=document.createElement("video");return r.onplay=function(){var e=r.captureStream();a.srcObject=e,a.width=t,a.height=t,a.autoplay=!0,a.playsinline=!0,a.muted=!0,n();},a;},t.cropImage=i,t.imgToTensor=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a.tidy(function(){var n=a.fromPixels(e);return t&&(n=a.image.resizeBilinear(n,t)),i(n).expandDims(0).toFloat().div(a.scalar(127)).sub(a.scalar(1));});};},function(e,t,n){"use strict";var r=n(313)(!0);n(186)(String,"String",function(e){this._t=String(e),this._i=0;},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1});});},function(e,t,n){var r=n(142);e.exports=function(e){return Object(r(e));};},function(e,t){t.f={}.propertyIsEnumerable;},function(e,t){e.exports=!0;},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1);};},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t};};},function(e,t,n){var r=n(41),a=n(16)("toStringTag"),i="Arguments"==r(function(){return arguments;}());e.exports=function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t];}catch(e){}}(t=Object(e),a))?n:i?r(t):"Object"==(o=r(t))&&"function"==typeof t.callee?"Arguments":o;};},function(e,t){t.f={}.propertyIsEnumerable;},function(e,t,n){var r=n(41);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e);};},function(e,t){var n;n=function(){return this;}();try{n=n||Function("return this")()||(0,eval)("this");}catch(e){"object"==(typeof window==="undefined"?"undefined":_typeof(window))&&(n=window);}e.exports=n;},function(e,t,n){"use strict";e.exports=n(331);},function(e,t,n){n(310);for(var r=n(25),a=n(69),i=n(81),o=n(24)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=r[c],f=l&&l.prototype;f&&!f[o]&&a(f,o,c),i[c]=i.Array;}},function(e,t,n){var r=n(52).f,a=n(68),i=n(24)("toStringTag");e.exports=function(e,t,n){e&&!a(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t});};},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36));};},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e;};},function(e,t,n){"use strict";var r=n(5),a=n(23),i=n(42),o=n(71);e.exports=function(e){r(r.S,e,{from:function from(e){var t,n,r,s,u=arguments[1];return a(this),(t=void 0!==u)&&a(u),void 0==e?new this():(n=[],t?(r=0,s=i(u,arguments[2],2),o(e,!1,function(e){n.push(s(e,r++));})):o(e,!1,n.push,n),new this(n));}});};},function(e,t,n){"use strict";var r=n(5);e.exports=function(e){r(r.S,e,{of:function of(){for(var e=arguments.length,t=new Array(e);e--;){t[e]=arguments[e];}return new this(t);}});};},function(e,t,n){"use strict";e.exports=n(60)||!n(14)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(13)[e];});},function(e,t,n){for(var r,a=n(13),i=n(28),o=n(78),s=o("typed_array"),u=o("view"),c=!(!a.ArrayBuffer||!a.DataView),l=c,f=0,p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;){(r=a[p[f++]])?(i(r.prototype,s,!0),i(r.prototype,u,!0)):l=!1;}e.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u};},function(e,t,n){"use strict";var r=n(13),a=n(5),i=n(27),o=n(70),s=n(61),u=n(71),c=n(72),l=n(15),f=n(14),p=n(116),h=n(89),d=n(163);e.exports=function(e,t,n,m,g,y){var v=r[e],b=v,w=g?"set":"add",x=b&&b.prototype,k={},O=function O(e){var t=x[e];i(x,e,"delete"==e?function(e){return!(y&&!l(e))&&t.call(this,0===e?0:e);}:"has"==e?function(e){return!(y&&!l(e))&&t.call(this,0===e?0:e);}:"get"==e?function(e){return y&&!l(e)?void 0:t.call(this,0===e?0:e);}:"add"==e?function(e){return t.call(this,0===e?0:e),this;}:function(e,n){return t.call(this,0===e?0:e,n),this;});};if("function"==typeof b&&(y||x.forEach&&!f(function(){new b().entries().next();}))){var S=new b(),N=S[w](y?{}:-0,1)!=S,E=f(function(){S.has(1);}),I=p(function(e){new b(e);}),T=!y&&f(function(){for(var e=new b(),t=5;t--;){e[w](t,t);}return!e.has(-0);});I||((b=t(function(t,n){c(t,b,e);var r=d(new v(),t,b);return void 0!=n&&u(n,g,r[w],r),r;})).prototype=x,x.constructor=b),(E||T)&&(O("delete"),O("has"),g&&O("get")),(T||N)&&O(w),y&&x.clear&&delete x.clear;}else b=m.getConstructor(t,e,g,w),o(b.prototype,n),s.NEED=!0;return h(b,e),k[e]=b,a(a.G+a.W+a.F*(b!=v),k),y||m.setStrong(b,e,g),b;};},function(e,t,n){var r=n(13).navigator;e.exports=r&&r.userAgent||"";},function(e,t,n){var r=n(12),a=n(23),i=n(16)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[i])?t:a(n);};},function(e,t,n){"use strict";var r=n(28),a=n(27),i=n(14),o=n(49),s=n(16);e.exports=function(e,t,n){var u=s(e),c=n(o,u,""[e]),l=c[0],f=c[1];i(function(){var t={};return t[u]=function(){return 7;},7!=""[e](t);})&&(a(String.prototype,e,l),r(RegExp.prototype,u,2==t?function(e,t){return f.call(e,this,t);}:function(e){return f.call(e,this);}));};},function(e,t,n){"use strict";var r=n(12);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t;};},function(e,t,n){var r=n(16)("iterator"),a=!1;try{var i=[7][r]();i.return=function(){a=!0;},Array.from(i,function(){throw 2;});}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var i=[7],o=i[r]();o.next=function(){return{done:n=!0};},i[r]=function(){return o;},e(i);}catch(e){}return n;};},function(e,t,n){var r=n(15),a=n(41),i=n(16)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==a(e));};},function(e,t,n){var r=n(41);e.exports=Array.isArray||function(e){return"Array"==r(e);};},function(e,t){t.f=Object.getOwnPropertySymbols;},function(e,t,n){var r=n(37),a=n(17),i=n(76);e.exports=function(e){return function(t,n,o){var s,u=r(t),c=a(u.length),l=i(o,c);if(e&&n!=n){for(;c>l;){if((s=u[l++])!=s)return!0;}}else for(;c>l;l++){if((e||l in u)&&u[l]===n)return e||l||0;}return!e&&-1;};};},function(e,t,n){var r=n(43),a=n(13),i=a["__core-js_shared__"]||(a["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{});})("versions",[]).push({version:r.version,mode:n(60)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"});},function(e,t,n){var r=n(344),a=n(343),i=n(342),o=n(341),s=n(340),u=n(339),c=n(338);c.alea=r,c.xor128=a,c.xorwow=i,c.xorshift7=o,c.xor4096=s,c.tychei=u,e.exports=c;},function(e,t,n){"use strict";n.d(t,"a",function(){return s;});var r=n(0),a=20,i=3,o=7;function s(e,t){var n=e.dataSync(),r=function(e){var t=e.dataSync(),n=e.size,r=e.strides[e.strides.length-1],a=new Array(r).fill(0);if(e.rank>1)for(var i=0;i<n/r;i++){for(var o=i*r,s=0;s<r;s++){a[s]=Math.max(a[s],u(t[o+s],0).length);}}return a;}(e),o=function e(t,n,r,o,s){void 0===s&&(s=!0);var c=n[0],l=n.length;if(0===l)return[t[0].toString()];if(1===l){if(c>a){var f=Array.from(t.subarray(0,i)),p=Array.from(t.subarray(c-i,c));return["["+f.map(function(e,t){return u(e,o[t]);}).join(", ")+", ..., "+p.map(function(e,t){return u(e,o[c-i+t]);}).join(", ")+"]"];}return["["+Array.from(t).map(function(e,t){return u(e,o[t]);}).join(", ")+"]"];}var h=n.slice(1),d=r.slice(1),m=r[0],g=[];if(c>a){for(var y=0;y<i;y++){var v=(b=y*m)+m;g.push.apply(g,e(t.subarray(b,v),h,d,o,!1));}g.push("...");for(y=c-i;y<c;y++){v=(b=y*m)+m;g.push.apply(g,e(t.subarray(b,v),h,d,o,y===c-1));}}else for(y=0;y<c;y++){var b;v=(b=y*m)+m;g.push.apply(g,e(t.subarray(b,v),h,d,o,y===c-1));}var w=2===l?",":"";g[0]="["+g[0]+w;for(y=1;y<g.length-1;y++){g[y]=" "+g[y]+w;}var x=",\n";for(y=2;y<l;y++){x+="\n";}return g[g.length-1]=" "+g[g.length-1]+"]"+(s?"":x),g;}(n,e.shape,e.strides,r),s=["Tensor"];return t&&(s.push("  dtype: "+e.dtype),s.push("  rank: "+e.rank),s.push("  shape: ["+e.shape+"]"),s.push("  values:")),s.push(o.map(function(e){return"    "+e;}).join("\n")),s.join("\n");}function u(e,t){return r.rightPad(parseFloat(e.toFixed(o)).toString(),t);}},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(263)),a=o(n(259)),i=o(n(56));function o(e){return e&&e.__esModule?e:{default:e};}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,a.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t);};},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e};}(n(56));t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,r.default)(t))&&"function"!=typeof t?e:t;};},function(e,t,n){e.exports={default:n(265),__esModule:!0};},function(e,t,n){e.exports={default:n(268),__esModule:!0};},function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(279)),a=i(n(276));function i(e){return e&&e.__esModule?e:{default:e};}t.default=function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,u=(0,a.default)(e);!(r=(s=u.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0){}}catch(e){i=!0,o=e;}finally{try{!r&&u.return&&u.return();}finally{if(i)throw o;}}return n;}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance");};},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(32)),a=c(n(64)),i=c(n(31)),o=c(n(56)),s=c(n(30)),u=c(n(29));function c(e){return e&&e.__esModule?e:{default:e};}var l=function(){function e(t,n){(0,s.default)(this,e),this.videoElt=null,this.size=n,this.videoReady=!1,t instanceof HTMLVideoElement?this.videoElt=t:null!==t&&"object"===(void 0===t?"undefined":(0,o.default)(t))&&t.elt instanceof HTMLVideoElement&&(this.videoElt=t.elt);}return(0,u.default)(e,[{key:"loadVideo",value:function(){var e=(0,i.default)(r.default.mark(function e(){var t=this;return r.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return e.abrupt("return",new a.default(function(e){t.video=document.createElement("video");var n=t.videoElt.captureStream();t.video.srcObject=n,t.video.width=t.size,t.video.height=t.size,t.video.autoplay=!0,t.video.playsinline=!0,t.video.muted=!0;var r=t.video.play();void 0!==r&&r.then(function(){e(t.video);});}));case 1:case"end":return e.stop();}}},e,this);}));return function(){return e.apply(this,arguments);};}()}]),e;}();t.default=l;},function(e,t,n){var r=n(25),a=n(21),i=n(95),o=n(131),s=n(52).f;e.exports=function(e){var t=a.Symbol||(a.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)});};},function(e,t,n){t.f=n(24);},function(e,t,n){"use strict";var r=n(106);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r;}),this.resolve=r(t),this.reject=r(n);}(e);};},function(e,t,n){var r=n(134),a=n(24)("iterator"),i=n(81);e.exports=n(21).getIteratorMethod=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||i[r(e)];};},function(e,t,n){var r=n(96),a=n(24)("toStringTag"),i="Arguments"==r(function(){return arguments;}());e.exports=function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t];}catch(e){}}(t=Object(e),a))?n:i?r(t):"Object"==(o=r(t))&&"function"==typeof t.callee?"Arguments":o;};},function(e,t,n){var r=n(45),a=n(311),i=n(137),o=n(139)("IE_PROTO"),s=function s(){},_u3=function u(){var e,t=n(144)("iframe"),r=i.length;for(t.style.display="none",n(184).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),_u3=e.F;r--;){delete _u3.prototype[i[r]];}return _u3();};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s(),s.prototype=null,n[o]=e):n=_u3(),void 0===t?n:a(n,t);};},function(e,t){t.f=Object.getOwnPropertySymbols;},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");},function(e,t,n){var r=n(21),a=n(25),i=a["__core-js_shared__"]||(a["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{});})("versions",[]).push({version:r.version,mode:n(95)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"});},function(e,t,n){var r=n(138)("keys"),a=n(105);e.exports=function(e){return r[e]||(r[e]=a(e));};},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e);};},function(e,t,n){var r=n(140),a=Math.min;e.exports=function(e){return e>0?a(r(e),9007199254740991):0;};},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e;};},function(e,t,n){var r=n(58);e.exports=function(e,t){if(!r(e))return e;var n,a;if(t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;if("function"==typeof(n=e.valueOf)&&!r(a=n.call(e)))return a;if(!t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;throw TypeError("Can't convert object to primitive value");};},function(e,t,n){var r=n(58),a=n(25).document,i=r(a)&&r(a.createElement);e.exports=function(e){return i?a.createElement(e):{};};},function(e,t,n){"use strict";var r=n(13),a=n(19),i=n(60),o=n(110),s=n(28),u=n(70),c=n(14),l=n(72),f=n(48),p=n(17),h=n(200),d=n(74).f,m=n(18).f,g=n(150),y=n(89),v="prototype",b="Wrong index!",_w2=r.ArrayBuffer,_x=r.DataView,k=r.Math,O=r.RangeError,S=r.Infinity,N=_w2,E=k.abs,I=k.pow,T=k.floor,A=k.log,C=k.LN2,P=a?"_b":"buffer",_=a?"_l":"byteLength",R=a?"_o":"byteOffset";function M(e,t,n){var r,a,i,o=new Array(n),s=8*n-t-1,u=(1<<s)-1,c=u>>1,l=23===t?I(2,-24)-I(2,-77):0,f=0,p=e<0||0===e&&1/e<0?1:0;for((e=E(e))!=e||e===S?(a=e!=e?1:0,r=u):(r=T(A(e)/C),e*(i=I(2,-r))<1&&(r--,i*=2),(e+=r+c>=1?l/i:l*I(2,1-c))*i>=2&&(r++,i/=2),r+c>=u?(a=0,r=u):r+c>=1?(a=(e*i-1)*I(2,t),r+=c):(a=e*I(2,c-1)*I(2,t),r=0));t>=8;o[f++]=255&a,a/=256,t-=8){}for(r=r<<t|a,s+=t;s>0;o[f++]=255&r,r/=256,s-=8){}return o[--f]|=128*p,o;}function j(e,t,n){var r,a=8*n-t-1,i=(1<<a)-1,o=i>>1,s=a-7,u=n-1,c=e[u--],l=127&c;for(c>>=7;s>0;l=256*l+e[u],u--,s-=8){}for(r=l&(1<<-s)-1,l>>=-s,s+=t;s>0;r=256*r+e[u],u--,s-=8){}if(0===l)l=1-o;else{if(l===i)return r?NaN:c?-S:S;r+=I(2,t),l-=o;}return(c?-1:1)*r*I(2,l-t);}function D(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0];}function L(e){return[255&e];}function z(e){return[255&e,e>>8&255];}function F(e){return[255&e,e>>8&255,e>>16&255,e>>24&255];}function B(e){return M(e,52,8);}function V(e){return M(e,23,4);}function U(e,t,n){m(e[v],t,{get:function get(){return this[n];}});}function W(e,t,n,r){var a=h(+n);if(a+t>e[_])throw O(b);var i=e[P]._b,o=a+e[R],s=i.slice(o,o+t);return r?s:s.reverse();}function G(e,t,n,r,a,i){var o=h(+n);if(o+t>e[_])throw O(b);for(var s=e[P]._b,u=o+e[R],c=r(+a),l=0;l<t;l++){s[u+l]=c[i?l:t-l-1];}}if(o.ABV){if(!c(function(){_w2(1);})||!c(function(){new _w2(-1);})||c(function(){return new _w2(),new _w2(1.5),new _w2(NaN),"ArrayBuffer"!=_w2.name;})){for(var q,H=(_w2=function w(e){return l(this,_w2),new N(h(e));})[v]=N[v],K=d(N),X=0;K.length>X;){(q=K[X++])in _w2||s(_w2,q,N[q]);}i||(H.constructor=_w2);}var J=new _x(new _w2(2)),Y=_x[v].setInt8;J.setInt8(0,2147483648),J.setInt8(1,2147483649),!J.getInt8(0)&&J.getInt8(1)||u(_x[v],{setInt8:function setInt8(e,t){Y.call(this,e,t<<24>>24);},setUint8:function setUint8(e,t){Y.call(this,e,t<<24>>24);}},!0);}else _w2=function _w(e){l(this,_w2,"ArrayBuffer");var t=h(e);this._b=g.call(new Array(t),0),this[_]=t;},_x=function x(e,t,n){l(this,_x,"DataView"),l(e,_w2,"DataView");var r=e[_],a=f(t);if(a<0||a>r)throw O("Wrong offset!");if(a+(n=void 0===n?r-a:p(n))>r)throw O("Wrong length!");this[P]=e,this[R]=a,this[_]=n;},a&&(U(_w2,"byteLength","_l"),U(_x,"buffer","_b"),U(_x,"byteLength","_l"),U(_x,"byteOffset","_o")),u(_x[v],{getInt8:function getInt8(e){return W(this,1,e)[0]<<24>>24;},getUint8:function getUint8(e){return W(this,1,e)[0];},getInt16:function getInt16(e){var t=W(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16;},getUint16:function getUint16(e){var t=W(this,2,e,arguments[1]);return t[1]<<8|t[0];},getInt32:function getInt32(e){return D(W(this,4,e,arguments[1]));},getUint32:function getUint32(e){return D(W(this,4,e,arguments[1]))>>>0;},getFloat32:function getFloat32(e){return j(W(this,4,e,arguments[1]),23,4);},getFloat64:function getFloat64(e){return j(W(this,8,e,arguments[1]),52,8);},setInt8:function setInt8(e,t){G(this,1,e,L,t);},setUint8:function setUint8(e,t){G(this,1,e,L,t);},setInt16:function setInt16(e,t){G(this,2,e,z,t,arguments[2]);},setUint16:function setUint16(e,t){G(this,2,e,z,t,arguments[2]);},setInt32:function setInt32(e,t){G(this,4,e,F,t,arguments[2]);},setUint32:function setUint32(e,t){G(this,4,e,F,t,arguments[2]);},setFloat32:function setFloat32(e,t){G(this,4,e,V,t,arguments[2]);},setFloat64:function setFloat64(e,t){G(this,8,e,B,t,arguments[2]);}});y(_w2,"ArrayBuffer"),y(_x,"DataView"),s(_x[v],o.VIEW,!0),t.ArrayBuffer=_w2,t.DataView=_x;},function(e,t,n){"use strict";var r=n(23);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r;}),this.resolve=r(t),this.reject=r(n);}(e);};},function(e,t,n){var r=n(13),a=n(148).set,i=r.MutationObserver||r.WebKitMutationObserver,o=r.process,s=r.Promise,u="process"==n(41)(o);e.exports=function(){var e,t,n,c=function c(){var r,a;for(u&&(r=o.domain)&&r.exit();e;){a=e.fn,e=e.next;try{a();}catch(r){throw e?n():t=void 0,r;}}t=void 0,r&&r.enter();};if(u)n=function n(){o.nextTick(c);};else if(!i||r.navigator&&r.navigator.standalone){if(s&&s.resolve){var l=s.resolve(void 0);n=function n(){l.then(c);};}else n=function n(){a.call(r,c);};}else{var f=!0,p=document.createTextNode("");new i(c).observe(p,{characterData:!0}),n=function n(){p.data=f=!f;};}return function(r){var a={fn:r,next:void 0};t&&(t.next=a),e||(e=a,n()),t=a;};};},function(e,t,n){var r,a,i,o=n(42),s=n(219),u=n(166),c=n(170),l=n(13),f=l.process,p=l.setImmediate,h=l.clearImmediate,d=l.MessageChannel,m=l.Dispatch,g=0,y={},v=function v(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t();}},b=function b(e){v.call(e.data);};p&&h||(p=function p(e){for(var t=[],n=1;arguments.length>n;){t.push(arguments[n++]);}return y[++g]=function(){s("function"==typeof e?e:Function(e),t);},r(g),g;},h=function h(e){delete y[e];},"process"==n(41)(f)?r=function r(e){f.nextTick(o(v,e,1));}:m&&m.now?r=function r(e){m.now(o(v,e,1));}:d?(i=(a=new d()).port2,a.port1.onmessage=b,r=o(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function r(e){l.postMessage(e+"","*");},l.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),v.call(e);};}:function(e){setTimeout(o(v,e,1),0);}),e.exports={set:p,clear:h};},function(e,t,n){"use strict";var r=n(59),a=n(209),i=n(87),o=n(37);e.exports=n(158)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t;},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,a(1)):a(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]]);},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries");},function(e,t,n){"use strict";var r=n(22),a=n(76),i=n(17);e.exports=function(e){for(var t=r(this),n=i(t.length),o=arguments.length,s=a(o>1?arguments[1]:void 0,n),u=o>2?arguments[2]:void 0,c=void 0===u?n:a(u,n);c>s;){t[s++]=e;}return t;};},function(e,t,n){var r=n(462);e.exports=function(e,t){return new(r(e))(t);};},function(e,t,n){var r=n(98),a=n(16)("iterator"),i=n(87);e.exports=n(43).getIteratorMethod=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||i[r(e)];};},function(e,t,n){"use strict";var r=n(18),a=n(79);e.exports=function(e,t,n){t in e?r.f(e,t,a(0,n)):e[t]=n;};},function(e,t,n){var r=n(87),a=n(16)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[a]===e);};},function(e,t,n){var r=n(16)("match");e.exports=function(e){var t=/./;try{"/./"[e](t);}catch(n){try{return t[r]=!1,!"/./"[e](t);}catch(e){}}return!0;};},function(e,t,n){var r=n(117),a=n(49);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(a(e));};},function(e,t,n){"use strict";var r=n(75),a=n(79),i=n(89),o={};n(28)(o,n(16)("iterator"),function(){return this;}),e.exports=function(e,t,n){e.prototype=r(o,{next:a(1,n)}),i(e,t+" Iterator");};},function(e,t,n){"use strict";var r=n(60),a=n(5),i=n(27),o=n(28),s=n(87),u=n(157),c=n(89),l=n(35),f=n(16)("iterator"),p=!([].keys&&"next"in[].keys()),h=function h(){return this;};e.exports=function(e,t,n,d,m,g,y){u(n,t,d);var v,b,w,x=function x(e){if(!p&&e in N)return N[e];switch(e){case"keys":case"values":return function(){return new n(this,e);};}return function(){return new n(this,e);};},k=t+" Iterator",O="values"==m,S=!1,N=e.prototype,E=N[f]||N["@@iterator"]||m&&N[m],I=E||x(m),T=m?O?x("entries"):I:void 0,A="Array"==t&&N.entries||E;if(A&&(w=l(A.call(new e())))!==Object.prototype&&w.next&&(c(w,k,!0),r||"function"==typeof w[f]||o(w,f,h)),O&&E&&"values"!==E.name&&(S=!0,I=function I(){return E.call(this);}),r&&!y||!p&&!S&&N[f]||o(N,f,I),s[t]=I,s[k]=h,m)if(v={values:O?I:x("values"),keys:g?I:x("keys"),entries:T},y)for(b in v){b in N||i(N,b,v[b]);}else a(a.P+a.F*(p||S),t,v);return v;};},function(e,t,n){var r=n(48),a=n(49);e.exports=function(e){return function(t,n){var i,o,s=String(a(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===c||(o=s.charCodeAt(u+1))<56320||o>57343?e?s.charAt(u):i:e?s.slice(u,u+2):o-56320+(i-55296<<10)+65536;};};},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1;}:n;},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1;};},function(e,t,n){"use strict";var r=n(48),a=n(49);e.exports=function(e){var t=String(a(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t)){1&i&&(n+=t);}return n;};},function(e,t,n){var r=n(15),a=n(165).set;e.exports=function(e,t,n){var i,o=t.constructor;return o!==n&&"function"==typeof o&&(i=o.prototype)!==n.prototype&&r(i)&&a&&a(e,i),e;};},function(e,t){e.exports="\t\n\x0B\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF";},function(e,t,n){var r=n(15),a=n(12),i=function i(e,t){if(a(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!");};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(42)(Function.call,n(36).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array);}catch(e){t=!0;}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e;};}({},!1):void 0),check:i};},function(e,t,n){var r=n(13).document;e.exports=r&&r.documentElement;},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");},function(e,t,n){var r=n(121)("keys"),a=n(78);e.exports=function(e){return r[e]||(r[e]=a(e));};},function(e,t,n){var r=n(13),a=n(43),i=n(60),o=n(225),s=n(18).f;e.exports=function(e){var t=a.Symbol||(a.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)});};},function(e,t,n){var r=n(15),a=n(13).document,i=r(a)&&r(a.createElement);e.exports=function(e){return i?a.createElement(e):{};};},function(e,t,n){"use strict";var r=n(336),a=n(335);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null;}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t);},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t;},t.format=function(e){return a.isString(e)&&(e=b(e)),e instanceof i?e.format():i.prototype.format.call(e);},t.Url=i;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),f=["%","/","?",";","#"].concat(l),p=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(334);function b(e,t,n){if(e&&a.isObject(e)&&e instanceof i)return e;var r=new i();return r.parse(e,t,n),r;}i.prototype.parse=function(e,t,n){if(!a.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+(typeof e==="undefined"?"undefined":_typeof(e)));var i=e.indexOf("?"),s=-1!==i&&i<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var w=u.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this;}var x=o.exec(b);if(x){var k=(x=x[0]).toLowerCase();this.protocol=k,b=b.substr(x.length);}if(n||x||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var O="//"===b.substr(0,2);!O||x&&g[x]||(b=b.substr(2),this.slashes=!0);}if(!g[x]&&(O||x&&!y[x])){for(var S,N,E=-1,I=0;I<p.length;I++){-1!==(T=b.indexOf(p[I]))&&(-1===E||T<E)&&(E=T);}for(-1!==(N=-1===E?b.lastIndexOf("@"):b.lastIndexOf("@",E))&&(S=b.slice(0,N),b=b.slice(N+1),this.auth=decodeURIComponent(S)),E=-1,I=0;I<f.length;I++){var T;-1!==(T=b.indexOf(f[I]))&&(-1===E||T<E)&&(E=T);}-1===E&&(E=b.length),this.host=b.slice(0,E),b=b.slice(E),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var C=this.hostname.split(/\./),P=(I=0,C.length);I<P;I++){var _=C[I];if(_&&!_.match(h)){for(var R="",M=0,j=_.length;M<j;M++){_.charCodeAt(M)>127?R+="x":R+=_[M];}if(!R.match(h)){var D=C.slice(0,I),L=C.slice(I+1),z=_.match(d);z&&(D.push(z[1]),L.unshift(z[2])),L.length&&(b="/"+L.join(".")+b),this.hostname=D.join(".");break;}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=r.toASCII(this.hostname));var F=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+F,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b));}if(!m[k])for(I=0,P=l.length;I<P;I++){var V=l[I];if(-1!==b.indexOf(V)){var U=encodeURIComponent(V);U===V&&(U=escape(V)),b=b.split(V).join(U);}}var W=b.indexOf("#");-1!==W&&(this.hash=b.substr(W),b=b.slice(0,W));var G=b.indexOf("?");if(-1!==G?(this.search=b.substr(G),this.query=b.substr(G+1),t&&(this.query=v.parse(this.query)),b=b.slice(0,G)):t&&(this.search="",this.query={}),b&&(this.pathname=b),y[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var q=this.search||"";this.path=F+q;}return this.href=this.format(),this;},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(o=v.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e);}))+(s=s.replace("#","%23"))+r;},i.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format();},i.prototype.resolveObject=function(e){if(a.isString(e)){var t=new i();t.parse(e,!1,!0),e=t;}for(var n=new i(),r=Object.keys(this),o=0;o<r.length;o++){var s=r[o];n[s]=this[s];}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=e[l]);}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;}if(e.protocol&&e.protocol!==n.protocol){if(!y[e.protocol]){for(var f=Object.keys(e),p=0;p<f.length;p++){var h=f[p];n[h]=e[h];}return n.href=n.format(),n;}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift());){}e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/");}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",v=n.search||"";n.path=m+v;}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n;}var b=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=w||b||n.host&&e.pathname,k=x,O=n.pathname&&n.pathname.split("/")||[],S=(d=e.pathname&&e.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===O[0]?O[0]=n.host:O.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),x=x&&(""===d[0]||""===O[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,O=d;else if(d.length)O||(O=[]),O.pop(),O=O.concat(d),n.search=e.search,n.query=e.query;else if(!a.isNullOrUndefined(e.search))return S&&(n.hostname=n.host=O.shift(),(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift())),n.search=e.search,n.query=e.query,a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!O.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var N=O.slice(-1)[0],E=(n.host||e.host||O.length>1)&&("."===N||".."===N)||""===N,I=0,T=O.length;T>=0;T--){"."===(N=O[T])?O.splice(T,1):".."===N?(O.splice(T,1),I++):I&&(O.splice(T,1),I--);}if(!x&&!k)for(;I--;I){O.unshift("..");}!x||""===O[0]||O[0]&&"/"===O[0].charAt(0)||O.unshift(""),E&&"/"!==O.join("/").substr(-1)&&O.push("");var A,C=""===O[0]||O[0]&&"/"===O[0].charAt(0);return S&&(n.hostname=n.host=C?"":O.length?O.shift():"",(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift())),(x=x||n.host&&O.length)&&!C&&O.unshift(""),O.length?n.pathname=O.join("/"):(n.pathname=null,n.path=null),a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n;},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e);};},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(127)),a=l(n(32)),i=l(n(64)),o=l(n(31)),s=l(n(30)),u=l(n(29)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e){Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);}return t.default=e,t;}(n(10));function l(e){return e&&e.__esModule?e:{default:e};}var f=function(){function e(t){(0,s.default)(this,e),this.urlPath=t,"/"!==this.urlPath.charAt(this.urlPath.length-1)&&(this.urlPath+="/");}return(0,u.default)(e,[{key:"loadManifest",value:function(){var e=(0,o.default)(a.default.mark(function e(){var t=this;return a.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return e.abrupt("return",new i.default(function(e,n){var r=new XMLHttpRequest();r.open("GET",t.urlPath+"manifest.json"),r.onload=function(){t.checkpointManifest=JSON.parse(r.responseText),e();},r.onerror=function(e){throw n(),new Error("manifest.json not found at "+t.urlPath+". "+e);},r.send();}));case 1:case"end":return e.stop();}}},e,this);}));return function(){return e.apply(this,arguments);};}()},{key:"getCheckpointManifest",value:function(){var e=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:if(null!=this.checkpointManifest){e.next=3;break;}return e.next=3,this.loadManifest();case 3:return e.abrupt("return",this.checkpointManifest);case 4:case"end":return e.stop();}}},e,this);}));return function(){return e.apply(this,arguments);};}()},{key:"getAllVariables",value:function(){var e=(0,o.default)(a.default.mark(function e(){var t,n,o=this;return a.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:if(null==this.variables){e.next=2;break;}return e.abrupt("return",i.default.resolve(this.variables));case 2:return e.next=4,this.getCheckpointManifest();case 4:return t=(0,r.default)(this.checkpointManifest),n=t.map(function(e){return o.getVariable(e);}),e.abrupt("return",i.default.all(n).then(function(e){o.variables={};for(var n=0;n<e.length;n+=1){o.variables[t[n]]=e[n];}return o.variables;}));case 7:case"end":return e.stop();}}},e,this);}));return function(){return e.apply(this,arguments);};}()},{key:"getVariable",value:function value(e){var t=this;if(!(e in this.checkpointManifest))throw new Error("Cannot load non-existent variable "+e);var n=function n(_n10){var r=new XMLHttpRequest();r.responseType="arraybuffer";var a=t.checkpointManifest[e].filename;r.open("GET",t.urlPath+a),r.onload=function(){if(404===r.status)throw new Error("Not found variable "+e);var a=new Float32Array(r.response),i=c.Tensor.make(t.checkpointManifest[e].shape,{values:a});_n10(i);},r.onerror=function(t){throw new Error("Could not fetch variable "+e+": "+t);},r.send();};return null==this.checkpointManifest?new i.default(function(e){t.loadManifest().then(function(){new i.default(n).then(e);});}):new i.default(n);}}]),e;}();t.default=f;},function(e,t,n){var r=n(34),a=n(21),i=n(84);e.exports=function(e,t){var n=(a.Object||{})[e]||Object[e],o={};o[e]=t(n),r(r.S+r.F*i(function(){n(1);}),"Object",o);};},function(e,t,n){var r=n(94),a=n(97),i=n(67),o=n(143),s=n(68),u=n(192),c=Object.getOwnPropertyDescriptor;t.f=n(57)?c:function(e,t){if(e=i(e),t=o(t,!0),u)try{return c(e,t);}catch(e){}if(s(e,t))return a(!r.f.call(e,t),e[t]);};},function(e,t,n){var r=n(191),a=n(137).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,a);};},function(e,t,n){var r=n(24)("iterator"),a=!1;try{var i=[7][r]();i.return=function(){a=!0;},Array.from(i,function(){throw 2;});}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var i=[7],o=i[r]();o.next=function(){return{done:n=!0};},i[r]=function(){return o;},e(i);}catch(e){}return n;};},function(e,t,n){var r=n(45),a=n(58),i=n(132);e.exports=function(e,t){if(r(e),a(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise;};},function(e,t){e.exports=function(e){try{return{e:!1,v:e()};}catch(e){return{e:!0,v:e};}};},function(e,t,n){var r,a,i,o=n(85),s=n(304),u=n(184),c=n(144),l=n(25),f=l.process,p=l.setImmediate,h=l.clearImmediate,d=l.MessageChannel,m=l.Dispatch,g=0,y={},v=function v(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t();}},b=function b(e){v.call(e.data);};p&&h||(p=function p(e){for(var t=[],n=1;arguments.length>n;){t.push(arguments[n++]);}return y[++g]=function(){s("function"==typeof e?e:Function(e),t);},r(g),g;},h=function h(e){delete y[e];},"process"==n(96)(f)?r=function r(e){f.nextTick(o(v,e,1));}:m&&m.now?r=function r(e){m.now(o(v,e,1));}:d?(i=(a=new d()).port2,a.port1.onmessage=b,r=o(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function r(e){l.postMessage(e+"","*");},l.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),v.call(e);};}:function(e){setTimeout(o(v,e,1),0);}),e.exports={set:p,clear:h};},function(e,t,n){var r=n(45),a=n(106),i=n(24)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[i])?t:a(n);};},function(e,t,n){var r=n(81),a=n(24)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[a]===e);};},function(e,t,n){var r=n(45);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n);}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t;}};},function(e,t,n){var r=n(68),a=n(93),i=n(139)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null;};},function(e,t,n){var r=n(25).document;e.exports=r&&r.documentElement;},function(e,t,n){e.exports=n(69);},function(e,t,n){"use strict";var r=n(95),a=n(34),i=n(185),o=n(69),s=n(81),u=n(312),c=n(104),l=n(183),f=n(24)("iterator"),p=!([].keys&&"next"in[].keys()),h=function h(){return this;};e.exports=function(e,t,n,d,m,g,y){u(n,t,d);var v,b,w,x=function x(e){if(!p&&e in N)return N[e];switch(e){case"keys":case"values":return function(){return new n(this,e);};}return function(){return new n(this,e);};},k=t+" Iterator",O="values"==m,S=!1,N=e.prototype,E=N[f]||N["@@iterator"]||m&&N[m],I=E||x(m),T=m?O?x("entries"):I:void 0,A="Array"==t&&N.entries||E;if(A&&(w=l(A.call(new e())))!==Object.prototype&&w.next&&(c(w,k,!0),r||"function"==typeof w[f]||o(w,f,h)),O&&E&&"values"!==E.name&&(S=!0,I=function I(){return E.call(this);}),r&&!y||!p&&!S&&N[f]||o(N,f,I),s[t]=I,s[k]=h,m)if(v={values:O?I:x("values"),keys:g?I:x("keys"),entries:T},y)for(b in v){b in N||i(N,b,v[b]);}else a(a.P+a.F*(p||S),t,v);return v;};},function(e,t){},function(e,t,n){"use strict";e.exports=u;var r,a=n(65),i=a.LongBits,o=a.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len);}function u(e){this.buf=e,this.pos=0,this.len=e.length;}var c="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer");}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer");};function l(){var e=new i(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e;}for(;t<4;++t){if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;}if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t){if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e;}}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e;}throw Error("invalid varint encoding");}function f(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0;}function p(){if(this.pos+8>this.len)throw s(this,8);return new i(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4));}u.create=a.Buffer?function(e){return(u.create=function(e){return a.Buffer.isBuffer(e)?new r(e):c(e);})(e);}:c,u.prototype._slice=a.Array.prototype.subarray||a.Array.prototype.slice,u.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return e;};}(),u.prototype.int32=function(){return 0|this.uint32();},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0;},u.prototype.bool=function(){return 0!==this.uint32();},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return f(this.buf,this.pos+=4);},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|f(this.buf,this.pos+=4);},u.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=a.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e;},u.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=a.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e;},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n);},u.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length);},u.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e;}else do{if(this.pos>=this.len)throw s(this);}while(128&this.buf[this.pos++]);return this;},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());){this.skipType(e);}break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos);}return this;},u._configure=function(e){r=e;var t=a.Long?"toLong":"toNumber";a.merge(u.prototype,{int64:function int64(){return l.call(this)[t](!1);},uint64:function uint64(){return l.call(this)[t](!0);},sint64:function sint64(){return l.call(this).zzDecode()[t](!1);},fixed64:function fixed64(){return p.call(this)[t](!0);},sfixed64:function sfixed64(){return p.call(this)[t](!1);}});};},function(e,t,n){"use strict";e.exports=l;var r,a=n(65),i=a.LongBits,o=a.base64,s=a.utf8;function u(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n;}function c(){}function l(){this.len=0,this.head=new u(c,0,0),this.tail=this.head,this.states=null;}function f(e,t,n){t[n]=255&e;}function p(e,t){this.len=e,this.next=void 0,this.val=t;}function h(e,t,n){for(;e.hi;){t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;}for(;e.lo>127;){t[n++]=127&e.lo|128,e.lo=e.lo>>>7;}t[n++]=e.lo;}function d(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24;}l.create=a.Buffer?function(){return(l.create=function(){return new r();})();}:function(){return new l();},l.alloc=function(e){return new a.Array(e);},a.Array!==Array&&(l.alloc=a.pool(l.alloc,a.Array.prototype.subarray)),l.prototype._push=function(e,t,n){return this.tail=this.tail.next=new u(e,t,n),this.len+=t,this;},p.prototype=Object.create(u.prototype),p.prototype.fn=function(e,t,n){for(;e>127;){t[n++]=127&e|128,e>>>=7;}t[n]=e;},l.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this;},l.prototype.int32=function(e){return e<0?this._push(h,10,i.fromNumber(e)):this.uint32(e);},l.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0);},l.prototype.uint64=function(e){var t=i.from(e);return this._push(h,t.length(),t);},l.prototype.int64=l.prototype.uint64,l.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(h,t.length(),t);},l.prototype.bool=function(e){return this._push(f,1,e?1:0);},l.prototype.fixed32=function(e){return this._push(d,4,e>>>0);},l.prototype.sfixed32=l.prototype.fixed32,l.prototype.fixed64=function(e){var t=i.from(e);return this._push(d,4,t.lo)._push(d,4,t.hi);},l.prototype.sfixed64=l.prototype.fixed64,l.prototype.float=function(e){return this._push(a.float.writeFloatLE,4,e);},l.prototype.double=function(e){return this._push(a.float.writeDoubleLE,8,e);};var m=a.Array.prototype.set?function(e,t,n){t.set(e,n);}:function(e,t,n){for(var r=0;r<e.length;++r){t[n+r]=e[r];}};l.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(f,1,0);if(a.isString(e)){var n=l.alloc(t=o.length(e));o.decode(e,n,0),e=n;}return this.uint32(t)._push(m,t,e);},l.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(f,1,0);},l.prototype.fork=function(){return this.states=new function(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states;}(this),this.head=this.tail=new u(c,0,0),this.len=0,this;},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(c,0,0),this.len=0),this;},l.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this;},l.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;){e.fn(e.val,t,n),n+=e.len,e=e.next;}return t;},l._configure=function(e){r=e;};},function(e,t,n){var r=n(96);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e);};},function(e,t,n){var r=n(68),a=n(67),i=n(346)(!1),o=n(139)("IE_PROTO");e.exports=function(e,t){var n,s=a(e),u=0,c=[];for(n in s){n!=o&&r(s,n)&&c.push(n);}for(;t.length>u;){r(s,n=t[u++])&&(~i(c,n)||c.push(n));}return c;};},function(e,t,n){e.exports=!n(57)&&!n(84)(function(){return 7!=Object.defineProperty(n(144)("div"),"a",{get:function get(){return 7;}}).a;});},function(e,t){e.exports=Math.scale||function(e,t,n,r,a){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||a!=a?NaN:e===1/0||e===-1/0?e:(e-t)*(a-r)/(n-t)+r;};},function(e,t,n){var r=n(71);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n;};},function(e,t,n){var r=n(98),a=n(194);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return a(this);};};},function(e,t,n){var r=n(77),a=n(37),i=n(99).f;e.exports=function(e){return function(t){for(var n,o=a(t),s=r(o),u=s.length,c=0,l=[];u>c;){i.call(o,n=s[c++])&&l.push(e?[n,o[n]]:o[n]);}return l;};};},function(e,t,n){var r=n(17),a=n(162),i=n(49);e.exports=function(e,t,n,o){var s=String(i(e)),u=s.length,c=void 0===n?" ":String(n),l=r(t);if(l<=u||""==c)return s;var f=l-u,p=a.call(c,Math.ceil(f/c.length));return p.length>f&&(p=p.slice(0,f)),o?p+s:s+p;};},function(e,t,n){"use strict";var r=n(118),a=n(15),i=n(17),o=n(42),s=n(16)("isConcatSpreadable");e.exports=function e(t,n,u,c,l,f,p,h){for(var d,m,g=l,y=0,v=!!p&&o(p,h,3);y<c;){if(y in u){if(d=v?v(u[y],y,n):u[y],m=!1,a(d)&&(m=void 0!==(m=d[s])?!!m:r(d)),m&&f>0)g=e(t,n,d,i(d.length),g,f-1)-1;else{if(g>=9007199254740991)throw TypeError();t[g]=d;}g++;}y++;}return g;};},function(e,t,n){var r=n(74),a=n(119),i=n(12),o=n(13).Reflect;e.exports=o&&o.ownKeys||function(e){var t=r.f(i(e)),n=a.f;return n?t.concat(n(e)):t;};},function(e,t,n){var r=n(48),a=n(17);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=a(t);if(t!==n)throw RangeError("Wrong length!");return n;};},function(e,t,n){"use strict";var r=n(70),a=n(61).getWeak,i=n(12),o=n(15),s=n(72),u=n(71),c=n(46),l=n(38),f=n(86),p=c(5),h=c(6),d=0,m=function m(e){return e._l||(e._l=new g());},g=function g(){this.a=[];},y=function y(e,t){return p(e.a,function(e){return e[0]===t;});};g.prototype={get:function get(e){var t=y(this,e);if(t)return t[1];},has:function has(e){return!!y(this,e);},set:function set(e,t){var n=y(this,e);n?n[1]=t:this.a.push([e,t]);},delete:function _delete(e){var t=h(this.a,function(t){return t[0]===e;});return~t&&this.a.splice(t,1),!!~t;}},e.exports={getConstructor:function getConstructor(e,t,n,i){var c=e(function(e,r){s(e,c,t,"_i"),e._t=t,e._i=d++,e._l=void 0,void 0!=r&&u(r,n,e[i],e);});return r(c.prototype,{delete:function _delete(e){if(!o(e))return!1;var n=a(e);return!0===n?m(f(this,t)).delete(e):n&&l(n,this._i)&&delete n[this._i];},has:function has(e){if(!o(e))return!1;var n=a(e);return!0===n?m(f(this,t)).has(e):n&&l(n,this._i);}}),c;},def:function def(e,t,n){var r=a(i(t),!0);return!0===r?m(e).set(t,n):r[e._i]=n,e;},ufstore:m};},function(e,t,n){"use strict";var r,a=n(46)(0),i=n(27),o=n(61),s=n(221),u=n(201),c=n(15),l=n(14),f=n(86),p=o.getWeak,h=Object.isExtensible,d=u.ufstore,m={},g=function g(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0);};},y={get:function get(e){if(c(e)){var t=p(e);return!0===t?d(f(this,"WeakMap")).get(e):t?t[this._i]:void 0;}},set:function set(e,t){return u.def(f(this,"WeakMap"),e,t);}},v=e.exports=n(111)("WeakMap",g,y,u,!0,!0);l(function(){return 7!=new v().set((Object.freeze||Object)(m),7).get(m);})&&(s((r=u.getConstructor(g,"WeakMap")).prototype,y),o.NEED=!0,a(["delete","has","get","set"],function(e){var t=v.prototype,n=t[e];i(t,e,function(t,a){if(c(t)&&!h(t)){this._f||(this._f=new r());var i=this._f[e](t,a);return"set"==e?this:i;}return n.call(this,t,a);});}));},function(e,t,n){"use strict";var r=n(204),a=n(86);e.exports=n(111)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0);};},{add:function add(e){return r.def(a(this,"Set"),e=0===e?0:e,e);}},r);},function(e,t,n){"use strict";var r=n(18).f,a=n(75),i=n(70),o=n(42),s=n(72),u=n(71),c=n(158),l=n(209),f=n(73),p=n(19),h=n(61).fastKey,d=n(86),m=p?"_s":"size",g=function g(e,t){var n,r=h(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n){if(n.k==t)return n;}};e.exports={getConstructor:function getConstructor(e,t,n,c){var l=e(function(e,r){s(e,l,t,"_i"),e._t=t,e._i=a(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=r&&u(r,n,e[c],e);});return i(l.prototype,{clear:function clear(){for(var e=d(this,t),n=e._i,r=e._f;r;r=r.n){r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];}e._f=e._l=void 0,e[m]=0;},delete:function _delete(e){var n=d(this,t),r=g(n,e);if(r){var a=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=a),a&&(a.p=i),n._f==r&&(n._f=a),n._l==r&&(n._l=i),n[m]--;}return!!r;},forEach:function forEach(e){d(this,t);for(var n,r=o(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;){for(r(n.v,n.k,this);n&&n.r;){n=n.p;}}},has:function has(e){return!!g(d(this,t),e);}}),p&&r(l.prototype,"size",{get:function get(){return d(this,t)[m];}}),l;},def:function def(e,t,n){var r,a,i=g(e,t);return i?i.v=n:(e._l=i={i:a=h(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=i),r&&(r.n=i),e[m]++,"F"!==a&&(e._i[a]=i)),e;},getEntry:g,setStrong:function setStrong(e,t,n){c(e,t,function(e,n){this._t=d(e,t),this._k=n,this._l=void 0;},function(){for(var e=this._k,t=this._l;t&&t.r;){t=t.p;}return this._t&&(this._l=t=t?t.n:this._t._f)?l(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,l(1));},n?"entries":"values",!n,!0),f(t);}};},function(e,t,n){"use strict";var r=n(204),a=n(86);e.exports=n(111)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0);};},{get:function get(e){var t=r.getEntry(a(this,"Map"),e);return t&&t.v;},set:function set(e,t){return r.def(a(this,"Map"),0===e?0:e,t);}},r,!0);},function(e,t,n){var r=n(12),a=n(15),i=n(146);e.exports=function(e,t){if(r(e),a(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise;};},function(e,t){e.exports=function(e){try{return{e:!1,v:e()};}catch(e){return{e:!0,v:e};}};},function(e,t,n){n(19)&&"g"!=/./g.flags&&n(18).f(RegExp.prototype,"flags",{configurable:!0,get:n(115)});},function(e,t){e.exports=function(e,t){return{value:t,done:!!e};};},function(e,t,n){"use strict";var r=n(22),a=n(76),i=n(17);e.exports=[].copyWithin||function(e,t){var n=r(this),o=i(n.length),s=a(e,o),u=a(t,o),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?o:a(c,o))-u,o-s),f=1;for(u<s&&s<u+l&&(f=-1,u+=l-1,s+=l-1);l-->0;){u in n?n[s]=n[u]:delete n[s],s+=f,u+=f;}return n;};},function(e,t,n){var r=n(23),a=n(22),i=n(100),o=n(17);e.exports=function(e,t,n,s,u){r(t);var c=a(e),l=i(c),f=o(c.length),p=u?f-1:0,h=u?-1:1;if(n<2)for(;;){if(p in l){s=l[p],p+=h;break;}if(p+=h,u?p<0:f<=p)throw TypeError("Reduce of empty array with no initial value");}for(;u?p>=0:f>p;p+=h){p in l&&(s=t(s,l[p],p,c));}return s;};},function(e,t,n){var r=n(12);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n);}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t;}};},function(e,t,n){var r=n(161),a=Math.pow,i=a(2,-52),o=a(2,-23),s=a(2,127)*(2-o),u=a(2,-126);e.exports=Math.fround||function(e){var t,n,a=Math.abs(e),c=r(e);return a<u?c*(a/u/o+1/i-1/i)*u*o:(n=(t=(1+o/i)*a)-(t-a))>s||n!=n?c*(1/0):c*n;};},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e);};},function(e,t,n){var r=n(15),a=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&a(e)===e;};},function(e,t,n){var r=n(41);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e;};},function(e,t,n){var r=n(13).parseFloat,a=n(88).trim;e.exports=1/r(n(164)+"-0")!=-1/0?function(e){var t=a(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n;}:r;},function(e,t,n){var r=n(13).parseInt,a=n(88).trim,i=n(164),o=/^[-+]?0[xX]/;e.exports=8!==r(i+"08")||22!==r(i+"0x16")?function(e,t){var n=a(String(e),3);return r(n,t>>>0||(o.test(n)?16:10));}:r;},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3]);}return e.apply(n,t);};},function(e,t,n){"use strict";var r=n(23),a=n(15),i=n(219),o=[].slice,s={};e.exports=Function.bind||function(e){var t=r(this),n=o.call(arguments,1),u=function u(){var r=n.concat(o.call(arguments));return this instanceof u?function(e,t,n){if(!(t in s)){for(var r=[],a=0;a<t;a++){r[a]="a["+a+"]";}s[t]=Function("F,a","return new F("+r.join(",")+")");}return s[t](e,n);}(t,r.length,r):i(t,r,e);};return a(t.prototype)&&(u.prototype=t.prototype),u;};},function(e,t,n){"use strict";var r=n(77),a=n(119),i=n(99),o=n(22),s=n(100),u=Object.assign;e.exports=!u||n(14)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e;}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r;})?function(e,t){for(var n=o(e),u=arguments.length,c=1,l=a.f,f=i.f;u>c;){for(var p,h=s(arguments[c++]),d=l?r(h).concat(l(h)):r(h),m=d.length,g=0;m>g;){f.call(h,p=d[g++])&&(n[p]=h[p]);}}return n;}:u;},function(e,t,n){var r=n(37),a=n(74).f,i={}.toString,o="object"==(typeof window==="undefined"?"undefined":_typeof(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==i.call(e)?function(e){try{return a(e);}catch(e){return o.slice();}}(e):a(r(e));};},function(e,t,n){var r=n(18),a=n(12),i=n(77);e.exports=n(19)?Object.defineProperties:function(e,t){a(e);for(var n,o=i(t),s=o.length,u=0;s>u;){r.f(e,n=o[u++],t[n]);}return e;};},function(e,t,n){var r=n(38),a=n(37),i=n(120)(!1),o=n(168)("IE_PROTO");e.exports=function(e,t){var n,s=a(e),u=0,c=[];for(n in s){n!=o&&r(s,n)&&c.push(n);}for(;t.length>u;){r(s,n=t[u++])&&(~i(c,n)||c.push(n));}return c;};},function(e,t,n){t.f=n(16);},function(e,t,n){e.exports=!n(19)&&!n(14)(function(){return 7!=Object.defineProperty(n(170)("div"),"a",{get:function get(){return 7;}}).a;});},function(e,t,n){"use strict";var r=n(3),a=n(7),i=n(1),o=n(0),s=function(){function e(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new u());}return e.prototype.profileKernel=function(e,t){var n,r=this,a=this.backendTimer.time(function(){n=t();}),i=n.dataSync();return o.checkForNaN(i,n.dtype,e),a.then(function(t){r.logger.logKernelProfile(e,n,i,t.kernelMs);}),n;},e;}(),u=function(){function e(){}return e.prototype.logKernelProfile=function(e,t,n,r){var a=o.rightPad(r+"ms",9),i=o.rightPad(e,25),s=t.rank,u=t.size,c=o.rightPad(t.shape.toString(),14);console.log("%c"+i+"\t%c"+a+"\t%c"+s+"D "+c+"\t%c"+u,"font-weight:bold","color:red","color:blue","color: orange");},e;}(),c=n(6);n.d(t,"a",function(){return l;});var l=function(){function e(e,t){this.backend=e,this.safeMode=t,this.registeredVariables={},this.refCounter=new WeakMap(),this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numDataBuffers=0,this.gradientScopeCount=0,this.customGradientDepth=0,this.activeScope={keep:[],track:[]},this.scopeStack=[this.activeScope],this.profiler=new s(e);}return e.prototype.runKernel=function(e,t,n){var a,i=this,o=[],s=function s(e){return o.push(e),e;},u=this.activeScope.name;if(this.customGradientDepth++,a=r.ENV.get("DEBUG")?this.profiler.profileKernel(u,function(){return e(i.backend,s);}):e(this.backend,s),this.customGradientDepth--,this.shouldRecord()){var c={id:this.nextTapeNodeId++,name:u,inputs:t,output:a};null!=n&&(c.gradient=function(e){return n(e,o);}),this.activeTape.push(c);}return a;},e.prototype.registerTensor=function(e){var t=this.refCounter.has(e.dataId)?this.refCounter.get(e.dataId):0;this.numTensors++,0===t&&(this.numDataBuffers++,this.numBytes+=o.sizeFromShape(e.shape)*o.bytesPerElement(e.dtype),this.backend.register(e.dataId,e.shape,e.dtype)),this.refCounter.set(e.dataId,t+1),e instanceof c.c||this.track(e);},e.prototype.registerVariable=function(e){if(null!=this.registeredVariables[e.name])throw new Error("Variable with name "+e.name+" was already registered");this.registeredVariables[e.name]=e;},e.prototype.disposeTensor=function(e){if(this.refCounter.has(e.dataId)){this.numTensors--;var t=this.refCounter.get(e.dataId);t<=1?(this.refCounter.delete(e.dataId),this.backend.disposeData(e.dataId),this.numDataBuffers--,this.numBytes-=o.sizeFromShape(e.shape)*o.bytesPerElement(e.dtype)):this.refCounter.set(e.dataId,t-1);}},e.prototype.disposeVariables=function(){for(var e in this.registeredVariables){var t=this.registeredVariables[e];this.disposeTensor(t),delete this.registeredVariables[e];}},e.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.numTensors,e.numDataBuffers=this.numDataBuffers,e.numBytes=this.numBytes,e;},e.prototype.shouldRecord=function(){return null!=this.activeTape&&0===this.customGradientDepth;},e.prototype.addTapeNode=function(e,t,n){var r={};e.forEach(function(e,t){r[t]=e;});var a={id:this.nextTapeNodeId++,name:this.activeScope.name,inputs:r,output:t,gradient:function gradient(e){var t={};return n(e).forEach(function(e,n){t[n]=function(){return e;};}),t;}};this.activeTape.push(a);},e.prototype.keep=function(e){if(1===this.scopeStack.length&&r.ENV.engine.safeMode)throw new Error("Safe mode is ON. Enclose all tensor operations inside tf.tidy(): tf.tidy(() => {...}) to avoid memory leaks.");return this.activeScope.keep.push(e),e;},e.prototype.startScope=function(e,t){void 0===t&&(t=!1),t&&0===this.gradientScopeCount&&(this.activeTape=[]),t&&this.gradientScopeCount++;var n={keep:[],track:[]};e&&(n.name=e),this.scopeStack.push(n),this.activeScope=n;},e.prototype.endScope=function(e,t){var n=this;void 0===t&&(t=!1),t&&(this.gradientScopeCount--,0===this.gradientScopeCount&&(this.activeTape=null));var r=this.activeScope.keep,a=o.extractTensorsFromContainer(e);r=r.concat(a);for(var i=0;i<this.activeScope.track.length;i++){var s=this.activeScope.track[i];o.isTensorInList(s,r)||(null!=this.activeTape?a.push(s):s.dispose());}this.scopeStack.pop(),this.activeScope=0===this.scopeStack.length?{keep:[],track:[]}:this.scopeStack[this.scopeStack.length-1],a.forEach(function(e){o.isTensorInList(e,n.activeScope.keep)||n.track(e);});},e.prototype.dispose=function(){},e.prototype.gradients=function(e,t,n,r){var s=this;return void 0===r&&(r=!1),o.assert(t.length>0,"gradients() received an empty list of xs."),Object(a.f)("gradients",function(){var a=e();o.assert(a instanceof c.a,"The result y returned by f() must be a tensor.");var u=function(e,t,n){for(var r={},a={},i=0;i<t.length;i++){r[t[i].id]=!0;}for(i=0;i<e.length;i++){var o=(m=e[i]).inputs;for(var s in o){for(var u=o[s],c=!1,l=0;l<t.length;l++){if(r[u.id]){r[m.output.id]=!0,c=!0,a[m.id]=!0;break;}}if(c)break;}}var f={};f[n.id]=!0;var p={};for(i=e.length-1;i>=0;i--){o=(m=e[i]).inputs;var h=[];for(h.push(m.output),l=0;l<h.length;l++){if(f[h[l].id]){for(var s in o){f[o[s].id]=!0,p[m.id]=!0;}break;}}}var d=[];for(i=0;i<e.length;i++){var m;if(a[(m=e[i]).id]&&p[m.id]){var g={};for(var s in m.inputs){var y=m.inputs[s];r[y.id]&&(g[s]=y);}var v=Object.assign({},m);v.inputs=g,v.output=m.output,d.push(v);}}return d;}(s.activeTape,t,a);if(!r&&0===u.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");var l={};return l[a.id]=null==n?i.rb(a.shape):n,function(e,t){for(var n=t.length-1;n>=0;n--){var r=t[n],a=e[r.output.id];if(null==r.gradient)throw new Error("Cannot compute gradient: gradient function not found for "+r.name+".");var i=r.gradient(a);for(var s in r.inputs){if(!(s in i))throw new Error("Cannot backprop through input "+s+". Available gradients found: "+Object.keys(i)+".");var u=i[s](),c=r.inputs[s];if(!o.arraysEqual(u.shape,c.shape))throw new Error("Error in gradient for op "+r.name+". The gradient of input '"+s+"' has shape '"+u.shape+"', which does not match the shape of the input '"+c.shape+"'");if(null==e[c.id])e[c.id]=u;else{var l=e[c.id];e[c.id]=l.add(u),l.dispose();}}}}(l,u),{value:a,grads:t.map(function(e){return l[e.id];})};},!0);},e.prototype.customGrad=function(e){var t=this;return o.assert(o.isFunction(e),"The f passed in customGrad(f) must be a function."),function(){for(var n,r=[],i=0;i<arguments.length;i++){r[i]=arguments[i];}o.assert(r.every(function(e){return e instanceof c.a;}),"The args passed in customGrad(f)(x1, x2,...) must all be tensors"),t.customGradientDepth++;var s=Object(a.f)(e.name,function(){var t=e.apply(void 0,r),a=t.value,i=t.gradFunc;return o.assert(a instanceof c.a,"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),o.assert(o.isFunction(i),"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),n=i,a;},!0);return t.customGradientDepth--,t.shouldRecord()&&t.addTapeNode(r,s,function(e){var t=n(e),a=Array.isArray(t)?t:[t];return o.assert(a.length===r.length,"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),o.assert(a.every(function(e){return e instanceof c.a;}),"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."),a;}),s;};},e.prototype.write=function(e,t){this.backend.write(e,t);},e.prototype.readSync=function(e){return this.backend.readSync(e);},e.prototype.read=function(e){return this.backend.read(e);},e.prototype.fromPixels=function(e,t){return this.backend.fromPixels(e,t);},e.prototype.time=function(e){return function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{u(r.next(e));}catch(e){i(e);}}function s(e){try{u(r.throw(e));}catch(e){i(e);}}function u(e){e.done?a(e.value):new n(function(t){t(e.value);}).then(o,s);}u((r=r.apply(e,t||[])).next());});}(this,void 0,void 0,function(){var t,n;return function(e,t){var n,r,a,i,o={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1];},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this;}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;){try{if(n=1,r&&(a=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[0,a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue;}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break;}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break;}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break;}a[2]&&o.ops.pop(),o.trys.pop();continue;}i=t.call(e,o);}catch(e){i=[6,e],r=0;}finally{n=a=0;}}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0};}([i,s]);};}}(this,function(r){switch(r.label){case 0:return t=performance.now(),[4,this.backend.time(e)];case 1:return(n=r.sent()).wallMs=performance.now()-t,[2,n];}});});},e.prototype.track=function(e){if(1===this.scopeStack.length&&this.safeMode)throw new Error("Safe mode is ON. Enclose all tensor operations inside tf.tidy(): tf.tidy(() => {op();...}); to avoid memory leaks.");return this.activeScope.track.push(e),e;},e;}();},function(e){e.exports=[{tfOpName:"Cast",dlOpName:"cast",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"SrcT",dlParamName:"sdtype",type:"dtype",notSupported:!0},{tfParamName:"DstT",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",dlOpName:"expandDims",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,tfParamNameDeprecated:"dim",dlParamName:"axis",type:"number"}]},{tfOpName:"Pad",dlOpName:"pad",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"padding",type:"number[]"},{tfParamName:"constant_value",dlParamName:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",dlOpName:"pad",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"padding",type:"number[]"},{tfInputIndex:2,dlParamName:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",dlOpName:"reshape",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"shape",type:"number[]"}]},{tfOpName:"Squeeze",dlOpName:"squeeze",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"axis",tfParamNameDeprecated:"squeeze_dims",dlParamName:"axis",type:"number[]"}]}];},function(e){e.exports=[{tfOpName:"ConcatV2",dlOpName:"concat",category:"slice_join",params:[{tfInputIndex:0,tfInputParamLength:1,dlParamName:"tensors",type:"tensors"},{tfInputIndex:-1,dlParamName:"axis",type:"number"}]},{tfOpName:"Concat",dlOpName:"concat",category:"slice_join",params:[{tfInputIndex:1,tfInputParamLength:1,dlParamName:"tensors",type:"tensors"},{tfInputIndex:0,dlParamName:"axis",type:"number"}]},{tfOpName:"GatherV2",dlOpName:"gather",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"indices",type:"tensor"},{tfParamName:"axis",dlParamName:"axis",type:"number",defaultValue:0}]},{tfOpName:"Gather",dlOpName:"gather",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"indices",type:"tensor"},{tfParamName:"axis",dlParamName:"axis",type:"number",defaultValue:0},{tfParamName:"validate_indices",dlParamName:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",dlOpName:"reverse",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number"}]},{tfOpName:"ReverseV2",dlOpName:"reverse",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number"}]},{tfOpName:"Slice",dlOpName:"slice",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"begin",type:"number[]"},{tfInputIndex:2,dlParamName:"size",type:"number[]"}]},{tfOpName:"StridedSlice",dlOpName:"stridedSlice",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"begin",type:"number[]"},{tfInputIndex:2,dlParamName:"end",type:"number[]"},{tfInputIndex:3,dlParamName:"strides",type:"number[]"},{tfParamName:"begin_mask",dlParamName:"beginMask",type:"number",defaultValue:0},{tfParamName:"end_mask",dlParamName:"endMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",dlOpName:"stack",category:"slice_join",params:[{tfInputIndex:0,tfInputParamLength:0,dlParamName:"tensors",type:"tensors"},{tfParamName:"axis",dlParamName:"axis",type:"number",defaultValue:0}]},{tfOpName:"Tile",dlOpName:"tile",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"reps",type:"number[]"}]},{tfOpName:"Split",dlOpName:"split",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"axis",type:"number",defaultValue:0},{tfInputIndex:1,dlParamName:"x",type:"tensor"},{tfParamName:"num_split",dlParamName:"numOrSizeSplits",type:"number",defaultValue:1}]}];},function(e){e.exports=[{tfOpName:"Max",dlOpName:"max",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"Mean",dlOpName:"mean",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"Min",dlOpName:"min",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"Sum",dlOpName:"sum",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",dlOpName:"argMax",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number"}]},{tfOpName:"ArgMin",dlOpName:"argMin",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number"}]}];},function(e){e.exports=[{tfOpName:"FusedBatchNorm",dlOpName:"batchNormalization",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"scale",type:"tensor"},{tfInputIndex:2,dlParamName:"offset",type:"tensor"},{tfInputIndex:3,dlParamName:"mean",type:"tensor"},{tfInputIndex:4,dlParamName:"variance",type:"tensor"},{tfParamName:"epsilon",dlParamName:"epsilon",type:"number",defaultValue:.001},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",dlOpName:"batchNormalization",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"scale",type:"tensor"},{tfInputIndex:2,dlParamName:"offset",type:"tensor"},{tfInputIndex:3,dlParamName:"mean",type:"tensor"},{tfInputIndex:4,dlParamName:"variance",type:"tensor"},{tfParamName:"epsilon",dlParamName:"epsilon",type:"number",defaultValue:.001},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",dlOpName:"localResponseNormalization",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"depth_radius",dlParamName:"radius",type:"number",defaultValue:5},{tfParamName:"bias",dlParamName:"bias",type:"number",defaultValue:1},{tfParamName:"alpha",dlParamName:"alpha",type:"number",defaultValue:1},{tfParamName:"beta",dlParamName:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",dlOpName:"softmax",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]}];},function(e){e.exports=[{tfOpName:"MatMul",dlOpName:"matMul",category:"matrices",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"transpose_a",dlParamName:"transposeA",type:"bool",defaultValue:!1},{tfParamName:"transpose_b",dlParamName:"transposeB",type:"bool",defaultValue:!1},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",dlOpName:"transpose",category:"matrices",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"perm",dlParamName:"perm",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}];},function(e){e.exports=[{tfOpName:"Equal",dlOpName:"equal",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",dlOpName:"notEqual",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",dlOpName:"greater",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",dlOpName:"greaterEqual",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",dlOpName:"less",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",dlOpName:"lessEqual",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",dlOpName:"logicalAnd",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",dlOpName:"logicalNot",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",dlOpName:"logicalOr",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",dlOpName:"where",category:"logical",params:[{tfInputIndex:0,dlParamName:"condition",type:"tensor"},{tfInputIndex:1,dlParamName:"a",type:"tensor"},{tfInputIndex:2,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}];},function(e){e.exports=[{tfOpName:"ResizeBilinear",dlOpName:"resizeBilinear",category:"image",params:[{tfInputIndex:0,dlParamName:"images",type:"tensor"},{tfInputIndex:1,dlParamName:"size",type:"number[]"},{tfParamName:"align_corners",dlParamName:"alignCorners",type:"bool"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",dlOpName:"resizeNearestNeighbor",category:"image",params:[{tfInputIndex:0,dlParamName:"images",type:"tensor"},{tfInputIndex:1,dlParamName:"size",type:"number[]"},{tfParamName:"align_corners",dlParamName:"alignCorners",type:"bool"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}];},function(e){e.exports=[{tfOpName:"PlaceholderWithDefault",dlOpName:"placeholder",category:"graph",params:[{tfInputIndex:0,dlParamName:"default",type:"tensor"}]},{tfOpName:"Placeholder",dlOpName:"placeholder",category:"graph"},{tfOpName:"Const",dlOpName:"const",category:"graph"},{tfOpName:"Identity",dlOpName:"identity",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Snapshot",dlOpName:"snapshot",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Shape",dlOpName:"shape",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Print",dlOpName:"print",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,tfInputParamLength:1,dlParamName:"data",type:"tensors"},{tfParamName:"message",dlParamName:"message",type:"string"},{tfParamName:"first_n",dlParamName:"firstN",type:"number",notSupprted:!0},{tfParamName:"summarize",dlParamName:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",dlOpName:"noop",category:"graph",params:[]},{tfOpName:"StopGradient",dlOpName:"stopGradient",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",dlOpName:"fakeQuantWithMinMaxVars",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"min",dlParamName:"min",type:"number"},{tfParamName:"max",dlParamName:"max",type:"number"}]}];},function(e){e.exports=[{tfOpName:"Fill",dlOpName:"fill",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfInputIndex:1,dlParamName:"value",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LinSpace",dlOpName:"linspace",category:"creation",params:[{tfInputIndex:0,dlParamName:"start",type:"number"},{tfInputIndex:1,dlParamName:"stop",type:"number"},{tfInputIndex:2,dlParamName:"num",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",dlOpName:"oneHot",category:"creation",params:[{tfInputIndex:0,dlParamName:"indices",type:"tensor"},{tfInputIndex:1,dlParamName:"depth",type:"number"},{tfInputIndex:2,dlParamName:"onValue",type:"number",defaultValue:1},{tfInputIndex:3,dlParamName:"offValue",type:"number",defaultValue:0},{tfParamName:"axis",dlParamName:"axis",type:"number",notSupported:!0},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",dlOpName:"ones",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",dlOpName:"onesLike",category:"creation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",dlOpName:"randomUniform",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"minval",dlParamName:"minval",type:"number",defaultValue:0},{tfParamName:"maxval",dlParamName:"maxval",type:"number",defaultValue:1},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"seed",dlParamName:"seed",type:"number",defaultValue:0},{tfParamName:"seed2",dlParamName:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfParamName:"T",dlParamName:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",dlOpName:"range",category:"creation",params:[{tfInputIndex:0,dlParamName:"start",type:"number"},{tfInputIndex:1,dlParamName:"stop",type:"number"},{tfInputIndex:2,dlParamName:"step",type:"number",defaultValue:0},{tfParamName:"Tidx",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"truncatedNormal",dlOpName:"truncatedNormal",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"means",dlParamName:"mean",type:"number",defaultValue:0},{tfParamName:"stddev",dlParamName:"stdDev",type:"number",defaultValue:1},{tfParamName:"seed",dlParamName:"seed",type:"number"},{tfParamName:"seed2",dlParamName:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"T",dlParamName:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",dlOpName:"zeros",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",dlOpName:"zerosLike",category:"creation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]}];},function(e){e.exports=[{tfOpName:"AvgPool",dlOpName:"avgPool",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0},{tfParamName:"ksize",dlParamName:"kernelSize",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",dlOpName:"maxPool",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0},{tfParamName:"ksize",dlParamName:"kernelSize",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",dlOpName:"conv1d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"stride",dlParamName:"stride",type:"number"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NWC"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0},{tfParamName:"dilation",dlParamName:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",dlOpName:"conv2d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"useCudnnOnGpu",dlParamName:"useCudnnOnGpu",type:"bool"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NHWC"},{tfParamName:"dilations",dlParamName:"dilations",type:"number[]"}]},{tfOpName:"Conv2DBackpropInput",dlOpName:"conv2dTranspose",category:"convolution",params:[{tfInputIndex:2,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfInputIndex:0,dlParamName:"outputShape",type:"number[]"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",dlOpName:"depthwiseConv2d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"input",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NHWC"},{tfParamName:"dilations",dlParamName:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",dlOpName:"depthwiseConv2d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"input",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NHWC"},{tfParamName:"dilations",dlParamName:"dilations",type:"number[]"}]}];},function(e){e.exports=[{tfOpName:"LoopCond",dlOpName:"loopCond",category:"control",params:[{tfInputIndex:0,dlParamName:"pred",type:"tensor"}]},{tfOpName:"Switch",dlOpName:"switch",category:"control",params:[{tfInputIndex:0,dlParamName:"data",type:"tensor"},{tfInputIndex:1,dlParamName:"pred",type:"tensor"}]},{tfOpName:"Merge",dlOpName:"merge",category:"control",params:[{tfInputIndex:0,tfInputParamLength:0,dlParamName:"tensors",type:"tensors"}]},{tfOpName:"Enter",dlOpName:"enter",category:"control",params:[{tfInputIndex:0,dlParamName:"tensor",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0},{tfParamName:"frame_name",dlParamName:"frameName",type:"string"},{tfParamName:"is_constant",dlParamName:"isConstant",type:"bool"}]},{tfOpName:"Exit",dlOpName:"exit",category:"control",params:[{tfInputIndex:0,dlParamName:"tensor",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",dlOpName:"nextIteration",category:"control",params:[{tfInputIndex:0,dlParamName:"tensor",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}];},function(e){e.exports=[{tfOpName:"Abs",dlOpName:"abs",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",dlOpName:"acos",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",dlOpName:"asin",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"atan",dlOpName:"atan",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",dlOpName:"ceil",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",dlOpName:"clipByValue",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"clip_value_min",dlParamName:"clipValueMin",type:"number"},{tfParamName:"clip_value_max",dlParamName:"clipValueMax",type:"number"}]},{tfOpName:"Cos",dlOpName:"cos",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",dlOpName:"cosh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",dlOpName:"elu",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",dlOpName:"exp",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",dlOpName:"floor",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",dlOpName:"log",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",dlOpName:"neg",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",dlOpName:"relu",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",dlOpName:"clipByValue",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0},{dlParamName:"clipValueMin",type:"number",defaultValue:0},{dlParamName:"clipValueMax",type:"number",defaultValue:6}]},{tfOpName:"Selu",dlOpName:"selu",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",dlOpName:"sigmoid",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",dlOpName:"sin",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",dlOpName:"sinh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",dlOpName:"sqrt",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",dlOpName:"rsqrt",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",dlOpName:"square",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",dlOpName:"tan",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",dlOpName:"tanh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",dlOpName:"sign",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",dlOpName:"round",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",dlOpName:"expm1",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",dlOpName:"log1p",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",dlOpName:"reciprocal",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",dlOpName:"reciprocal",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",dlOpName:"softplus",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",dlOpName:"asinh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",dlOpName:"acosh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",dlOpName:"atanh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",dlOpName:"erf",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}];},function(e){e.exports=[{tfOpName:"Add",dlOpName:"add",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BiasAdd",dlOpName:"add",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sub",dlOpName:"sub",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",dlOpName:"div",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",dlOpName:"div",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",dlOpName:"mul",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",dlOpName:"maximum",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"}]},{tfOpName:"Minimum",dlOpName:"minimum",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"}]},{tfOpName:"Pow",dlOpName:"pow",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",dlOpName:"squaredDifference",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",dlOpName:"mod",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}];},function(e,t,n){"use strict";function r(){var e=navigator.userAgent||navigator.vendor||window.opera;return /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4));}n.d(t,"a",function(){return r;});},function(e,t,n){"use strict";n.r(t);var r=n(10),a={0:"tench, Tinca tinca",1:"goldfish, Carassius auratus",2:"great white shark, white shark, man-eater, man-eating shark, Carcharodon carcharias",3:"tiger shark, Galeocerdo cuvieri",4:"hammerhead, hammerhead shark",5:"electric ray, crampfish, numbfish, torpedo",6:"stingray",7:"cock",8:"hen",9:"ostrich, Struthio camelus",10:"brambling, Fringilla montifringilla",11:"goldfinch, Carduelis carduelis",12:"house finch, linnet, Carpodacus mexicanus",13:"junco, snowbird",14:"indigo bunting, indigo finch, indigo bird, Passerina cyanea",15:"robin, American robin, Turdus migratorius",16:"bulbul",17:"jay",18:"magpie",19:"chickadee",20:"water ouzel, dipper",21:"kite",22:"bald eagle, American eagle, Haliaeetus leucocephalus",23:"vulture",24:"great grey owl, great gray owl, Strix nebulosa",25:"European fire salamander, Salamandra salamandra",26:"common newt, Triturus vulgaris",27:"eft",28:"spotted salamander, Ambystoma maculatum",29:"axolotl, mud puppy, Ambystoma mexicanum",30:"bullfrog, Rana catesbeiana",31:"tree frog, tree-frog",32:"tailed frog, bell toad, ribbed toad, tailed toad, Ascaphus trui",33:"loggerhead, loggerhead turtle, Caretta caretta",34:"leatherback turtle, leatherback, leathery turtle, Dermochelys coriacea",35:"mud turtle",36:"terrapin",37:"box turtle, box tortoise",38:"banded gecko",39:"common iguana, iguana, Iguana iguana",40:"American chameleon, anole, Anolis carolinensis",41:"whiptail, whiptail lizard",42:"agama",43:"frilled lizard, Chlamydosaurus kingi",44:"alligator lizard",45:"Gila monster, Heloderma suspectum",46:"green lizard, Lacerta viridis",47:"African chameleon, Chamaeleo chamaeleon",48:"Komodo dragon, Komodo lizard, dragon lizard, giant lizard, Varanus komodoensis",49:"African crocodile, Nile crocodile, Crocodylus niloticus",50:"American alligator, Alligator mississipiensis",51:"triceratops",52:"thunder snake, worm snake, Carphophis amoenus",53:"ringneck snake, ring-necked snake, ring snake",54:"hognose snake, puff adder, sand viper",55:"green snake, grass snake",56:"king snake, kingsnake",57:"garter snake, grass snake",58:"water snake",59:"vine snake",60:"night snake, Hypsiglena torquata",61:"boa constrictor, Constrictor constrictor",62:"rock python, rock snake, Python sebae",63:"Indian cobra, Naja naja",64:"green mamba",65:"sea snake",66:"horned viper, cerastes, sand viper, horned asp, Cerastes cornutus",67:"diamondback, diamondback rattlesnake, Crotalus adamanteus",68:"sidewinder, horned rattlesnake, Crotalus cerastes",69:"trilobite",70:"harvestman, daddy longlegs, Phalangium opilio",71:"scorpion",72:"black and gold garden spider, Argiope aurantia",73:"barn spider, Araneus cavaticus",74:"garden spider, Aranea diademata",75:"black widow, Latrodectus mactans",76:"tarantula",77:"wolf spider, hunting spider",78:"tick",79:"centipede",80:"black grouse",81:"ptarmigan",82:"ruffed grouse, partridge, Bonasa umbellus",83:"prairie chicken, prairie grouse, prairie fowl",84:"peacock",85:"quail",86:"partridge",87:"African grey, African gray, Psittacus erithacus",88:"macaw",89:"sulphur-crested cockatoo, Kakatoe galerita, Cacatua galerita",90:"lorikeet",91:"coucal",92:"bee eater",93:"hornbill",94:"hummingbird",95:"jacamar",96:"toucan",97:"drake",98:"red-breasted merganser, Mergus serrator",99:"goose",100:"black swan, Cygnus atratus",101:"tusker",102:"echidna, spiny anteater, anteater",103:"platypus, duckbill, duckbilled platypus, duck-billed platypus, Ornithorhynchus anatinus",104:"wallaby, brush kangaroo",105:"koala, koala bear, kangaroo bear, native bear, Phascolarctos cinereus",106:"wombat",107:"jelly fish",108:"sea anemone, anemone",109:"brain coral",110:"flatworm, platyhelminth",111:"nematode, nematode worm, roundworm",112:"conch",113:"snail",114:"slug",115:"sea slug, nudibranch",116:"chiton, coat-of-mail shell, sea cradle, polyplacophore",117:"chambered nautilus, pearly nautilus, nautilus",118:"Dungeness crab, Cancer magister",119:"rock crab, Cancer irroratus",120:"fiddler crab",121:"king crab, Alaska crab, Alaskan king crab, Alaska king crab, Paralithodes camtschatica",122:"American lobster, Northern lobster, Maine lobster, Homarus americanus",123:"spiny lobster, langouste, rock lobster, crawfish, crayfish, sea crawfish",124:"crayfish, crawfish, crawdad, crawdaddy",125:"hermit crab",126:"isopod",127:"white stork, Ciconia ciconia",128:"black stork, Ciconia nigra",129:"spoonbill",130:"flamingo",131:"little blue heron, Egretta caerulea",132:"American egret, great white heron, Egretta albus",133:"bittern",134:"crane",135:"limpkin, Aramus pictus",136:"European gallinule, Porphyrio porphyrio",137:"American coot, marsh hen, mud hen, water hen, Fulica americana",138:"bustard",139:"ruddy turnstone, Arenaria interpres",140:"red-backed sandpiper, dunlin, Erolia alpina",141:"redshank, Tringa totanus",142:"dowitcher",143:"oystercatcher, oyster catcher",144:"pelican",145:"king penguin, Aptenodytes patagonica",146:"albatross, mollymawk",147:"grey whale, gray whale, devilfish, Eschrichtius gibbosus, Eschrichtius robustus",148:"killer whale, killer, orca, grampus, sea wolf, Orcinus orca",149:"dugong, Dugong dugon",150:"sea lion",151:"Chihuahua",152:"Japanese spaniel",153:"Maltese dog, Maltese terrier, Maltese",154:"Pekinese, Pekingese, Peke",155:"Shih-Tzu",156:"Blenheim spaniel",157:"papillon",158:"toy terrier",159:"Rhodesian ridgeback",160:"Afghan hound, Afghan",161:"basset, basset hound",162:"beagle",163:"bloodhound, sleuthhound",164:"bluetick",165:"black-and-tan coonhound",166:"Walker hound, Walker foxhound",167:"English foxhound",168:"redbone",169:"borzoi, Russian wolfhound",170:"Irish wolfhound",171:"Italian greyhound",172:"whippet",173:"Ibizan hound, Ibizan Podenco",174:"Norwegian elkhound, elkhound",175:"otterhound, otter hound",176:"Saluki, gazelle hound",177:"Scottish deerhound, deerhound",178:"Weimaraner",179:"Staffordshire bullterrier, Staffordshire bull terrier",180:"American Staffordshire terrier, Staffordshire terrier, American pit bull terrier, pit bull terrier",181:"Bedlington terrier",182:"Border terrier",183:"Kerry blue terrier",184:"Irish terrier",185:"Norfolk terrier",186:"Norwich terrier",187:"Yorkshire terrier",188:"wire-haired fox terrier",189:"Lakeland terrier",190:"Sealyham terrier, Sealyham",191:"Airedale, Airedale terrier",192:"cairn, cairn terrier",193:"Australian terrier",194:"Dandie Dinmont, Dandie Dinmont terrier",195:"Boston bull, Boston terrier",196:"miniature schnauzer",197:"giant schnauzer",198:"standard schnauzer",199:"Scotch terrier, Scottish terrier, Scottie",200:"Tibetan terrier, chrysanthemum dog",201:"silky terrier, Sydney silky",202:"soft-coated wheaten terrier",203:"West Highland white terrier",204:"Lhasa, Lhasa apso",205:"flat-coated retriever",206:"curly-coated retriever",207:"golden retriever",208:"Labrador retriever",209:"Chesapeake Bay retriever",210:"German short-haired pointer",211:"vizsla, Hungarian pointer",212:"English setter",213:"Irish setter, red setter",214:"Gordon setter",215:"Brittany spaniel",216:"clumber, clumber spaniel",217:"English springer, English springer spaniel",218:"Welsh springer spaniel",219:"cocker spaniel, English cocker spaniel, cocker",220:"Sussex spaniel",221:"Irish water spaniel",222:"kuvasz",223:"schipperke",224:"groenendael",225:"malinois",226:"briard",227:"kelpie",228:"komondor",229:"Old English sheepdog, bobtail",230:"Shetland sheepdog, Shetland sheep dog, Shetland",231:"collie",232:"Border collie",233:"Bouvier des Flandres, Bouviers des Flandres",234:"Rottweiler",235:"German shepherd, German shepherd dog, German police dog, alsatian",236:"Doberman, Doberman pinscher",237:"miniature pinscher",238:"Greater Swiss Mountain dog",239:"Bernese mountain dog",240:"Appenzeller",241:"EntleBucher",242:"boxer",243:"bull mastiff",244:"Tibetan mastiff",245:"French bulldog",246:"Great Dane",247:"Saint Bernard, St Bernard",248:"Eskimo dog, husky",249:"malamute, malemute, Alaskan malamute",250:"Siberian husky",251:"dalmatian, coach dog, carriage dog",252:"affenpinscher, monkey pinscher, monkey dog",253:"basenji",254:"pug, pug-dog",255:"Leonberg",256:"Newfoundland, Newfoundland dog",257:"Great Pyrenees",258:"Samoyed, Samoyede",259:"Pomeranian",260:"chow, chow chow",261:"keeshond",262:"Brabancon griffon",263:"Pembroke, Pembroke Welsh corgi",264:"Cardigan, Cardigan Welsh corgi",265:"toy poodle",266:"miniature poodle",267:"standard poodle",268:"Mexican hairless",269:"timber wolf, grey wolf, gray wolf, Canis lupus",270:"white wolf, Arctic wolf, Canis lupus tundrarum",271:"red wolf, maned wolf, Canis rufus, Canis niger",272:"coyote, prairie wolf, brush wolf, Canis latrans",273:"dingo, warrigal, warragal, Canis dingo",274:"dhole, Cuon alpinus",275:"African hunting dog, hyena dog, Cape hunting dog, Lycaon pictus",276:"hyena, hyaena",277:"red fox, Vulpes vulpes",278:"kit fox, Vulpes macrotis",279:"Arctic fox, white fox, Alopex lagopus",280:"grey fox, gray fox, Urocyon cinereoargenteus",281:"tabby, tabby cat",282:"tiger cat",283:"Persian cat",284:"Siamese cat, Siamese",285:"Egyptian cat",286:"cougar, puma, catamount, mountain lion, painter, panther, Felis concolor",287:"lynx, catamount",288:"leopard, Panthera pardus",289:"snow leopard, ounce, Panthera uncia",290:"jaguar, panther, Panthera onca, Felis onca",291:"lion, king of beasts, Panthera leo",292:"tiger, Panthera tigris",293:"cheetah, chetah, Acinonyx jubatus",294:"brown bear, bruin, Ursus arctos",295:"American black bear, black bear, Ursus americanus, Euarctos americanus",296:"ice bear, polar bear, Ursus Maritimus, Thalarctos maritimus",297:"sloth bear, Melursus ursinus, Ursus ursinus",298:"mongoose",299:"meerkat, mierkat",300:"tiger beetle",301:"ladybug, ladybeetle, lady beetle, ladybird, ladybird beetle",302:"ground beetle, carabid beetle",303:"long-horned beetle, longicorn, longicorn beetle",304:"leaf beetle, chrysomelid",305:"dung beetle",306:"rhinoceros beetle",307:"weevil",308:"fly",309:"bee",310:"ant, emmet, pismire",311:"grasshopper, hopper",312:"cricket",313:"walking stick, walkingstick, stick insect",314:"cockroach, roach",315:"mantis, mantid",316:"cicada, cicala",317:"leafhopper",318:"lacewing, lacewing fly",319:"dragonfly, darning needle, devil's darning needle, sewing needle, snake feeder, snake doctor, mosquito hawk, skeeter hawk",320:"damselfly",321:"admiral",322:"ringlet, ringlet butterfly",323:"monarch, monarch butterfly, milkweed butterfly, Danaus plexippus",324:"cabbage butterfly",325:"sulphur butterfly, sulfur butterfly",326:"lycaenid, lycaenid butterfly",327:"starfish, sea star",328:"sea urchin",329:"sea cucumber, holothurian",330:"wood rabbit, cottontail, cottontail rabbit",331:"hare",332:"Angora, Angora rabbit",333:"hamster",334:"porcupine, hedgehog",335:"fox squirrel, eastern fox squirrel, Sciurus niger",336:"marmot",337:"beaver",338:"guinea pig, Cavia cobaya",339:"sorrel",340:"zebra",341:"hog, pig, grunter, squealer, Sus scrofa",342:"wild boar, boar, Sus scrofa",343:"warthog",344:"hippopotamus, hippo, river horse, Hippopotamus amphibius",345:"ox",346:"water buffalo, water ox, Asiatic buffalo, Bubalus bubalis",347:"bison",348:"ram, tup",349:"bighorn, bighorn sheep, cimarron, Rocky Mountain bighorn, Rocky Mountain sheep, Ovis canadensis",350:"ibex, Capra ibex",351:"hartebeest",352:"impala, Aepyceros melampus",353:"gazelle",354:"Arabian camel, dromedary, Camelus dromedarius",355:"llama",356:"weasel",357:"mink",358:"polecat, fitch, foulmart, foumart, Mustela putorius",359:"black-footed ferret, ferret, Mustela nigripes",360:"otter",361:"skunk, polecat, wood pussy",362:"badger",363:"armadillo",364:"three-toed sloth, ai, Bradypus tridactylus",365:"orangutan, orang, orangutang, Pongo pygmaeus",366:"gorilla, Gorilla gorilla",367:"chimpanzee, chimp, Pan troglodytes",368:"gibbon, Hylobates lar",369:"siamang, Hylobates syndactylus, Symphalangus syndactylus",370:"guenon, guenon monkey",371:"patas, hussar monkey, Erythrocebus patas",372:"baboon",373:"macaque",374:"langur",375:"colobus, colobus monkey",376:"proboscis monkey, Nasalis larvatus",377:"marmoset",378:"capuchin, ringtail, Cebus capucinus",379:"howler monkey, howler",380:"titi, titi monkey",381:"spider monkey, Ateles geoffroyi",382:"squirrel monkey, Saimiri sciureus",383:"Madagascar cat, ring-tailed lemur, Lemur catta",384:"indri, indris, Indri indri, Indri brevicaudatus",385:"Indian elephant, Elephas maximus",386:"African elephant, Loxodonta africana",387:"lesser panda, red panda, panda, bear cat, cat bear, Ailurus fulgens",388:"giant panda, panda, panda bear, coon bear, Ailuropoda melanoleuca",389:"barracouta, snoek",390:"eel",391:"coho, cohoe, coho salmon, blue jack, silver salmon, Oncorhynchus kisutch",392:"rock beauty, Holocanthus tricolor",393:"anemone fish",394:"sturgeon",395:"gar, garfish, garpike, billfish, Lepisosteus osseus",396:"lionfish",397:"puffer, pufferfish, blowfish, globefish",398:"abacus",399:"abaya",400:"academic gown, academic robe, judge's robe",401:"accordion, piano accordion, squeeze box",402:"acoustic guitar",403:"aircraft carrier, carrier, flattop, attack aircraft carrier",404:"airliner",405:"airship, dirigible",406:"altar",407:"ambulance",408:"amphibian, amphibious vehicle",409:"analog clock",410:"apiary, bee house",411:"apron",412:"ashcan, trash can, garbage can, wastebin, ash bin, ash-bin, ashbin, dustbin, trash barrel, trash bin",413:"assault rifle, assault gun",414:"backpack, back pack, knapsack, packsack, rucksack, haversack",415:"bakery, bakeshop, bakehouse",416:"balance beam, beam",417:"balloon",418:"ballpoint, ballpoint pen, ballpen, Biro",419:"Band Aid",420:"banjo",421:"bannister, banister, balustrade, balusters, handrail",422:"barbell",423:"barber chair",424:"barbershop",425:"barn",426:"barometer",427:"barrel, cask",428:"barrow, garden cart, lawn cart, wheelbarrow",429:"baseball",430:"basketball",431:"bassinet",432:"bassoon",433:"bathing cap, swimming cap",434:"bath towel",435:"bathtub, bathing tub, bath, tub",436:"beach wagon, station wagon, wagon, estate car, beach waggon, station waggon, waggon",437:"beacon, lighthouse, beacon light, pharos",438:"beaker",439:"bearskin, busby, shako",440:"beer bottle",441:"beer glass",442:"bell cote, bell cot",443:"bib",444:"bicycle-built-for-two, tandem bicycle, tandem",445:"bikini, two-piece",446:"binder, ring-binder",447:"binoculars, field glasses, opera glasses",448:"birdhouse",449:"boathouse",450:"bobsled, bobsleigh, bob",451:"bolo tie, bolo, bola tie, bola",452:"bonnet, poke bonnet",453:"bookcase",454:"bookshop, bookstore, bookstall",455:"bottlecap",456:"bow",457:"bow tie, bow-tie, bowtie",458:"brass, memorial tablet, plaque",459:"brassiere, bra, bandeau",460:"breakwater, groin, groyne, mole, bulwark, seawall, jetty",461:"breastplate, aegis, egis",462:"broom",463:"bucket, pail",464:"buckle",465:"bulletproof vest",466:"bullet train, bullet",467:"butcher shop, meat market",468:"cab, hack, taxi, taxicab",469:"caldron, cauldron",470:"candle, taper, wax light",471:"cannon",472:"canoe",473:"can opener, tin opener",474:"cardigan",475:"car mirror",476:"carousel, carrousel, merry-go-round, roundabout, whirligig",477:"carpenter's kit, tool kit",478:"carton",479:"car wheel",480:"cash machine, cash dispenser, automated teller machine, automatic teller machine, automated teller, automatic teller, ATM",481:"cassette",482:"cassette player",483:"castle",484:"catamaran",485:"CD player",486:"cello, violoncello",487:"cellular telephone, cellular phone, cellphone, cell, mobile phone",488:"chain",489:"chainlink fence",490:"chain mail, ring mail, mail, chain armor, chain armour, ring armor, ring armour",491:"chain saw, chainsaw",492:"chest",493:"chiffonier, commode",494:"chime, bell, gong",495:"china cabinet, china closet",496:"Christmas stocking",497:"church, church building",498:"cinema, movie theater, movie theatre, movie house, picture palace",499:"cleaver, meat cleaver, chopper",500:"cliff dwelling",501:"cloak",502:"clog, geta, patten, sabot",503:"cocktail shaker",504:"coffee mug",505:"coffeepot",506:"coil, spiral, volute, whorl, helix",507:"combination lock",508:"computer keyboard, keypad",509:"confectionery, confectionary, candy store",510:"container ship, containership, container vessel",511:"convertible",512:"corkscrew, bottle screw",513:"cornet, horn, trumpet, trump",514:"cowboy boot",515:"cowboy hat, ten-gallon hat",516:"cradle",517:"crane",518:"crash helmet",519:"crate",520:"crib, cot",521:"Crock Pot",522:"croquet ball",523:"crutch",524:"cuirass",525:"dam, dike, dyke",526:"desk",527:"desktop computer",528:"dial telephone, dial phone",529:"diaper, nappy, napkin",530:"digital clock",531:"digital watch",532:"dining table, board",533:"dishrag, dishcloth",534:"dishwasher, dish washer, dishwashing machine",535:"disk brake, disc brake",536:"dock, dockage, docking facility",537:"dogsled, dog sled, dog sleigh",538:"dome",539:"doormat, welcome mat",540:"drilling platform, offshore rig",541:"drum, membranophone, tympan",542:"drumstick",543:"dumbbell",544:"Dutch oven",545:"electric fan, blower",546:"electric guitar",547:"electric locomotive",548:"entertainment center",549:"envelope",550:"espresso maker",551:"face powder",552:"feather boa, boa",553:"file, file cabinet, filing cabinet",554:"fireboat",555:"fire engine, fire truck",556:"fire screen, fireguard",557:"flagpole, flagstaff",558:"flute, transverse flute",559:"folding chair",560:"football helmet",561:"forklift",562:"fountain",563:"fountain pen",564:"four-poster",565:"freight car",566:"French horn, horn",567:"frying pan, frypan, skillet",568:"fur coat",569:"garbage truck, dustcart",570:"gasmask, respirator, gas helmet",571:"gas pump, gasoline pump, petrol pump, island dispenser",572:"goblet",573:"go-kart",574:"golf ball",575:"golfcart, golf cart",576:"gondola",577:"gong, tam-tam",578:"gown",579:"grand piano, grand",580:"greenhouse, nursery, glasshouse",581:"grille, radiator grille",582:"grocery store, grocery, food market, market",583:"guillotine",584:"hair slide",585:"hair spray",586:"half track",587:"hammer",588:"hamper",589:"hand blower, blow dryer, blow drier, hair dryer, hair drier",590:"hand-held computer, hand-held microcomputer",591:"handkerchief, hankie, hanky, hankey",592:"hard disc, hard disk, fixed disk",593:"harmonica, mouth organ, harp, mouth harp",594:"harp",595:"harvester, reaper",596:"hatchet",597:"holster",598:"home theater, home theatre",599:"honeycomb",600:"hook, claw",601:"hoopskirt, crinoline",602:"horizontal bar, high bar",603:"horse cart, horse-cart",604:"hourglass",605:"iPod",606:"iron, smoothing iron",607:"jack-o'-lantern",608:"jean, blue jean, denim",609:"jeep, landrover",610:"jersey, T-shirt, tee shirt",611:"jigsaw puzzle",612:"jinrikisha, ricksha, rickshaw",613:"joystick",614:"kimono",615:"knee pad",616:"knot",617:"lab coat, laboratory coat",618:"ladle",619:"lampshade, lamp shade",620:"laptop, laptop computer",621:"lawn mower, mower",622:"lens cap, lens cover",623:"letter opener, paper knife, paperknife",624:"library",625:"lifeboat",626:"lighter, light, igniter, ignitor",627:"limousine, limo",628:"liner, ocean liner",629:"lipstick, lip rouge",630:"Loafer",631:"lotion",632:"loudspeaker, speaker, speaker unit, loudspeaker system, speaker system",633:"loupe, jeweler's loupe",634:"lumbermill, sawmill",635:"magnetic compass",636:"mailbag, postbag",637:"mailbox, letter box",638:"maillot",639:"maillot, tank suit",640:"manhole cover",641:"maraca",642:"marimba, xylophone",643:"mask",644:"matchstick",645:"maypole",646:"maze, labyrinth",647:"measuring cup",648:"medicine chest, medicine cabinet",649:"megalith, megalithic structure",650:"microphone, mike",651:"microwave, microwave oven",652:"military uniform",653:"milk can",654:"minibus",655:"miniskirt, mini",656:"minivan",657:"missile",658:"mitten",659:"mixing bowl",660:"mobile home, manufactured home",661:"Model T",662:"modem",663:"monastery",664:"monitor",665:"moped",666:"mortar",667:"mortarboard",668:"mosque",669:"mosquito net",670:"motor scooter, scooter",671:"mountain bike, all-terrain bike, off-roader",672:"mountain tent",673:"mouse, computer mouse",674:"mousetrap",675:"moving van",676:"muzzle",677:"nail",678:"neck brace",679:"necklace",680:"nipple",681:"notebook, notebook computer",682:"obelisk",683:"oboe, hautboy, hautbois",684:"ocarina, sweet potato",685:"odometer, hodometer, mileometer, milometer",686:"oil filter",687:"organ, pipe organ",688:"oscilloscope, scope, cathode-ray oscilloscope, CRO",689:"overskirt",690:"oxcart",691:"oxygen mask",692:"packet",693:"paddle, boat paddle",694:"paddlewheel, paddle wheel",695:"padlock",696:"paintbrush",697:"pajama, pyjama, pj's, jammies",698:"palace",699:"panpipe, pandean pipe, syrinx",700:"paper towel",701:"parachute, chute",702:"parallel bars, bars",703:"park bench",704:"parking meter",705:"passenger car, coach, carriage",706:"patio, terrace",707:"pay-phone, pay-station",708:"pedestal, plinth, footstall",709:"pencil box, pencil case",710:"pencil sharpener",711:"perfume, essence",712:"Petri dish",713:"photocopier",714:"pick, plectrum, plectron",715:"pickelhaube",716:"picket fence, paling",717:"pickup, pickup truck",718:"pier",719:"piggy bank, penny bank",720:"pill bottle",721:"pillow",722:"ping-pong ball",723:"pinwheel",724:"pirate, pirate ship",725:"pitcher, ewer",726:"plane, carpenter's plane, woodworking plane",727:"planetarium",728:"plastic bag",729:"plate rack",730:"plow, plough",731:"plunger, plumber's helper",732:"Polaroid camera, Polaroid Land camera",733:"pole",734:"police van, police wagon, paddy wagon, patrol wagon, wagon, black Maria",735:"poncho",736:"pool table, billiard table, snooker table",737:"pop bottle, soda bottle",738:"pot, flowerpot",739:"potter's wheel",740:"power drill",741:"prayer rug, prayer mat",742:"printer",743:"prison, prison house",744:"projectile, missile",745:"projector",746:"puck, hockey puck",747:"punching bag, punch bag, punching ball, punchball",748:"purse",749:"quill, quill pen",750:"quilt, comforter, comfort, puff",751:"racer, race car, racing car",752:"racket, racquet",753:"radiator",754:"radio, wireless",755:"radio telescope, radio reflector",756:"rain barrel",757:"recreational vehicle, RV, R.V.",758:"reel",759:"reflex camera",760:"refrigerator, icebox",761:"remote control, remote",762:"restaurant, eating house, eating place, eatery",763:"revolver, six-gun, six-shooter",764:"rifle",765:"rocking chair, rocker",766:"rotisserie",767:"rubber eraser, rubber, pencil eraser",768:"rugby ball",769:"rule, ruler",770:"running shoe",771:"safe",772:"safety pin",773:"saltshaker, salt shaker",774:"sandal",775:"sarong",776:"sax, saxophone",777:"scabbard",778:"scale, weighing machine",779:"school bus",780:"schooner",781:"scoreboard",782:"screen, CRT screen",783:"screw",784:"screwdriver",785:"seat belt, seatbelt",786:"sewing machine",787:"shield, buckler",788:"shoe shop, shoe-shop, shoe store",789:"shoji",790:"shopping basket",791:"shopping cart",792:"shovel",793:"shower cap",794:"shower curtain",795:"ski",796:"ski mask",797:"sleeping bag",798:"slide rule, slipstick",799:"sliding door",800:"slot, one-armed bandit",801:"snorkel",802:"snowmobile",803:"snowplow, snowplough",804:"soap dispenser",805:"soccer ball",806:"sock",807:"solar dish, solar collector, solar furnace",808:"sombrero",809:"soup bowl",810:"space bar",811:"space heater",812:"space shuttle",813:"spatula",814:"speedboat",815:"spider web, spider's web",816:"spindle",817:"sports car, sport car",818:"spotlight, spot",819:"stage",820:"steam locomotive",821:"steel arch bridge",822:"steel drum",823:"stethoscope",824:"stole",825:"stone wall",826:"stopwatch, stop watch",827:"stove",828:"strainer",829:"streetcar, tram, tramcar, trolley, trolley car",830:"stretcher",831:"studio couch, day bed",832:"stupa, tope",833:"submarine, pigboat, sub, U-boat",834:"suit, suit of clothes",835:"sundial",836:"sunglass",837:"sunglasses, dark glasses, shades",838:"sunscreen, sunblock, sun blocker",839:"suspension bridge",840:"swab, swob, mop",841:"sweatshirt",842:"swimming trunks, bathing trunks",843:"swing",844:"switch, electric switch, electrical switch",845:"syringe",846:"table lamp",847:"tank, army tank, armored combat vehicle, armoured combat vehicle",848:"tape player",849:"teapot",850:"teddy, teddy bear",851:"television, television system",852:"tennis ball",853:"thatch, thatched roof",854:"theater curtain, theatre curtain",855:"thimble",856:"thresher, thrasher, threshing machine",857:"throne",858:"tile roof",859:"toaster",860:"tobacco shop, tobacconist shop, tobacconist",861:"toilet seat",862:"torch",863:"totem pole",864:"tow truck, tow car, wrecker",865:"toyshop",866:"tractor",867:"trailer truck, tractor trailer, trucking rig, rig, articulated lorry, semi",868:"tray",869:"trench coat",870:"tricycle, trike, velocipede",871:"trimaran",872:"tripod",873:"triumphal arch",874:"trolleybus, trolley coach, trackless trolley",875:"trombone",876:"tub, vat",877:"turnstile",878:"typewriter keyboard",879:"umbrella",880:"unicycle, monocycle",881:"upright, upright piano",882:"vacuum, vacuum cleaner",883:"vase",884:"vault",885:"velvet",886:"vending machine",887:"vestment",888:"viaduct",889:"violin, fiddle",890:"volleyball",891:"waffle iron",892:"wall clock",893:"wallet, billfold, notecase, pocketbook",894:"wardrobe, closet, press",895:"warplane, military plane",896:"washbasin, handbasin, washbowl, lavabo, wash-hand basin",897:"washer, automatic washer, washing machine",898:"water bottle",899:"water jug",900:"water tower",901:"whiskey jug",902:"whistle",903:"wig",904:"window screen",905:"window shade",906:"Windsor tie",907:"wine bottle",908:"wing",909:"wok",910:"wooden spoon",911:"wool, woolen, woollen",912:"worm fence, snake fence, snake-rail fence, Virginia fence",913:"wreck",914:"yawl",915:"yurt",916:"web site, website, internet site, site",917:"comic book",918:"crossword puzzle, crossword",919:"street sign",920:"traffic light, traffic signal, stoplight",921:"book jacket, dust cover, dust jacket, dust wrapper",922:"menu",923:"plate",924:"guacamole",925:"consomme",926:"hot pot, hotpot",927:"trifle",928:"ice cream, icecream",929:"ice lolly, lolly, lollipop, popsicle",930:"French loaf",931:"bagel, beigel",932:"pretzel",933:"cheeseburger",934:"hotdog, hot dog, red hot",935:"mashed potato",936:"head cabbage",937:"broccoli",938:"cauliflower",939:"zucchini, courgette",940:"spaghetti squash",941:"acorn squash",942:"butternut squash",943:"cucumber, cuke",944:"artichoke, globe artichoke",945:"bell pepper",946:"cardoon",947:"mushroom",948:"Granny Smith",949:"strawberry",950:"orange",951:"lemon",952:"fig",953:"pineapple, ananas",954:"banana",955:"jackfruit, jak, jack",956:"custard apple",957:"pomegranate",958:"hay",959:"carbonara",960:"chocolate sauce, chocolate syrup",961:"dough",962:"meat loaf, meatloaf",963:"pizza, pizza pie",964:"potpie",965:"burrito",966:"red wine",967:"espresso",968:"cup",969:"eggnog",970:"alp",971:"bubble",972:"cliff, drop, drop-off",973:"coral reef",974:"geyser",975:"lakeside, lakeshore",976:"promontory, headland, head, foreland",977:"sandbar, sand bar",978:"seashore, coast, seacoast, sea-coast",979:"valley, vale",980:"volcano",981:"ballplayer, baseball player",982:"groom, bridegroom",983:"scuba diver",984:"rapeseed",985:"daisy",986:"yellow lady's slipper, yellow lady-slipper, Cypripedium calceolus, Cypripedium parviflorum",987:"corn",988:"acorn",989:"hip, rose hip, rosehip",990:"buckeye, horse chestnut, conker",991:"coral fungus",992:"agaric",993:"gyromitra",994:"stinkhorn, carrion fungus",995:"earthstar",996:"hen-of-the-woods, hen of the woods, Polyporus frondosus, Grifola frondosa",997:"bolete",998:"ear, spike, capitulum",999:"toilet tissue, toilet paper, bathroom tissue"};n.d(t,"load",function(){return c;}),n.d(t,"MobileNet",function(){return l;});var i=function i(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{u(r.next(e));}catch(e){i(e);}}function s(e){try{u(r.throw(e));}catch(e){i(e);}}function u(e){e.done?a(e.value):new n(function(t){t(e.value);}).then(o,s);}u((r=r.apply(e,t||[])).next());});},o=function o(e,t){var n,r,a,i,o={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1];},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this;}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;){try{if(n=1,r&&(a=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[0,a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue;}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break;}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break;}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break;}a[2]&&o.ops.pop(),o.trys.pop();continue;}i=t.call(e,o);}catch(e){i=[6,e],r=0;}finally{n=a=0;}}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0};}([i,s]);};}},s="https://storage.googleapis.com/tfjs-models/tfjs/",u=224;function c(e,t){return void 0===e&&(e=1),void 0===t&&(t=1),i(this,void 0,void 0,function(){var n;return o(this,function(a){switch(a.label){case 0:if(null==r)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this model.");if(1!==e)throw new Error("Currently only MobileNet V1 is supported. Got version "+e+".");if(-1===[.25,.5,.75,1].indexOf(t))throw new Error("MobileNet constructed with invalid alpha "+t+". Valid multipliers are 0.25, 0.50, 0.75, and 1.0.");return[4,(n=new l(e,t)).load()];case 1:return a.sent(),[2,n];}});});}var l=function(){function e(e,t){this.intermediateModels={};var n={.25:"0.25",.5:"0.50",.75:"0.75",1:"1.0"}[t];this.path=s+"mobilenet_v"+e+"_"+n+"_"+u+"/model.json",this.normalizationOffset=r.scalar(127.5);}return e.prototype.load=function(){return i(this,void 0,void 0,function(){var e,t;return o(this,function(n){switch(n.label){case 0:return e=this,[4,r.loadModel(this.path)];case 1:return e.model=n.sent(),this.endpoints=this.model.layers.map(function(e){return e.name;}),[4,(t=this.model.predict(r.zeros([1,u,u,3]))).data()];case 2:return n.sent(),t.dispose(),[2];}});});},e.prototype.infer=function(e,t){var n=this;if(null!=t&&-1===this.endpoints.indexOf(t))throw new Error("Unknown endpoint "+t+". Available endpoints: "+this.endpoints+".");return r.tidy(function(){e instanceof r.Tensor||(e=r.fromPixels(e));var a=e.toFloat().sub(n.normalizationOffset).div(n.normalizationOffset),i=a;e.shape[0]===u&&e.shape[1]===u||(i=r.image.resizeBilinear(a,[u,u],!0));var o,s=i.reshape([1,u,u,3]);if(null==t)o=n.model;else{if(null==n.intermediateModels[t]){var c=n.model.layers.find(function(e){return e.name===t;});n.intermediateModels[t]=r.model({inputs:n.model.inputs,outputs:c.output});}o=n.intermediateModels[t];}return o.predict(s);});},e.prototype.classify=function(e,t){return void 0===t&&(t=3),i(this,void 0,void 0,function(){var n,r;return o(this,function(s){switch(s.label){case 0:return[4,function(e,t){return i(this,void 0,void 0,function(){var n,r,i,s,u,c;return o(this,function(o){switch(o.label){case 0:return[4,e.data()];case 1:for(n=o.sent(),r=[],c=0;c<n.length;c++){r.push({value:n[c],index:c});}for(r.sort(function(e,t){return t.value-e.value;}),i=new Float32Array(t),s=new Int32Array(t),c=0;c<t;c++){i[c]=r[c].value,s[c]=r[c].index;}for(u=[],c=0;c<s.length;c++){u.push({className:a[s[c]],probability:i[c]});}return[2,u];}});});}(n=this.infer(e),t)];case 1:return r=s.sent(),n.dispose(),[2,r];}});});},e;}();},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(64)),a=s(n(30)),i=s(n(29)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e){Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);}return t.default=e,t;}(n(10));function s(e){return e&&e.__esModule?e:{default:e};}var u=function(){function e(t){(0,a.default)(this,e),this.urlPath=t;}return(0,i.default)(e,[{key:"getAllVariables",value:function value(){var e=this;return new r.default(function(t,n){var r={};if(e.urlPath in r)t(r[e.urlPath]);else{var a=new XMLHttpRequest();a.open("GET",e.urlPath,!0),a.responseType="arraybuffer",a.onload=function(){if(200===a.status){var i=a.response;if(i){for(var s=[],u=0;u<i.byteLength;){var c=new Uint8Array(i.slice(u,u+4));u+=4;var l=(c[0]<<24)+(c[1]<<16)+(c[2]<<8)+c[3];s.push(i.slice(u,u+l)),u+=l;}for(var f=JSON.parse(new TextDecoder("utf8").decode(s[0])),p=new Float32Array(s[1]),h=new Uint8Array(s[2]),d=new Float32Array(h.length),m=0;m<d.length;m+=1){d[m]=p[h[m]];}var g={};u=0;for(var y=0;y<f.length;y+=1){var v=f[y].shape,b=v.reduce(function(e,t){return e*t;}),w=d.slice(u,u+b),x=o.tensor1d(w,"float32");g[f[y].name]=x.reshape(v),u+=b;}r[e.urlPath]=g,t(g);}else n(new Error("invalid arraybuffer"));}else n(new Error("missing model"));},a.send(null);}});}}]),e;}();t.default=u;},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(32)),a=f(n(31)),i=f(n(30)),o=f(n(29)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e){Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);}return t.default=e,t;}(n(10)),u=f(n(243)),c=n(91),l=f(n(51));function f(e){return e&&e.__esModule?e:{default:e};}var p=function(){function e(t,n){(0,i.default)(this,e),this.ready=(0,l.default)(this.loadCheckpoints(t),n);}return(0,o.default)(e,[{key:"loadCheckpoints",value:function(){var e=(0,a.default)(r.default.mark(function e(t){var n;return r.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return n=new u.default(t),e.next=3,n.getAllVariables();case 3:return this.variables=e.sent,e.abrupt("return",this);case 5:case"end":return e.stop();}}},e,this);}));return function(t){return e.apply(this,arguments);};}()},{key:"transfer",value:function(){var e=(0,a.default)(r.default.mark(function e(t,n){return r.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.default)(this.transferInternal(t),n));case 1:case"end":return e.stop();}}},e,this);}));return function(t,n){return e.apply(this,arguments);};}()},{key:"transferInternal",value:function(){var t=(0,a.default)(r.default.mark(function t(n){var a,i,o,u,l,f=this;return r.default.wrap(function(t){for(;;){switch(t.prev=t.next){case 0:return a=s.fromPixels(n),i=a.dataSync(),o=s.tensor3d(i,a.shape),u=s.div(o,s.scalar(255)),l=(0,c.array3DToImage)(s.tidy(function(){var t=e.preprocess(u),n=[],r=f.variables["generator/encoder_1/conv2d/kernel"],a=f.variables["generator/encoder_1/conv2d/bias"],i=e.conv2d(t,r,a);n.push(i);for(var o=2;o<=8;o+=1){var c="generator/encoder_"+o.toString();r=f.variables[c+"/conv2d/kernel"];var l=f.variables[c+"/conv2d/bias"],p=n[n.length-1],h=s.leakyRelu(p,.2);i=e.conv2d(h,r,l);var d=f.variables[c+"/batch_normalization/gamma"],m=f.variables[c+"/batch_normalization/beta"],g=e.batchnorm(i,d,m);n.push(g);}for(var y=8;y>=2;y-=1){var v=void 0;if(8===y)v=n[n.length-1];else{var b=y-1;v=s.concat([n[n.length-1],n[b]],2);}var w=s.relu(v),x="generator/decoder_"+y.toString();r=f.variables[x+"/conv2d_transpose/kernel"],a=f.variables[x+"/conv2d_transpose/bias"],i=e.deconv2d(w,r,a);var k=f.variables[x+"/batch_normalization/gamma"],O=f.variables[x+"/batch_normalization/beta"],S=e.batchnorm(i,k,O);n.push(S);}var N=s.concat([n[n.length-1],n[0]],2),E=s.relu(N);r=f.variables["generator/decoder_1/conv2d_transpose/kernel"];var I=f.variables["generator/decoder_1/conv2d_transpose/bias"];i=e.deconv2d(E,r,I),E=s.tanh(i),n.push(E);var T=n[n.length-1];return e.deprocess(T);})),t.next=7,s.nextFrame();case 7:return t.abrupt("return",l);case 8:case"end":return t.stop();}}},t,this);}));return function(e){return t.apply(this,arguments);};}()}],[{key:"preprocess",value:function value(e){return s.sub(s.mul(e,s.scalar(2)),s.scalar(1));}},{key:"deprocess",value:function value(e){return s.div(s.add(e,s.scalar(1)),s.scalar(2));}},{key:"batchnorm",value:function value(e,t,n){var r=s.moments(e,[0,1]);return s.batchNormalization(e,r.mean,r.variance,1e-5,t,n);}},{key:"conv2d",value:function value(e,t){return s.conv2d(e,t,[2,2],"same");}},{key:"deconv2d",value:function value(e,t,n){var r=s.conv2dTranspose(e,t,[2*e.shape[0],2*e.shape[1],t.shape[2]],[2,2],"same");return s.add(r,n);}}]),e;}();t.default=function(e,t){var n=new p(e,t);return t?n:n.ready;};},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=Math.random(),n=0,r=void 0,a=0;a<e.length;a+=1){if(t<(n+=e[a])){r=a;break;}}return r;};},function(e,t,n){"use strict";var r=n(52),a=n(97);e.exports=function(e,t,n){t in e?r.f(e,t,a(0,n)):e[t]=n;};},function(e,t,n){"use strict";var r=n(85),a=n(34),i=n(93),o=n(182),s=n(181),u=n(141),c=n(246),l=n(133);a(a.S+a.F*!n(176)(function(e){Array.from(e);}),"Array",{from:function from(e){var t,n,a,f,p=i(e),h="function"==typeof this?this:Array,d=arguments.length,m=d>1?arguments[1]:void 0,g=void 0!==m,y=0,v=l(p);if(g&&(m=r(m,d>2?arguments[2]:void 0,2)),void 0==v||h==Array&&s(v))for(n=new h(t=u(p.length));t>y;y++){c(n,y,g?m(p[y],y):p[y]);}else for(f=v.call(p),n=new h();!(a=f.next()).done;y++){c(n,y,g?o(f,m,[a.value,y],!0):a.value);}return n.length=y,n;}});},function(e,t,n){n(92),n(247),e.exports=n(21).Array.from;},function(e,t,n){e.exports={default:n(248),__esModule:!0};},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(249)),a=h(n(32)),i=h(n(127)),o=h(n(31)),s=h(n(30)),u=h(n(29)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e){Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);}return t.default=e,t;}(n(10)),l=h(n(245)),f=h(n(172)),p=h(n(51));function h(e){return e&&e.__esModule?e:{default:e};}var d=/cell_[0-9]|lstm_[0-9]/gi,m=/weights|weight|kernel|kernels|w/gi,g=/softmax/gi,y=function(){function e(t,n){(0,s.default)(this,e),this.ready=!1,this.model={},this.cellsAmount=0,this.vocab={},this.vocabSize=0,this.defaults={seed:"a",length:20,temperature:.5},this.ready=(0,p.default)(this.loadCheckpoints(t),n);}return(0,u.default)(e,[{key:"loadCheckpoints",value:function(){var e=(0,o.default)(a.default.mark(function e(t){var n,r,o=this;return a.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return n=new f.default(t),e.next=3,n.getAllVariables();case 3:return r=e.sent,(0,i.default)(r).forEach(function(e){e.match(d)?e.match(m)?(o.model["Kernel_"+e.match(/[0-9]/)[0]]=r[e],o.cellsAmount+=1):o.model["Bias_"+e.match(/[0-9]/)[0]]=r[e]:e.match(g)?e.match(m)?o.model.fullyConnectedWeights=r[e]:o.model.fullyConnectedBiases=r[e]:o.model[e]=r[e];}),e.next=7,this.loadVocab(t);case 7:return e.abrupt("return",this);case 8:case"end":return e.stop();}}},e,this);}));return function(t){return e.apply(this,arguments);};}()},{key:"loadVocab",value:function(){var e=(0,o.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return e.next=2,fetch(t+"/vocab.json").then(function(e){return e.json();}).catch(function(e){return console.error(e);});case 2:n=e.sent,this.vocab=n,this.vocabSize=(0,i.default)(n).length;case 5:case"end":return e.stop();}}},e,this);}));return function(t){return e.apply(this,arguments);};}()},{key:"generateInternal",value:function(){var e=(0,o.default)(a.default.mark(function e(t){var n,o,s,u,f,p,h,d,m,g,y,v,b,w,x,k,O,S,N,E,I,T,A,C,P,_,R,M=this;return a.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return n=t.seed||this.defaults.seed,o=+t.length||this.defaults.length,s=+t.temperature||this.defaults.temperature,u=[],e.next=6,this.ready;case 6:for(f=c.tensor(1),p=[],h=[],d=[],m=function m(e){return function(t,n,r){return c.basicLSTMCell(f,M.model["Kernel_"+e],M.model["Bias_"+e],t,n,r);};},g=0;g<this.cellsAmount;g+=1){h.push(c.zeros([1,this.model["Bias_"+g].shape[0]/4])),d.push(c.zeros([1,this.model["Bias_"+g].shape[0]/4])),p.push(m(g));}y=(0,r.default)(n),v=[],y.forEach(function(e,t){t<100&&v.push(M.vocab[e]);}),w=v[b=0],x=0;case 18:if(!(x<y.length+o)){e.next=39;break;}return(k=c.buffer([1,this.vocabSize])).set(1,0,w),O=k.toTensor(),S=void 0,this.model.embedding?(N=c.matMul(O,this.model.embedding),S=c.multiRNNCell(p,N,h,d)):S=c.multiRNNCell(p,O,h,d),h=S[0],d=S[1],E=d[1],I=c.matMul(E,this.model.fullyConnectedWeights),T=c.add(I,this.model.fullyConnectedBiases),A=c.div(T,c.tensor(s)),C=c.exp(A),e.next=33,c.div(C,c.sum(C)).data();case 33:P=e.sent,_=(0,l.default)(P),y.length>b?(w=v[b],b+=1):(w=_,u.push(_));case 36:x+=1,e.next=18;break;case 39:return R="",u.forEach(function(e){var t=(0,i.default)(M.vocab).find(function(t){return M.vocab[t]===e;});t&&(R+=t);}),e.abrupt("return",R);case 42:case"end":return e.stop();}}},e,this);}));return function(t){return e.apply(this,arguments);};}()},{key:"generate",value:function(){var e=(0,o.default)(a.default.mark(function e(t,n){return a.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.default)(this.generateInternal(t),n));case 1:case"end":return e.stop();}}},e,this);}));return function(t,n){return e.apply(this,arguments);};}()}]),e;}();t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"./",t=arguments[1];return new y(e,t);};},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=y(n(56)),a=y(n(128)),i=y(n(32)),o=y(n(31)),s=y(n(126)),u=y(n(30)),c=y(n(29)),l=y(n(125)),f=y(n(124)),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e){Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);}return t.default=e,t;}(n(10)),h=y(n(129)),d=y(n(172)),m=n(91),g=y(n(51));function y(e){return e&&e.__esModule?e:{default:e};}var v=200,b=function(e){function t(e,n,r){(0,u.default)(this,t);var a=(0,l.default)(this,(t.__proto__||(0,s.default)(t)).call(this,n,v));return a.ready=!1,a.variableDictionary={},a.timesScalar=p.scalar(150),a.plusScalar=p.scalar(127.5),a.epsilonScalar=p.scalar(.001),a.video=null,a.ready=(0,g.default)(a.load(e),r),a;}return(0,f.default)(t,e),(0,c.default)(t,[{key:"load",value:function(){var e=(0,o.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:if(!this.videoElt){e.next=4;break;}return e.next=3,this.loadVideo();case 3:this.videoReady=!0;case 4:return e.next=6,this.loadCheckpoints(t);case 6:return e.abrupt("return",this);case 7:case"end":return e.stop();}}},e,this);}));return function(t){return e.apply(this,arguments);};}()},{key:"loadCheckpoints",value:function(){var e=(0,o.default)(i.default.mark(function e(t){var n;return i.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return n=new d.default(t),e.next=3,n.getAllVariables();case 3:this.variables=e.sent;case 4:case"end":return e.stop();}}},e,this);}));return function(t){return e.apply(this,arguments);};}()},{key:"instanceNorm",value:function value(e,n){var r=(0,a.default)(e.shape,3),i=r[0],o=r[1],s=r[2],u=p.moments(e,[0,1]),c=u.mean,l=u.variance,f=this.variables[t.getVariableName(n)],h=this.variables[t.getVariableName(n+1)],d=this.epsilonScalar,m=p.div(p.sub(e.asType("float32"),c),p.sqrt(p.add(l,d)));return p.add(p.mul(h,m),f).as3D(i,o,s);}},{key:"convLayer",value:function value(e,n,r,a){var i=p.conv2d(e,this.variables[t.getVariableName(a)],[n,n],"same"),o=this.instanceNorm(i,a+1);return r?p.relu(o):o;}},{key:"residualBlock",value:function value(e,t){var n=this.convLayer(e,1,!0,t),r=this.convLayer(n,1,!1,t+3);return p.add(r,e);}},{key:"convTransposeLayer",value:function value(e,n,r,i){var o=(0,a.default)(e.shape,2),s=[o[0]*r,o[1]*r,n],u=p.conv2dTranspose(e,this.variables[t.getVariableName(i)],s,[r,r],"same"),c=this.instanceNorm(u,i+1);return p.relu(c);}},{key:"transfer",value:function(){var e=(0,o.default)(i.default.mark(function e(t,n){var a,o;return i.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return a=void 0,o=n,t instanceof HTMLVideoElement||t instanceof HTMLImageElement?a=t:"object"===(void 0===t?"undefined":(0,r.default)(t))&&(t.elt instanceof HTMLVideoElement||t.elt instanceof HTMLImageElement)?a=t.elt:"function"==typeof t&&(a=this.video,o=t),e.abrupt("return",(0,g.default)(this.transferInternal(a),o));case 4:case"end":return e.stop();}}},e,this);}));return function(t,n){return e.apply(this,arguments);};}()},{key:"transferInternal",value:function(){var e=(0,o.default)(i.default.mark(function e(t){var n,r,a=this;return i.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return n=p.fromPixels(t),r=(0,m.array3DToImage)(p.tidy(function(){var e=a.convLayer(n,1,!0,0),t=a.convLayer(e,2,!0,3),r=a.convLayer(t,2,!0,6),i=a.residualBlock(r,9),o=a.residualBlock(i,15),s=a.residualBlock(o,21),u=a.residualBlock(s,27),c=a.residualBlock(u,33),l=a.convTransposeLayer(c,64,2,39),f=a.convTransposeLayer(l,32,2,42),h=a.convLayer(f,1,!1,45),d=p.tanh(h),m=p.mul(a.timesScalar,d),g=p.add(a.plusScalar,m),y=p.clipByValue(g,0,255);return p.div(y,p.scalar(255));})),e.next=4,p.nextFrame();case 4:return e.abrupt("return",r);case 5:case"end":return e.stop();}}},e,this);}));return function(t){return e.apply(this,arguments);};}()}],[{key:"getVariableName",value:function value(e){return 0===e?"Variable":"Variable_"+e;}}]),t;}(h.default);t.default=function(e,t,n){var r=n;"function"==typeof t&&(r=t);var a=new b(e,t,r);return r?a:a.ready;};},function(e,t,n){"use strict";n.r(t),n.d(t,"decodeMultiplePoses",function(){return j;}),n.d(t,"decodeSinglePose",function(){return K;}),n.d(t,"load",function(){return Y;}),n.d(t,"PoseNet",function(){return J;}),n.d(t,"checkpoints",function(){return W;}),n.d(t,"partIds",function(){return u;}),n.d(t,"partNames",function(){return o;}),n.d(t,"poseChain",function(){return c;}),n.d(t,"getAdjacentKeyPoints",function(){return f;}),n.d(t,"getBoundingBox",function(){return d;}),n.d(t,"getBoundingBoxPoints",function(){return m;});var r=n(10);function a(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{u(r.next(e));}catch(e){i(e);}}function s(e){try{u(r.throw(e));}catch(e){i(e);}}function u(e){e.done?a(e.value):new n(function(t){t(e.value);}).then(o,s);}u((r=r.apply(e,t||[])).next());});}function i(e,t){var n,r,a,i,o={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1];},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this;}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;){try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue;}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break;}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break;}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break;}a[2]&&o.ops.pop(),o.trys.pop();continue;}i=t.call(e,o);}catch(e){i=[6,e],r=0;}finally{n=a=0;}}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0};}([i,s]);};}}var o=["nose","leftEye","rightEye","leftEar","rightEar","leftShoulder","rightShoulder","leftElbow","rightElbow","leftWrist","rightWrist","leftHip","rightHip","leftKnee","rightKnee","leftAnkle","rightAnkle"],s=o.length,u=o.reduce(function(e,t,n){return e[t]=n,e;},{}),c=[["nose","leftEye"],["leftEye","leftEar"],["nose","rightEye"],["rightEye","rightEar"],["nose","leftShoulder"],["leftShoulder","leftElbow"],["leftElbow","leftWrist"],["leftShoulder","leftHip"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["nose","rightShoulder"],["rightShoulder","rightElbow"],["rightElbow","rightWrist"],["rightShoulder","rightHip"],["rightHip","rightKnee"],["rightKnee","rightAnkle"]],l=[["leftHip","leftShoulder"],["leftElbow","leftShoulder"],["leftElbow","leftWrist"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["rightHip","rightShoulder"],["rightElbow","rightShoulder"],["rightElbow","rightWrist"],["rightHip","rightKnee"],["rightKnee","rightAnkle"],["leftShoulder","rightShoulder"],["leftHip","rightHip"]].map(function(e){var t=e[0],n=e[1];return[u[t],u[n]];});function f(e,t){return l.reduce(function(n,r){var a=r[0],i=r[1];return function(e,t,n){return e<n||t<n;}(e[a].score,e[i].score,t)?n:(n.push([e[a],e[i]]),n);},[]);}var p=Number.NEGATIVE_INFINITY,h=Number.POSITIVE_INFINITY;function d(e){return e.reduce(function(e,t){var n=e.maxX,r=e.maxY,a=e.minX,i=e.minY,o=t.position,s=o.x,u=o.y;return{maxX:Math.max(n,s),maxY:Math.max(r,u),minX:Math.min(a,s),minY:Math.min(i,u)};},{maxX:p,maxY:p,minX:h,minY:h});}function m(e){var t=d(e),n=t.minX,r=t.minY,a=t.maxX,i=t.maxY;return[{x:n,y:r},{x:a,y:r},{x:a,y:i},{x:n,y:i}];}function g(e,t){return void 0===t&&(t="float32"),a(this,void 0,void 0,function(){var n;return i(this,function(a){switch(a.label){case 0:return[4,e.data()];case 1:return n=a.sent(),[2,new r.TensorBuffer(e.shape,t,n)];}});});}function y(e,t,n){return{score:e.score,keypoints:e.keypoints.map(function(e){var r=e.score,a=e.part,i=e.position;return{score:r,part:a,position:{x:i.x*t,y:i.y*n}};})};}function v(e,t,n){var r=t*e-1;return r-r%n+1;}function b(e){return Math.floor(e/2);}var w=function(){function e(e,t){this.priorityQueue=new Array(e),this.numberOfElements=-1,this.getElementValue=t;}return e.prototype.enqueue=function(e){this.priorityQueue[++this.numberOfElements]=e,this.swim(this.numberOfElements);},e.prototype.dequeue=function(){var e=this.priorityQueue[0];return this.exchange(0,this.numberOfElements--),this.sink(0),this.priorityQueue[this.numberOfElements+1]=null,e;},e.prototype.empty=function(){return-1===this.numberOfElements;},e.prototype.size=function(){return this.numberOfElements+1;},e.prototype.all=function(){return this.priorityQueue.slice(0,this.numberOfElements+1);},e.prototype.max=function(){return this.priorityQueue[0];},e.prototype.swim=function(e){for(;e>0&&this.less(b(e),e);){this.exchange(e,b(e)),e=b(e);}},e.prototype.sink=function(e){for(;2*e<=this.numberOfElements;){var t=2*e;if(t<this.numberOfElements&&this.less(t,t+1)&&t++,!this.less(e,t))break;this.exchange(e,t),e=t;}},e.prototype.getValueAt=function(e){return this.getElementValue(this.priorityQueue[e]);},e.prototype.less=function(e,t){return this.getValueAt(e)<this.getValueAt(t);},e.prototype.exchange=function(e,t){var n=this.priorityQueue[e];this.priorityQueue[e]=this.priorityQueue[t],this.priorityQueue[t]=n;},e;}();function x(e,t,n,r,a,i){for(var o=i.shape,s=o[0],u=o[1],c=!0,l=Math.max(n-a,0),f=Math.min(n+a+1,s),p=l;p<f;++p){for(var h=Math.max(r-a,0),d=Math.min(r+a+1,u),m=h;m<d;++m){if(i.get(p,m,e)>t){c=!1;break;}}if(!c)break;}return c;}function k(e,t,n,r){return{y:r.get(e,t,n),x:r.get(e,t,n+s)};}function O(e,t,n){var r=k(e.heatmapY,e.heatmapX,e.id,n),a=r.y,i=r.x;return{x:e.heatmapX*t+i,y:e.heatmapY*t+a};}function S(e,t,n){return e<t?t:e>n?n:e;}function N(e,t){return{x:e.x+t.x,y:e.y+t.y};}var E=c.map(function(e){var t=e[0],n=e[1];return[u[t],u[n]];}),I=E.map(function(e){return e[1];}),T=E.map(function(e){return e[0];});function A(e,t,n,r){return{y:S(Math.round(e.y/t),0,n-1),x:S(Math.round(e.x/t),0,r-1)};}function C(e,t,n,r,a,i,s){var u=r.shape,c=u[0],l=u[1],f=function(e,t,n){var r=n.shape[2]/2;return{y:n.get(t.y,t.x,e),x:n.get(t.y,t.x,r+e)};}(e,A(t.position,i,c,l),s),p=A(N(t.position,f),i,c,l),h=k(p.y,p.x,n,a),d=r.get(p.y,p.x,n);return{position:N({x:p.x*i,y:p.y*i},{x:h.x,y:h.y}),part:o[n],score:d};}function P(e,t,n,r,a,i){var s=t.shape[2],u=I.length,c=new Array(s),l=e.part,f=e.score,p=O(l,r,n);c[l.id]={score:f,part:o[l.id],position:p};for(var h=u-1;h>=0;--h){var d=I[h],m=T[h];c[d]&&!c[m]&&(c[m]=C(h,c[d],m,t,n,r,i));}for(h=0;h<u;++h){d=T[h],m=I[h],c[d]&&!c[m]&&(c[m]=C(h,c[d],m,t,n,r,a));}return c;}function _(e,t,n,r){var a=n.x,i=n.y;return e.some(function(e){var n=e.keypoints[r].position;return function(e,t,n,r){var a=n-e,i=r-t;return a*a+i*i;}(i,a,n.y,n.x)<=t;});}function R(e,t,n){return n.reduce(function(n,r,a){var i=r.position,o=r.score;return _(e,t,i,a)||(n+=o),n;},0)/n.length;}var M=1;function j(e,t,n,r,o,s,u,c){return void 0===u&&(u=.5),void 0===c&&(c=20),a(this,void 0,void 0,function(){var l,f,p,h,d,m,y,v,b,k,S,N;return i(this,function(E){switch(E.label){case 0:return l=[],[4,function(e){return a(this,void 0,void 0,function(){return i(this,function(t){return[2,Promise.all(e.map(function(e){return g(e,"float32");}))];});});}([e,t,n,r])];case 1:for(f=E.sent(),p=f[0],h=f[1],d=f[2],m=f[3],y=function(e,t,n){for(var r=n.shape,a=r[0],i=r[1],o=r[2],s=new w(a*i*o,function(e){return e.score;}),u=0;u<a;++u){for(var c=0;c<i;++c){for(var l=0;l<o;++l){var f=n.get(u,c,l);f<e||x(l,f,u,c,t,n)&&s.enqueue({score:f,part:{heatmapY:u,heatmapX:c,id:l}});}}}return s;}(u,M,p),v=c*c;l.length<s&&!y.empty();){b=y.dequeue(),k=O(b.part,o,h),_(l,v,k,b.part.id)||(S=P(b,p,h,o,d,m),N=R(l,v,S),l.push({keypoints:S,score:N}));}return[2,l];}});});}var D=function(){function e(e){this.urlPath=e,"/"!==this.urlPath.charAt(this.urlPath.length-1)&&(this.urlPath+="/");}return e.prototype.loadManifest=function(){var e=this;return new Promise(function(t,n){var r=new XMLHttpRequest();r.open("GET",e.urlPath+"manifest.json"),r.onload=function(){e.checkpointManifest=JSON.parse(r.responseText),t();},r.onerror=function(t){throw new Error("manifest.json not found at "+e.urlPath+". "+t);},r.send();});},e.prototype.getCheckpointManifest=function(){var e=this;return null==this.checkpointManifest?new Promise(function(t,n){e.loadManifest().then(function(){t(e.checkpointManifest);});}):new Promise(function(t,n){t(e.checkpointManifest);});},e.prototype.getAllVariables=function(){var e=this;return null!=this.variables?new Promise(function(t,n){t(e.variables);}):new Promise(function(t,n){e.getCheckpointManifest().then(function(n){for(var r=Object.keys(e.checkpointManifest),a=[],i=0;i<r.length;i++){a.push(e.getVariable(r[i]));}Promise.all(a).then(function(n){e.variables={};for(var a=0;a<n.length;a++){e.variables[r[a]]=n[a];}t(e.variables);});});});},e.prototype.getVariable=function(e){var t=this;if(!(e in this.checkpointManifest))throw new Error("Cannot load non-existant variable "+e);var n=function n(_n11,a){var i=new XMLHttpRequest();i.responseType="arraybuffer";var o=t.checkpointManifest[e].filename;i.open("GET",t.urlPath+o),i.onload=function(){if(404===i.status)throw new Error("Not found variable "+e);var a=new Float32Array(i.response),o=r.Tensor.make(t.checkpointManifest[e].shape,{values:a});_n11(o);},i.onerror=function(t){throw new Error("Could not fetch variable "+e+": "+t);},i.send();};return null==this.checkpointManifest?new Promise(function(e,r){t.loadManifest().then(function(){new Promise(n).then(e);});}):new Promise(n);},e;}(),L=[8,16,32];function z(e){r.util.assert("number"==typeof e,"outputStride is not a number"),r.util.assert(L.indexOf(e)>=0,"outputStride of "+e+" is invalid. It must be either 8, 16, or 32");}function F(e){r.util.assert("number"==typeof e,"imageScaleFactor is not a number"),r.util.assert(e>=.2&&e<=1,"imageScaleFactor must be between 0.2 and 1.0");}var B={100:[["conv2d",2],["separableConv",1],["separableConv",2],["separableConv",1],["separableConv",2],["separableConv",1],["separableConv",2],["separableConv",1],["separableConv",1],["separableConv",1],["separableConv",1],["separableConv",1],["separableConv",2],["separableConv",1]],75:[["conv2d",2],["separableConv",1],["separableConv",2],["separableConv",1],["separableConv",2],["separableConv",1],["separableConv",2],["separableConv",1],["separableConv",1],["separableConv",1],["separableConv",1],["separableConv",1],["separableConv",1],["separableConv",1]],50:[["conv2d",2],["separableConv",1],["separableConv",2],["separableConv",1],["separableConv",2],["separableConv",1],["separableConv",2],["separableConv",1],["separableConv",1],["separableConv",1],["separableConv",1],["separableConv",1],["separableConv",1],["separableConv",1]]},V=function(){function e(e,t){this.PREPROCESS_DIVISOR=Object(r.scalar)(127.5),this.ONE=Object(r.scalar)(1),this.variables=e,this.convolutionDefinitions=t;}return e.prototype.predict=function(e,t){var n=this,a=Object(r.cast)(e,"float32").div(this.PREPROCESS_DIVISOR).sub(this.ONE);return function(e,t){var n=1,r=1;return e.map(function(e,a){var i,o,s=e[0],u=e[1];return n===t?(i=1,o=r,r*=u):(i=u,o=1,n*=u),{blockId:a,convType:s,stride:i,rate:o,outputStride:n};});}(this.convolutionDefinitions,t).reduce(function(e,t){var r=t.blockId,a=t.stride,i=t.convType,o=t.rate;if("conv2d"===i)return n.conv(e,a,r);if("separableConv"===i)return n.separableConv(e,a,r,o);throw Error("Unknown conv type of "+i);},a);},e.prototype.convToOutput=function(e,t){return e.conv2d(this.weights(t),1,"same").add(this.biases(t));},e.prototype.conv=function(e,t,n){return e.conv2d(this.weights("Conv2d_"+String(n)),t,"same").add(this.biases("Conv2d_"+String(n))).clipByValue(0,6);},e.prototype.separableConv=function(e,t,n,r){void 0===r&&(r=1);var a="Conv2d_"+String(n)+"_depthwise",i="Conv2d_"+String(n)+"_pointwise";return e.depthwiseConv2D(this.depthwiseWeights(a),t,"same","NHWC",r).add(this.biases(a)).clipByValue(0,6).conv2d(this.weights(i),[1,1],"same").add(this.biases(i)).clipByValue(0,6);},e.prototype.weights=function(e){return this.variables["MobilenetV1/"+e+"/weights"];},e.prototype.biases=function(e){return this.variables["MobilenetV1/"+e+"/biases"];},e.prototype.depthwiseWeights=function(e){return this.variables["MobilenetV1/"+e+"/depthwise_weights"];},e.prototype.dispose=function(){for(var e in this.variables){this.variables[e].dispose();}},e;}(),U="https://storage.googleapis.com/tfjs-models/weights/posenet/",W={1.01:{url:U+"mobilenet_v1_101/",architecture:B[100]},1:{url:U+"mobilenet_v1_100/",architecture:B[100]},.75:{url:U+"mobilenet_v1_075/",architecture:B[75]},.5:{url:U+"mobilenet_v1_050/",architecture:B[50]}};function G(e){var t=e.shape,n=t[0],a=t[1],i=t[2];return Object(r.tidy)(function(){var t=e.reshape([n*a,i]).argMax(0),o=t.div(Object(r.scalar)(a,"int32")).expandDims(1),s=function(e,t){return Object(r.tidy)(function(){var n=e.div(Object(r.scalar)(t,"int32"));return e.sub(n.mul(Object(r.scalar)(t,"int32")));});}(t,a).expandDims(1);return Object(r.concat)([o,s],1);});}function q(e,t,n,r){return{y:r.get(e,t,n),x:r.get(e,t,n+s)};}function H(e,t,n){return Object(r.tidy)(function(){var a=function(e,t){for(var n=[],a=0;a<s;a++){var i=q(e.get(a,0).valueOf(),e.get(a,1).valueOf(),a,t),o=i.x,u=i.y;n.push(u),n.push(o);}return Object(r.tensor2d)(n,[s,2]);}(e,n);return e.toTensor().mul(Object(r.scalar)(t,"int32")).toFloat().add(a);});}function K(e,t,n){return a(this,void 0,void 0,function(){var r,a,s,u,c,l,f,p,h,d;return i(this,function(i){switch(i.label){case 0:return r=0,a=G(e),[4,Promise.all([g(e),g(t),g(a,"int32")])];case 1:return s=i.sent(),u=s[0],c=s[1],l=s[2],[4,g(f=H(l,n,c))];case 2:return p=i.sent(),h=Array.from(function(e,t){for(var n=t.shape[0],r=new Float32Array(n),a=0;a<n;a++){var i=t.get(a,0),o=t.get(a,1);r[a]=e.get(i,o,a);}return r;}(u,l)),d=h.map(function(e,t){return r+=e,{position:{y:p.get(t,0),x:p.get(t,1)},part:o[t],score:e};}),a.dispose(),f.dispose(),[2,{keypoints:d,score:r/d.length}];}});});}function X(e,t,n,a){var i=e instanceof r.Tensor?e:Object(r.fromPixels)(e);return a?i.reverse(1).resizeBilinear([t,n]):i.resizeBilinear([t,n]);}var J=function(){function e(e){this.mobileNet=e;}return e.prototype.predictForSinglePose=function(e,t){var n=this;return void 0===t&&(t=16),z(t),Object(r.tidy)(function(){var r=n.mobileNet.predict(e,t),a=n.mobileNet.convToOutput(r,"heatmap_2"),i=n.mobileNet.convToOutput(r,"offset_2");return{heatmapScores:a.sigmoid(),offsets:i};});},e.prototype.predictForMultiPose=function(e,t){var n=this;return void 0===t&&(t=16),Object(r.tidy)(function(){var r=n.mobileNet.predict(e,t),a=n.mobileNet.convToOutput(r,"heatmap_2"),i=n.mobileNet.convToOutput(r,"offset_2"),o=n.mobileNet.convToOutput(r,"displacement_fwd_2"),s=n.mobileNet.convToOutput(r,"displacement_bwd_2");return{heatmapScores:a.sigmoid(),offsets:i,displacementFwd:o,displacementBwd:s};});},e.prototype.estimateSinglePose=function(e,t,n,o){return void 0===t&&(t=.5),void 0===n&&(n=!1),void 0===o&&(o=16),a(this,void 0,void 0,function(){var a,s,u,c,l,f,p,h,d,m=this;return i(this,function(i){switch(i.label){case 0:return z(o),F(t),a=e instanceof r.Tensor?[e.shape[0],e.shape[1]]:[e.height,e.width],s=a[0],u=a[1],c=v(t,s,o),l=v(t,u,o),f=Object(r.tidy)(function(){var t=X(e,c,l,n);return m.predictForSinglePose(t,o);}),p=f.heatmapScores,h=f.offsets,[4,K(p,h,o)];case 1:return d=i.sent(),p.dispose(),h.dispose(),[2,y(d,s/c,u/l)];}});});},e.prototype.estimateMultiplePoses=function(e,t,n,o,s,u,c){return void 0===t&&(t=.5),void 0===n&&(n=!1),void 0===o&&(o=16),void 0===s&&(s=5),void 0===u&&(u=.5),void 0===c&&(c=20),a(this,void 0,void 0,function(){var a,l,f,p,h,d,m,g,b,w,x,k=this;return i(this,function(i){switch(i.label){case 0:return z(o),F(t),a=e instanceof r.Tensor?[e.shape[0],e.shape[1]]:[e.height,e.width],l=a[0],f=a[1],p=v(t,l,o),h=v(t,f,o),d=Object(r.tidy)(function(){var t=X(e,p,h,n);return k.predictForMultiPose(t,o);}),m=d.heatmapScores,g=d.offsets,b=d.displacementFwd,w=d.displacementBwd,[4,j(m,g,b,w,o,s,u,c)];case 1:return x=i.sent(),m.dispose(),g.dispose(),b.dispose(),w.dispose(),[2,function(e,t,n){return 1===n&&1===t?x:x.map(function(e){return y(e,n,t);});}(0,l/p,f/h)];}});});},e.prototype.dispose=function(){this.mobileNet.dispose();},e;}();function Y(e){return void 0===e&&(e=1.01),a(this,void 0,void 0,function(){var t,n;return i(this,function(a){switch(a.label){case 0:if(null==r)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this model.");return t=Object.keys(W),r.util.assert("number"==typeof e,"got multiplier type of "+(typeof e==="undefined"?"undefined":_typeof(e))+" when it should be a number."),r.util.assert(t.indexOf(e.toString())>=0,"invalid multiplier value of "+e+".  No checkpoint exists for that multiplier. Must be one of "+t.join(",")+"."),[4,Q.load(e)];case 1:return n=a.sent(),[2,new J(n)];}});});}var Q={load:function load(e){return a(void 0,void 0,void 0,function(){var t,n;return i(this,function(r){switch(r.label){case 0:return t=W[e],[4,new D(t.url).getAllVariables()];case 1:return n=r.sent(),[2,new V(n,t.architecture)];}});});}};},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0;}function r(e){return"function"==typeof e;}function a(e){return"object"==(typeof e==="undefined"?"undefined":_typeof(e))&&null!==e;}function i(e){return void 0===e;}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e;}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this;},n.prototype.emit=function(e){var t,n,o,s,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l;}if(i(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s);}else if(a(n))for(s=Array.prototype.slice.call(arguments,1),o=(c=n.slice()).length,u=0;u<o;u++){c[u].apply(this,s);}return!0;},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(o=i(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this;},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function a(){this.removeListener(e,a),n||(n=!0,t.apply(this,arguments));}return a.listener=t,this.on(e,a),this;},n.prototype.removeListener=function(e,t){var n,i,o,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-->0;){if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break;}}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t);}return this;},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events){"removeListener"!==t&&this.removeAllListeners(t);}return this.removeAllListeners("removeListener"),this._events={},this;}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;){this.removeListener(e,n[n.length-1]);}return delete this._events[e],this;},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[];},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length;}return 0;},n.listenerCount=function(e,t){return e.listenerCount(t);};},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=y(n(56)),a=y(n(32)),i=y(n(64)),o=y(n(31)),s=y(n(126)),u=y(n(30)),c=y(n(29)),l=y(n(125)),f=y(n(124)),p=y(n(253)),h=g(n(10)),d=g(n(252)),m=y(n(51));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e){Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);}return t.default=e,t;}function y(e){return e&&e.__esModule?e:{default:e};}var v={imageScaleFactor:.3,outputStride:16,flipHorizontal:!1,minConfidence:.5,maxPoseDetections:5,scoreThreshold:.5,nmsRadius:20,detectionType:"multiple",multiplier:.75},b=function(e){function t(e,n,r,a){(0,u.default)(this,t);var i=(0,l.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return i.video=e,i.detectionType=r||v.detectionType,i.imageScaleFactor=n.imageScaleFactor||v.imageScaleFactor,i.outputStride=n.outputStride||v.outputStride,i.flipHorizontal=n.flipHorizontal||v.flipHorizontal,i.minConfidence=n.minConfidence||v.minConfidence,i.multiplier=n.multiplier||v.multiplier,i.ready=(0,m.default)(i.load(),a),i;}return(0,f.default)(t,e),(0,c.default)(t,[{key:"load",value:function(){var e=(0,o.default)(a.default.mark(function e(){var t=this;return a.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return e.next=2,d.load(this.multiplier);case 2:if(this.net=e.sent,!this.video){e.next=9;break;}if(0!==this.video.readyState){e.next=7;break;}return e.next=7,new i.default(function(e){t.video.onloadeddata=function(){return e();};});case 7:"single"===this.detectionType&&this.singlePose(),this.multiPose();case 9:return e.abrupt("return",this);case 10:case"end":return e.stop();}}},e,this);}));return function(){return e.apply(this,arguments);};}()},{key:"skeleton",value:function value(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.minConfidence;return d.getAdjacentKeyPoints(e,t);}},{key:"singlePose",value:function(){var e=(0,o.default)(a.default.mark(function e(t){var n,i,o,s=this;return a.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return n=void 0,n=t instanceof HTMLImageElement||t instanceof HTMLVideoElement?t:"object"===(void 0===t?"undefined":(0,r.default)(t))&&(t.elt instanceof HTMLImageElement||t.elt instanceof HTMLVideoElement)?t.elt:this.video,e.next=4,this.net.estimateSinglePose(n,this.imageScaleFactor,this.flipHorizontal,this.outputStride);case 4:if(i=e.sent,o=[{pose:i,skeleton:this.skeleton(i.keypoints)}],this.emit("pose",o),!this.video){e.next=9;break;}return e.abrupt("return",h.nextFrame().then(function(){return s.singlePose();}));case 9:return e.abrupt("return",o);case 10:case"end":return e.stop();}}},e,this);}));return function(t){return e.apply(this,arguments);};}()},{key:"multiPose",value:function(){var e=(0,o.default)(a.default.mark(function e(t){var n,i,o,s=this;return a.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return n=void 0,n=t instanceof HTMLImageElement||t instanceof HTMLVideoElement?t:"object"===(void 0===t?"undefined":(0,r.default)(t))&&(t.elt instanceof HTMLImageElement||t.elt instanceof HTMLVideoElement)?t.elt:this.video,e.next=4,this.net.estimateMultiplePoses(n,this.imageScaleFactor,this.flipHorizontal,this.outputStride);case 4:if(i=e.sent,o=i.map(function(e){return{pose:e,skeleton:s.skeleton(e.keypoints)};}),this.emit("pose",o),!this.video){e.next=9;break;}return e.abrupt("return",h.nextFrame().then(function(){return s.multiPose();}));case 9:return e.abrupt("return",o);case 10:case"end":return e.stop();}}},e,this);}));return function(t){return e.apply(this,arguments);};}()}]),t;}(p.default);t.default=function(e,t,n){var a=void 0,i={},o=n,s=null;return e instanceof HTMLVideoElement?a=e:"object"===(void 0===e?"undefined":(0,r.default)(e))&&e.elt instanceof HTMLVideoElement?a=e.elt:"object"===(void 0===e?"undefined":(0,r.default)(e))?i=e:"function"==typeof e&&(o=e),"object"===(void 0===t?"undefined":(0,r.default)(t))?i=t:"function"==typeof t?o=t:"string"==typeof t&&(s=t),new b(a,i,s,o);};},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nonMaxSuppression=t.boxesToCorners=t.filterBoxes=t.boxIOU=t.boxUnion=t.boxIntersection=t.ANCHORS=void 0;var r=o(n(32)),a=o(n(31));t.filterBoxes=function(){var e=(0,a.default)(r.default.mark(function e(t,n,a,o){var s,u,c,l,f,p,h,d;return r.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return s=i.mul(n,a),u=i.argMax(s,-1),c=i.max(s,-1),l=i.greaterEqual(c,i.scalar(o)),e.next=6,l.data();case 6:for(f=e.sent,p=[],h=0;h<f.length;h+=1){f[h]&&p.push(h);}if(0!==p.length){e.next=11;break;}return e.abrupt("return",[null,null,null]);case 11:return d=i.tensor1d(p,"int32"),e.abrupt("return",[i.gather(t.reshape([f.length,4]),d),i.gather(c.flatten(),d),i.gather(u.flatten(),d)]);case 13:case"end":return e.stop();}}},e,this);}));return function(t,n,r,a){return e.apply(this,arguments);};}(),t.head=function(e,t,n){var r=t.shape[0],a=i.reshape(t,[1,1,r,2]),o=e.shape.slice(1,3),s=o[0],u=o[1],c=i.range(0,o[0]),l=i.range(0,o[1]);c=i.tile(c,[o[1]]),l=i.tile(i.expandDims(l,0),[o[0],1]),l=i.transpose(l).flatten();var f=i.transpose(i.stack([c,l]));f=i.reshape(f,[o[0],o[1],1,2]),f=i.cast(f,e.dtype),e=i.reshape(e,[o[0],o[1],r,n+5]),o=i.cast(i.reshape(i.tensor1d(o),[1,1,1,2]),e.dtype);var p=i.sigmoid(e.slice([0,0,0,0],[s,u,r,2])),h=i.exp(e.slice([0,0,0,2],[s,u,r,2])),d=i.sigmoid(e.slice([0,0,0,4],[s,u,r,1])),m=i.softmax(e.slice([0,0,0,5],[s,u,r,n]));return[p=i.div(i.add(p,f),o),h=i.div(i.mul(h,a),o),d,m];};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e){Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);}return t.default=e,t;}(n(10));function o(e){return e&&e.__esModule?e:{default:e};}t.ANCHORS=i.tensor2d([[.57273,.677385],[1.87446,2.06253],[3.33843,5.47434],[7.88282,3.52778],[9.77052,9.16828]]);var s=t.boxIntersection=function(e,t){var n=Math.min(e[3],t[3])-Math.max(e[1],t[1]),r=Math.min(e[2],t[2])-Math.max(e[0],t[0]);return n<0||r<0?0:n*r;},u=t.boxUnion=function(e,t){var n=s(e,t);return(e[3]-e[1])*(e[2]-e[0])+(t[3]-t[1])*(t[2]-t[0])-n;},c=t.boxIOU=function(e,t){return s(e,t)/u(e,t);};t.boxesToCorners=function(e,t){var n=i.tensor1d([2]),r=i.sub(e,i.div(t,n)),a=i.add(e,i.div(t,n)),o=[r.shape[0],r.shape[1],r.shape[2],1];return i.concat([r.slice([0,0,0,1],o),r.slice([0,0,0,0],o),a.slice([0,0,0,1],o),a.slice([0,0,0,0],o)],3);},t.nonMaxSuppression=function(e,t,n){for(var r=[],a=0;a<t.length;a+=1){r.push([t[a],[e[4*a],e[4*a+1],e[4*a+2],e[4*a+3]],a]);}var i=[];return r.sort(function(e,t){return t[0]-e[0];}).forEach(function(e){for(var t=!0,r=0;r<i.length;r+=1){if(c(e[1],i[r][1])>n){t=!1;break;}}t&&i.push(e);}),[i.map(function(e){return e[2];}),i.map(function(e){return e[1];}),i.map(function(e){return e[0];})];};},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["person","bicycle","car","motorbike","aeroplane","bus","train","truck","boat","traffic light","fire hydrant","stop sign","parking meter","bench","bird","cat","dog","horse","sheep","cow","elephant","bear","zebra","giraffe","backpack","umbrella","handbag","tie","suitcase","frisbee","skis","snowboard","sports ball","kite","baseball bat","baseball glove","skateboard","surfboard","tennis racket","bottle","wine glass","cup","fork","knife","spoon","bowl","banana","apple","sandwich","orange","broccoli","carrot","hot dog","pizza","donut","cake","chair","sofa","pottedplant","bed","diningtable","toilet","tvmonitor","laptop","mouse","remote","keyboard","cell phone","microwave","oven","toaster","sink","refrigerator","book","clock","vase","scissors","teddy bear","hair drier","toothbrush"];},function(e,t,n){var r=n(34);r(r.S,"Object",{create:n(135)});},function(e,t,n){n(257);var r=n(21).Object;e.exports=function(e,t){return r.create(e,t);};},function(e,t,n){e.exports={default:n(258),__esModule:!0};},function(e,t,n){var r=n(58),a=n(45),i=function i(e,t){if(a(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!");};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(85)(Function.call,n(174).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array);}catch(e){t=!0;}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e;};}({},!1):void 0),check:i};},function(e,t,n){var r=n(34);r(r.S,"Object",{setPrototypeOf:n(260).set});},function(e,t,n){n(261),e.exports=n(21).Object.setPrototypeOf;},function(e,t,n){e.exports={default:n(262),__esModule:!0};},function(e,t,n){var r=n(93),a=n(183);n(173)("getPrototypeOf",function(){return function(e){return a(r(e));};});},function(e,t,n){n(264),e.exports=n(21).Object.getPrototypeOf;},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=b(n(64)),a=b(n(128)),i=b(n(56)),o=b(n(32)),s=b(n(31)),u=b(n(126)),c=b(n(30)),l=b(n(29)),f=b(n(125)),p=b(n(124)),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e){Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);}return t.default=e,t;}(n(10)),d=b(n(129)),m=n(91),g=b(n(51)),y=b(n(256)),v=n(255);function b(e){return e&&e.__esModule?e:{default:e};}var w={filterBoxesThreshold:.01,IOUThreshold:.4,classProbThreshold:.4},x=416,k=function(e){function t(e,n,r){(0,c.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e,x));return a.filterBoxesThreshold=n.filterBoxesThreshold||w.filterBoxesThreshold,a.IOUThreshold=n.IOUThreshold||w.IOUThreshold,a.classProbThreshold=n.classProbThreshold||w.classProbThreshold,a.modelReady=!1,a.isPredicting=!1,a.ready=(0,g.default)(a.loadModel(),r),a;}return(0,p.default)(t,e),(0,l.default)(t,[{key:"loadModel",value:function(){var e=(0,s.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:if(!this.videoElt||this.video){e.next=4;break;}return e.next=3,this.loadVideo();case 3:this.video=e.sent;case 4:return e.next=6,h.loadModel("https://raw.githubusercontent.com/ml5js/ml5-data-and-training/master/models/YOLO/model.json");case 6:return this.model=e.sent,this.modelReady=!0,e.abrupt("return",this);case 9:case"end":return e.stop();}}},e,this);}));return function(){return e.apply(this,arguments);};}()},{key:"detect",value:function(){var e=(0,s.default)(o.default.mark(function e(t,n){var r,a;return o.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return e.next=2,this.ready;case 2:return r=void 0,a=n,t instanceof HTMLImageElement||t instanceof HTMLVideoElement?r=t:"object"===(void 0===t?"undefined":(0,i.default)(t))&&(t.elt instanceof HTMLImageElement||t.elt instanceof HTMLVideoElement)?r=t.elt:"function"==typeof t&&(r=this.video,a=t),e.abrupt("return",(0,g.default)(this.detectInternal(r),a));case 6:case"end":return e.stop();}}},e,this);}));return function(t,n){return e.apply(this,arguments);};}()},{key:"detectInternal",value:function(){var e=(0,s.default)(o.default.mark(function e(t){var n,i,s,u,c,l,f,p,d,g,b,w,k,O,S,N,E,I,T,A,C,P,_,R,M,j=this;return o.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return e.next=2,this.ready;case 2:return e.next=4,h.nextFrame();case 4:return this.isPredicting=!0,n=h.tidy(function(){var e=(0,m.imgToTensor)(t,[x,x]),n=j.model.predict(e),r=(0,v.head)(n,v.ANCHORS,80),i=(0,a.default)(r,4),o=i[0],s=i[1],u=i[2],c=i[3];return[(0,v.boxesToCorners)(o,s),u,c];}),i=(0,a.default)(n,3),s=i[0],u=i[1],c=i[2],e.next=8,(0,v.filterBoxes)(s,u,c,this.filterBoxesThreshold);case 8:if(l=e.sent,f=(0,a.default)(l,3),p=f[0],d=f[1],g=f[2],null!=p){e.next=15;break;}return e.abrupt("return",[]);case 15:return b=h.scalar(x),w=h.scalar(x),k=h.stack([w,b,w,b]).reshape([1,4]),O=h.mul(p,k),e.next=21,r.default.all([O.data(),d.data()]);case 21:return S=e.sent,N=(0,a.default)(S,2),E=N[0],I=N[1],T=(0,v.nonMaxSuppression)(E,I,this.IOUThreshold),A=(0,a.default)(T,3),C=A[0],P=A[1],_=A[2],e.next=28,g.gather(h.tensor1d(C,"int32")).data();case 28:return R=e.sent,M=[],R.forEach(function(e,t){var n=_[t];if(!(n<j.classProbThreshold)){var r=y.default[e],i=(0,a.default)(P[t],4),o=i[0],s=i[1],u=i[2],c=i[3];o=Math.max(0,o),s=Math.max(0,s),u=Math.min(x,u)-o,c=Math.min(x,c)-s;var l={className:r,classProb:n,x:s/x,y:o/x,w:c/x,h:u/x};M.push(l);}}),this.isPredicting=!1,e.abrupt("return",M);case 33:case"end":return e.stop();}}},e,this);}));return function(t){return e.apply(this,arguments);};}()}]),t;}(d.default);t.default=function(e,t,n){var r=null,a={},o=n;return e instanceof HTMLVideoElement?r=e:"object"===(void 0===e?"undefined":(0,i.default)(e))&&e.elt instanceof HTMLVideoElement?r=e.elt:"function"==typeof e?o=e:"object"===(void 0===e?"undefined":(0,i.default)(e))&&(a=e),"object"===(void 0===t?"undefined":(0,i.default)(t))?a=t:"function"==typeof t&&(o=t),new k(r,a,o);};},function(e,t,n){var r=n(93),a=n(83);n(173)("keys",function(){return function(e){return a(r(e));};});},function(e,t,n){n(267),e.exports=n(21).Object.keys;},function(e,t,n){var r=n(83),a=n(67),i=n(94).f;e.exports=function(e){return function(t){for(var n,o=a(t),s=r(o),u=s.length,c=0,l=[];u>c;){i.call(o,n=s[c++])&&l.push(e?[n,o[n]]:o[n]);}return l;};};},function(e,t,n){var r=n(34),a=n(269)(!1);r(r.S,"Object",{values:function values(e){return a(e);}});},function(e,t,n){n(270),e.exports=n(21).Object.values;},function(e,t,n){e.exports={default:n(271),__esModule:!0};},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(272)),a=f(n(32)),i=f(n(127)),o=f(n(31)),s=f(n(30)),u=f(n(29)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e){Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);}return t.default=e,t;}(n(10)),l=f(n(51));function f(e){return e&&e.__esModule?e:{default:e};}var p=function(){function e(t,n){(0,s.default)(this,e),this.model={},this.modelPath=t,this.modelSize=0,this.modelLoaded=!1,this.ready=(0,l.default)(this.loadModel(),n);}return(0,u.default)(e,[{key:"loadModel",value:function(){var e=(0,o.default)(a.default.mark(function e(){var t,n=this;return a.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return e.next=2,fetch(this.modelPath).then(function(e){return e.json();});case 2:return t=e.sent,(0,i.default)(t.vectors).forEach(function(e){n.model[e]=c.tensor1d(t.vectors[e]);}),this.modelSize=(0,i.default)(this.model).length,this.modelLoaded=!0,e.abrupt("return",this);case 7:case"end":return e.stop();}}},e,this);}));return function(){return e.apply(this,arguments);};}()},{key:"dispose",value:function value(e){(0,r.default)(this.model).forEach(function(e){return e.dispose();}),e&&e();}},{key:"add",value:function(){var t=(0,o.default)(a.default.mark(function t(n,r,i){var o,s,u,l=this;return a.default.wrap(function(t){for(;;){switch(t.prev=t.next){case 0:return o=e.parser(r,i,10),s=o.max,u=o.callback,t.next=3,this.ready;case 3:return t.abrupt("return",c.tidy(function(){var t=e.addOrSubtract(l.model,n,"ADD"),r=e.nearest(l.model,t,n.length,n.length+s);return u&&u(void 0,r),r;}));case 4:case"end":return t.stop();}}},t,this);}));return function(e,n,r){return t.apply(this,arguments);};}()},{key:"subtract",value:function(){var t=(0,o.default)(a.default.mark(function t(n,r,i){var o,s,u,l=this;return a.default.wrap(function(t){for(;;){switch(t.prev=t.next){case 0:return o=e.parser(r,i,10),s=o.max,u=o.callback,t.next=3,this.ready;case 3:return t.abrupt("return",c.tidy(function(){var t=e.addOrSubtract(l.model,n,"SUBTRACT"),r=e.nearest(l.model,t,n.length,n.length+s);return u&&u(void 0,r),r;}));case 4:case"end":return t.stop();}}},t,this);}));return function(e,n,r){return t.apply(this,arguments);};}()},{key:"average",value:function(){var t=(0,o.default)(a.default.mark(function t(n,r,i){var o,s,u,l=this;return a.default.wrap(function(t){for(;;){switch(t.prev=t.next){case 0:return o=e.parser(r,i,10),s=o.max,u=o.callback,t.next=3,this.ready;case 3:return t.abrupt("return",c.tidy(function(){var t=e.addOrSubtract(l.model,n,"ADD"),r=c.div(t,c.tensor(n.length)),a=e.nearest(l.model,r,n.length,n.length+s);return u&&u(void 0,a),a;}));case 4:case"end":return t.stop();}}},t,this);}));return function(e,n,r){return t.apply(this,arguments);};}()},{key:"nearest",value:function(){var t=(0,o.default)(a.default.mark(function t(n,r,i){var o,s,u,c,l;return a.default.wrap(function(t){for(;;){switch(t.prev=t.next){case 0:return o=e.parser(r,i,10),s=o.max,u=o.callback,t.next=3,this.ready;case 3:return c=this.model[n],l=void 0,l=c?e.nearest(this.model,c,1,s+1):null,u&&u(void 0,l),t.abrupt("return",l);case 8:case"end":return t.stop();}}},t,this);}));return function(e,n,r){return t.apply(this,arguments);};}()},{key:"getRandomWord",value:function(){var e=(0,o.default)(a.default.mark(function e(t){var n,r;return a.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return e.next=2,this.ready;case 2:return n=(0,i.default)(this.model),r=n[Math.floor(Math.random()*n.length)],t&&t(void 0,r),e.abrupt("return",r);case 6:case"end":return e.stop();}}},e,this);}));return function(t){return e.apply(this,arguments);};}()}],[{key:"parser",value:function value(e,t,n){var r=n,a=t;return"function"==typeof e?a=e:"number"==typeof e&&(r=e),{max:r,callback:a};}},{key:"addOrSubtract",value:function value(e,t,n){return c.tidy(function(){var r=[],a=[];if(t.length<2)throw new Error("Invalid input, must be passed more than 1 value");if(t.forEach(function(t){var n=e[t];n?r.push(n):a.push(t);}),a.length>0)throw new Error("Invalid input, vector not found for: "+a.toString());var i=r[0];if("ADD"===n)for(var o=1;o<r.length;o+=1){i=c.add(i,r[o]);}else for(var s=1;s<r.length;s+=1){i=c.sub(i,r[s]);}return i;});}},{key:"nearest",value:function value(e,t,n,r){var a=[];return(0,i.default)(e).forEach(function(n){var r=c.util.distSquared(t.dataSync(),e[n].dataSync());a.push({word:n,distance:r});}),a.sort(function(e,t){return e.distance-t.distance;}),a.slice(n,r);}}]),e;}();t.default=function(e,t){return new p(e,t);};},function(e,t,n){var r=n(45),a=n(133);e.exports=n(21).getIterator=function(e){var t=a(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e));};},function(e,t,n){n(103),n(92),e.exports=n(274);},function(e,t,n){e.exports={default:n(275),__esModule:!0};},function(e,t,n){var r=n(134),a=n(24)("iterator"),i=n(81);e.exports=n(21).isIterable=function(e){var t=Object(e);return void 0!==t[a]||"@@iterator"in t||i.hasOwnProperty(r(t));};},function(e,t,n){n(103),n(92),e.exports=n(277);},function(e,t,n){e.exports={default:n(278),__esModule:!0};},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IMAGENET_CLASSES={0:"tench, Tinca tinca",1:"goldfish, Carassius auratus",2:"great white shark, white shark, man-eater, man-eating shark, Carcharodon carcharias",3:"tiger shark, Galeocerdo cuvieri",4:"hammerhead, hammerhead shark",5:"electric ray, crampfish, numbfish, torpedo",6:"stingray",7:"cock",8:"hen",9:"ostrich, Struthio camelus",10:"brambling, Fringilla montifringilla",11:"goldfinch, Carduelis carduelis",12:"house finch, linnet, Carpodacus mexicanus",13:"junco, snowbird",14:"indigo bunting, indigo finch, indigo bird, Passerina cyanea",15:"robin, American robin, Turdus migratorius",16:"bulbul",17:"jay",18:"magpie",19:"chickadee",20:"water ouzel, dipper",21:"kite",22:"bald eagle, American eagle, Haliaeetus leucocephalus",23:"vulture",24:"great grey owl, great gray owl, Strix nebulosa",25:"European fire salamander, Salamandra salamandra",26:"common newt, Triturus vulgaris",27:"eft",28:"spotted salamander, Ambystoma maculatum",29:"axolotl, mud puppy, Ambystoma mexicanum",30:"bullfrog, Rana catesbeiana",31:"tree frog, tree-frog",32:"tailed frog, bell toad, ribbed toad, tailed toad, Ascaphus trui",33:"loggerhead, loggerhead turtle, Caretta caretta",34:"leatherback turtle, leatherback, leathery turtle, Dermochelys coriacea",35:"mud turtle",36:"terrapin",37:"box turtle, box tortoise",38:"banded gecko",39:"common iguana, iguana, Iguana iguana",40:"American chameleon, anole, Anolis carolinensis",41:"whiptail, whiptail lizard",42:"agama",43:"frilled lizard, Chlamydosaurus kingi",44:"alligator lizard",45:"Gila monster, Heloderma suspectum",46:"green lizard, Lacerta viridis",47:"African chameleon, Chamaeleo chamaeleon",48:"Komodo dragon, Komodo lizard, dragon lizard, giant lizard, Varanus komodoensis",49:"African crocodile, Nile crocodile, Crocodylus niloticus",50:"American alligator, Alligator mississipiensis",51:"triceratops",52:"thunder snake, worm snake, Carphophis amoenus",53:"ringneck snake, ring-necked snake, ring snake",54:"hognose snake, puff adder, sand viper",55:"green snake, grass snake",56:"king snake, kingsnake",57:"garter snake, grass snake",58:"water snake",59:"vine snake",60:"night snake, Hypsiglena torquata",61:"boa constrictor, Constrictor constrictor",62:"rock python, rock snake, Python sebae",63:"Indian cobra, Naja naja",64:"green mamba",65:"sea snake",66:"horned viper, cerastes, sand viper, horned asp, Cerastes cornutus",67:"diamondback, diamondback rattlesnake, Crotalus adamanteus",68:"sidewinder, horned rattlesnake, Crotalus cerastes",69:"trilobite",70:"harvestman, daddy longlegs, Phalangium opilio",71:"scorpion",72:"black and gold garden spider, Argiope aurantia",73:"barn spider, Araneus cavaticus",74:"garden spider, Aranea diademata",75:"black widow, Latrodectus mactans",76:"tarantula",77:"wolf spider, hunting spider",78:"tick",79:"centipede",80:"black grouse",81:"ptarmigan",82:"ruffed grouse, partridge, Bonasa umbellus",83:"prairie chicken, prairie grouse, prairie fowl",84:"peacock",85:"quail",86:"partridge",87:"African grey, African gray, Psittacus erithacus",88:"macaw",89:"sulphur-crested cockatoo, Kakatoe galerita, Cacatua galerita",90:"lorikeet",91:"coucal",92:"bee eater",93:"hornbill",94:"hummingbird",95:"jacamar",96:"toucan",97:"drake",98:"red-breasted merganser, Mergus serrator",99:"goose",100:"black swan, Cygnus atratus",101:"tusker",102:"echidna, spiny anteater, anteater",103:"platypus, duckbill, duckbilled platypus, duck-billed platypus, Ornithorhynchus anatinus",104:"wallaby, brush kangaroo",105:"koala, koala bear, kangaroo bear, native bear, Phascolarctos cinereus",106:"wombat",107:"jelly fish",108:"sea anemone, anemone",109:"brain coral",110:"flatworm, platyhelminth",111:"nematode, nematode worm, roundworm",112:"conch",113:"snail",114:"slug",115:"sea slug, nudibranch",116:"chiton, coat-of-mail shell, sea cradle, polyplacophore",117:"chambered nautilus, pearly nautilus, nautilus",118:"Dungeness crab, Cancer magister",119:"rock crab, Cancer irroratus",120:"fiddler crab",121:"king crab, Alaska crab, Alaskan king crab, Alaska king crab, Paralithodes camtschatica",122:"American lobster, Northern lobster, Maine lobster, Homarus americanus",123:"spiny lobster, langouste, rock lobster, crawfish, crayfish, sea crawfish",124:"crayfish, crawfish, crawdad, crawdaddy",125:"hermit crab",126:"isopod",127:"white stork, Ciconia ciconia",128:"black stork, Ciconia nigra",129:"spoonbill",130:"flamingo",131:"little blue heron, Egretta caerulea",132:"American egret, great white heron, Egretta albus",133:"bittern",134:"crane",135:"limpkin, Aramus pictus",136:"European gallinule, Porphyrio porphyrio",137:"American coot, marsh hen, mud hen, water hen, Fulica americana",138:"bustard",139:"ruddy turnstone, Arenaria interpres",140:"red-backed sandpiper, dunlin, Erolia alpina",141:"redshank, Tringa totanus",142:"dowitcher",143:"oystercatcher, oyster catcher",144:"pelican",145:"king penguin, Aptenodytes patagonica",146:"albatross, mollymawk",147:"grey whale, gray whale, devilfish, Eschrichtius gibbosus, Eschrichtius robustus",148:"killer whale, killer, orca, grampus, sea wolf, Orcinus orca",149:"dugong, Dugong dugon",150:"sea lion",151:"Chihuahua",152:"Japanese spaniel",153:"Maltese dog, Maltese terrier, Maltese",154:"Pekinese, Pekingese, Peke",155:"Shih-Tzu",156:"Blenheim spaniel",157:"papillon",158:"toy terrier",159:"Rhodesian ridgeback",160:"Afghan hound, Afghan",161:"basset, basset hound",162:"beagle",163:"bloodhound, sleuthhound",164:"bluetick",165:"black-and-tan coonhound",166:"Walker hound, Walker foxhound",167:"English foxhound",168:"redbone",169:"borzoi, Russian wolfhound",170:"Irish wolfhound",171:"Italian greyhound",172:"whippet",173:"Ibizan hound, Ibizan Podenco",174:"Norwegian elkhound, elkhound",175:"otterhound, otter hound",176:"Saluki, gazelle hound",177:"Scottish deerhound, deerhound",178:"Weimaraner",179:"Staffordshire bullterrier, Staffordshire bull terrier",180:"American Staffordshire terrier, Staffordshire terrier, American pit bull terrier, pit bull terrier",181:"Bedlington terrier",182:"Border terrier",183:"Kerry blue terrier",184:"Irish terrier",185:"Norfolk terrier",186:"Norwich terrier",187:"Yorkshire terrier",188:"wire-haired fox terrier",189:"Lakeland terrier",190:"Sealyham terrier, Sealyham",191:"Airedale, Airedale terrier",192:"cairn, cairn terrier",193:"Australian terrier",194:"Dandie Dinmont, Dandie Dinmont terrier",195:"Boston bull, Boston terrier",196:"miniature schnauzer",197:"giant schnauzer",198:"standard schnauzer",199:"Scotch terrier, Scottish terrier, Scottie",200:"Tibetan terrier, chrysanthemum dog",201:"silky terrier, Sydney silky",202:"soft-coated wheaten terrier",203:"West Highland white terrier",204:"Lhasa, Lhasa apso",205:"flat-coated retriever",206:"curly-coated retriever",207:"golden retriever",208:"Labrador retriever",209:"Chesapeake Bay retriever",210:"German short-haired pointer",211:"vizsla, Hungarian pointer",212:"English setter",213:"Irish setter, red setter",214:"Gordon setter",215:"Brittany spaniel",216:"clumber, clumber spaniel",217:"English springer, English springer spaniel",218:"Welsh springer spaniel",219:"cocker spaniel, English cocker spaniel, cocker",220:"Sussex spaniel",221:"Irish water spaniel",222:"kuvasz",223:"schipperke",224:"groenendael",225:"malinois",226:"briard",227:"kelpie",228:"komondor",229:"Old English sheepdog, bobtail",230:"Shetland sheepdog, Shetland sheep dog, Shetland",231:"collie",232:"Border collie",233:"Bouvier des Flandres, Bouviers des Flandres",234:"Rottweiler",235:"German shepherd, German shepherd dog, German police dog, alsatian",236:"Doberman, Doberman pinscher",237:"miniature pinscher",238:"Greater Swiss Mountain dog",239:"Bernese mountain dog",240:"Appenzeller",241:"EntleBucher",242:"boxer",243:"bull mastiff",244:"Tibetan mastiff",245:"French bulldog",246:"Great Dane",247:"Saint Bernard, St Bernard",248:"Eskimo dog, husky",249:"malamute, malemute, Alaskan malamute",250:"Siberian husky",251:"dalmatian, coach dog, carriage dog",252:"affenpinscher, monkey pinscher, monkey dog",253:"basenji",254:"pug, pug-dog",255:"Leonberg",256:"Newfoundland, Newfoundland dog",257:"Great Pyrenees",258:"Samoyed, Samoyede",259:"Pomeranian",260:"chow, chow chow",261:"keeshond",262:"Brabancon griffon",263:"Pembroke, Pembroke Welsh corgi",264:"Cardigan, Cardigan Welsh corgi",265:"toy poodle",266:"miniature poodle",267:"standard poodle",268:"Mexican hairless",269:"timber wolf, grey wolf, gray wolf, Canis lupus",270:"white wolf, Arctic wolf, Canis lupus tundrarum",271:"red wolf, maned wolf, Canis rufus, Canis niger",272:"coyote, prairie wolf, brush wolf, Canis latrans",273:"dingo, warrigal, warragal, Canis dingo",274:"dhole, Cuon alpinus",275:"African hunting dog, hyena dog, Cape hunting dog, Lycaon pictus",276:"hyena, hyaena",277:"red fox, Vulpes vulpes",278:"kit fox, Vulpes macrotis",279:"Arctic fox, white fox, Alopex lagopus",280:"grey fox, gray fox, Urocyon cinereoargenteus",281:"tabby, tabby cat",282:"tiger cat",283:"Persian cat",284:"Siamese cat, Siamese",285:"Egyptian cat",286:"cougar, puma, catamount, mountain lion, painter, panther, Felis concolor",287:"lynx, catamount",288:"leopard, Panthera pardus",289:"snow leopard, ounce, Panthera uncia",290:"jaguar, panther, Panthera onca, Felis onca",291:"lion, king of beasts, Panthera leo",292:"tiger, Panthera tigris",293:"cheetah, chetah, Acinonyx jubatus",294:"brown bear, bruin, Ursus arctos",295:"American black bear, black bear, Ursus americanus, Euarctos americanus",296:"ice bear, polar bear, Ursus Maritimus, Thalarctos maritimus",297:"sloth bear, Melursus ursinus, Ursus ursinus",298:"mongoose",299:"meerkat, mierkat",300:"tiger beetle",301:"ladybug, ladybeetle, lady beetle, ladybird, ladybird beetle",302:"ground beetle, carabid beetle",303:"long-horned beetle, longicorn, longicorn beetle",304:"leaf beetle, chrysomelid",305:"dung beetle",306:"rhinoceros beetle",307:"weevil",308:"fly",309:"bee",310:"ant, emmet, pismire",311:"grasshopper, hopper",312:"cricket",313:"walking stick, walkingstick, stick insect",314:"cockroach, roach",315:"mantis, mantid",316:"cicada, cicala",317:"leafhopper",318:"lacewing, lacewing fly",319:"dragonfly, darning needle, devil's darning needle, sewing needle, snake feeder, snake doctor, mosquito hawk, skeeter hawk",320:"damselfly",321:"admiral",322:"ringlet, ringlet butterfly",323:"monarch, monarch butterfly, milkweed butterfly, Danaus plexippus",324:"cabbage butterfly",325:"sulphur butterfly, sulfur butterfly",326:"lycaenid, lycaenid butterfly",327:"starfish, sea star",328:"sea urchin",329:"sea cucumber, holothurian",330:"wood rabbit, cottontail, cottontail rabbit",331:"hare",332:"Angora, Angora rabbit",333:"hamster",334:"porcupine, hedgehog",335:"fox squirrel, eastern fox squirrel, Sciurus niger",336:"marmot",337:"beaver",338:"guinea pig, Cavia cobaya",339:"sorrel",340:"zebra",341:"hog, pig, grunter, squealer, Sus scrofa",342:"wild boar, boar, Sus scrofa",343:"warthog",344:"hippopotamus, hippo, river horse, Hippopotamus amphibius",345:"ox",346:"water buffalo, water ox, Asiatic buffalo, Bubalus bubalis",347:"bison",348:"ram, tup",349:"bighorn, bighorn sheep, cimarron, Rocky Mountain bighorn, Rocky Mountain sheep, Ovis canadensis",350:"ibex, Capra ibex",351:"hartebeest",352:"impala, Aepyceros melampus",353:"gazelle",354:"Arabian camel, dromedary, Camelus dromedarius",355:"llama",356:"weasel",357:"mink",358:"polecat, fitch, foulmart, foumart, Mustela putorius",359:"black-footed ferret, ferret, Mustela nigripes",360:"otter",361:"skunk, polecat, wood pussy",362:"badger",363:"armadillo",364:"three-toed sloth, ai, Bradypus tridactylus",365:"orangutan, orang, orangutang, Pongo pygmaeus",366:"gorilla, Gorilla gorilla",367:"chimpanzee, chimp, Pan troglodytes",368:"gibbon, Hylobates lar",369:"siamang, Hylobates syndactylus, Symphalangus syndactylus",370:"guenon, guenon monkey",371:"patas, hussar monkey, Erythrocebus patas",372:"baboon",373:"macaque",374:"langur",375:"colobus, colobus monkey",376:"proboscis monkey, Nasalis larvatus",377:"marmoset",378:"capuchin, ringtail, Cebus capucinus",379:"howler monkey, howler",380:"titi, titi monkey",381:"spider monkey, Ateles geoffroyi",382:"squirrel monkey, Saimiri sciureus",383:"Madagascar cat, ring-tailed lemur, Lemur catta",384:"indri, indris, Indri indri, Indri brevicaudatus",385:"Indian elephant, Elephas maximus",386:"African elephant, Loxodonta africana",387:"lesser panda, red panda, panda, bear cat, cat bear, Ailurus fulgens",388:"giant panda, panda, panda bear, coon bear, Ailuropoda melanoleuca",389:"barracouta, snoek",390:"eel",391:"coho, cohoe, coho salmon, blue jack, silver salmon, Oncorhynchus kisutch",392:"rock beauty, Holocanthus tricolor",393:"anemone fish",394:"sturgeon",395:"gar, garfish, garpike, billfish, Lepisosteus osseus",396:"lionfish",397:"puffer, pufferfish, blowfish, globefish",398:"abacus",399:"abaya",400:"academic gown, academic robe, judge's robe",401:"accordion, piano accordion, squeeze box",402:"acoustic guitar",403:"aircraft carrier, carrier, flattop, attack aircraft carrier",404:"airliner",405:"airship, dirigible",406:"altar",407:"ambulance",408:"amphibian, amphibious vehicle",409:"analog clock",410:"apiary, bee house",411:"apron",412:"ashcan, trash can, garbage can, wastebin, ash bin, ash-bin, ashbin, dustbin, trash barrel, trash bin",413:"assault rifle, assault gun",414:"backpack, back pack, knapsack, packsack, rucksack, haversack",415:"bakery, bakeshop, bakehouse",416:"balance beam, beam",417:"balloon",418:"ballpoint, ballpoint pen, ballpen, Biro",419:"Band Aid",420:"banjo",421:"bannister, banister, balustrade, balusters, handrail",422:"barbell",423:"barber chair",424:"barbershop",425:"barn",426:"barometer",427:"barrel, cask",428:"barrow, garden cart, lawn cart, wheelbarrow",429:"baseball",430:"basketball",431:"bassinet",432:"bassoon",433:"bathing cap, swimming cap",434:"bath towel",435:"bathtub, bathing tub, bath, tub",436:"beach wagon, station wagon, wagon, estate car, beach waggon, station waggon, waggon",437:"beacon, lighthouse, beacon light, pharos",438:"beaker",439:"bearskin, busby, shako",440:"beer bottle",441:"beer glass",442:"bell cote, bell cot",443:"bib",444:"bicycle-built-for-two, tandem bicycle, tandem",445:"bikini, two-piece",446:"binder, ring-binder",447:"binoculars, field glasses, opera glasses",448:"birdhouse",449:"boathouse",450:"bobsled, bobsleigh, bob",451:"bolo tie, bolo, bola tie, bola",452:"bonnet, poke bonnet",453:"bookcase",454:"bookshop, bookstore, bookstall",455:"bottlecap",456:"bow",457:"bow tie, bow-tie, bowtie",458:"brass, memorial tablet, plaque",459:"brassiere, bra, bandeau",460:"breakwater, groin, groyne, mole, bulwark, seawall, jetty",461:"breastplate, aegis, egis",462:"broom",463:"bucket, pail",464:"buckle",465:"bulletproof vest",466:"bullet train, bullet",467:"butcher shop, meat market",468:"cab, hack, taxi, taxicab",469:"caldron, cauldron",470:"candle, taper, wax light",471:"cannon",472:"canoe",473:"can opener, tin opener",474:"cardigan",475:"car mirror",476:"carousel, carrousel, merry-go-round, roundabout, whirligig",477:"carpenter's kit, tool kit",478:"carton",479:"car wheel",480:"cash machine, cash dispenser, automated teller machine, automatic teller machine, automated teller, automatic teller, ATM",481:"cassette",482:"cassette player",483:"castle",484:"catamaran",485:"CD player",486:"cello, violoncello",487:"cellular telephone, cellular phone, cellphone, cell, mobile phone",488:"chain",489:"chainlink fence",490:"chain mail, ring mail, mail, chain armor, chain armour, ring armor, ring armour",491:"chain saw, chainsaw",492:"chest",493:"chiffonier, commode",494:"chime, bell, gong",495:"china cabinet, china closet",496:"Christmas stocking",497:"church, church building",498:"cinema, movie theater, movie theatre, movie house, picture palace",499:"cleaver, meat cleaver, chopper",500:"cliff dwelling",501:"cloak",502:"clog, geta, patten, sabot",503:"cocktail shaker",504:"coffee mug",505:"coffeepot",506:"coil, spiral, volute, whorl, helix",507:"combination lock",508:"computer keyboard, keypad",509:"confectionery, confectionary, candy store",510:"container ship, containership, container vessel",511:"convertible",512:"corkscrew, bottle screw",513:"cornet, horn, trumpet, trump",514:"cowboy boot",515:"cowboy hat, ten-gallon hat",516:"cradle",517:"crane",518:"crash helmet",519:"crate",520:"crib, cot",521:"Crock Pot",522:"croquet ball",523:"crutch",524:"cuirass",525:"dam, dike, dyke",526:"desk",527:"desktop computer",528:"dial telephone, dial phone",529:"diaper, nappy, napkin",530:"digital clock",531:"digital watch",532:"dining table, board",533:"dishrag, dishcloth",534:"dishwasher, dish washer, dishwashing machine",535:"disk brake, disc brake",536:"dock, dockage, docking facility",537:"dogsled, dog sled, dog sleigh",538:"dome",539:"doormat, welcome mat",540:"drilling platform, offshore rig",541:"drum, membranophone, tympan",542:"drumstick",543:"dumbbell",544:"Dutch oven",545:"electric fan, blower",546:"electric guitar",547:"electric locomotive",548:"entertainment center",549:"envelope",550:"espresso maker",551:"face powder",552:"feather boa, boa",553:"file, file cabinet, filing cabinet",554:"fireboat",555:"fire engine, fire truck",556:"fire screen, fireguard",557:"flagpole, flagstaff",558:"flute, transverse flute",559:"folding chair",560:"football helmet",561:"forklift",562:"fountain",563:"fountain pen",564:"four-poster",565:"freight car",566:"French horn, horn",567:"frying pan, frypan, skillet",568:"fur coat",569:"garbage truck, dustcart",570:"gasmask, respirator, gas helmet",571:"gas pump, gasoline pump, petrol pump, island dispenser",572:"goblet",573:"go-kart",574:"golf ball",575:"golfcart, golf cart",576:"gondola",577:"gong, tam-tam",578:"gown",579:"grand piano, grand",580:"greenhouse, nursery, glasshouse",581:"grille, radiator grille",582:"grocery store, grocery, food market, market",583:"guillotine",584:"hair slide",585:"hair spray",586:"half track",587:"hammer",588:"hamper",589:"hand blower, blow dryer, blow drier, hair dryer, hair drier",590:"hand-held computer, hand-held microcomputer",591:"handkerchief, hankie, hanky, hankey",592:"hard disc, hard disk, fixed disk",593:"harmonica, mouth organ, harp, mouth harp",594:"harp",595:"harvester, reaper",596:"hatchet",597:"holster",598:"home theater, home theatre",599:"honeycomb",600:"hook, claw",601:"hoopskirt, crinoline",602:"horizontal bar, high bar",603:"horse cart, horse-cart",604:"hourglass",605:"iPod",606:"iron, smoothing iron",607:"jack-o'-lantern",608:"jean, blue jean, denim",609:"jeep, landrover",610:"jersey, T-shirt, tee shirt",611:"jigsaw puzzle",612:"jinrikisha, ricksha, rickshaw",613:"joystick",614:"kimono",615:"knee pad",616:"knot",617:"lab coat, laboratory coat",618:"ladle",619:"lampshade, lamp shade",620:"laptop, laptop computer",621:"lawn mower, mower",622:"lens cap, lens cover",623:"letter opener, paper knife, paperknife",624:"library",625:"lifeboat",626:"lighter, light, igniter, ignitor",627:"limousine, limo",628:"liner, ocean liner",629:"lipstick, lip rouge",630:"Loafer",631:"lotion",632:"loudspeaker, speaker, speaker unit, loudspeaker system, speaker system",633:"loupe, jeweler's loupe",634:"lumbermill, sawmill",635:"magnetic compass",636:"mailbag, postbag",637:"mailbox, letter box",638:"maillot",639:"maillot, tank suit",640:"manhole cover",641:"maraca",642:"marimba, xylophone",643:"mask",644:"matchstick",645:"maypole",646:"maze, labyrinth",647:"measuring cup",648:"medicine chest, medicine cabinet",649:"megalith, megalithic structure",650:"microphone, mike",651:"microwave, microwave oven",652:"military uniform",653:"milk can",654:"minibus",655:"miniskirt, mini",656:"minivan",657:"missile",658:"mitten",659:"mixing bowl",660:"mobile home, manufactured home",661:"Model T",662:"modem",663:"monastery",664:"monitor",665:"moped",666:"mortar",667:"mortarboard",668:"mosque",669:"mosquito net",670:"motor scooter, scooter",671:"mountain bike, all-terrain bike, off-roader",672:"mountain tent",673:"mouse, computer mouse",674:"mousetrap",675:"moving van",676:"muzzle",677:"nail",678:"neck brace",679:"necklace",680:"nipple",681:"notebook, notebook computer",682:"obelisk",683:"oboe, hautboy, hautbois",684:"ocarina, sweet potato",685:"odometer, hodometer, mileometer, milometer",686:"oil filter",687:"organ, pipe organ",688:"oscilloscope, scope, cathode-ray oscilloscope, CRO",689:"overskirt",690:"oxcart",691:"oxygen mask",692:"packet",693:"paddle, boat paddle",694:"paddlewheel, paddle wheel",695:"padlock",696:"paintbrush",697:"pajama, pyjama, pj's, jammies",698:"palace",699:"panpipe, pandean pipe, syrinx",700:"paper towel",701:"parachute, chute",702:"parallel bars, bars",703:"park bench",704:"parking meter",705:"passenger car, coach, carriage",706:"patio, terrace",707:"pay-phone, pay-station",708:"pedestal, plinth, footstall",709:"pencil box, pencil case",710:"pencil sharpener",711:"perfume, essence",712:"Petri dish",713:"photocopier",714:"pick, plectrum, plectron",715:"pickelhaube",716:"picket fence, paling",717:"pickup, pickup truck",718:"pier",719:"piggy bank, penny bank",720:"pill bottle",721:"pillow",722:"ping-pong ball",723:"pinwheel",724:"pirate, pirate ship",725:"pitcher, ewer",726:"plane, carpenter's plane, woodworking plane",727:"planetarium",728:"plastic bag",729:"plate rack",730:"plow, plough",731:"plunger, plumber's helper",732:"Polaroid camera, Polaroid Land camera",733:"pole",734:"police van, police wagon, paddy wagon, patrol wagon, wagon, black Maria",735:"poncho",736:"pool table, billiard table, snooker table",737:"pop bottle, soda bottle",738:"pot, flowerpot",739:"potter's wheel",740:"power drill",741:"prayer rug, prayer mat",742:"printer",743:"prison, prison house",744:"projectile, missile",745:"projector",746:"puck, hockey puck",747:"punching bag, punch bag, punching ball, punchball",748:"purse",749:"quill, quill pen",750:"quilt, comforter, comfort, puff",751:"racer, race car, racing car",752:"racket, racquet",753:"radiator",754:"radio, wireless",755:"radio telescope, radio reflector",756:"rain barrel",757:"recreational vehicle, RV, R.V.",758:"reel",759:"reflex camera",760:"refrigerator, icebox",761:"remote control, remote",762:"restaurant, eating house, eating place, eatery",763:"revolver, six-gun, six-shooter",764:"rifle",765:"rocking chair, rocker",766:"rotisserie",767:"rubber eraser, rubber, pencil eraser",768:"rugby ball",769:"rule, ruler",770:"running shoe",771:"safe",772:"safety pin",773:"saltshaker, salt shaker",774:"sandal",775:"sarong",776:"sax, saxophone",777:"scabbard",778:"scale, weighing machine",779:"school bus",780:"schooner",781:"scoreboard",782:"screen, CRT screen",783:"screw",784:"screwdriver",785:"seat belt, seatbelt",786:"sewing machine",787:"shield, buckler",788:"shoe shop, shoe-shop, shoe store",789:"shoji",790:"shopping basket",791:"shopping cart",792:"shovel",793:"shower cap",794:"shower curtain",795:"ski",796:"ski mask",797:"sleeping bag",798:"slide rule, slipstick",799:"sliding door",800:"slot, one-armed bandit",801:"snorkel",802:"snowmobile",803:"snowplow, snowplough",804:"soap dispenser",805:"soccer ball",806:"sock",807:"solar dish, solar collector, solar furnace",808:"sombrero",809:"soup bowl",810:"space bar",811:"space heater",812:"space shuttle",813:"spatula",814:"speedboat",815:"spider web, spider's web",816:"spindle",817:"sports car, sport car",818:"spotlight, spot",819:"stage",820:"steam locomotive",821:"steel arch bridge",822:"steel drum",823:"stethoscope",824:"stole",825:"stone wall",826:"stopwatch, stop watch",827:"stove",828:"strainer",829:"streetcar, tram, tramcar, trolley, trolley car",830:"stretcher",831:"studio couch, day bed",832:"stupa, tope",833:"submarine, pigboat, sub, U-boat",834:"suit, suit of clothes",835:"sundial",836:"sunglass",837:"sunglasses, dark glasses, shades",838:"sunscreen, sunblock, sun blocker",839:"suspension bridge",840:"swab, swob, mop",841:"sweatshirt",842:"swimming trunks, bathing trunks",843:"swing",844:"switch, electric switch, electrical switch",845:"syringe",846:"table lamp",847:"tank, army tank, armored combat vehicle, armoured combat vehicle",848:"tape player",849:"teapot",850:"teddy, teddy bear",851:"television, television system",852:"tennis ball",853:"thatch, thatched roof",854:"theater curtain, theatre curtain",855:"thimble",856:"thresher, thrasher, threshing machine",857:"throne",858:"tile roof",859:"toaster",860:"tobacco shop, tobacconist shop, tobacconist",861:"toilet seat",862:"torch",863:"totem pole",864:"tow truck, tow car, wrecker",865:"toyshop",866:"tractor",867:"trailer truck, tractor trailer, trucking rig, rig, articulated lorry, semi",868:"tray",869:"trench coat",870:"tricycle, trike, velocipede",871:"trimaran",872:"tripod",873:"triumphal arch",874:"trolleybus, trolley coach, trackless trolley",875:"trombone",876:"tub, vat",877:"turnstile",878:"typewriter keyboard",879:"umbrella",880:"unicycle, monocycle",881:"upright, upright piano",882:"vacuum, vacuum cleaner",883:"vase",884:"vault",885:"velvet",886:"vending machine",887:"vestment",888:"viaduct",889:"violin, fiddle",890:"volleyball",891:"waffle iron",892:"wall clock",893:"wallet, billfold, notecase, pocketbook",894:"wardrobe, closet, press",895:"warplane, military plane",896:"washbasin, handbasin, washbowl, lavabo, wash-hand basin",897:"washer, automatic washer, washing machine",898:"water bottle",899:"water jug",900:"water tower",901:"whiskey jug",902:"whistle",903:"wig",904:"window screen",905:"window shade",906:"Windsor tie",907:"wine bottle",908:"wing",909:"wok",910:"wooden spoon",911:"wool, woolen, woollen",912:"worm fence, snake fence, snake-rail fence, Virginia fence",913:"wreck",914:"yawl",915:"yurt",916:"web site, website, internet site, site",917:"comic book",918:"crossword puzzle, crossword",919:"street sign",920:"traffic light, traffic signal, stoplight",921:"book jacket, dust cover, dust jacket, dust wrapper",922:"menu",923:"plate",924:"guacamole",925:"consomme",926:"hot pot, hotpot",927:"trifle",928:"ice cream, icecream",929:"ice lolly, lolly, lollipop, popsicle",930:"French loaf",931:"bagel, beigel",932:"pretzel",933:"cheeseburger",934:"hotdog, hot dog, red hot",935:"mashed potato",936:"head cabbage",937:"broccoli",938:"cauliflower",939:"zucchini, courgette",940:"spaghetti squash",941:"acorn squash",942:"butternut squash",943:"cucumber, cuke",944:"artichoke, globe artichoke",945:"bell pepper",946:"cardoon",947:"mushroom",948:"Granny Smith",949:"strawberry",950:"orange",951:"lemon",952:"fig",953:"pineapple, ananas",954:"banana",955:"jackfruit, jak, jack",956:"custard apple",957:"pomegranate",958:"hay",959:"carbonara",960:"chocolate sauce, chocolate syrup",961:"dough",962:"meat loaf, meatloaf",963:"pizza, pizza pie",964:"potpie",965:"burrito",966:"red wine",967:"espresso",968:"cup",969:"eggnog",970:"alp",971:"bubble",972:"cliff, drop, drop-off",973:"coral reef",974:"geyser",975:"lakeside, lakeshore",976:"promontory, headland, head, foreland",977:"sandbar, sand bar",978:"seashore, coast, seacoast, sea-coast",979:"valley, vale",980:"volcano",981:"ballplayer, baseball player",982:"groom, bridegroom",983:"scuba diver",984:"rapeseed",985:"daisy",986:"yellow lady's slipper, yellow lady-slipper, Cypripedium calceolus, Cypripedium parviflorum",987:"corn",988:"acorn",989:"hip, rose hip, rosehip",990:"buckeye, horse chestnut, conker",991:"coral fungus",992:"agaric",993:"gyromitra",994:"stinkhorn, carrion fungus",995:"earthstar",996:"hen-of-the-woods, hen of the woods, Polyporus frondosus, Grifola frondosa",997:"bolete",998:"ear, spike, capitulum",999:"toilet tissue, toilet paper, bathroom tissue"};},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(56)),a=h(n(32)),i=h(n(31)),o=h(n(30)),s=h(n(29)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e){Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);}return t.default=e,t;}(n(10)),c=h(n(129)),l=n(280),f=n(91),p=h(n(51));function h(e){return e&&e.__esModule?e:{default:e};}var d={version:1,alpha:1,topk:3,learningRate:1e-4,hiddenUnits:100,epochs:20,numClasses:2,batchSize:.4},m=function(){function e(t,n){(0,o.default)(this,e),this.mobilenet=null,this.modelPath="https://storage.googleapis.com/tfjs-models/tfjs/mobilenet_v1_0.25_224/model.json",this.topKPredictions=10,this.hasAnyTrainedClass=!1,this.customModel=null,this.epochs=t.epochs||d.epochs,this.hiddenUnits=t.hiddenUnits||d.hiddenUnits,this.numClasses=t.numClasses||d.numClasses,this.learningRate=t.learningRate||d.learningRate,this.batchSize=t.batchSize||d.batchSize,this.isPredicting=!1,this.mapStringToIndex=[],this.usageType=null,this.ready=(0,p.default)(this.loadModel(),n);}return(0,s.default)(e,[{key:"loadModel",value:function(){var e=(0,i.default)(a.default.mark(function e(){var t,n=this;return a.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return e.next=2,u.loadModel(this.modelPath);case 2:return this.mobilenet=e.sent,t=this.mobilenet.getLayer("conv_pw_13_relu"),this.video&&u.tidy(function(){return n.mobilenet.predict((0,f.imgToTensor)(n.video));}),e.next=7,u.model({inputs:this.mobilenet.inputs,outputs:t.output});case 7:return this.mobilenetFeatures=e.sent,e.abrupt("return",this);case 9:case"end":return e.stop();}}},e,this);}));return function(){return e.apply(this,arguments);};}()},{key:"classification",value:function value(e,t){return this.usageType="classifier",e&&(0,p.default)(this.loadVideo(e),t),this;}},{key:"regression",value:function value(e,t){return this.usageType="regressor",e&&(0,p.default)(this.loadVideo(e),t),this;}},{key:"loadVideo",value:function(){var e=(0,i.default)(a.default.mark(function e(t){var n,i;return a.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:if(n=null,t instanceof HTMLVideoElement?n=t:"object"===(void 0===t?"undefined":(0,r.default)(t))&&t.elt instanceof HTMLVideoElement&&(n=t.elt),!n){e.next=7;break;}return i=new c.default(n,224),e.next=6,i.loadVideo();case 6:this.video=e.sent;case 7:return e.abrupt("return",this);case 8:case"end":return e.stop();}}},e,this);}));return function(t){return e.apply(this,arguments);};}()},{key:"addImage",value:function(){var e=(0,i.default)(a.default.mark(function e(t,n,i){var o,s,u;return a.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return o=void 0,s=void 0,u=i,t instanceof HTMLImageElement||t instanceof HTMLVideoElement?o=t:"object"===(void 0===t?"undefined":(0,r.default)(t))&&(t.elt instanceof HTMLImageElement||t.elt instanceof HTMLVideoElement)?o=t:"string"!=typeof t&&"number"!=typeof t||(o=this.video,s=t),"string"==typeof n||"number"==typeof n?s=n:"function"==typeof n&&(u=n),"string"==typeof s&&(s=this.mapStringToIndex.includes(s)?this.mapStringToIndex.indexOf(s):this.mapStringToIndex.push(s)-1),e.abrupt("return",(0,p.default)(this.addImageInternal(o,s),u));case 7:case"end":return e.stop();}}},e,this);}));return function(t,n,r){return e.apply(this,arguments);};}()},{key:"addImageInternal",value:function(){var e=(0,i.default)(a.default.mark(function e(t,n){var r=this;return a.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return e.next=2,this.ready;case 2:return u.tidy(function(){var e=(0,f.imgToTensor)(t),a=r.mobilenetFeatures.predict(e),i=void 0;if("classifier"===r.usageType?i=u.tidy(function(){return u.oneHot(u.tensor1d([n],"int32"),r.numClasses);}):"regressor"===r.usageType&&(i=u.tensor2d([[n]])),null==r.xs)r.xs=u.keep(a),r.ys=u.keep(i),r.hasAnyTrainedClass=!0;else{var o=r.xs;r.xs=u.keep(o.concat(a,0));var s=r.ys;r.ys=u.keep(s.concat(i,0)),o.dispose(),s.dispose(),i.dispose();}}),e.abrupt("return",this);case 4:case"end":return e.stop();}}},e,this);}));return function(t,n){return e.apply(this,arguments);};}()},{key:"train",value:function(){var e=(0,i.default)(a.default.mark(function e(t){var n,r,o=this;return a.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:if(this.hasAnyTrainedClass){e.next=2;break;}throw new Error("Add some examples before training!");case 2:if(this.isPredicting=!1,"classifier"===this.usageType?(this.loss="categoricalCrossentropy",this.customModel=u.sequential({layers:[u.layers.flatten({inputShape:[7,7,256]}),u.layers.dense({units:this.hiddenUnits,activation:"relu",kernelInitializer:"varianceScaling",useBias:!0}),u.layers.dense({units:this.numClasses,kernelInitializer:"varianceScaling",useBias:!1,activation:"softmax"})]})):"regressor"===this.usageType&&(this.loss="meanSquaredError",this.customModel=u.sequential({layers:[u.layers.flatten({inputShape:[7,7,256]}),u.layers.dense({units:this.hiddenUnits,activation:"relu",kernelInitializer:"varianceScaling",useBias:!0}),u.layers.dense({units:1,useBias:!1,kernelInitializer:"Zeros",activation:"linear"})]})),n=u.train.adam(this.learningRate),this.customModel.compile({optimizer:n,loss:this.loss}),(r=Math.floor(this.xs.shape[0]*this.batchSize))>0){e.next=9;break;}throw new Error("Batch size is 0 or NaN. Please choose a non-zero fraction.");case 9:return e.abrupt("return",this.customModel.fit(this.xs,this.ys,{batchSize:r,epochs:this.epochs,callbacks:{onBatchEnd:function(){var e=(0,i.default)(a.default.mark(function e(n,r){return a.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return t(r.loss.toFixed(5)),e.next=3,u.nextFrame();case 3:case"end":return e.stop();}}},e,o);}));return function(t,n){return e.apply(this,arguments);};}(),onTrainEnd:function onTrainEnd(){return t(null);}}}));case 10:case"end":return e.stop();}}},e,this);}));return function(t){return e.apply(this,arguments);};}()},{key:"classify",value:function(){var e=(0,i.default)(a.default.mark(function e(t,n){var i,o;return a.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return i=void 0,o=void 0,t instanceof HTMLImageElement||t instanceof HTMLVideoElement?i=t:"object"===(void 0===t?"undefined":(0,r.default)(t))&&(t.elt instanceof HTMLImageElement||t.elt instanceof HTMLVideoElement)?i=t.elt:"function"==typeof t&&(i=this.video,o=t),"function"==typeof n&&(o=n),e.abrupt("return",(0,p.default)(this.classifyInternal(i),o));case 5:case"end":return e.stop();}}},e,this);}));return function(t,n){return e.apply(this,arguments);};}()},{key:"classifyInternal",value:function(){var e=(0,i.default)(a.default.mark(function e(t){var n,r,i=this;return a.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:if("classifier"===this.usageType){e.next=2;break;}throw new Error("Mobilenet Feature Extraction has not been set to be a classifier.");case 2:return e.next=4,u.nextFrame();case 4:return this.isPredicting=!0,n=u.tidy(function(){var e=(0,f.imgToTensor)(t),n=i.mobilenetFeatures.predict(e);return i.customModel.predict(n).as1D().argMax();}),e.next=8,n.data();case 8:return r=e.sent[0],this.mapStringToIndex.length>0&&(r=this.mapStringToIndex[r]),e.abrupt("return",r);case 11:case"end":return e.stop();}}},e,this);}));return function(t){return e.apply(this,arguments);};}()},{key:"predict",value:function(){var e=(0,i.default)(a.default.mark(function e(t,n){var i,o;return a.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return i=void 0,o=void 0,t instanceof HTMLImageElement||t instanceof HTMLVideoElement?i=t:"object"===(void 0===t?"undefined":(0,r.default)(t))&&(t.elt instanceof HTMLImageElement||t.elt instanceof HTMLVideoElement)?i=t.elt:"function"==typeof t&&(i=this.video,o=t),"function"==typeof n&&(o=n),e.abrupt("return",(0,p.default)(this.predictInternal(i),o));case 5:case"end":return e.stop();}}},e,this);}));return function(t,n){return e.apply(this,arguments);};}()},{key:"predictInternal",value:function(){var e=(0,i.default)(a.default.mark(function e(t){var n,r,i=this;return a.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:if("regressor"===this.usageType){e.next=2;break;}throw new Error("Mobilenet Feature Extraction has not been set to be a regressor.");case 2:return e.next=4,u.nextFrame();case 4:return this.isPredicting=!0,n=u.tidy(function(){var e=(0,f.imgToTensor)(t),n=i.mobilenetFeatures.predict(e);return i.customModel.predict(n).as1D();}),e.next=8,n.data();case 8:return r=e.sent,n.dispose(),e.abrupt("return",r[0]);case 11:case"end":return e.stop();}}},e,this);}));return function(t){return e.apply(this,arguments);};}()}],[{key:"getTopKClasses",value:function(){var e=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,s,c,f,p,h,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return a.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return e.next=2,t.data();case 2:for(r=e.sent,i=[],o=0;o<r.length;o+=1){i.push({value:r[o],index:o});}for(i.sort(function(e,t){return t.value-e.value;}),s=new Float32Array(n),c=new Int32Array(n),f=0;f<n;f+=1){s[f]=i[f].value,c[f]=i[f].index;}for(p=[],h=0;h<c.length;h+=1){p.push({className:l.IMAGENET_CLASSES[c[h]],probability:s[h]});}return e.next=13,u.nextFrame();case 13:return d(void 0,p),e.abrupt("return",p);case 15:case"end":return e.stop();}}},e,this);}));return function(t,n){return e.apply(this,arguments);};}()}]),e;}();t.default=m;},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e};}(n(281));t.default=function(e,t,n){var a;if("string"!=typeof e)throw new Error('Please specify a model to use. E.g: "MobileNet"');a=e.toLowerCase();var i={},o=n;if("object"===t?i=t:"function"==typeof t&&(o=t),"mobilenet"===a)return new r.default(i,o);throw new Error(a+" is not a valid model.");};},function(e,t,n){n(130)("observable");},function(e,t,n){n(130)("asyncIterator");},function(e,t,n){var r=n(67),a=n(175).f,i={}.toString,o="object"==(typeof window==="undefined"?"undefined":_typeof(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==i.call(e)?function(e){try{return a(e);}catch(e){return o.slice();}}(e):a(r(e));};},function(e,t,n){var r=n(96);e.exports=Array.isArray||function(e){return"Array"==r(e);};},function(e,t,n){var r=n(83),a=n(136),i=n(94);e.exports=function(e){var t=r(e),n=a.f;if(n)for(var o,s=n(e),u=i.f,c=0;s.length>c;){u.call(e,o=s[c++])&&t.push(o);}return t;};},function(e,t,n){var r=n(105)("meta"),a=n(58),i=n(68),o=n(52).f,s=0,u=Object.isExtensible||function(){return!0;},c=!n(84)(function(){return u(Object.preventExtensions({}));}),l=function l(e){o(e,r,{value:{i:"O"+ ++s,w:{}}});},f=e.exports={KEY:r,NEED:!1,fastKey:function fastKey(e,t){if(!a(e))return"symbol"==(typeof e==="undefined"?"undefined":_typeof(e))?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!u(e))return"F";if(!t)return"E";l(e);}return e[r].i;},getWeak:function getWeak(e,t){if(!i(e,r)){if(!u(e))return!0;if(!t)return!1;l(e);}return e[r].w;},onFreeze:function onFreeze(e){return c&&f.NEED&&u(e)&&!i(e,r)&&l(e),e;}};},function(e,t,n){"use strict";var r=n(25),a=n(68),i=n(57),o=n(34),s=n(185),u=n(288).KEY,c=n(84),l=n(138),f=n(104),p=n(105),h=n(24),d=n(131),m=n(130),g=n(287),y=n(286),v=n(45),b=n(58),w=n(67),x=n(143),k=n(97),O=n(135),S=n(285),N=n(174),E=n(52),I=n(83),T=N.f,A=E.f,C=S.f,_P=r.Symbol,_=r.JSON,R=_&&_.stringify,M=h("_hidden"),j=h("toPrimitive"),D={}.propertyIsEnumerable,L=l("symbol-registry"),z=l("symbols"),F=l("op-symbols"),B=Object.prototype,V="function"==typeof _P,U=r.QObject,W=!U||!U.prototype||!U.prototype.findChild,G=i&&c(function(){return 7!=O(A({},"a",{get:function get(){return A(this,"a",{value:7}).a;}})).a;})?function(e,t,n){var r=T(B,t);r&&delete B[t],A(e,t,n),r&&e!==B&&A(B,t,r);}:A,q=function q(e){var t=z[e]=O(_P.prototype);return t._k=e,t;},H=V&&"symbol"==_typeof(_P.iterator)?function(e){return"symbol"==(typeof e==="undefined"?"undefined":_typeof(e));}:function(e){return e instanceof _P;},K=function K(e,t,n){return e===B&&K(F,t,n),v(e),t=x(t,!0),v(n),a(z,t)?(n.enumerable?(a(e,M)&&e[M][t]&&(e[M][t]=!1),n=O(n,{enumerable:k(0,!1)})):(a(e,M)||A(e,M,k(1,{})),e[M][t]=!0),G(e,t,n)):A(e,t,n);},X=function X(e,t){v(e);for(var n,r=g(t=w(t)),a=0,i=r.length;i>a;){K(e,n=r[a++],t[n]);}return e;},J=function J(e){var t=D.call(this,e=x(e,!0));return!(this===B&&a(z,e)&&!a(F,e))&&(!(t||!a(this,e)||!a(z,e)||a(this,M)&&this[M][e])||t);},Y=function Y(e,t){if(e=w(e),t=x(t,!0),e!==B||!a(z,t)||a(F,t)){var n=T(e,t);return!n||!a(z,t)||a(e,M)&&e[M][t]||(n.enumerable=!0),n;}},Q=function Q(e){for(var t,n=C(w(e)),r=[],i=0;n.length>i;){a(z,t=n[i++])||t==M||t==u||r.push(t);}return r;},Z=function Z(e){for(var t,n=e===B,r=C(n?F:w(e)),i=[],o=0;r.length>o;){!a(z,t=r[o++])||n&&!a(B,t)||i.push(z[t]);}return i;};V||(s((_P=function P(){if(this instanceof _P)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function t(n){this===B&&t.call(F,n),a(this,M)&&a(this[M],e)&&(this[M][e]=!1),G(this,e,k(1,n));};return i&&W&&G(B,e,{configurable:!0,set:t}),q(e);}).prototype,"toString",function(){return this._k;}),N.f=Y,E.f=K,n(175).f=S.f=Q,n(94).f=J,n(136).f=Z,i&&!n(95)&&s(B,"propertyIsEnumerable",J,!0),d.f=function(e){return q(h(e));}),o(o.G+o.W+o.F*!V,{Symbol:_P});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;$.length>ee;){h($[ee++]);}for(var te=I(h.store),ne=0;te.length>ne;){m(te[ne++]);}o(o.S+o.F*!V,"Symbol",{for:function _for(e){return a(L,e+="")?L[e]:L[e]=_P(e);},keyFor:function keyFor(e){if(!H(e))throw TypeError(e+" is not a symbol!");for(var t in L){if(L[t]===e)return t;}},useSetter:function useSetter(){W=!0;},useSimple:function useSimple(){W=!1;}}),o(o.S+o.F*!V,"Object",{create:function create(e,t){return void 0===t?O(e):X(O(e),t);},defineProperty:K,defineProperties:X,getOwnPropertyDescriptor:Y,getOwnPropertyNames:Q,getOwnPropertySymbols:Z}),_&&o(o.S+o.F*(!V||c(function(){var e=_P();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e));})),"JSON",{stringify:function stringify(e){for(var t,n,r=[e],a=1;arguments.length>a;){r.push(arguments[a++]);}if(n=t=r[1],(b(t)||void 0!==e)&&!H(e))return y(t)||(t=function t(e,_t3){if("function"==typeof n&&(_t3=n.call(this,e,_t3)),!H(_t3))return _t3;}),r[1]=t,R.apply(_,r);}}),_P.prototype[j]||n(69)(_P.prototype,j,_P.prototype.valueOf),f(_P,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0);},function(e,t,n){n(289),n(187),n(284),n(283),e.exports=n(21).Symbol;},function(e,t,n){e.exports={default:n(290),__esModule:!0};},function(e,t,n){n(92),n(103),e.exports=n(131).f("iterator");},function(e,t,n){e.exports={default:n(292),__esModule:!0};},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(56)),a=h(n(64)),i=h(n(32)),o=h(n(31)),s=h(n(30)),u=h(n(29)),c=p(n(10)),l=p(n(242)),f=h(n(51));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e){Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);}return t.default=e,t;}function h(e){return e&&e.__esModule?e:{default:e};}var d={mobilenet:{version:1,alpha:1,topk:3}},m=function(){function e(t,n,r,a){(0,s.default)(this,e),this.modelName=t,this.video=n,this.version=r.version||d[this.modelName].version,this.alpha=r.alpha||d[this.modelName].alpha,this.topk=r.topk||d[this.modelName].topk,this.model=null,"mobilenet"===this.modelName?this.modelToUse=l:this.modelToUse=null,this.ready=(0,f.default)(this.loadModel(),a);}return(0,u.default)(e,[{key:"loadModel",value:function(){var e=(0,o.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return e.next=2,this.modelToUse.load(this.version,this.alpha);case 2:return this.model=e.sent,e.abrupt("return",this);case 4:case"end":return e.stop();}}},e,this);}));return function(){return e.apply(this,arguments);};}()},{key:"predictInternal",value:function(){var e=(0,o.default)(i.default.mark(function e(t,n){var r=this;return i.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return e.next=2,this.ready;case 2:return e.next=4,c.nextFrame();case 4:if(!this.video||0!==this.video.readyState){e.next=7;break;}return e.next=7,new a.default(function(e){r.video.onloadeddata=function(){return e();};});case 7:return e.abrupt("return",this.model.classify(t,n));case 8:case"end":return e.stop();}}},e,this);}));return function(t,n){return e.apply(this,arguments);};}()},{key:"predict",value:function(){var e=(0,o.default)(i.default.mark(function e(t){var n,a,o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,u=arguments[2];return i.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return n=this.video,a=this.topk,o=void 0,"function"==typeof t?(n=this.video,o=t):"number"==typeof t?(n=this.video,a=t):t instanceof HTMLImageElement?n=t:"object"===(void 0===t?"undefined":(0,r.default)(t))&&t.elt instanceof HTMLImageElement&&(n=t.elt),"number"==typeof s?a=s:"function"==typeof s&&(o=s),"function"==typeof u&&(o=u),e.abrupt("return",(0,f.default)(this.predictInternal(n,a),o));case 7:case"end":return e.stop();}}},e,this);}));return function(t){return e.apply(this,arguments);};}()}]),e;}();t.default=function(e,t,n,a){var i,o=void 0,s={},u=a;if("string"!=typeof e)throw new Error('Please specify a model to use. E.g: "MobileNet"');i=e.toLowerCase(),t instanceof HTMLVideoElement?o=t:"object"===(void 0===t?"undefined":(0,r.default)(t))&&t.elt instanceof HTMLVideoElement?o=t.elt:"object"===(void 0===t?"undefined":(0,r.default)(t))?s=t:"function"==typeof t&&(u=t),"object"===(void 0===n?"undefined":(0,r.default)(n))?s=n:"function"==typeof n&&(u=n);var c=new m(i,o,s,u);return u?c:c.ready;};},function(e,t,n){var r=n(34);r(r.S+r.F*!n(57),"Object",{defineProperty:n(52).f});},function(e,t,n){n(295);var r=n(21).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n);};},function(e,t,n){e.exports={default:n(296),__esModule:!0};},function(e,t,n){"use strict";var r=n(34),a=n(132),i=n(178);r(r.S,"Promise",{try:function _try(e){var t=a.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise;}});},function(e,t,n){"use strict";var r=n(34),a=n(21),i=n(25),o=n(180),s=n(177);r(r.P+r.R,"Promise",{finally:function _finally(e){var t=o(this,a.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n;});}:e,n?function(n){return s(t,e()).then(function(){throw n;});}:e);}});},function(e,t,n){"use strict";var r=n(25),a=n(21),i=n(52),o=n(57),s=n(24)("species");e.exports=function(e){var t="function"==typeof a[e]?a[e]:r[e];o&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function get(){return this;}});};},function(e,t,n){var r=n(69);e.exports=function(e,t,n){for(var a in t){n&&e[a]?e[a]=t[a]:r(e,a,t[a]);}return e;};},function(e,t,n){var r=n(25).navigator;e.exports=r&&r.userAgent||"";},function(e,t,n){var r=n(25),a=n(179).set,i=r.MutationObserver||r.WebKitMutationObserver,o=r.process,s=r.Promise,u="process"==n(96)(o);e.exports=function(){var e,t,n,c=function c(){var r,a;for(u&&(r=o.domain)&&r.exit();e;){a=e.fn,e=e.next;try{a();}catch(r){throw e?n():t=void 0,r;}}t=void 0,r&&r.enter();};if(u)n=function n(){o.nextTick(c);};else if(!i||r.navigator&&r.navigator.standalone){if(s&&s.resolve){var l=s.resolve(void 0);n=function n(){l.then(c);};}else n=function n(){a.call(r,c);};}else{var f=!0,p=document.createTextNode("");new i(c).observe(p,{characterData:!0}),n=function n(){p.data=f=!f;};}return function(r){var a={fn:r,next:void 0};t&&(t.next=a),e||(e=a,n()),t=a;};};},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3]);}return e.apply(n,t);};},function(e,t,n){var r=n(85),a=n(182),i=n(181),o=n(45),s=n(141),u=n(133),c={},l={};(t=e.exports=function(e,t,n,f,p){var h,d,m,g,y=p?function(){return e;}:u(e),v=r(n,f,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(i(y)){for(h=s(e.length);h>b;b++){if((g=t?v(o(d=e[b])[0],d[1]):v(e[b]))===c||g===l)return g;}}else for(m=y.call(e);!(d=m.next()).done;){if((g=a(m,v,d.value,t))===c||g===l)return g;}}).BREAK=c,t.RETURN=l;},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e;};},function(e,t,n){"use strict";var r,a,i,o,s=n(95),u=n(25),c=n(85),l=n(134),f=n(34),p=n(58),h=n(106),d=n(306),m=n(305),g=n(180),y=n(179).set,v=n(303)(),b=n(132),w=n(178),x=n(302),k=n(177),O=u.TypeError,S=u.process,N=S&&S.versions,E=N&&N.v8||"",_I=u.Promise,T="process"==l(S),A=function A(){},C=a=b.f,P=!!function(){try{var e=_I.resolve(1),t=(e.constructor={})[n(24)("species")]=function(e){e(A,A);};return(T||"function"==typeof PromiseRejectionEvent)&&e.then(A)instanceof t&&0!==E.indexOf("6.6")&&-1===x.indexOf("Chrome/66");}catch(e){}}(),_=function _(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t;},R=function R(e,t){if(!e._n){e._n=!0;var n=e._c;v(function(){for(var r=e._v,a=1==e._s,i=0,o=function o(t){var n,i,o,s=a?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{s?(a||(2==e._h&&D(e),e._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),o=!0)),n===t.promise?c(O("Promise-chain cycle")):(i=_(n))?i.call(n,u,c):u(n)):c(r);}catch(e){l&&!o&&l.exit(),c(e);}};n.length>i;){o(n[i++]);}e._c=[],e._n=!1,t&&!e._h&&M(e);});}},M=function M(e){y.call(u,function(){var t,n,r,a=e._v,i=j(e);if(i&&(t=w(function(){T?S.emit("unhandledRejection",a,e):(n=u.onunhandledrejection)?n({promise:e,reason:a}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",a);}),e._h=T||j(e)?2:1),e._a=void 0,i&&t.e)throw t.v;});},j=function j(e){return 1!==e._h&&0===(e._a||e._c).length;},D=function D(e){y.call(u,function(){var t;T?S.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v});});},L=function L(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),R(t,!0));},z=function z(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw O("Promise can't be resolved itself");(t=_(e))?v(function(){var r={_w:n,_d:!1};try{t.call(e,c(z,r,1),c(L,r,1));}catch(e){L.call(r,e);}}):(n._v=e,n._s=1,R(n,!1));}catch(e){L.call({_w:n,_d:!1},e);}}};P||(_I=function I(e){d(this,_I,"Promise","_h"),h(e),r.call(this);try{e(c(z,this,1),c(L,this,1));}catch(e){L.call(this,e);}},(r=function r(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1;}).prototype=n(301)(_I.prototype,{then:function then(e,t){var n=C(g(this,_I));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=T?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&R(this,!1),n.promise;},catch:function _catch(e){return this.then(void 0,e);}}),i=function i(){var e=new r();this.promise=e,this.resolve=c(z,e,1),this.reject=c(L,e,1);},b.f=C=function C(e){return e===_I||e===o?new i(e):a(e);}),f(f.G+f.W+f.F*!P,{Promise:_I}),n(104)(_I,"Promise"),n(300)("Promise"),o=n(21).Promise,f(f.S+f.F*!P,"Promise",{reject:function reject(e){var t=C(this);return(0,t.reject)(e),t.promise;}}),f(f.S+f.F*(s||!P),"Promise",{resolve:function resolve(e){return k(s&&this===o?_I:this,e);}}),f(f.S+f.F*!(P&&n(176)(function(e){_I.all(e).catch(A);})),"Promise",{all:function all(e){var t=this,n=C(t),r=n.resolve,a=n.reject,i=w(function(){var n=[],i=0,o=1;m(e,!1,function(e){var s=i++,u=!1;n.push(void 0),o++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--o||r(n));},a);}),--o||r(n);});return i.e&&a(i.v),n.promise;},race:function race(e){var t=this,n=C(t),r=n.reject,a=w(function(){m(e,!1,function(e){t.resolve(e).then(n.resolve,r);});});return a.e&&r(a.v),n.promise;}});},function(e,t){e.exports=function(e,t){return{value:t,done:!!e};};},function(e,t){e.exports=function(){};},function(e,t,n){"use strict";var r=n(309),a=n(308),i=n(81),o=n(67);e.exports=n(186)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t;},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,a(1)):a(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]]);},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries");},function(e,t,n){var r=n(52),a=n(45),i=n(83);e.exports=n(57)?Object.defineProperties:function(e,t){a(e);for(var n,o=i(t),s=o.length,u=0;s>u;){r.f(e,n=o[u++],t[n]);}return e;};},function(e,t,n){"use strict";var r=n(135),a=n(97),i=n(104),o={};n(69)(o,n(24)("iterator"),function(){return this;}),e.exports=function(e,t,n){e.prototype=r(o,{next:a(1,n)}),i(e,t+" Iterator");};},function(e,t,n){var r=n(140),a=n(142);e.exports=function(e){return function(t,n){var i,o,s=String(a(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===c||(o=s.charCodeAt(u+1))<56320||o>57343?e?s.charAt(u):i:e?s.slice(u,u+2):o-56320+(i-55296<<10)+65536;};};},function(e,t,n){n(187),n(92),n(103),n(307),n(299),n(298),e.exports=n(21).Promise;},function(e,t){!function(t){"use strict";var n,r=Object.prototype,a=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag",c="object"==(typeof e==="undefined"?"undefined":_typeof(e)),l=t.regeneratorRuntime;if(l)c&&(e.exports=l);else{(l=t.regeneratorRuntime=c?e.exports:{}).wrap=w;var f="suspendedStart",p="suspendedYield",h="executing",d="completed",m={},g={};g[o]=function(){return this;};var y=Object.getPrototypeOf,v=y&&y(y(P([])));v&&v!==r&&a.call(v,o)&&(g=v);var b=S.prototype=k.prototype=Object.create(g);O.prototype=b.constructor=S,S.constructor=O,S[u]=O.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===O||"GeneratorFunction"===(t.displayName||t.name));},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(b),e;},l.awrap=function(e){return{__await:e};},N(E.prototype),E.prototype[s]=function(){return this;},l.AsyncIterator=E,l.async=function(e,t,n,r){var a=new E(w(e,t,n,r));return l.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next();});},N(b),b[u]="Generator",b[o]=function(){return this;},b.toString=function(){return"[object Generator]";},l.keys=function(e){var t=[];for(var n in e){t.push(n);}return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n;}return n.done=!0,n;};},l.values=P,C.prototype={constructor:C,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(A),!e)for(var t in this){"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n);}},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval;},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function r(r,a){return s.type="throw",s.arg=e,t.next=r,a&&(t.method="next",t.arg=n),!!a;}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc);}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc);}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break;}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(o);},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m;},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m;}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n);}return a;}}throw new Error("illegal catch attempt");},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),m;}};}function w(e,t,n,r){var a=t&&t.prototype instanceof k?t:k,i=Object.create(a.prototype),o=new C(r||[]);return i._invoke=function(e,t,n){var r=f;return function(a,i){if(r===h)throw new Error("Generator is already running");if(r===d){if("throw"===a)throw i;return _();}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=I(o,n);if(s){if(s===m)continue;return s;}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=d,n.arg;n.dispatchException(n.arg);}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=x(e,t,n);if("normal"===u.type){if(r=n.done?d:p,u.arg===m)continue;return{value:u.arg,done:n.done};}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg);}};}(e,n,o),i;}function x(e,t,n){try{return{type:"normal",arg:e.call(t,n)};}catch(e){return{type:"throw",arg:e};}}function k(){}function O(){}function S(){}function N(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e);};});}function E(e){var t;this._invoke=function(n,r){function i(){return new Promise(function(t,i){!function t(n,r,i,o){var s=x(e[n],e,r);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==(typeof c==="undefined"?"undefined":_typeof(c))&&a.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,o);},function(e){t("throw",e,i,o);}):Promise.resolve(c).then(function(e){u.value=e,i(u);},o);}o(s.arg);}(n,r,t,i);});}return t=t?t.then(i,i):i();};}function I(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,I(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method");}return m;}var a=x(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m);}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t);}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t;}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0);}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;){if(a.call(e,r))return t.value=e[r],t.done=!1,t;}return t.value=n,t.done=!0,t;};return i.next=i;}}return{next:_};}function _(){return{value:n,done:!0};}}(function(){return this;}()||Function("return this")());},function(e,t,n){var r=function(){return this;}()||Function("return this")(),a=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=a&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(315),a)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime;}catch(e){r.regeneratorRuntime=void 0;}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(32)),a=c(n(31)),i=c(n(30)),o=c(n(29)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e){Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);}return t.default=e,t;}(n(10)),u=c(n(51));function c(e){return e&&e.__esModule?e:{default:e};}var l=function(){function e(t,n,r,a){(0,i.default)(this,e),this.model=t,this.audioContext=n,this.stream=r,this.frequency=null,this.ready=(0,u.default)(this.loadModel(t),a);}return(0,o.default)(e,[{key:"loadModel",value:function(){var e=(0,a.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return e.next=2,s.loadModel(t+"/model.json");case 2:if(this.model=e.sent,!this.audioContext){e.next=8;break;}return e.next=6,this.processStream();case 6:e.next=9;break;case 8:throw new Error("Could not access microphone - getUserMedia not available");case 9:return e.abrupt("return",this);case 10:case"end":return e.stop();}}},e,this);}));return function(t){return e.apply(this,arguments);};}()},{key:"processStream",value:function(){var e=(0,a.default)(r.default.mark(function e(){var t,n,a,i,o;return r.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return e.next=2,s.nextFrame();case 2:for(t=this.audioContext.createMediaStreamSource(this.stream),n=this.audioContext.sampleRate/16e3*1024,a=4;a<n;){a*=2;}(i=this.audioContext.createScriptProcessor(a,1,1)).onaudioprocess=this.processMicrophoneBuffer.bind(this),(o=this.audioContext.createGain()).gain.setValueAtTime(0,this.audioContext.currentTime),t.connect(i),i.connect(o),o.connect(this.audioContext.destination),"running"!==this.audioContext.state&&console.warn("User gesture needed to start AudioContext, please click");case 14:case"end":return e.stop();}}},e,this);}));return function(){return e.apply(this,arguments);};}()},{key:"processMicrophoneBuffer",value:function(){var t=(0,a.default)(r.default.mark(function t(n){var a,i=this;return r.default.wrap(function(t){for(;;){switch(t.prev=t.next){case 0:return t.next=2,s.nextFrame();case 2:this.results={},a=s.add(s.linspace(0,7180,360),s.tensor(1997.379408437619)),e.resample(n.inputBuffer,function(e){s.tidy(function(){i.running=!0;var t=s.tensor(e.slice(0,1024)),n=s.sub(t,s.mean(t)),r=s.tensor(s.norm(n).dataSync()/Math.sqrt(1024)),o=s.div(n,r).reshape([1,1024]),u=i.model.predict([o]).reshape([360]),c=u.max().dataSync()[0],l=u.argMax().dataSync()[0];i.results.confidence=c.toFixed(3);var f=Math.max(0,l-4),p=Math.min(360,l+5),h=u.slice([f],[p-f]),d=a.slice([f],[p-f]),m=s.mul(h,d).dataSync().reduce(function(e,t){return e+t;},0)/h.dataSync().reduce(function(e,t){return e+t;},0),g=10*Math.pow(m/1200,2),y=c>.5?g:null;i.frequency=y;});});case 5:case"end":return t.stop();}}},t,this);}));return function(e){return t.apply(this,arguments);};}()},{key:"getPitch",value:function(){var e=(0,a.default)(r.default.mark(function e(t){var n;return r.default.wrap(function(e){for(;;){switch(e.prev=e.next){case 0:return e.next=2,this.ready;case 2:return e.next=4,s.nextFrame();case 4:return n=this.frequency,t&&t(void 0,n),e.abrupt("return",n);case 7:case"end":return e.stop();}}},e,this);}));return function(t){return e.apply(this,arguments);};}()}],[{key:"resample",value:function value(e,t){for(var n=e.sampleRate%16e3!=0,r=e.sampleRate/16e3,a=e.getChannelData(0),i=new Float32Array(1024),o=0;o<1024;o+=1){if(n){var s=Math.floor(o*r),u=s+1,c=o*r-s;i[o]=(1-c)*a[s]+c*a[u];}else i[o]=a[o*r];}t(i);}}]),e;}();t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"./",t=arguments[1],n=arguments[2],r=arguments[3];return new l(e,t,n,r);};},function(e,t,n){"use strict";e.exports={};},function(e,t,n){"use strict";e.exports=a;var r=n(65);function a(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n);}(a.prototype=Object.create(r.EventEmitter.prototype)).constructor=a,a.prototype.rpcCall=function e(t,n,a,i,o){if(!i)throw TypeError("request must be specified");var s=this;if(!o)return r.asPromise(e,s,t,n,a,i);if(s.rpcImpl)try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(e,n){if(e)return s.emit("error",e,t),o(e);if(null!==n){if(!(n instanceof a))try{n=a[s.responseDelimited?"decodeDelimited":"decode"](n);}catch(e){return s.emit("error",e,t),o(e);}return s.emit("data",n,t),o(null,n);}s.end(!0);});}catch(e){return s.emit("error",e,t),void setTimeout(function(){o(e);},0);}else setTimeout(function(){o(Error("already ended"));},0);},a.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this;};},function(e,t,n){"use strict";t.Service=n(319);},function(e,t,n){"use strict";e.exports=i;var r=n(188);(i.prototype=Object.create(r.prototype)).constructor=i;var a=n(65);function i(e){r.call(this,e);}a.Buffer&&(i.prototype._slice=a.Buffer.prototype.slice),i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len));};},function(e,t,n){"use strict";e.exports=o;var r=n(189);(o.prototype=Object.create(r.prototype)).constructor=o;var a=n(65),i=a.Buffer;function o(){r.call(this);}o.alloc=function(e){return(o.alloc=a._Buffer_allocUnsafe)(e);};var s=i&&i.prototype instanceof Uint8Array&&"set"===i.prototype.set.name?function(e,t,n){t.set(e,n);}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;){t[n++]=e[r++];}};function u(e,t,n){e.length<40?a.utf8.write(e,t,n):t.utf8Write(e,n);}o.prototype.bytes=function(e){a.isString(e)&&(e=a._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(s,t,e),this;},o.prototype.string=function(e){var t=i.byteLength(e);return this.uint32(t),t&&this._push(u,t,e),this;};},function(e,t,n){"use strict";e.exports=a;var r=n(65);function a(e,t){this.lo=e>>>0,this.hi=t>>>0;}var i=a.zero=new a(0,0);i.toNumber=function(){return 0;},i.zzEncode=i.zzDecode=function(){return this;},i.length=function(){return 1;};var o=a.zeroHash="\0\0\0\0\0\0\0\0";a.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new a(n,r);},a.from=function(e){if("number"==typeof e)return a.fromNumber(e);if(r.isString(e)){if(!r.Long)return a.fromNumber(parseInt(e,10));e=r.Long.fromString(e);}return e.low||e.high?new a(e.low>>>0,e.high>>>0):i;},a.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n);}return this.lo+4294967296*this.hi;},a.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)};};var s=String.prototype.charCodeAt;a.fromHash=function(e){return e===o?i:new a((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0);},a.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24);},a.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this;},a.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this;},a.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10;};},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=n||8192,a=r>>>1,i=null,o=r;return function(n){if(n<1||n>a)return e(n);o+n>r&&(i=e(r),o=0);var s=t.call(i,o,o+=n);return 7&o&&(o=1+(7|o)),s;};};},function(e,t,n){"use strict";var r=t;r.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r){(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;}return t;},r.read=function(e,t,n){if(n-t<1)return"";for(var r,a=null,i=[],o=0;t<n;){(r=e[t++])<128?i[o++]=r:r>191&&r<224?i[o++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[o++]=55296+(r>>10),i[o++]=56320+(1023&r)):i[o++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,i)),o=0);}return a?(o&&a.push(String.fromCharCode.apply(String,i.slice(0,o))),a.join("")):String.fromCharCode.apply(String,i.slice(0,o));},r.write=function(e,t,n){for(var r,a,i=n,o=0;o<e.length;++o){(r=e.charCodeAt(o))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(a=e.charCodeAt(o+1)))?(r=65536+((1023&r)<<10)+(1023&a),++o,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);}return n-i;};},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod;}catch(e){}return null;}module.exports=inquire;},function(e,t,n){"use strict";function r(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function a(e,r,a){t[0]=e,r[a]=n[0],r[a+1]=n[1],r[a+2]=n[2],r[a+3]=n[3];}function i(e,r,a){t[0]=e,r[a]=n[3],r[a+1]=n[2],r[a+2]=n[1],r[a+3]=n[0];}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0];}function s(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0];}e.writeFloatLE=r?a:i,e.writeFloatBE=r?i:a,e.readFloatLE=r?o:s,e.readFloatBE=r?s:o;}():function(){function t(e,t,n,r){var a=t<0?1:0;if(a&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>3.4028234663852886e38)e((a<<31|2139095040)>>>0,n,r);else if(t<1.1754943508222875e-38)e((a<<31|Math.round(t/1.401298464324817e-45))>>>0,n,r);else{var i=Math.floor(Math.log(t)/Math.LN2);e((a<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,n,r);}}function n(e,t,n){var r=e(t,n),a=2*(r>>31)+1,i=r>>>23&255,o=8388607&r;return 255===i?o?NaN:a*(1/0):0===i?1.401298464324817e-45*a*o:a*Math.pow(2,i-150)*(o+8388608);}e.writeFloatLE=t.bind(null,a),e.writeFloatBE=t.bind(null,i),e.readFloatLE=n.bind(null,o),e.readFloatBE=n.bind(null,s);}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function a(e,r,a){t[0]=e,r[a]=n[0],r[a+1]=n[1],r[a+2]=n[2],r[a+3]=n[3],r[a+4]=n[4],r[a+5]=n[5],r[a+6]=n[6],r[a+7]=n[7];}function i(e,r,a){t[0]=e,r[a]=n[7],r[a+1]=n[6],r[a+2]=n[5],r[a+3]=n[4],r[a+4]=n[3],r[a+5]=n[2],r[a+6]=n[1],r[a+7]=n[0];}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0];}function s(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0];}e.writeDoubleLE=r?a:i,e.writeDoubleBE=r?i:a,e.readDoubleLE=r?o:s,e.readDoubleBE=r?s:o;}():function(){function t(e,t,n,r,a,i){var o=r<0?1:0;if(o&&(r=-r),0===r)e(0,a,i+t),e(1/r>0?0:2147483648,a,i+n);else if(isNaN(r))e(0,a,i+t),e(2146959360,a,i+n);else if(r>1.7976931348623157e308)e(0,a,i+t),e((o<<31|2146435072)>>>0,a,i+n);else{var s;if(r<2.2250738585072014e-308)e((s=r/5e-324)>>>0,a,i+t),e((o<<31|s/4294967296)>>>0,a,i+n);else{var u=Math.floor(Math.log(r)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(s=r*Math.pow(2,-u))>>>0,a,i+t),e((o<<31|u+1023<<20|1048576*s&1048575)>>>0,a,i+n);}}}function n(e,t,n,r,a){var i=e(r,a+t),o=e(r,a+n),s=2*(o>>31)+1,u=o>>>20&2047,c=4294967296*(1048575&o)+i;return 2047===u?c?NaN:s*(1/0):0===u?5e-324*s*c:s*Math.pow(2,u-1075)*(c+4503599627370496);}e.writeDoubleLE=t.bind(null,a,0,4),e.writeDoubleBE=t.bind(null,i,4,0),e.readDoubleLE=n.bind(null,o,0,4),e.readDoubleBE=n.bind(null,s,4,0);}(),e;}function a(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24;}function i(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e;}function o(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0;}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0;}e.exports=r(r);},function(e,t,n){"use strict";function r(){this._listeners={};}e.exports=r,r.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this;},r.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;){n[r].fn===t?n.splice(r,1):++r;}return this;},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;){n.push(arguments[r++]);}for(r=0;r<t.length;){t[r].fn.apply(t[r++].ctx,n);}}return this;};},function(e,t,n){"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);){++n;}return Math.ceil(3*e.length)/4-n;};for(var a=new Array(64),i=new Array(123),o=0;o<64;){i[a[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;}r.encode=function(e,t,n){for(var r,i=null,o=[],s=0,u=0;t<n;){var c=e[t++];switch(u){case 0:o[s++]=a[c>>2],r=(3&c)<<4,u=1;break;case 1:o[s++]=a[r|c>>4],r=(15&c)<<2,u=2;break;case 2:o[s++]=a[r|c>>6],o[s++]=a[63&c],u=0;}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0);}return u&&(o[s++]=a[r],o[s++]=61,1===u&&(o[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s));},r.decode=function(e,t,n){for(var r,a=n,o=0,s=0;s<e.length;){var u=e.charCodeAt(s++);if(61===u&&o>1)break;if(void 0===(u=i[u]))throw Error("invalid encoding");switch(o){case 0:r=u,o=1;break;case 1:t[n++]=r<<2|(48&u)>>4,r=u,o=2;break;case 2:t[n++]=(15&r)<<4|(60&u)>>2,r=u,o=3;break;case 3:t[n++]=(3&r)<<6|u,o=0;}}if(1===o)throw Error("invalid encoding");return n-a;},r.test=function(e){return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e);};},function(e,t,n){"use strict";e.exports=function(e,t){for(var n=new Array(arguments.length-1),r=0,a=2,i=!0;a<arguments.length;){n[r++]=arguments[a++];}return new Promise(function(a,o){n[r]=function(e){if(i)if(i=!1,e)o(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;){t[n++]=arguments[n];}a.apply(null,t);}};try{e.apply(t||null,n);}catch(e){i&&(i=!1,o(e));}});};},function(e,t,n){"use strict";var r=t;function a(){r.Reader._configure(r.BufferReader),r.util._configure();}r.build="minimal",r.Writer=n(189),r.BufferWriter=n(322),r.Reader=n(188),r.BufferReader=n(321),r.util=n(65),r.rpc=n(320),r.roots=n(318),r.configure=a,r.Writer._configure(r.BufferWriter),a();},function(e,t,n){"use strict";var r=function r(e){switch(typeof e==="undefined"?"undefined":_typeof(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return"";}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==(typeof e==="undefined"?"undefined":_typeof(e))?i(o(e),function(o){var s=encodeURIComponent(r(o))+n;return a(e[o])?i(e[o],function(e){return s+encodeURIComponent(r(e));}).join(t):s+encodeURIComponent(r(e[o]));}).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):"";};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e);};function i(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++){n.push(t(e[r],r));}return n;}var o=Object.keys||function(e){var t=[];for(var n in e){Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);}return t;};},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t);}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(t);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var f,p,h,d,m=e[l].replace(s,"%20"),g=m.indexOf(n);g>=0?(f=m.substr(0,g),p=m.substr(g+1)):(f=m,p=""),h=decodeURIComponent(f),d=decodeURIComponent(p),r(o,h)?a(o[h])?o[h].push(d):o[h]=[o[h],d]:o[h]=d;}return o;};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e);};},function(e,t,n){"use strict";t.decode=t.parse=n(333),t.encode=t.stringify=n(332);},function(e,t,n){"use strict";e.exports={isString:function isString(e){return"string"==typeof e;},isObject:function isObject(e){return"object"==(typeof e==="undefined"?"undefined":_typeof(e))&&null!==e;},isNull:function isNull(e){return null===e;},isNullOrUndefined:function isNullOrUndefined(e){return null==e;}};},function(e,t,n){(function(e,r){var a;/*! https://mths.be/punycode v1.3.2 by @mathias */!function(i){"object"==(typeof t==="undefined"?"undefined":_typeof(t))&&t&&t.nodeType,"object"==(typeof e==="undefined"?"undefined":_typeof(e))&&e&&e.nodeType;var o="object"==(typeof r==="undefined"?"undefined":_typeof(r))&&r;o.global!==o&&o.window!==o&&o.self;var s,u=2147483647,c=36,l=1,f=26,p=38,h=700,d=72,m=128,g="-",y=/^xn--/,v=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=c-l,k=Math.floor,O=String.fromCharCode;function S(e){throw RangeError(w[e]);}function N(e,t){for(var n=e.length,r=[];n--;){r[n]=t(e[n]);}return r;}function E(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+N((e=e.replace(b,".")).split("."),t).join(".");}function I(e){for(var t,n,r=[],a=0,i=e.length;a<i;){(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<i?56320==(64512&(n=e.charCodeAt(a++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),a--):r.push(t);}return r;}function T(e){return N(e,function(e){var t="";return e>65535&&(t+=O((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+O(e);}).join("");}function A(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:c;}function C(e,t){return e+22+75*(e<26)-((0!=t)<<5);}function P(e,t,n){var r=0;for(e=n?k(e/h):e>>1,e+=k(e/t);e>x*f>>1;r+=c){e=k(e/x);}return k(r+(x+1)*e/(e+p));}function _(e){var t,n,r,a,i,o,s,p,h,y,v=[],b=e.length,w=0,x=m,O=d;for((n=e.lastIndexOf(g))<0&&(n=0),r=0;r<n;++r){e.charCodeAt(r)>=128&&S("not-basic"),v.push(e.charCodeAt(r));}for(a=n>0?n+1:0;a<b;){for(i=w,o=1,s=c;a>=b&&S("invalid-input"),((p=A(e.charCodeAt(a++)))>=c||p>k((u-w)/o))&&S("overflow"),w+=p*o,!(p<(h=s<=O?l:s>=O+f?f:s-O));s+=c){o>k(u/(y=c-h))&&S("overflow"),o*=y;}O=P(w-i,t=v.length+1,0==i),k(w/t)>u-x&&S("overflow"),x+=k(w/t),w%=t,v.splice(w++,0,x);}return T(v);}function R(e){var t,n,r,a,i,o,s,p,h,y,v,b,w,x,N,E=[];for(b=(e=I(e)).length,t=m,n=0,i=d,o=0;o<b;++o){(v=e[o])<128&&E.push(O(v));}for(r=a=E.length,a&&E.push(g);r<b;){for(s=u,o=0;o<b;++o){(v=e[o])>=t&&v<s&&(s=v);}for(s-t>k((u-n)/(w=r+1))&&S("overflow"),n+=(s-t)*w,t=s,o=0;o<b;++o){if((v=e[o])<t&&++n>u&&S("overflow"),v==t){for(p=n,h=c;!(p<(y=h<=i?l:h>=i+f?f:h-i));h+=c){N=p-y,x=c-y,E.push(O(C(y+N%x,0))),p=k(N/x);}E.push(O(C(p,0))),i=P(n,w,r==a),n=0,++r;}}++n,++t;}return E.join("");}s={version:"1.3.2",ucs2:{decode:I,encode:T},decode:_,encode:R,toASCII:function toASCII(e){return E(e,function(e){return v.test(e)?"xn--"+R(e):e;});},toUnicode:function toUnicode(e){return E(e,function(e){return y.test(e)?_(e.slice(4).toLowerCase()):e;});}},void 0===(a=function(){return s;}.call(t,n,t,e))||(e.exports=a);}();}).call(this,n(66)(e),n(101));},function(e,t){},function(e,t,n){var r;!function(a,i){var o,s=this,u=256,c=6,l="random",f=i.pow(u,c),p=i.pow(2,52),h=2*p,d=u-1;function m(e,t,n){var r=[],m=y(function e(t,n){var r,a=[],i=typeof t==="undefined"?"undefined":_typeof(t);if(n&&"object"==i)for(r in t){try{a.push(e(t[r],n-1));}catch(e){}}return a.length?a:"string"==i?t:t+"\0";}((t=1==t?{entropy:!0}:t||{}).entropy?[e,v(a)]:null==e?function(){try{var e;return o&&(e=o.randomBytes)?e=e(u):(e=new Uint8Array(u),(s.crypto||s.msCrypto).getRandomValues(e)),v(e);}catch(e){var t=s.navigator,n=t&&t.plugins;return[+new Date(),s,n,s.screen,v(a)];}}():e,3),r),b=new function(e){var t,n=e.length,r=this,a=0,i=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);a<u;){o[a]=a++;}for(a=0;a<u;a++){o[a]=o[i=d&i+e[a%n]+(t=o[a])],o[i]=t;}(r.g=function(e){for(var t,n=0,a=r.i,i=r.j,o=r.S;e--;){t=o[a=d&a+1],n=n*u+o[d&(o[a]=o[i=d&i+t])+(o[i]=t)];}return r.i=a,r.j=i,n;})(u);}(r),w=function w(){for(var e=b.g(c),t=f,n=0;e<p;){e=(e+n)*u,t*=u,n=b.g(1);}for(;e>=h;){e/=2,t/=2,n>>>=1;}return(e+n)/t;};return w.int32=function(){return 0|b.g(4);},w.quick=function(){return b.g(4)/4294967296;},w.double=w,y(v(b.S),a),(t.pass||n||function(e,t,n,r){return r&&(r.S&&g(r,b),e.state=function(){return g(b,{});}),n?(i[l]=e,t):e;})(w,m,"global"in t?t.global:this==i,t.state);}function g(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t;}function y(e,t){for(var n,r=e+"",a=0;a<r.length;){t[d&a]=d&(n^=19*t[d&a])+r.charCodeAt(a++);}return v(t);}function v(e){return String.fromCharCode.apply(0,e);}if(i["seed"+l]=m,y(i.random(),a),"object"==(typeof e==="undefined"?"undefined":_typeof(e))&&e.exports){e.exports=m;try{o=n(337);}catch(e){}}else void 0===(r=function(){return m;}.call(t,n,t,e))||(e.exports=r);}([],Math);},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t;}function s(e,t){var n=new function(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0;},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++){t.b^=0|n.charCodeAt(r),t.next();}}(e),r=t&&t.state,a=function a(){return(n.next()>>>0)/4294967296;};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21);}while(0===e);return e;},a.int32=n.next,a.quick=a,r&&("object"==(typeof r==="undefined"?"undefined":_typeof(r))&&o(r,n),a.state=function(){return o(n,{});}),a;}a&&a.exports?a.exports=s:n(33)&&n(82)?void 0===(r=function(){return s;}.call(t,n,t,a))||(a.exports=r):this.tychei=s;}(0,"object"==(typeof e==="undefined"?"undefined":_typeof(e))&&e,n(33));}).call(this,n(66)(e));},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t;}function s(e,t){null==e&&(e=+new Date());var n=new function(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,i=t.i;return t.w=r=r+1640531527|0,n=a[i+34&127],e=a[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[i]=n^e,t.i=i,n+(r^r>>>16)|0;},function(e,t){var n,r,a,i,o,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),a=0,i=-32;i<u;++i){t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(o=o+1640531527|0,a=0==(n=s[127&i]^=r+o)?a+1:0);}for(a>=128&&(s[127&(t&&t.length||0)]=-1),a=127,i=512;i>0;--i){r=s[a+34&127],n=s[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[a]=r^n;}e.w=o,e.X=s,e.i=a;}(t,e);}(e),r=t&&t.state,a=function a(){return(n.next()>>>0)/4294967296;};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21);}while(0===e);return e;},a.int32=n.next,a.quick=a,r&&(r.X&&o(r,n),a.state=function(){return o(n,{});}),a;}a&&a.exports?a.exports=s:n(33)&&n(82)?void 0===(r=function(){return s;}.call(t,n,t,a))||(a.exports=r):this.xor4096=s;}(0,"object"==(typeof e==="undefined"?"undefined":_typeof(e))&&e,n(33));}).call(this,n(66)(e));},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e,t){return t.x=e.x.slice(),t.i=e.i,t;}function s(e,t){null==e&&(e=+new Date());var n=new function(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n;},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n){r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;}for(;r.length<8;){r.push(0);}for(n=0;n<8&&0===r[n];++n){}for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n){e.next();}}(t,e);}(e),r=t&&t.state,a=function a(){return(n.next()>>>0)/4294967296;};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21);}while(0===e);return e;},a.int32=n.next,a.quick=a,r&&(r.x&&o(r,n),a.state=function(){return o(n,{});}),a;}a&&a.exports?a.exports=s:n(33)&&n(82)?void 0===(r=function(){return s;}.call(t,n,t,a))||(a.exports=r):this.xorshift7=s;}(0,"object"==(typeof e==="undefined"?"undefined":_typeof(e))&&e,n(33));}).call(this,n(66)(e));},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t;}function s(e,t){var n=new function(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0;},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++){t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next();}}(e),r=t&&t.state,a=function a(){return(n.next()>>>0)/4294967296;};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21);}while(0===e);return e;},a.int32=n.next,a.quick=a,r&&("object"==(typeof r==="undefined"?"undefined":_typeof(r))&&o(r,n),a.state=function(){return o(n,{});}),a;}a&&a.exports?a.exports=s:n(33)&&n(82)?void 0===(r=function(){return s;}.call(t,n,t,a))||(a.exports=r):this.xorwow=s;}(0,"object"==(typeof e==="undefined"?"undefined":_typeof(e))&&e,n(33));}).call(this,n(66)(e));},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t;}function s(e,t){var n=new function(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8;},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++){t.x^=0|n.charCodeAt(r),t.next();}}(e),r=t&&t.state,a=function a(){return(n.next()>>>0)/4294967296;};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21);}while(0===e);return e;},a.int32=n.next,a.quick=a,r&&("object"==(typeof r==="undefined"?"undefined":_typeof(r))&&o(r,n),a.state=function(){return o(n,{});}),a;}a&&a.exports?a.exports=s:n(33)&&n(82)?void 0===(r=function(){return s;}.call(t,n,t,a))||(a.exports=r):this.xor128=s;}(0,"object"==(typeof e==="undefined"?"undefined":_typeof(e))&&e,n(33));}).call(this,n(66)(e));},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t;}function s(e,t){var n=new function(e){var t=this,n=function(){var e=4022871197;return function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e);}return 2.3283064365386963e-10*(e>>>0);};}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e);},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null;}(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0;},a.double=function(){return a()+1.1102230246251565e-16*(2097152*a()|0);},a.quick=a,r&&("object"==(typeof r==="undefined"?"undefined":_typeof(r))&&o(r,n),a.state=function(){return o(n,{});}),a;}a&&a.exports?a.exports=s:n(33)&&n(82)?void 0===(r=function(){return s;}.call(t,n,t,a))||(a.exports=r):this.alea=s;}(0,"object"==(typeof e==="undefined"?"undefined":_typeof(e))&&e,n(33));}).call(this,n(66)(e));},function(e,t,n){var r=n(140),a=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?a(e+t,0):i(e,t);};},function(e,t,n){var r=n(67),a=n(141),i=n(345);e.exports=function(e){return function(t,n,o){var s,u=r(t),c=a(u.length),l=i(o,c);if(e&&n!=n){for(;c>l;){if((s=u[l++])!=s)return!0;}}else for(;c>l;l++){if((e||l in u)&&u[l]===n)return e||l||0;}return!e&&-1;};};},function(e,t,n){"use strict";var r=n(83),a=n(136),i=n(94),o=n(93),s=n(190),u=Object.assign;e.exports=!u||n(84)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e;}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r;})?function(e,t){for(var n=o(e),u=arguments.length,c=1,l=a.f,f=i.f;u>c;){for(var p,h=s(arguments[c++]),d=l?r(h).concat(l(h)):r(h),m=d.length,g=0;m>g;){f.call(h,p=d[g++])&&(n[p]=h[p]);}}return n;}:u;},function(e,t,n){var r=n(34);r(r.S+r.F,"Object",{assign:n(347)});},function(e,t,n){n(348),e.exports=n(21).Object.assign;},function(e,t,n){e.exports={default:n(349),__esModule:!0};},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e};}(n(350));t.default=r.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);}}return e;};},function(e,t,n){"use strict";var r=g(n(351)),a=m(n(10)),i=g(n(317)),o=g(n(294)),s=g(n(282)),u=g(n(273)),c=g(n(266)),l=g(n(254)),f=m(n(91)),p=g(n(251)),h=g(n(250)),d=g(n(244));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e){Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);}return t.default=e,t;}function g(e){return e&&e.__esModule?e:{default:e};}e.exports=(0,r.default)({imageClassifier:o.default,featureExtractor:s.default,pitchDetection:i.default,YOLO:c.default,word2vec:u.default,styleTransfer:p.default,poseNet:l.default,LSTMGenerator:h.default,pix2pix:d.default},f,{tf:a});},function(e,t){e.exports=function(e,t){var n=t===Object(t)?function(e){return t[e];}:t;return function(t){return String(t).replace(e,n);};};},function(e,t,n){var r=n(5),a=n(353)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function escape(e){return a(e);}});},function(e,t,n){n(354),e.exports=n(43).RegExp.escape;},function(e,t,n){(function(t){!function(t){"use strict";var n,r=Object.prototype,a=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag",c="object"==(typeof e==="undefined"?"undefined":_typeof(e)),l=t.regeneratorRuntime;if(l)c&&(e.exports=l);else{(l=t.regeneratorRuntime=c?e.exports:{}).wrap=w;var f="suspendedStart",p="suspendedYield",h="executing",d="completed",m={},g={};g[o]=function(){return this;};var y=Object.getPrototypeOf,v=y&&y(y(P([])));v&&v!==r&&a.call(v,o)&&(g=v);var b=S.prototype=k.prototype=Object.create(g);O.prototype=b.constructor=S,S.constructor=O,S[u]=O.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===O||"GeneratorFunction"===(t.displayName||t.name));},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(b),e;},l.awrap=function(e){return{__await:e};},N(E.prototype),E.prototype[s]=function(){return this;},l.AsyncIterator=E,l.async=function(e,t,n,r){var a=new E(w(e,t,n,r));return l.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next();});},N(b),b[u]="Generator",b[o]=function(){return this;},b.toString=function(){return"[object Generator]";},l.keys=function(e){var t=[];for(var n in e){t.push(n);}return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n;}return n.done=!0,n;};},l.values=P,C.prototype={constructor:C,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(A),!e)for(var t in this){"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n);}},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval;},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function r(r,a){return s.type="throw",s.arg=e,t.next=r,a&&(t.method="next",t.arg=n),!!a;}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc);}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc);}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break;}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(o);},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m;},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m;}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n);}return a;}}throw new Error("illegal catch attempt");},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),m;}};}function w(e,t,n,r){var a=t&&t.prototype instanceof k?t:k,i=Object.create(a.prototype),o=new C(r||[]);return i._invoke=function(e,t,n){var r=f;return function(a,i){if(r===h)throw new Error("Generator is already running");if(r===d){if("throw"===a)throw i;return _();}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=I(o,n);if(s){if(s===m)continue;return s;}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=d,n.arg;n.dispatchException(n.arg);}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=x(e,t,n);if("normal"===u.type){if(r=n.done?d:p,u.arg===m)continue;return{value:u.arg,done:n.done};}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg);}};}(e,n,o),i;}function x(e,t,n){try{return{type:"normal",arg:e.call(t,n)};}catch(e){return{type:"throw",arg:e};}}function k(){}function O(){}function S(){}function N(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e);};});}function E(e){function n(t,r,i,o){var s=x(e[t],e,r);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==(typeof c==="undefined"?"undefined":_typeof(c))&&a.call(c,"__await")?Promise.resolve(c.__await).then(function(e){n("next",e,i,o);},function(e){n("throw",e,i,o);}):Promise.resolve(c).then(function(e){u.value=e,i(u);},o);}o(s.arg);}var r;"object"==_typeof(t.process)&&t.process.domain&&(n=t.process.domain.bind(n)),this._invoke=function(e,t){function a(){return new Promise(function(r,a){n(e,t,r,a);});}return r=r?r.then(a,a):a();};}function I(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,I(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method");}return m;}var a=x(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m);}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t);}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t;}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0);}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;){if(a.call(e,r))return t.value=e[r],t.done=!1,t;}return t.value=n,t.done=!0,t;};return i.next=i;}}return{next:_};}function _(){return{value:n,done:!0};}}("object"==(typeof t==="undefined"?"undefined":_typeof(t))?t:"object"==(typeof window==="undefined"?"undefined":_typeof(window))?window:"object"==(typeof self==="undefined"?"undefined":_typeof(self))?self:this);}).call(this,n(101));},function(e,t,n){for(var r=n(149),a=n(77),i=n(27),o=n(13),s=n(28),u=n(87),c=n(16),l=c("iterator"),f=c("toStringTag"),p=u.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=a(h),m=0;m<d.length;m++){var g,y=d[m],v=h[y],b=o[y],w=b&&b.prototype;if(w&&(w[l]||s(w,l,p),w[f]||s(w,f,y),u[y]=p,v))for(g in r){w[g]||i(w,g,r[g],!0);}}},function(e,t,n){var r=n(5),a=n(148);r(r.G+r.B,{setImmediate:a.set,clearImmediate:a.clear});},function(e,t,n){var r=n(13),a=n(5),i=n(112),o=[].slice,s=/MSIE .\./.test(i),u=function u(e){return function(t,n){var r=arguments.length>2,a=!!r&&o.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,a);}:t,n);};};a(a.G+a.B+a.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)});},function(e,t,n){"use strict";var r=n(5),a=n(13),i=n(43),o=n(147)(),s=n(16)("observable"),u=n(23),c=n(12),l=n(72),f=n(70),p=n(28),h=n(71),d=h.RETURN,m=function m(e){return null==e?void 0:u(e);},g=function g(e){var t=e._c;t&&(e._c=void 0,t());},y=function y(e){return void 0===e._o;},v=function v(e){y(e)||(e._o=void 0,g(e));},b=function b(e,t){c(e),this._c=void 0,this._o=e,e=new w(this);try{var n=t(e),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function n(){r.unsubscribe();}:u(n),this._c=n);}catch(t){return void e.error(t);}y(this)&&g(this);};b.prototype=f({},{unsubscribe:function unsubscribe(){v(this);}});var w=function w(e){this._s=e;};w.prototype=f({},{next:function next(e){var t=this._s;if(!y(t)){var n=t._o;try{var r=m(n.next);if(r)return r.call(n,e);}catch(e){try{v(t);}finally{throw e;}}}},error:function error(e){var t=this._s;if(y(t))throw e;var n=t._o;t._o=void 0;try{var r=m(n.error);if(!r)throw e;e=r.call(n,e);}catch(e){try{g(t);}finally{throw e;}}return g(t),e;},complete:function complete(e){var t=this._s;if(!y(t)){var n=t._o;t._o=void 0;try{var r=m(n.complete);e=r?r.call(n,e):void 0;}catch(e){try{g(t);}finally{throw e;}}return g(t),e;}}});var x=function x(e){l(this,x,"Observable","_f")._f=u(e);};f(x.prototype,{subscribe:function subscribe(e){return new b(e,this._f);},forEach:function forEach(e){var t=this;return new(i.Promise||a.Promise)(function(n,r){u(e);var a=t.subscribe({next:function next(t){try{return e(t);}catch(e){r(e),a.unsubscribe();}},error:r,complete:n});});}}),f(x,{from:function from(e){var t="function"==typeof this?this:x,n=m(c(e)[s]);if(n){var r=c(n.call(e));return r.constructor===t?r:new t(function(e){return r.subscribe(e);});}return new t(function(t){var n=!1;return o(function(){if(!n){try{if(h(e,!1,function(e){if(t.next(e),n)return d;})===d)return;}catch(e){if(n)throw e;return void t.error(e);}t.complete();}}),function(){n=!0;};});},of:function of(){for(var e=0,t=arguments.length,n=new Array(t);e<t;){n[e]=arguments[e++];}return new("function"==typeof this?this:x)(function(e){var t=!1;return o(function(){if(!t){for(var r=0;r<n.length;++r){if(e.next(n[r]),t)return;}e.complete();}}),function(){t=!0;};});}}),p(x.prototype,s,function(){return this;}),r(r.G,{Observable:x}),n(73)("Observable");},function(e,t,n){var r=n(5),a=n(147)(),i=n(13).process,o="process"==n(41)(i);r(r.G,{asap:function asap(e){var t=o&&i.domain;a(t?t.bind(e):e);}});},function(e,t,n){var r=n(53),a=n(12),i=n(23),o=r.key,s=r.set;r.exp({metadata:function metadata(e,t){return function(n,r){s(e,t,(void 0!==r?a:i)(n),o(r));};}});},function(e,t,n){var r=n(53),a=n(12),i=r.has,o=r.key;r.exp({hasOwnMetadata:function hasOwnMetadata(e,t){return i(e,a(t),arguments.length<3?void 0:o(arguments[2]));}});},function(e,t,n){var r=n(53),a=n(12),i=n(35),o=r.has,s=r.key,u=function u(e,t,n){if(o(e,t,n))return!0;var r=i(t);return null!==r&&u(e,r,n);};r.exp({hasMetadata:function hasMetadata(e,t){return u(e,a(t),arguments.length<3?void 0:s(arguments[2]));}});},function(e,t,n){var r=n(53),a=n(12),i=r.keys,o=r.key;r.exp({getOwnMetadataKeys:function getOwnMetadataKeys(e){return i(a(e),arguments.length<2?void 0:o(arguments[1]));}});},function(e,t,n){var r=n(53),a=n(12),i=r.get,o=r.key;r.exp({getOwnMetadata:function getOwnMetadata(e,t){return i(e,a(t),arguments.length<3?void 0:o(arguments[2]));}});},function(e,t,n){var r=n(203),a=n(194),i=n(53),o=n(12),s=n(35),u=i.keys,c=i.key,l=function l(e,t){var n=u(e,t),i=s(e);if(null===i)return n;var o=l(i,t);return o.length?n.length?a(new r(n.concat(o))):o:n;};i.exp({getMetadataKeys:function getMetadataKeys(e){return l(o(e),arguments.length<2?void 0:c(arguments[1]));}});},function(e,t,n){var r=n(53),a=n(12),i=n(35),o=r.has,s=r.get,u=r.key,c=function c(e,t,n){if(o(e,t,n))return s(e,t,n);var r=i(t);return null!==r?c(e,r,n):void 0;};r.exp({getMetadata:function getMetadata(e,t){return c(e,a(t),arguments.length<3?void 0:u(arguments[2]));}});},function(e,t,n){var r=n(53),a=n(12),i=r.key,o=r.map,s=r.store;r.exp({deleteMetadata:function deleteMetadata(e,t){var n=arguments.length<3?void 0:i(arguments[2]),r=o(a(t),n,!1);if(void 0===r||!r.delete(e))return!1;if(r.size)return!0;var u=s.get(t);return u.delete(n),!!u.size||s.delete(t);}});},function(e,t,n){var r=n(53),a=n(12),i=r.key,o=r.set;r.exp({defineMetadata:function defineMetadata(e,t,n,r){o(e,t,a(n),i(r));}});},function(e,t,n){"use strict";var r=n(5),a=n(146),i=n(207);r(r.S,"Promise",{try:function _try(e){var t=a.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise;}});},function(e,t,n){"use strict";var r=n(5),a=n(43),i=n(13),o=n(113),s=n(206);r(r.P+r.R,"Promise",{finally:function _finally(e){var t=o(this,a.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n;});}:e,n?function(n){return s(t,e()).then(function(){throw n;});}:e);}});},function(e,t,n){var r=n(5);r(r.S,"Math",{signbit:function signbit(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0;}});},function(e,t,n){var r=n(5);r(r.S,"Math",{umulh:function umulh(e,t){var n=+e,r=+t,a=65535&n,i=65535&r,o=n>>>16,s=r>>>16,u=(o*i>>>0)+(a*i>>>16);return o*s+(u>>>16)+((a*s>>>0)+(65535&u)>>>16);}});},function(e,t,n){var r=n(5);r(r.S,"Math",{scale:n(193)});},function(e,t,n){var r=n(5),a=Math.PI/180;r(r.S,"Math",{radians:function radians(e){return e*a;}});},function(e,t,n){var r=n(5);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI});},function(e,t,n){var r=n(5);r(r.S,"Math",{imulh:function imulh(e,t){var n=+e,r=+t,a=65535&n,i=65535&r,o=n>>16,s=r>>16,u=(o*i>>>0)+(a*i>>>16);return o*s+(u>>16)+((a*s>>>0)+(65535&u)>>16);}});},function(e,t,n){var r=n(5);r(r.S,"Math",{isubh:function isubh(e,t,n,r){var a=e>>>0,i=n>>>0;return(t>>>0)-(r>>>0)-((~a&i|~(a^i)&a-i>>>0)>>>31)|0;}});},function(e,t,n){var r=n(5);r(r.S,"Math",{iaddh:function iaddh(e,t,n,r){var a=e>>>0,i=n>>>0;return(t>>>0)+(r>>>0)+((a&i|(a|i)&~(a+i>>>0))>>>31)|0;}});},function(e,t,n){var r=n(5),a=n(193),i=n(213);r(r.S,"Math",{fscale:function fscale(e,t,n,r,o){return i(a(e,t,n,r,o));}});},function(e,t,n){var r=n(5),a=180/Math.PI;r(r.S,"Math",{degrees:function degrees(e){return e*a;}});},function(e,t,n){var r=n(5);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180});},function(e,t,n){var r=n(5);r(r.S,"Math",{clamp:function clamp(e,t,n){return Math.min(n,Math.max(t,e));}});},function(e,t,n){var r=n(5),a=n(41);r(r.S,"Error",{isError:function isError(e){return"Error"===a(e);}});},function(e,t,n){var r=n(5);r(r.S,"System",{global:n(13)});},function(e,t,n){var r=n(5);r(r.G,{global:n(13)});},function(e,t,n){n(107)("WeakSet");},function(e,t,n){n(107)("WeakMap");},function(e,t,n){n(107)("Set");},function(e,t,n){n(107)("Map");},function(e,t,n){n(108)("WeakSet");},function(e,t,n){n(108)("WeakMap");},function(e,t,n){n(108)("Set");},function(e,t,n){n(108)("Map");},function(e,t,n){var r=n(5);r(r.P+r.R,"Set",{toJSON:n(195)("Set")});},function(e,t,n){var r=n(5);r(r.P+r.R,"Map",{toJSON:n(195)("Map")});},function(e,t,n){"use strict";var r=n(5),a=n(22),i=n(50),o=n(35),s=n(36).f;n(19)&&r(r.P+n(109),"Object",{__lookupSetter__:function __lookupSetter__(e){var t,n=a(this),r=i(e,!0);do{if(t=s(n,r))return t.set;}while(n=o(n));}});},function(e,t,n){"use strict";var r=n(5),a=n(22),i=n(50),o=n(35),s=n(36).f;n(19)&&r(r.P+n(109),"Object",{__lookupGetter__:function __lookupGetter__(e){var t,n=a(this),r=i(e,!0);do{if(t=s(n,r))return t.get;}while(n=o(n));}});},function(e,t,n){"use strict";var r=n(5),a=n(22),i=n(23),o=n(18);n(19)&&r(r.P+n(109),"Object",{__defineSetter__:function __defineSetter__(e,t){o.f(a(this),e,{set:i(t),enumerable:!0,configurable:!0});}});},function(e,t,n){"use strict";var r=n(5),a=n(22),i=n(23),o=n(18);n(19)&&r(r.P+n(109),"Object",{__defineGetter__:function __defineGetter__(e,t){o.f(a(this),e,{get:i(t),enumerable:!0,configurable:!0});}});},function(e,t,n){var r=n(5),a=n(196)(!0);r(r.S,"Object",{entries:function entries(e){return a(e);}});},function(e,t,n){var r=n(5),a=n(196)(!1);r(r.S,"Object",{values:function values(e){return a(e);}});},function(e,t,n){var r=n(5),a=n(199),i=n(37),o=n(36),s=n(153);r(r.S,"Object",{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(e){for(var t,n,r=i(e),u=o.f,c=a(r),l={},f=0;c.length>f;){void 0!==(n=u(r,t=c[f++]))&&s(l,t,n);}return l;}});},function(e,t,n){n(169)("observable");},function(e,t,n){n(169)("asyncIterator");},function(e,t,n){"use strict";var r=n(5),a=n(49),i=n(17),o=n(117),s=n(115),u=RegExp.prototype,c=function c(e,t){this._r=e,this._s=t;};n(157)(c,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e};}),r(r.P,"String",{matchAll:function matchAll(e){if(a(this),!o(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in u?String(e.flags):s.call(e),r=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=i(e.lastIndex),new c(r,t);}});},function(e,t,n){"use strict";n(88)("trimRight",function(e){return function(){return e(this,2);};},"trimEnd");},function(e,t,n){"use strict";n(88)("trimLeft",function(e){return function(){return e(this,1);};},"trimStart");},function(e,t,n){"use strict";var r=n(5),a=n(197),i=n(112);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(i),"String",{padEnd:function padEnd(e){return a(this,e,arguments.length>1?arguments[1]:void 0,!1);}});},function(e,t,n){"use strict";var r=n(5),a=n(197),i=n(112);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(i),"String",{padStart:function padStart(e){return a(this,e,arguments.length>1?arguments[1]:void 0,!0);}});},function(e,t,n){"use strict";var r=n(5),a=n(159)(!0);r(r.P,"String",{at:function at(e){return a(this,e);}});},function(e,t,n){"use strict";var r=n(5),a=n(198),i=n(22),o=n(17),s=n(48),u=n(151);r(r.P,"Array",{flatten:function flatten(){var e=arguments[0],t=i(this),n=o(t.length),r=u(t,0);return a(r,t,t,n,0,void 0===e?1:s(e)),r;}}),n(59)("flatten");},function(e,t,n){"use strict";var r=n(5),a=n(198),i=n(22),o=n(17),s=n(23),u=n(151);r(r.P,"Array",{flatMap:function flatMap(e){var t,n,r=i(this);return s(e),t=o(r.length),n=u(r,0),a(n,r,r,t,0,1,e,arguments[1]),n;}}),n(59)("flatMap");},function(e,t,n){"use strict";var r=n(5),a=n(120)(!0);r(r.P,"Array",{includes:function includes(e){return a(this,e,arguments.length>1?arguments[1]:void 0);}}),n(59)("includes");},function(e,t,n){var r=n(5),a=n(165);a&&r(r.S,"Reflect",{setPrototypeOf:function setPrototypeOf(e,t){a.check(e,t);try{return a.set(e,t),!0;}catch(e){return!1;}}});},function(e,t,n){var r=n(18),a=n(36),i=n(35),o=n(38),s=n(5),u=n(79),c=n(12),l=n(15);s(s.S,"Reflect",{set:function e(t,n,s){var f,p,h=arguments.length<4?t:arguments[3],d=a.f(c(t),n);if(!d){if(l(p=i(t)))return e(p,n,s,h);d=u(0);}if(o(d,"value")){if(!1===d.writable||!l(h))return!1;if(f=a.f(h,n)){if(f.get||f.set||!1===f.writable)return!1;f.value=s,r.f(h,n,f);}else r.f(h,n,u(0,s));return!0;}return void 0!==d.set&&(d.set.call(h,s),!0);}});},function(e,t,n){var r=n(5),a=n(12),i=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function preventExtensions(e){a(e);try{return i&&i(e),!0;}catch(e){return!1;}}});},function(e,t,n){var r=n(5);r(r.S,"Reflect",{ownKeys:n(199)});},function(e,t,n){var r=n(5),a=n(12),i=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function isExtensible(e){return a(e),!i||i(e);}});},function(e,t,n){var r=n(5);r(r.S,"Reflect",{has:function has(e,t){return t in e;}});},function(e,t,n){var r=n(5),a=n(35),i=n(12);r(r.S,"Reflect",{getPrototypeOf:function getPrototypeOf(e){return a(i(e));}});},function(e,t,n){var r=n(36),a=n(5),i=n(12);a(a.S,"Reflect",{getOwnPropertyDescriptor:function getOwnPropertyDescriptor(e,t){return r.f(i(e),t);}});},function(e,t,n){var r=n(36),a=n(35),i=n(38),o=n(5),s=n(15),u=n(12);o(o.S,"Reflect",{get:function e(t,n){var o,c,l=arguments.length<3?t:arguments[2];return u(t)===l?t[n]:(o=r.f(t,n))?i(o,"value")?o.value:void 0!==o.get?o.get.call(l):void 0:s(c=a(t))?e(c,n,l):void 0;}});},function(e,t,n){"use strict";var r=n(5),a=n(12),i=function i(e){this._t=a(e),this._i=0;var t,n=this._k=[];for(t in e){n.push(t);}};n(157)(i,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0};}while(!((e=t[this._i++])in this._t));return{value:e,done:!1};}),r(r.S,"Reflect",{enumerate:function enumerate(e){return new i(e);}});},function(e,t,n){var r=n(5),a=n(36).f,i=n(12);r(r.S,"Reflect",{deleteProperty:function deleteProperty(e,t){var n=a(i(e),t);return!(n&&!n.configurable)&&delete e[t];}});},function(e,t,n){var r=n(18),a=n(5),i=n(12),o=n(50);a(a.S+a.F*n(14)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2});}),"Reflect",{defineProperty:function defineProperty(e,t,n){i(e),t=o(t,!0),i(n);try{return r.f(e,t,n),!0;}catch(e){return!1;}}});},function(e,t,n){var r=n(5),a=n(75),i=n(23),o=n(12),s=n(15),u=n(14),c=n(220),l=(n(13).Reflect||{}).construct,f=u(function(){function e(){}return!(l(function(){},[],e)instanceof e);}),p=!u(function(){l(function(){});});r(r.S+r.F*(f||p),"Reflect",{construct:function construct(e,t){i(e),o(t);var n=arguments.length<3?e:i(arguments[2]);if(p&&!f)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e();case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))();}var u=n.prototype,h=a(s(u)?u:Object.prototype),d=Function.apply.call(e,h,t);return s(d)?d:h;}});},function(e,t,n){var r=n(5),a=n(23),i=n(12),o=(n(13).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(14)(function(){o(function(){});}),"Reflect",{apply:function apply(e,t,n){var r=a(e),u=i(n);return o?o(r,t,u):s.call(r,t,u);}});},function(e,t,n){n(54)("Float64",8,function(e){return function(t,n,r){return e(this,t,n,r);};});},function(e,t,n){n(54)("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r);};});},function(e,t,n){n(54)("Uint32",4,function(e){return function(t,n,r){return e(this,t,n,r);};});},function(e,t,n){n(54)("Int32",4,function(e){return function(t,n,r){return e(this,t,n,r);};});},function(e,t,n){n(54)("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r);};});},function(e,t,n){n(54)("Int16",2,function(e){return function(t,n,r){return e(this,t,n,r);};});},function(e,t,n){n(54)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r);};},!0);},function(e,t,n){n(54)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r);};});},function(e,t,n){n(54)("Int8",1,function(e){return function(t,n,r){return e(this,t,n,r);};});},function(e,t,n){var r=n(5);r(r.G+r.W+r.F*!n(110).ABV,{DataView:n(145).DataView});},function(e,t,n){"use strict";var r=n(5),a=n(110),i=n(145),o=n(12),s=n(76),u=n(17),c=n(15),l=n(13).ArrayBuffer,f=n(113),p=i.ArrayBuffer,h=i.DataView,d=a.ABV&&l.isView,m=p.prototype.slice,g=a.VIEW;r(r.G+r.W+r.F*(l!==p),{ArrayBuffer:p}),r(r.S+r.F*!a.CONSTR,"ArrayBuffer",{isView:function isView(e){return d&&d(e)||c(e)&&g in e;}}),r(r.P+r.U+r.F*n(14)(function(){return!new p(2).slice(1,void 0).byteLength;}),"ArrayBuffer",{slice:function slice(e,t){if(void 0!==m&&void 0===t)return m.call(o(this),e);for(var n=o(this).byteLength,r=s(e,n),a=s(void 0===t?n:t,n),i=new(f(this,p))(u(a-r)),c=new h(this),l=new h(i),d=0;r<a;){l.setUint8(d++,c.getUint8(r++));}return i;}}),n(73)("ArrayBuffer");},function(e,t,n){"use strict";var r=n(201),a=n(86);n(111)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0);};},{add:function add(e){return r.def(a(this,"WeakSet"),e,!0);}},r,!1,!0);},function(e,t,n){"use strict";var r,a,i,o,s=n(60),u=n(13),c=n(42),l=n(98),f=n(5),p=n(15),h=n(23),d=n(72),m=n(71),g=n(113),y=n(148).set,v=n(147)(),b=n(146),w=n(207),x=n(112),k=n(206),O=u.TypeError,S=u.process,N=S&&S.versions,E=N&&N.v8||"",_I2=u.Promise,T="process"==l(S),A=function A(){},C=a=b.f,P=!!function(){try{var e=_I2.resolve(1),t=(e.constructor={})[n(16)("species")]=function(e){e(A,A);};return(T||"function"==typeof PromiseRejectionEvent)&&e.then(A)instanceof t&&0!==E.indexOf("6.6")&&-1===x.indexOf("Chrome/66");}catch(e){}}(),_=function _(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t;},R=function R(e,t){if(!e._n){e._n=!0;var n=e._c;v(function(){for(var r=e._v,a=1==e._s,i=0,o=function o(t){var n,i,o,s=a?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{s?(a||(2==e._h&&D(e),e._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),o=!0)),n===t.promise?c(O("Promise-chain cycle")):(i=_(n))?i.call(n,u,c):u(n)):c(r);}catch(e){l&&!o&&l.exit(),c(e);}};n.length>i;){o(n[i++]);}e._c=[],e._n=!1,t&&!e._h&&M(e);});}},M=function M(e){y.call(u,function(){var t,n,r,a=e._v,i=j(e);if(i&&(t=w(function(){T?S.emit("unhandledRejection",a,e):(n=u.onunhandledrejection)?n({promise:e,reason:a}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",a);}),e._h=T||j(e)?2:1),e._a=void 0,i&&t.e)throw t.v;});},j=function j(e){return 1!==e._h&&0===(e._a||e._c).length;},D=function D(e){y.call(u,function(){var t;T?S.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v});});},L=function L(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),R(t,!0));},z=function z(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw O("Promise can't be resolved itself");(t=_(e))?v(function(){var r={_w:n,_d:!1};try{t.call(e,c(z,r,1),c(L,r,1));}catch(e){L.call(r,e);}}):(n._v=e,n._s=1,R(n,!1));}catch(e){L.call({_w:n,_d:!1},e);}}};P||(_I2=function I(e){d(this,_I2,"Promise","_h"),h(e),r.call(this);try{e(c(z,this,1),c(L,this,1));}catch(e){L.call(this,e);}},(r=function r(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1;}).prototype=n(70)(_I2.prototype,{then:function then(e,t){var n=C(g(this,_I2));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=T?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&R(this,!1),n.promise;},catch:function _catch(e){return this.then(void 0,e);}}),i=function i(){var e=new r();this.promise=e,this.resolve=c(z,e,1),this.reject=c(L,e,1);},b.f=C=function C(e){return e===_I2||e===o?new i(e):a(e);}),f(f.G+f.W+f.F*!P,{Promise:_I2}),n(89)(_I2,"Promise"),n(73)("Promise"),o=n(43).Promise,f(f.S+f.F*!P,"Promise",{reject:function reject(e){var t=C(this);return(0,t.reject)(e),t.promise;}}),f(f.S+f.F*(s||!P),"Promise",{resolve:function resolve(e){return k(s&&this===o?_I2:this,e);}}),f(f.S+f.F*!(P&&n(116)(function(e){_I2.all(e).catch(A);})),"Promise",{all:function all(e){var t=this,n=C(t),r=n.resolve,a=n.reject,i=w(function(){var n=[],i=0,o=1;m(e,!1,function(e){var s=i++,u=!1;n.push(void 0),o++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--o||r(n));},a);}),--o||r(n);});return i.e&&a(i.v),n.promise;},race:function race(e){var t=this,n=C(t),r=n.reject,a=w(function(){m(e,!1,function(e){t.resolve(e).then(n.resolve,r);});});return a.e&&r(a.v),n.promise;}});},function(e,t,n){n(114)("split",2,function(e,t,r){"use strict";var a=n(117),i=r,o=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var s=void 0===/()??/.exec("")[1];r=function r(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!a(e))return i.call(n,e,t);var r,u,c,l,f,p=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,m=void 0===t?4294967295:t>>>0,g=new RegExp(e.source,h+"g");for(s||(r=new RegExp("^"+g.source+"$(?!\\s)",h));(u=g.exec(n))&&!((c=u.index+u[0].length)>d&&(p.push(n.slice(d,u.index)),!s&&u.length>1&&u[0].replace(r,function(){for(f=1;f<arguments.length-2;f++){void 0===arguments[f]&&(u[f]=void 0);}}),u.length>1&&u.index<n.length&&o.apply(p,u.slice(1)),l=u[0].length,d=c,p.length>=m));){g.lastIndex===u.index&&g.lastIndex++;}return d===n.length?!l&&g.test("")||p.push(""):p.push(n.slice(d)),p.length>m?p.slice(0,m):p;};}else"0".split(void 0,0).length&&(r=function r(e,t){return void 0===e&&0===t?[]:i.call(this,e,t);});return[function(n,a){var i=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,i,a):r.call(String(i),n,a);},r];});},function(e,t,n){n(114)("search",1,function(e,t,n){return[function(n){"use strict";var r=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,r):new RegExp(n)[t](String(r));},n];});},function(e,t,n){n(114)("replace",2,function(e,t,n){return[function(r,a){"use strict";var i=e(this),o=void 0==r?void 0:r[t];return void 0!==o?o.call(r,i,a):n.call(String(i),r,a);},n];});},function(e,t,n){n(114)("match",1,function(e,t,n){return[function(n){"use strict";var r=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,r):new RegExp(n)[t](String(r));},n];});},function(e,t,n){"use strict";n(208);var r=n(12),a=n(115),i=n(19),o=/./.toString,s=function s(e){n(27)(RegExp.prototype,"toString",e,!0);};n(14)(function(){return"/a/b"!=o.call({source:"a",flags:"b"});})?s(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?a.call(e):void 0);}):"toString"!=o.name&&s(function(){return o.call(this);});},function(e,t,n){var r=n(13),a=n(163),i=n(18).f,o=n(74).f,s=n(117),u=n(115),_c2=r.RegExp,l=_c2,f=_c2.prototype,p=/a/g,h=/a/g,d=new _c2(p)!==p;if(n(19)&&(!d||n(14)(function(){return h[n(16)("match")]=!1,_c2(p)!=p||_c2(h)==h||"/a/i"!=_c2(p,"i");}))){_c2=function c(e,t){var n=this instanceof _c2,r=s(e),i=void 0===t;return!n&&r&&e.constructor===_c2&&i?e:a(d?new l(r&&!i?e.source:e,t):l((r=e instanceof _c2)?e.source:e,r&&i?u.call(e):t),n?this:f,_c2);};for(var m=function m(e){(e in _c2)||i(_c2,e,{configurable:!0,get:function get(){return l[e];},set:function set(t){l[e]=t;}});},g=o(l),y=0;g.length>y;){m(g[y++]);}f.constructor=_c2,_c2.prototype=f,n(27)(r,"RegExp",_c2);}n(73)("RegExp");},function(e,t,n){n(73)("Array");},function(e,t,n){"use strict";var r=n(5),a=n(46)(6),i="findIndex",o=!0;i in[]&&Array(1)[i](function(){o=!1;}),r(r.P+r.F*o,"Array",{findIndex:function findIndex(e){return a(this,e,arguments.length>1?arguments[1]:void 0);}}),n(59)(i);},function(e,t,n){"use strict";var r=n(5),a=n(46)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1;}),r(r.P+r.F*i,"Array",{find:function find(e){return a(this,e,arguments.length>1?arguments[1]:void 0);}}),n(59)("find");},function(e,t,n){var r=n(5);r(r.P,"Array",{fill:n(150)}),n(59)("fill");},function(e,t,n){var r=n(5);r(r.P,"Array",{copyWithin:n(210)}),n(59)("copyWithin");},function(e,t,n){"use strict";var r=n(5),a=n(37),i=n(48),o=n(17),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(40)(s)),"Array",{lastIndexOf:function lastIndexOf(e){if(u)return s.apply(this,arguments)||0;var t=a(this),n=o(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,i(arguments[1]))),r<0&&(r=n+r);r>=0;r--){if(r in t&&t[r]===e)return r||0;}return-1;}});},function(e,t,n){"use strict";var r=n(5),a=n(120)(!1),i=[].indexOf,o=!!i&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(o||!n(40)(i)),"Array",{indexOf:function indexOf(e){return o?i.apply(this,arguments)||0:a(this,e,arguments[1]);}});},function(e,t,n){"use strict";var r=n(5),a=n(211);r(r.P+r.F*!n(40)([].reduceRight,!0),"Array",{reduceRight:function reduceRight(e){return a(this,e,arguments.length,arguments[1],!0);}});},function(e,t,n){"use strict";var r=n(5),a=n(211);r(r.P+r.F*!n(40)([].reduce,!0),"Array",{reduce:function reduce(e){return a(this,e,arguments.length,arguments[1],!1);}});},function(e,t,n){"use strict";var r=n(5),a=n(46)(4);r(r.P+r.F*!n(40)([].every,!0),"Array",{every:function every(e){return a(this,e,arguments[1]);}});},function(e,t,n){"use strict";var r=n(5),a=n(46)(3);r(r.P+r.F*!n(40)([].some,!0),"Array",{some:function some(e){return a(this,e,arguments[1]);}});},function(e,t,n){"use strict";var r=n(5),a=n(46)(2);r(r.P+r.F*!n(40)([].filter,!0),"Array",{filter:function filter(e){return a(this,e,arguments[1]);}});},function(e,t,n){"use strict";var r=n(5),a=n(46)(1);r(r.P+r.F*!n(40)([].map,!0),"Array",{map:function map(e){return a(this,e,arguments[1]);}});},function(e,t,n){var r=n(15),a=n(118),i=n(16)("species");e.exports=function(e){var t;return a(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!a(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t;};},function(e,t,n){"use strict";var r=n(5),a=n(46)(0),i=n(40)([].forEach,!0);r(r.P+r.F*!i,"Array",{forEach:function forEach(e){return a(this,e,arguments[1]);}});},function(e,t,n){"use strict";var r=n(5),a=n(23),i=n(22),o=n(14),s=[].sort,u=[1,2,3];r(r.P+r.F*(o(function(){u.sort(void 0);})||!o(function(){u.sort(null);})||!n(40)(s)),"Array",{sort:function sort(e){return void 0===e?s.call(i(this)):s.call(i(this),a(e));}});},function(e,t,n){"use strict";var r=n(5),a=n(166),i=n(41),o=n(76),s=n(17),u=[].slice;r(r.P+r.F*n(14)(function(){a&&u.call(a);}),"Array",{slice:function slice(e,t){var n=s(this.length),r=i(this);if(t=void 0===t?n:t,"Array"==r)return u.call(this,e,t);for(var a=o(e,n),c=o(t,n),l=s(c-a),f=new Array(l),p=0;p<l;p++){f[p]="String"==r?this.charAt(a+p):this[a+p];}return f;}});},function(e,t,n){"use strict";var r=n(5),a=n(37),i=[].join;r(r.P+r.F*(n(100)!=Object||!n(40)(i)),"Array",{join:function join(e){return i.call(a(this),void 0===e?",":e);}});},function(e,t,n){"use strict";var r=n(5),a=n(153);r(r.S+r.F*n(14)(function(){function e(){}return!(Array.of.call(e)instanceof e);}),"Array",{of:function of(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;){a(n,e,arguments[e++]);}return n.length=t,n;}});},function(e,t,n){"use strict";var r=n(42),a=n(5),i=n(22),o=n(212),s=n(154),u=n(17),c=n(153),l=n(152);a(a.S+a.F*!n(116)(function(e){Array.from(e);}),"Array",{from:function from(e){var t,n,a,f,p=i(e),h="function"==typeof this?this:Array,d=arguments.length,m=d>1?arguments[1]:void 0,g=void 0!==m,y=0,v=l(p);if(g&&(m=r(m,d>2?arguments[2]:void 0,2)),void 0==v||h==Array&&s(v))for(n=new h(t=u(p.length));t>y;y++){c(n,y,g?m(p[y],y):p[y]);}else for(f=v.call(p),n=new h();!(a=f.next()).done;y++){c(n,y,g?o(f,m,[a.value,y],!0):a.value);}return n.length=y,n;}});},function(e,t,n){var r=n(5);r(r.S,"Array",{isArray:n(118)});},function(e,t,n){"use strict";var r=n(12),a=n(50);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return a(r(this),"number"!=e);};},function(e,t,n){var r=n(16)("toPrimitive"),a=Date.prototype;r in a||n(28)(a,r,n(470));},function(e,t,n){var r=Date.prototype,a=r.toString,i=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(27)(r,"toString",function(){var e=i.call(this);return e==e?a.call(this):"Invalid Date";});},function(e,t,n){"use strict";var r=n(14),a=Date.prototype.getTime,i=Date.prototype.toISOString,o=function o(e){return e>9?e:"0"+e;};e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-5e13-1));})||!r(function(){i.call(new Date(NaN));})?function(){if(!isFinite(a.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+o(e.getUTCMonth()+1)+"-"+o(e.getUTCDate())+"T"+o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds())+"."+(n>99?n:"0"+o(n))+"Z";}:i;},function(e,t,n){var r=n(5),a=n(473);r(r.P+r.F*(Date.prototype.toISOString!==a),"Date",{toISOString:a});},function(e,t,n){"use strict";var r=n(5),a=n(22),i=n(50);r(r.P+r.F*n(14)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function toISOString(){return 1;}});}),"Date",{toJSON:function toJSON(e){var t=a(this),n=i(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null;}});},function(e,t,n){var r=n(5);r(r.S,"Date",{now:function now(){return new Date().getTime();}});},function(e,t,n){"use strict";n(26)("sup",function(e){return function(){return e(this,"sup","","");};});},function(e,t,n){"use strict";n(26)("sub",function(e){return function(){return e(this,"sub","","");};});},function(e,t,n){"use strict";n(26)("strike",function(e){return function(){return e(this,"strike","","");};});},function(e,t,n){"use strict";n(26)("small",function(e){return function(){return e(this,"small","","");};});},function(e,t,n){"use strict";n(26)("link",function(e){return function(t){return e(this,"a","href",t);};});},function(e,t,n){"use strict";n(26)("italics",function(e){return function(){return e(this,"i","","");};});},function(e,t,n){"use strict";n(26)("fontsize",function(e){return function(t){return e(this,"font","size",t);};});},function(e,t,n){"use strict";n(26)("fontcolor",function(e){return function(t){return e(this,"font","color",t);};});},function(e,t,n){"use strict";n(26)("fixed",function(e){return function(){return e(this,"tt","","");};});},function(e,t,n){"use strict";n(26)("bold",function(e){return function(){return e(this,"b","","");};});},function(e,t,n){"use strict";n(26)("blink",function(e){return function(){return e(this,"blink","","");};});},function(e,t,n){"use strict";n(26)("big",function(e){return function(){return e(this,"big","","");};});},function(e,t,n){"use strict";n(26)("anchor",function(e){return function(t){return e(this,"a","name",t);};});},function(e,t,n){"use strict";var r=n(5),a=n(17),i=n(156),o="".startsWith;r(r.P+r.F*n(155)("startsWith"),"String",{startsWith:function startsWith(e){var t=i(this,e,"startsWith"),n=a(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return o?o.call(t,r,n):t.slice(n,n+r.length)===r;}});},function(e,t,n){var r=n(5);r(r.P,"String",{repeat:n(162)});},function(e,t,n){"use strict";var r=n(5),a=n(156);r(r.P+r.F*n(155)("includes"),"String",{includes:function includes(e){return!!~a(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0);}});},function(e,t,n){"use strict";var r=n(5),a=n(17),i=n(156),o="".endsWith;r(r.P+r.F*n(155)("endsWith"),"String",{endsWith:function endsWith(e){var t=i(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=a(t.length),s=void 0===n?r:Math.min(a(n),r),u=String(e);return o?o.call(t,u,s):t.slice(s-u.length,s)===u;}});},function(e,t,n){"use strict";var r=n(5),a=n(159)(!1);r(r.P,"String",{codePointAt:function codePointAt(e){return a(this,e);}});},function(e,t,n){"use strict";var r=n(159)(!0);n(158)(String,"String",function(e){this._t=String(e),this._i=0;},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1});});},function(e,t,n){"use strict";n(88)("trim",function(e){return function(){return e(this,3);};});},function(e,t,n){var r=n(5),a=n(37),i=n(17);r(r.S,"String",{raw:function raw(e){for(var t=a(e.raw),n=i(t.length),r=arguments.length,o=[],s=0;n>s;){o.push(String(t[s++])),s<r&&o.push(String(arguments[s]));}return o.join("");}});},function(e,t,n){var r=n(5),a=n(76),i=String.fromCharCode,o=String.fromCodePoint;r(r.S+r.F*(!!o&&1!=o.length),"String",{fromCodePoint:function fromCodePoint(e){for(var t,n=[],r=arguments.length,o=0;r>o;){if(t=+arguments[o++],a(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320));}return n.join("");}});},function(e,t,n){var r=n(5);r(r.S,"Math",{trunc:function trunc(e){return(e>0?Math.floor:Math.ceil)(e);}});},function(e,t,n){var r=n(5),a=n(160),i=Math.exp;r(r.S,"Math",{tanh:function tanh(e){var t=a(e=+e),n=a(-e);return t==1/0?1:n==1/0?-1:(t-n)/(i(e)+i(-e));}});},function(e,t,n){var r=n(5),a=n(160),i=Math.exp;r(r.S+r.F*n(14)(function(){return-2e-17!=!Math.sinh(-2e-17);}),"Math",{sinh:function sinh(e){return Math.abs(e=+e)<1?(a(e)-a(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2);}});},function(e,t,n){var r=n(5);r(r.S,"Math",{sign:n(161)});},function(e,t,n){var r=n(5);r(r.S,"Math",{log2:function log2(e){return Math.log(e)/Math.LN2;}});},function(e,t,n){var r=n(5);r(r.S,"Math",{log1p:n(214)});},function(e,t,n){var r=n(5);r(r.S,"Math",{log10:function log10(e){return Math.log(e)*Math.LOG10E;}});},function(e,t,n){var r=n(5),a=Math.imul;r(r.S+r.F*n(14)(function(){return-5!=a(4294967295,5)||2!=a.length;}),"Math",{imul:function imul(e,t){var n=+e,r=+t,a=65535&n,i=65535&r;return 0|a*i+((65535&n>>>16)*i+a*(65535&r>>>16)<<16>>>0);}});},function(e,t,n){var r=n(5),a=Math.abs;r(r.S,"Math",{hypot:function hypot(e,t){for(var n,r,i=0,o=0,s=arguments.length,u=0;o<s;){u<(n=a(arguments[o++]))?(i=i*(r=u/n)*r+1,u=n):i+=n>0?(r=n/u)*r:n;}return u===1/0?1/0:u*Math.sqrt(i);}});},function(e,t,n){var r=n(5);r(r.S,"Math",{fround:n(213)});},function(e,t,n){var r=n(5),a=n(160);r(r.S+r.F*(a!=Math.expm1),"Math",{expm1:a});},function(e,t,n){var r=n(5),a=Math.exp;r(r.S,"Math",{cosh:function cosh(e){return(a(e=+e)+a(-e))/2;}});},function(e,t,n){var r=n(5);r(r.S,"Math",{clz32:function clz32(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32;}});},function(e,t,n){var r=n(5),a=n(161);r(r.S,"Math",{cbrt:function cbrt(e){return a(e=+e)*Math.pow(Math.abs(e),1/3);}});},function(e,t,n){var r=n(5),a=Math.atanh;r(r.S+r.F*!(a&&1/a(-0)<0),"Math",{atanh:function atanh(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2;}});},function(e,t,n){var r=n(5),a=Math.asinh;r(r.S+r.F*!(a&&1/a(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t;}});},function(e,t,n){var r=n(5),a=n(214),i=Math.sqrt,o=Math.acosh;r(r.S+r.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function acosh(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:a(e-1+i(e-1)*i(e+1));}});},function(e,t,n){var r=n(5),a=n(218);r(r.S+r.F*(Number.parseInt!=a),"Number",{parseInt:a});},function(e,t,n){var r=n(5),a=n(217);r(r.S+r.F*(Number.parseFloat!=a),"Number",{parseFloat:a});},function(e,t,n){var r=n(5);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991});},function(e,t,n){var r=n(5);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991});},function(e,t,n){var r=n(5),a=n(215),i=Math.abs;r(r.S,"Number",{isSafeInteger:function isSafeInteger(e){return a(e)&&i(e)<=9007199254740991;}});},function(e,t,n){var r=n(5);r(r.S,"Number",{isNaN:function isNaN(e){return e!=e;}});},function(e,t,n){var r=n(5);r(r.S,"Number",{isInteger:n(215)});},function(e,t,n){var r=n(5),a=n(13).isFinite;r(r.S,"Number",{isFinite:function isFinite(e){return"number"==typeof e&&a(e);}});},function(e,t,n){var r=n(5);r(r.S,"Number",{EPSILON:Math.pow(2,-52)});},function(e,t,n){"use strict";var r=n(5),a=n(14),i=n(216),o=1..toPrecision;r(r.P+r.F*(a(function(){return"1"!==o.call(1,void 0);})||!a(function(){o.call({});})),"Number",{toPrecision:function toPrecision(e){var t=i(this,"Number#toPrecision: incorrect invocation!");return void 0===e?o.call(t):o.call(t,e);}});},function(e,t,n){"use strict";var r=n(5),a=n(48),i=n(216),o=n(162),s=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",f=function f(e,t){for(var n=-1,r=t;++n<6;){r+=e*c[n],c[n]=r%1e7,r=u(r/1e7);}},p=function p(e){for(var t=6,n=0;--t>=0;){n+=c[t],c[t]=u(n/e),n=n%e*1e7;}},h=function h(){for(var e=6,t="";--e>=0;){if(""!==t||0===e||0!==c[e]){var n=String(c[e]);t=""===t?n:t+o.call("0",7-n.length)+n;}}return t;},d=function d(e,t,n){return 0===t?n:t%2==1?d(e,t-1,n*e):d(e*e,t/2,n);};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0))||!n(14)(function(){s.call({});})),"Number",{toFixed:function toFixed(e){var t,n,r,s,u=i(this,l),c=a(e),m="",g="0";if(c<0||c>20)throw RangeError(l);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(m="-",u=-u),u>1e-21)if(n=(t=function(e){for(var t=0,n=u*d(2,69,1);n>=4096;){t+=12,n/=4096;}for(;n>=2;){t+=1,n/=2;}return t;}()-69)<0?u*d(2,-t,1):u/d(2,t,1),n*=4503599627370496,(t=52-t)>0){for(f(0,n),r=c;r>=7;){f(1e7,0),r-=7;}for(f(d(10,r,1),0),r=t-1;r>=23;){p(1<<23),r-=23;}p(1<<r),f(1,1),p(2),g=h();}else f(0,n),f(1<<-t,0),g=h()+o.call("0",c);return c>0?m+((s=g.length)<=c?"0."+o.call("0",c-s)+g:g.slice(0,s-c)+"."+g.slice(s-c)):m+g;}});},function(e,t,n){"use strict";var r=n(13),a=n(38),i=n(41),o=n(163),s=n(50),u=n(14),c=n(74).f,l=n(36).f,f=n(18).f,p=n(88).trim,_h=r.Number,d=_h,m=_h.prototype,g="Number"==i(n(75)(m)),y="trim"in String.prototype,v=function v(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,a,i=(t=y?t.trim():p(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=t.charCodeAt(2))||120===n)return NaN;}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+t;}for(var o,u=t.slice(2),c=0,l=u.length;c<l;c++){if((o=u.charCodeAt(c))<48||o>a)return NaN;}return parseInt(u,r);}}return+t;};if(!_h(" 0o1")||!_h("0b1")||_h("+0x1")){_h=function h(e){var t=arguments.length<1?0:e,n=this;return n instanceof _h&&(g?u(function(){m.valueOf.call(n);}):"Number"!=i(n))?o(new d(v(t)),n,_h):v(t);};for(var b,w=n(19)?c(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++){a(d,b=w[x])&&!a(_h,b)&&f(_h,b,l(d,b));}_h.prototype=m,m.constructor=_h,n(27)(r,"Number",_h);}},function(e,t,n){var r=n(5),a=n(217);r(r.G+r.F*(parseFloat!=a),{parseFloat:a});},function(e,t,n){var r=n(5),a=n(218);r(r.G+r.F*(parseInt!=a),{parseInt:a});},function(e,t,n){"use strict";var r=n(15),a=n(35),i=n(16)("hasInstance"),o=Function.prototype;i in o||n(18).f(o,i,{value:function value(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=a(e);){if(this.prototype===e)return!0;}return!1;}});},function(e,t,n){var r=n(18).f,a=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in a||n(19)&&r(a,"name",{configurable:!0,get:function get(){try{return(""+this).match(i)[1];}catch(e){return"";}}});},function(e,t,n){var r=n(5);r(r.P,"Function",{bind:n(220)});},function(e,t,n){"use strict";var r=n(98),a={};a[n(16)("toStringTag")]="z",a+""!="[object z]"&&n(27)(Object.prototype,"toString",function(){return"[object "+r(this)+"]";},!0);},function(e,t,n){var r=n(5);r(r.S,"Object",{setPrototypeOf:n(165).set});},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t;};},function(e,t,n){var r=n(5);r(r.S,"Object",{is:n(535)});},function(e,t,n){var r=n(5);r(r.S+r.F,"Object",{assign:n(221)});},function(e,t,n){var r=n(15);n(47)("isExtensible",function(e){return function(t){return!!r(t)&&(!e||e(t));};});},function(e,t,n){var r=n(15);n(47)("isSealed",function(e){return function(t){return!r(t)||!!e&&e(t);};});},function(e,t,n){var r=n(15);n(47)("isFrozen",function(e){return function(t){return!r(t)||!!e&&e(t);};});},function(e,t,n){var r=n(15),a=n(61).onFreeze;n(47)("preventExtensions",function(e){return function(t){return e&&r(t)?e(a(t)):t;};});},function(e,t,n){var r=n(15),a=n(61).onFreeze;n(47)("seal",function(e){return function(t){return e&&r(t)?e(a(t)):t;};});},function(e,t,n){var r=n(15),a=n(61).onFreeze;n(47)("freeze",function(e){return function(t){return e&&r(t)?e(a(t)):t;};});},function(e,t,n){n(47)("getOwnPropertyNames",function(){return n(222).f;});},function(e,t,n){var r=n(22),a=n(77);n(47)("keys",function(){return function(e){return a(r(e));};});},function(e,t,n){var r=n(22),a=n(35);n(47)("getPrototypeOf",function(){return function(e){return a(r(e));};});},function(e,t,n){var r=n(37),a=n(36).f;n(47)("getOwnPropertyDescriptor",function(){return function(e,t){return a(r(e),t);};});},function(e,t,n){var r=n(5);r(r.S+r.F*!n(19),"Object",{defineProperties:n(223)});},function(e,t,n){var r=n(5);r(r.S+r.F*!n(19),"Object",{defineProperty:n(18).f});},function(e,t,n){var r=n(5);r(r.S,"Object",{create:n(75)});},function(e,t,n){var r=n(77),a=n(119),i=n(99);e.exports=function(e){var t=r(e),n=a.f;if(n)for(var o,s=n(e),u=i.f,c=0;s.length>c;){u.call(e,o=s[c++])&&t.push(o);}return t;};},function(e,t,n){"use strict";var r=n(13),a=n(38),i=n(19),o=n(5),s=n(27),u=n(61).KEY,c=n(14),l=n(121),f=n(89),p=n(78),h=n(16),d=n(225),m=n(169),g=n(551),y=n(118),v=n(12),b=n(15),w=n(37),x=n(50),k=n(79),O=n(75),S=n(222),N=n(36),E=n(18),I=n(77),T=N.f,A=E.f,C=S.f,_P2=r.Symbol,_=r.JSON,R=_&&_.stringify,M=h("_hidden"),j=h("toPrimitive"),D={}.propertyIsEnumerable,L=l("symbol-registry"),z=l("symbols"),F=l("op-symbols"),B=Object.prototype,V="function"==typeof _P2,U=r.QObject,W=!U||!U.prototype||!U.prototype.findChild,G=i&&c(function(){return 7!=O(A({},"a",{get:function get(){return A(this,"a",{value:7}).a;}})).a;})?function(e,t,n){var r=T(B,t);r&&delete B[t],A(e,t,n),r&&e!==B&&A(B,t,r);}:A,q=function q(e){var t=z[e]=O(_P2.prototype);return t._k=e,t;},H=V&&"symbol"==_typeof(_P2.iterator)?function(e){return"symbol"==(typeof e==="undefined"?"undefined":_typeof(e));}:function(e){return e instanceof _P2;},K=function K(e,t,n){return e===B&&K(F,t,n),v(e),t=x(t,!0),v(n),a(z,t)?(n.enumerable?(a(e,M)&&e[M][t]&&(e[M][t]=!1),n=O(n,{enumerable:k(0,!1)})):(a(e,M)||A(e,M,k(1,{})),e[M][t]=!0),G(e,t,n)):A(e,t,n);},X=function X(e,t){v(e);for(var n,r=g(t=w(t)),a=0,i=r.length;i>a;){K(e,n=r[a++],t[n]);}return e;},J=function J(e){var t=D.call(this,e=x(e,!0));return!(this===B&&a(z,e)&&!a(F,e))&&(!(t||!a(this,e)||!a(z,e)||a(this,M)&&this[M][e])||t);},Y=function Y(e,t){if(e=w(e),t=x(t,!0),e!==B||!a(z,t)||a(F,t)){var n=T(e,t);return!n||!a(z,t)||a(e,M)&&e[M][t]||(n.enumerable=!0),n;}},Q=function Q(e){for(var t,n=C(w(e)),r=[],i=0;n.length>i;){a(z,t=n[i++])||t==M||t==u||r.push(t);}return r;},Z=function Z(e){for(var t,n=e===B,r=C(n?F:w(e)),i=[],o=0;r.length>o;){!a(z,t=r[o++])||n&&!a(B,t)||i.push(z[t]);}return i;};V||(s((_P2=function P(){if(this instanceof _P2)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function t(n){this===B&&t.call(F,n),a(this,M)&&a(this[M],e)&&(this[M][e]=!1),G(this,e,k(1,n));};return i&&W&&G(B,e,{configurable:!0,set:t}),q(e);}).prototype,"toString",function(){return this._k;}),N.f=Y,E.f=K,n(74).f=S.f=Q,n(99).f=J,n(119).f=Z,i&&!n(60)&&s(B,"propertyIsEnumerable",J,!0),d.f=function(e){return q(h(e));}),o(o.G+o.W+o.F*!V,{Symbol:_P2});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;$.length>ee;){h($[ee++]);}for(var te=I(h.store),ne=0;te.length>ne;){m(te[ne++]);}o(o.S+o.F*!V,"Symbol",{for:function _for(e){return a(L,e+="")?L[e]:L[e]=_P2(e);},keyFor:function keyFor(e){if(!H(e))throw TypeError(e+" is not a symbol!");for(var t in L){if(L[t]===e)return t;}},useSetter:function useSetter(){W=!0;},useSimple:function useSimple(){W=!1;}}),o(o.S+o.F*!V,"Object",{create:function create(e,t){return void 0===t?O(e):X(O(e),t);},defineProperty:K,defineProperties:X,getOwnPropertyDescriptor:Y,getOwnPropertyNames:Q,getOwnPropertySymbols:Z}),_&&o(o.S+o.F*(!V||c(function(){var e=_P2();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e));})),"JSON",{stringify:function stringify(e){for(var t,n,r=[e],a=1;arguments.length>a;){r.push(arguments[a++]);}if(n=t=r[1],(b(t)||void 0!==e)&&!H(e))return y(t)||(t=function t(e,_t4){if("function"==typeof n&&(_t4=n.call(this,e,_t4)),!H(_t4))return _t4;}),r[1]=t,R.apply(_,r);}}),_P2.prototype[j]||n(28)(_P2.prototype,j,_P2.prototype.valueOf),f(_P2,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0);},function(e,t,n){n(552),n(550),n(549),n(548),n(547),n(546),n(545),n(544),n(543),n(542),n(541),n(540),n(539),n(538),n(537),n(536),n(534),n(533),n(532),n(531),n(530),n(529),n(528),n(527),n(526),n(525),n(524),n(523),n(522),n(521),n(520),n(519),n(518),n(517),n(516),n(515),n(514),n(513),n(512),n(511),n(510),n(509),n(508),n(507),n(506),n(505),n(504),n(503),n(502),n(501),n(500),n(499),n(498),n(497),n(496),n(495),n(494),n(493),n(492),n(491),n(490),n(489),n(488),n(487),n(486),n(485),n(484),n(483),n(482),n(481),n(480),n(479),n(478),n(477),n(476),n(475),n(474),n(472),n(471),n(469),n(468),n(467),n(466),n(465),n(464),n(463),n(461),n(460),n(459),n(458),n(457),n(456),n(455),n(454),n(453),n(452),n(451),n(450),n(449),n(149),n(448),n(447),n(208),n(446),n(445),n(444),n(443),n(442),n(205),n(203),n(202),n(441),n(440),n(439),n(438),n(437),n(436),n(435),n(434),n(433),n(432),n(431),n(430),n(429),n(428),n(427),n(426),n(425),n(424),n(423),n(422),n(421),n(420),n(419),n(418),n(417),n(416),n(415),n(414),n(413),n(412),n(411),n(410),n(409),n(408),n(407),n(406),n(405),n(404),n(403),n(402),n(401),n(400),n(399),n(398),n(397),n(396),n(395),n(394),n(393),n(392),n(391),n(390),n(389),n(388),n(387),n(386),n(385),n(384),n(383),n(382),n(381),n(380),n(379),n(378),n(377),n(376),n(375),n(374),n(373),n(372),n(371),n(370),n(369),n(368),n(367),n(366),n(365),n(364),n(363),n(362),n(361),n(360),n(359),n(358),n(357),e.exports=n(43);},function(e,t,n){"use strict";(function(e){if(n(553),n(356),n(355),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var t="defineProperty";function r(e,n,r){e[n]||Object[t](e,n,{writable:!0,configurable:!0,value:r});}r(String.prototype,"padLeft","".padStart),r(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&r(Array,e,Function.call.bind([][e]));});}).call(this,n(101));},function(e,t,n){n(554),e.exports=n(352);}]);});//# sourceMappingURL=ml5.min.js.map
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5)(module)))

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = function (module) {
	if (!module.webpackPolyfill) {
		module.deprecate = function () {};
		module.paths = [];
		// module.parent = undefined by default
		if (!module.children) module.children = [];
		Object.defineProperty(module, "loaded", {
			enumerable: true,
			get: function get() {
				return module.l;
			}
		});
		Object.defineProperty(module, "id", {
			enumerable: true,
			get: function get() {
				return module.i;
			}
		});
		module.webpackPolyfill = 1;
	}
	return module;
};

/***/ })
/******/ ]);
//# sourceMappingURL=index.js.map